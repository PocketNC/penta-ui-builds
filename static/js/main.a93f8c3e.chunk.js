(this["webpackJsonppenta-ui"]=this["webpackJsonppenta-ui"]||[]).push([[0],{216:function(e){e.exports=JSON.parse('{"absolutePosition":"Absolute Position","actualPosition":"Actual Position","air":"Air","activeCodes":"Active Codes","addCertificate":"Add Certificate","cancel":"Cancel","certificate":"Certificate","certificate_plural":"Certificates","chipLoad":"Chip Load","clear":"Clear","clearActiveOffsetSystem":"Clear Active Offset System","clearAbbreviated":"CLR","clearOffsets":"Clear Offsets","clearCurrentSystem":"Clear Current System","celsius":"Celsius","centimeters":"Centimeters","combinedOffsets":"Combined Offsets","config":"Config","connected":"Connected","control":"Control","continuousJogModifier":"Continuous Jog Modifier","coordinateSystem":"Coordinate System","current":"Current","currentCoordinateSystem":"Current Coordinate System","currentLanguage":"Current Language","decreaseStepSize":"Decrease Step Size","decrementFeedrate10":"Decrement Feedrate 10%","decrementSpindlerate10":"Decrement Spindlerate 10%","deleteSelected":"Delete Selected","description":"Description","dialect":"Dialect","diameter":"Diameter","disable":"Disable","disconnected":"Disconnected","display":"Display","distanceToGo":"Distance To Go","downloadCurrentFile":"Download Current File","dtg":"DTG","enable":"Enable","enableSsl":"Enable SSL","english":"English","estop":"E-Stop","estopDisable":"Estop Disable","estopEnable":"Estop Enable","expand":"Expand","fahrenheit":"Fahrenheit","feedRate":"Feed Rate","feedrateDecrement1":"Feedrate: Decrement 1%","feedrateIncrement1":"Feedrate: Increment 1%","feedrateDecrement10":"Feedrate: Decrement 10%","feedrateIncrement10":"Feedrate: Increment 10%","filter":"Filter...","flutes":"Flutes","gCodeProgram":"G-code","german":"German","g92Clear":"Clear G92 Offsets","g92Restore":"Restore G92 Offsets","g92Suspend":"Suspend G92 Offsets","history":"History","holdTool":"Hold Tool","holdVice":"Hold Vice","homeAll":"Home All","inch":"Inch","inches":"Inches","increaseStepSize":"Increase Step Size","incrementFeedrate10":"Increment Feedrate 10%","incrementSpindlerate10":"Increment Spindlerate 10%","incrementalJogModifier":"Incremental Jog Modifier","industry":"Industry","intuitive":"Intuitive","jog":"Jog","jogging":"Jogging","joggingModifiers":"Jogging Modifiers","jogModifierContinuous":"Continuous Jog Modifier","jogModifierIncremental":"Incremental Jog Modifier","jogModifierSlow":"Slow Jog Modifier","keyboardJogging":"Keyboard Jogging","language":"Language","languageOptions":"Language Options","lengthUnits":"Length","less":"Less","load":"Load","loadingMessage":"loading...","machineCoordinates":"Machine Coordinates","manual":"Manual","maxRapidRate":"Max Rapid","maxVelocity":"Max Velocity","messageLog":"Message Log","millimeters":"Millimeters","minutes":"Minutes","mobileDisplay":"Mobile Display","more":"More","mpaa":"MPaA","newDroValue":"New DRO value","nextAxis":"Next Axis","noActiveTool":"No Active Tool","noGCodeFiles":"No G Code Files","none":"None","noFileLoaded":"No File Loaded","offset":"Offset","offset_plural":"Offsets","offsetDroToZero":"Offset DRO to zero","openGCode":"Open File","other":"Other","password":"Password","pause":"Pause","port":"Port","power":"Power","position":"Position","pressure":"Pressure","previousAxis":"Previous Axis","production":"Production","programUnits":"Program Units","psia":"PSIA","refresh":"Refresh","releaseTool":"Release Tool","releaseVice":"Release Vice","reset":"Reset","restore":"Restore","resume":"Resume","retract":"Retract","run":"Run","save":"Save","seconds":"Seconds","select":"Select","selectAxis":"Select Axis","selectNextAxis":"Select Next Axis","selectPreviousAxis":"Select Previous Axis","server":"Server","set":"Set","setup":"Setup","simulator":"Simulator","showOlderMessages":"Show Older Messages","slowJogModifier":"Slow Jog Modifier","spindlerate":"Spindlerate","spindlerateDecrement1":"Spindlerate Decrement 1%","spindlerateIncrement1":"Spindlerate Increment 1%","spindlerateDecrement10":"Spindlerate Decrement 10%","spindlerateIncrement10":"Spindlerate Increment 10%","spindleRate":"Spindle Rate","ssl":"SSL","sslSettings":"SSL Settings","sslStatus":"SSL Status","status":"Status","step":"Step","surfaceFootage":"Surface Footage","surfaceSpeed":"Surface Speed","tlo":"TLO","temperature":"Temperature","time":"Time","timeInterval":"Time Interval","tool":"Tool","toolTouchOff":"Measure tool length with tool probe button.","tooltip_ActualPosition":"Show position in machine coordinates","tooltip_ContinuousJog":"Leave blank to continuous jog by default","tooltip_DeleteShortcut":"Remove keybinding","tooltip_DTG":"Distance To Go","tooltip_EditShortcut":"Set keybinding for this shortcut","tooltip_G5xPosition":"Show position relative to a coordinate system. Does not actually set the active coordinate system.","tooltip_OffsetPosition":"Show position including all offsets","uiOptions":"EN UI Options","update":"Update","use":"Use","username":"Username","useSecureWebSocket":"Use Secure WebSocket","units":"Units","uploadFiles":"Upload Files","velocity":"Velocity","via":"via","vice":"Vice","warmUp":"Warm Up","websocket":"WebSocket","workOffsets":"Work Offsets","zero":"Zero","zeroDro":"Zero DRO"}')},217:function(e){e.exports=JSON.parse('{"cycleStart":"Cycle/Start","feedHold":"Feed Hold","dro":"DRO"}')},218:function(e){e.exports=JSON.parse('{"cycleStart":"Run","feedHold":"Pause","dro":"Positions"}')},250:function(e,t,n){},254:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var a,i=n(1),r=n.n(i),o=n(24),c=n.n(o),s=(n(250),n(15)),l=n(219),d=n(362),u=n(387),p=(n(254),n(13)),b=n(10),m=n(6),j=n(355),f=n(368),h=n(323),O=n(32),x=n(367),g=n(220),v=n(366),y=n(395),S=n(205),C=n.n(S),w=n(164),k=n.n(w),E=n.p+"static/media/logo.ce1d1525.svg",I=n(399),N=r.a.createContext({}),T=N.Provider,_=T,A=function(){var e=Object(I.a)(),t=e.t,n=e.i18n,a=e.ready,r=Object(i.useContext)(N);return{t:function(e){var n=t(r+":"+e);return n!==e?n:t(e)},i18n:n,ready:a}},M=n(388),D=n(325),L=n(0),P=Object(D.a)((function(e){return{paper:{},panelHeader:Object(m.a)({},e.typography.panelHeader),headerBox:{position:"relative",height:30,marginBottom:e.spacing(1),display:"flex"},line:{borderBottom:"1px solid "+e.palette.text.primary,marginLeft:e.spacing(2),width:"100%",height:25,display:"block"},svg:{verticalAlign:"bottom",position:"relative",bottom:-2,left:-3}}})),F=function(e){var t=e.label,n=e.children,a=P(),i=20*Math.PI/180,r=3*Math.cos(i),o=3-3*Math.sin(i),c=[["M",0,3],["a",3,3,0,0,1,3,-3],["L",60,0],["a",3,3,0,0,1,r,o],["l",(6-2*o-1)*Math.tan(i),6-2*o-1],["a",3,3,0,0,0,r,o],["L",3,6],["a",3,3,0,0,1,-3,-3],["Z"]];return Object(L.jsxs)(M.a,{m:2,children:[Object(L.jsxs)("div",{className:a.headerBox,children:[Object(L.jsx)("span",{className:a.panelHeader,children:t}),Object(L.jsx)("span",{className:a.line,children:Object(L.jsx)("svg",{width:80,height:6,className:a.svg,children:Object(L.jsx)("path",{d:c.map((function(e){return e.join(" ")})).join(" "),fill:"black"})})})]}),Object(L.jsx)(j.a,{elevation:0,classes:{root:a.paper},children:Object(L.jsx)(M.a,{m:0,children:n})})]})},R=n(11),U=n(192),H=n.n(U),G=n(403),B=n(142),z=n(402),W=function(e){var t=e.value,n=e.onChange,a=e.onSubmit,r=Object(i.useState)(t),o=Object(p.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(!1),d=Object(p.a)(l,2),u=d[0],b=d[1],j=u?c:t,f=Object(i.useCallback)((function(e){s(t),b(!0)}),[b,s,t]),h=Object(i.useCallback)((function(e){n?(n(e.target.value),s(e.target.value),e.preventDefault()):s(e.target.value)}),[n,s]),O=Object(i.useCallback)((function(e){b(!1),s(t)}),[b,t,s]),x=Object(i.useCallback)((function(e){"Enter"===e.key&&(a&&a(e),e.target.blur())}),[a]);return Object(L.jsx)(z.a,Object(m.a)(Object(m.a)({},e),{},{value:j,onFocus:f,onBlur:O,onChange:h,onKeyDown:x}))},J=n(25),V=n.n(J),K=r.a.createContext({}),Y=K.Provider,X=Y,q="@@rockhopper",Z="queued",Q="uploading",$="askForOverwrite",ee="canceled",te="watch",ne="LOGIN_ID",ae="HEARTBEAT_ID",ie=102400,re=102400,oe="?OK",ce="webSocket",se="debug",le="info",de="warning",ue="error",pe="basic",be="mdi",me="running",je="idle",fe="paused",he=2,Oe=3,xe=1,ge=3,ve=0,ye=3,Se=10,Ce={MACHINE_UNITS:{ANGLE:"deg",ANGULAR_VELOCITY:"deg/s",LENGTH:"in",LINEAR_VELOCITY:"in/s",POWER:"W",PRESSURE:"MPa",SPINDLE_SPEED:"rpm",SURFACE_SPEED:"ft/min",TEMPERATURE:"C"},AXES:{X:"in",Y:"in",Z:"in",A:"deg",B:"deg",C:"deg"},TYPE_MAP:{in:"length",mm:"length",cm:"length",pu:"length","in/s":"linearVelocity","in/min":"linearVelocity","ft/s":"linearVelocity","ft/min":"linearVelocity","mm/s":"linearVelocity","mm/min":"linearVelocity","m/s":"linearVelocity","m/min":"linearVelocity","pu/s":"linearVelocity","pu/min":"linearVelocity",deg:"angle","deg/s":"angularVelocity","deg/min":"angularVelocity",psi:"pressure",MPa:"pressure",F:"temperature",C:"temperature",rpm:"spindleSpeed",W:"power"},DECIMALS:function(e){switch(e){case"mm":case"mm/s":case"mm/min":case"deg":case"deg/min":case"deg/s":return 3;default:return 4}},lengthOptions:new Set(["in","mm","cm","mu"]),angleOptions:new Set(["deg"]),pressureOptions:new Set(["MPa","psi"]),temperatureOptions:new Set(["C","F"]),linearVelocityOptions:new Set(["in/s","in/min","mm/s","mm/min"]),angularVelocityOptions:new Set(["deg/s","deg/min"])},we={AXIS_SELECT_JOG:{"jog+":"","jog-":"",nextAxis:"",previousAxis:"",increaseStepSize:"",decreaseStepSize:"",selectX:"",selectY:"",selectZ:"",selectA:"",selectB:"",selectC:""},OTHER:{cycleStart:"",estopDisable:"",estopEnable:"",feedHold:"",feedrateIncrement1:"",feedrateIncrement10:"",feedrateDecrement1:"",feedrateDecrement10:"",homeAll:"",reset:"",spindlerateIncrement1:"",spindlerateIncrement10:"",spindlerateDecrement1:"",spindlerateDecrement10:"",step:""},JOG_MODIFIERS:{continuous:"",incremental:"Alt",slow:"Shift"},JOG:{"jogX+":"ArrowRight","jogX-":"ArrowLeft","jogY+":"ArrowUp","jogY-":"ArrowDown","jogZ+":"X","jogZ-":"Z","jogA+":"S","jogA-":"A","jogB-":"B","jogB+":"N","jogC+":"V","jogC-":"C"}},ke=n(82),Ee=n.n(ke),Ie=function(e,t){var n=e.unit,a=e.value,i=Ce.TYPE_MAP[n];if("length"===i){if("G21"===t)return{value:Ee()(a).from(n).to("mm"),unit:"mm"};if("G20"===t)return{value:Ee()(a).from(n).to("in"),unit:"in"}}else{if("linearVelocity"!==i){var r=i.split(/(?=[A-Z])/).map((function(e){return e.toUpperCase()})).join("_"),o=Ce.MACHINE_UNITS[r];return{value:Ee()(a).from(n).to(o),unit:o}}if("G21"===t)return{value:Ee()(a).from(n).to("mm/min"),unit:"mm/min"};if("G20"===t)return{value:Ee()(a).from(n).to("in/min"),unit:"in/min"}}},Ne=function(e,t){var n=e.unit,a=e.value;n.startsWith("pu")&&("G21"===t?n="mm"+n.substr(2):"G20"===t&&(n="in"+n.substr(2)));var i=Ce.TYPE_MAP[n].split(/(?=[A-Z])/).map((function(e){return e.toUpperCase()})).join("_"),r=Ce.MACHINE_UNITS[i];return{value:Ee()(a).from(n).to(r),unit:r}},Te=function(){var e=Object(i.useContext)(K),t=e.displayUnits,n=e.activeCodes;return{displayUnits:t,getDisplayUnitStringFromType:function(e){var a=t[e];return a.startsWith("pu")&&(n.includes("G21")?a="mm"+a.substr(2):n.includes("G20")&&(a="in"+a.substr(2))),a},getDisplayUnitStringFromUnit:function(e){return e.startsWith("deg")?"deg"+e.substr(3):e},toDisplayUnits:function(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.unit,o=e.value;return(a=i?t[i]:t[Ce.TYPE_MAP[r]]).startsWith("pu")&&(n.includes("G21")?a="mm"+a.substr(2):n.includes("G20")&&(a="in"+a.substr(2))),{value:Ee()(o).from(r).to(a),unit:a}}}},_e=Object(d.a)((function(e){return{container:{display:"flex",flexDirection:"column",overflow:"scroll"},cell:{display:"flex",flex:"0 0 ".concat(120,"px"),justifyContent:"center",verticalAlign:"top"},fixedSizeList:{display:"flex",width:"100%",overflowX:"visible",overflowY:"scroll"},measureButton:{height:39},row:{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%"},headerRow:{display:"flex",direction:"rtl",justifyContent:"flex-end",width:"100%"},headerCell:{display:"flex",flex:"0 0 ".concat(120,"px"),justifyContent:"center",textAlign:"center",verticalAlign:"top"},textFieldInput:Object(m.a)(Object(m.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.primary.main,borderRadius:4,borderWidth:2,padding:e.spacing(1),marginLeft:e.spacing(.5),marginRight:e.spacing(.5),textAlign:"left","&:hover":{border:"2px solid"+e.palette.primary.light},"&:disabled":{border:"2px solid"+e.palette.grey[200]}}),numericalTextFieldInput:Object(m.a)(Object(m.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.primary.main,borderRadius:4,borderWidth:2,direction:"ltr",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),"&:hover":{border:"2px solid"+e.palette.primary.light},"&:disabled":{border:"2px solid"+e.palette.grey[200]}}),textFieldNotchedOutline:{border:"none"},toolNumButton:Object(m.a)(Object(m.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.text.primary,marginLeft:e.spacing(1),marginRight:e.spacing(.5),height:39}),activeToolNumberBox:{backgroundColor:e.palette.text.primary,color:e.palette.primary.main}}})),Ae=function(e){var t=e.toolInSpindle,n=e.toolTable,a=e.toolTableDescriptions,r=e.toolFlutes,o=e.readyForMdi,c=e.onMeasureTool,s=e.onLoadTool,l=e.onToolDescriptionChanged,d=e.onToolFlutesChanged,u=e.onSetToolLengthOffset,m=e.onSetToolDiameter,j=_e(),f=A().t,O=Te(),x=O.getDisplayUnitStringFromType,g=O.toDisplayUnits,v=n?Ce.DECIMALS(g(n[0][ye]).unit):0,y=Object(i.useRef)(0),S=Object(i.useRef)();Object(i.useEffect)((function(){S.current&&0!==y.current&&S.current.scrollTo(y.current)}));var C=Object(i.useRef)(),w=Object(i.useState)(0),k=Object(p.a)(w,2),E=k[0],I=k[1];Object(i.useEffect)((function(){function e(){I(C.current.offsetWidth<727?742-C.current.offsetWidth:0)}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);return Object(L.jsxs)("div",{className:j.container,children:[Object(L.jsx)("div",{style:{width:"100%",paddingRight:E},children:Object(L.jsxs)("div",{className:j.headerRow,ref:C,children:[Object(L.jsx)("span",{className:j.headerCell,style:{flexGrow:1,minWidth:200},children:f("description")}),Object(L.jsx)("span",{className:j.headerCell,children:f("flutes")}),Object(L.jsx)("span",{className:j.headerCell,children:f("diameter")+" ("+x("length")+")"}),Object(L.jsx)("span",{className:j.headerCell,children:f("tlo")+" ("+x("length")+")"}),Object(L.jsx)("span",{className:j.headerCell,style:{flex:"0 0 ".concat(60,"px")}}),Object(L.jsx)("span",{className:j.headerCell,style:{marginLeft:15,flex:"0 0 ".concat(65,"px")}})]})}),n?Object(L.jsx)(B.a,{ref:S,height:250,itemCount:55,itemSize:50,className:j.fixedSizeList,direction:"rtl",style:{paddingRight:E},onScroll:function(e){e.scrollOffset===y.current||e.scrollUpdateWasRequested||(y.current=e.scrollOffset)},children:function(e){var i=e.index,p=e.style,O=n?n[i]:Array(14).fill(0),x=g(O[ye]),y=g(O[Se]);return Object(L.jsxs)("div",{className:j.row,style:p,children:[Object(L.jsx)("span",{className:j.cell,style:{flexGrow:1,minWidth:200},children:Object(L.jsx)(W,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:O,value:a&&a[O[ve]-1]?a[O[ve]-1]:"",onSubmit:function(e){var t,n;t=O[ve],n=e.target.value,l&&l(t,n,a)},InputProps:{classes:{input:j.textFieldInput,notchedOutline:j.textFieldNotchedOutline}}})}),Object(L.jsx)("span",{className:j.cell,children:Object(L.jsx)(W,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",value:r&&r[O[ve]-1]?r[O[ve]-1]:"1",onSubmit:function(e){var t,a;t=O[ve],a=e.target.value,d&&d(Object(R.a)(r||new Array(n.length).map((function(){return 1})),(function(e){e.splice(t-1,1,a)})),a)},InputProps:{classes:{input:j.numericalTextFieldInput,notchedOutline:j.textFieldNotchedOutline}}})}),Object(L.jsx)("span",{className:j.cell,children:Object(L.jsx)(W,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:O,value:y.value.toFixed(v),onSubmit:function(e){!function(e,t,n){var a=Number(e.target.value);m&&!isNaN(a)&&m(n,{value:a,unit:g(t).unit})}(e,y,O[ve])},InputProps:{classes:{input:j.numericalTextFieldInput,notchedOutline:j.textFieldNotchedOutline}}})}),Object(L.jsx)("span",{className:j.cell,children:Object(L.jsx)(W,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:O,value:x.value.toFixed(v),onSubmit:function(e){!function(e,t,n){var a=Number(e.target.value);u&&!isNaN(a)&&u(n,{value:a,unit:g(t).unit})}(e,x,O[ve])},InputProps:{classes:{input:j.numericalTextFieldInput,notchedOutline:j.textFieldNotchedOutline}}})}),Object(L.jsx)("span",{className:j.cell,style:{flex:"0 0 ".concat(60,"px")},children:Object(L.jsx)(h.a,{className:V()(j.toolNumButton,Object(b.a)({},j.activeToolNumberBox,i+1===Number(t))),onClick:function(){var e;e=O[ve],s&&s(e)},variant:"outlined",size:"small",children:Object(L.jsx)("span",{children:"T "+O[ve]})})}),Object(L.jsx)("span",{className:j.cell,style:{flex:"0 0 ".concat(65,"px")},children:Object(L.jsx)(G.a,{title:f("toolTouchOff"),children:Object(L.jsx)(h.a,{className:j.measureButton,color:"primary",variant:"contained",disabled:!o.isReady,onClick:function(){var e;e=O[ve],c&&c(e)},size:"small",children:Object(L.jsx)(H.a,{})})})})]})}}):null]})},Me=n(33),De=n(389),Le=[{name:"acceleration",watchable:!0},{name:"active_queue",watchable:!0},{name:"actual_position",watchable:!0},{name:"adaptive_feed_enabled",watchable:!0},{name:"ain",watchable:!0},{name:"angular_units",watchable:!0},{name:"aout",watchable:!0},{name:"axes",watchable:!0},{name:"axes_data",watchable:!0},{name:"axis",watchable:!1},{name:"axis_mask",watchable:!0},{name:"block_delete",watchable:!0},{name:"board_revision",watchable:!1},{name:"calculated_feedrate",watchable:!0},{name:"calibration_data",watchable:!1},{name:"client_config",watchable:!0},{name:"command",watchable:!0},{name:"compensation",watchable:!1},{name:"config",watchable:!1},{name:"config_item",watchable:!1},{name:"config_overlay",watchable:!1},{name:"current_line",watchable:!0},{name:"current_vel",watchable:!0},{name:"current_version",watchable:!1},{name:"cycle_time",watchable:!0},{name:"debug",watchable:!0},{name:"delay_left",watchable:!0},{name:"din",watchable:!0},{name:"distance_to_go",watchable:!0},{name:"dogtag",watchable:!1},{name:"dout",watchable:!0},{name:"dtg",watchable:!0},{name:"echo_serial_number",watchable:!0},{name:"enabled",watchable:!0},{name:"error",watchable:!0},{name:"estop",watchable:!0},{name:"exec_state",watchable:!0},{name:"feed_hold_enabled",watchable:!0},{name:"feed_override_enabled",watchable:!0},{name:"feedrate",watchable:!0},{name:"file",watchable:!0},{name:"file_content",watchable:!1},{name:"flood",watchable:!0},{name:"g5x_index",watchable:!0},{name:"g5x_offset",watchable:!0},{name:"g92_offset",watchable:!0},{name:"gcodes",watchable:!0},{name:"halgraph",watchable:!1},{name:"halpin_halui.max-velocity.value",watchable:!0},{name:"halpin_hss_warmup.full_warmup_needed",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_hss_warmup.performing_warmup",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_hss_warmup.warmup_needed",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_interlock.program-paused-by-interlock",watchable:!0,requiresFeature:"INTERLOCK"},{name:"halpin_motion.switchkins-type",watchable:!0},{name:"halsig_interlockClosed",watchable:!0,requiresFeature:"INTERLOCK"},{name:"homed",watchable:!0},{name:"id",watchable:!0},{name:"ini_file_name",watchable:!0},{name:"inpos",watchable:!0},{name:"input_timeout",watchable:!0},{name:"interp_state",watchable:!0},{name:"interpreter_errcode",watchable:!0},{name:"joint_actual_position",watchable:!0},{name:"joint_position",watchable:!0},{name:"joints",watchable:!0},{name:"kinematics_type",watchable:!0},{name:"limit",watchable:!0},{name:"linear_units",watchable:!0},{name:"ls",watchable:!0},{name:"lube",watchable:!0},{name:"lube_level",watchable:!0},{name:"max_acceleration",watchable:!0},{name:"max_velocity",watchable:!0},{name:"mcodes",watchable:!0},{name:"measured_spindle_current",watchable:!0},{name:"measured_spindle_speed",watchable:!0},{name:"measured_spindle_voltage",watchable:!0},{name:"mist",watchable:!0},{name:"motion_line",watchable:!0},{name:"motion_mode",watchable:!0},{name:"motion_type",watchable:!0},{name:"optional_stop",watchable:!0},{name:"paused",watchable:!0},{name:"pocket_prepped",watchable:!0},{name:"position",watchable:!0},{name:"pressure_data",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"probe_tripped",watchable:!0},{name:"probe_val",watchable:!0},{name:"probed_position",watchable:!0},{name:"probing",watchable:!0},{name:"program",watchable:!0},{name:"program_units",watchable:!0},{name:"queue",watchable:!0},{name:"queue_full",watchable:!0},{name:"rapidrate",watchable:!0},{name:"read_line",watchable:!0},{name:"rotary_motion_only",watchable:!0},{name:"rotation_xy",watchable:!0},{name:"rtc_seconds",watchable:!0},{name:"running",watchable:!0},{name:"settings",watchable:!0},{name:"spindle",watchable:!0},{name:"spindle_max_speed",watchable:!0},{name:"spindle_pressure",watchable:!0},{name:"spindle_temperature",watchable:!0},{name:"state",watchable:!0},{name:"system_status",watchable:!1},{name:"task_mode",watchable:!0},{name:"task_paused",watchable:!0},{name:"task_state",watchable:!0},{name:"temperature_data",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"tool_in_spindle",watchable:!0},{name:"tool_offset",watchable:!0},{name:"tool_released",watchable:!0},{name:"tool_table",watchable:!0},{name:"usb_detected",watchable:!0},{name:"usb_map",watchable:!1},{name:"usb_software_files",watchable:!1},{name:"users",watchable:!0},{name:"velocity",watchable:!0},{name:"versions",watchable:!1},{name:"vice_released",watchable:!0}],Pe=[{name:"abort_cmd",paramTypes:[]},{name:"add_user",paramTypes:[{optional:!1,ordinal:"0",pname:"username",ptype:"string"},{optional:!1,ordinal:"1",pname:"password",ptype:"string"}]},{name:"auto",paramTypes:[{"lookup-vals":["AUTO_RUN","AUTO_STEP","AUTO_RESUME","AUTO_PAUSE"],optional:!1,ordinal:"0",pname:"auto",ptype:"lookup"},{optional:!0,ordinal:"1",pname:"run_from",ptype:"int"}]},{name:"auto_cmd",paramTypes:[{"lookup-vals":["AUTO_RUN","AUTO_STEP","AUTO_RESUME","AUTO_PAUSE"],optional:!1,ordinal:"0",pname:"auto",ptype:"lookup"},{optional:!0,ordinal:"1",pname:"run_from",ptype:"int"}]},{name:"brake",paramTypes:[{"lookup-vals":["BRAKE_ENGAGE","BRAKE_RELEASE"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"check_for_updates",paramTypes:[]},{name:"check_usb_file_for_updates",paramTypes:[{optional:!1,ordinal:"0",pname:"file",ptype:"string"},{optional:!1,ordinal:"1",pname:"require_valid_signature",ptype:"bool"}]},{name:"clear_error",paramTypes:[]},{name:"clear_logs",paramTypes:[]},{name:"clear_ncfiles",paramTypes:[]},{name:"config",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"create_swap",paramTypes:[]},{name:"cycle_start_cmd",paramTypes:[]},{name:"debug",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"delete_swap",paramTypes:[]},{name:"disable_swap",paramTypes:[]},{name:"eject_usb",paramTypes:[]},{name:"enable_swap",paramTypes:[]},{name:"estop_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"estop",ptype:"bool"}]},{name:"feed_hold_cmd",paramTypes:[]},{name:"feedrate",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"file_download_cancel",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"file_download_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"size",ptype:"int"}]},{name:"file_download_init",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"file_upload_cancel",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"file_upload_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"data",ptype:"string"}]},{name:"file_upload_finalize",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"checksum",ptype:"string"}]},{name:"file_upload_init",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"size",ptype:"int"},{optional:!1,ordinal:"2",pname:"overwrite",ptype:"bool"}]},{name:"flood",paramTypes:[{"lookup-vals":["FLOOD_ON","FLOOD_OFF"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"home",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"}]},{name:"home_cmd",paramTypes:[{optional:!0,ordinal:"0",pname:"axes",ptype:"int[]"}]},{name:"increment_feedrate_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"increment",ptype:"float"}]},{name:"increment_spindle_override_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"increment",ptype:"float"}]},{name:"ini_file_name",paramTypes:[{optional:!1,ordinal:"0",pname:"ini_file_name",ptype:"string"}]},{name:"interlock_release",paramTypes:[]},{name:"jog_cmd",paramTypes:[{"lookup-vals":["JOG_STOP","JOG_CONTINUOUS","JOG_INCREMENT"],optional:!1,ordinal:"0",pname:"jog",ptype:"lookup"},{optional:!1,ordinal:"1",pname:"joint_flag",ptype:"bool"},{optional:!1,ordinal:"2",pname:"axis",ptype:"int"},{optional:!0,ordinal:"3",pname:"velocity",ptype:"float"},{optional:!0,ordinal:"4",pname:"distance",ptype:"float"}]},{name:"load_tool_table",paramTypes:[]},{name:"maxvel",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"mdi_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"mdi",ptype:"string"}]},{name:"mist",paramTypes:[{"lookup-vals":["MIST_ON","MIST_OFF"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"mode",paramTypes:[{"lookup-vals":["MODE_AUTO","MODE_MANUAL","MODE_MDI"],optional:!1,ordinal:"0",pname:"mode",ptype:"lookup"}]},{name:"override_limits",paramTypes:[]},{name:"program_delete",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"program_download_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"idx",ptype:"int"},{optional:!1,ordinal:"1",pname:"size",ptype:"int"}]},{name:"program_get_size",paramTypes:[]},{name:"program_open",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"program_open_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"program_upload",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"data",ptype:"string"}]},{name:"program_upload_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"data",ptype:"string"},{optional:!1,ordinal:"2",pname:"start",ptype:"bool"},{optional:!1,ordinal:"3",pname:"end",ptype:"bool"},{optional:!1,ordinal:"4",pname:"ovw",ptype:"bool"}]},{name:"rapidrate",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"reset_clock",paramTypes:[]},{name:"reset_interpreter",paramTypes:[]},{name:"restart",paramTypes:[]},{name:"save_client_config",paramTypes:[{optional:!1,ordinal:"0",pname:"key",ptype:"string"},{optional:!1,ordinal:"1",pname:"value",ptype:"string"}]},{name:"set_adaptive_feed",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_analog_output",paramTypes:[{optional:!1,ordinal:"0",pname:"index",ptype:"int"},{optional:!1,ordinal:"1",pname:"value",ptype:"float"}]},{name:"set_block_delete",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_compensation",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"set_date",paramTypes:[]},{name:"set_digital_output",paramTypes:[{optional:!1,ordinal:"0",pname:"index",ptype:"int"},{optional:!1,ordinal:"1",pname:"value",ptype:"int"}]},{name:"set_feed_hold",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_feed_override",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_m6_tool_probe",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_max_limit",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"},{optional:!1,ordinal:"1",pname:"limit",ptype:"float"}]},{name:"set_min_limit",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"},{optional:!1,ordinal:"1",pname:"limit",ptype:"float"}]},{name:"set_optional_stop",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_spindle_override",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_version",paramTypes:[{optional:!1,ordinal:"0",pname:"version",ptype:"string"}]},{name:"shutdown",paramTypes:[]},{name:"shutdown_computer",paramTypes:[]},{name:"spindle",paramTypes:[{"lookup-vals":["SPINDLE_FORWARD","SPINDLE_REVERSE","SPINDLE_OFF","SPINDLE_INCREASE","SPINDLE_DECREASE","SPINDLE_CONSTANT"],optional:!1,ordinal:"0",pname:"spindle",ptype:"lookup"}]},{name:"spindleoverride",paramTypes:[{optional:!1,ordinal:"0",pname:"factor",ptype:"float"}]},{name:"state",paramTypes:[{"lookup-vals":["STATE_ESTOP","STATE_ESTOP_RESET","STATE_ON","STATE_OFF"],optional:!1,ordinal:"0",pname:"state",ptype:"lookup"}]},{name:"teleop_enable",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"teleop_vector",paramTypes:[{optional:!1,ordinal:"0",pname:"p1",ptype:"float"},{optional:!1,ordinal:"1",pname:"p2",ptype:"float"},{optional:!1,ordinal:"2",pname:"p3",ptype:"float"},{optional:!0,ordinal:"3",pname:"p4",ptype:"float"},{optional:!0,ordinal:"4",pname:"p5",ptype:"float"},{optional:!0,ordinal:"5",pname:"p6",ptype:"float"}]},{name:"temp_set_config_item",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"toggle_v1_v2revP",paramTypes:[]},{name:"tool_offset",paramTypes:[{optional:!1,ordinal:"0",pname:"toolnumber",ptype:"int"},{optional:!1,ordinal:"1",pname:"z_offset",ptype:"float"},{optional:!1,ordinal:"2",pname:"x_offset",ptype:"float"},{optional:!1,ordinal:"3",pname:"diameter",ptype:"float"},{optional:!1,ordinal:"4",pname:"frontangle",ptype:"float"},{optional:!1,ordinal:"5",pname:"backangle",ptype:"float"},{optional:!1,ordinal:"6",pname:"orientation",ptype:"float"}]},{name:"traj_mode",paramTypes:[{"lookup-vals":["TRAJ_MODE_FREE","TRAJ_MODE_COORD","TRAJ_MODE_TELEOP"],optional:!1,ordinal:"0",pname:"mode",ptype:"lookup"}]},{name:"unhome",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"}]},{name:"wait_complete",paramTypes:[{optional:!0,ordinal:"0",pname:"timeout",ptype:"float"}]}],Fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Object(m.a)(Object(m.a)({id:e,name:t,command:"get"},n),{},{meta:a})},Re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Object(m.a)(Object(m.a)({id:e,name:t,command:te},n),{},{meta:a})},Ue=function(e,t,n){return{id:e,name:t,command:"unwatch",meta:n}},He=function(e,t,n,a){return Object(m.a)(Object(m.a)({id:e,name:t,command:"put"},n),{},{meta:a})},Ge=n(106),Be=n.n(Ge),ze=n(392),We=function(e,t){return{type:e,payload:t}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(Object(m.a)({},e),{},{actionEmitters:[].concat(Object(Me.a)(e.actionEmitter?e.actionEmitter:[]),[t])})},Ve=function(){return[q].concat(Array.prototype.slice.call(arguments)).join("/")},Ke=function(e){return Be()(e)},Ye=Le.filter((function(e){return e.watchable})),Xe=Le.reduce((function(e,t){var n=t.name,a=t.requiresFeature,i=n.toUpperCase(),r="GET_"+i,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,a=void 0===t?{}:t,o=e.data,c=void 0===o?{}:o;return Fe(r,n,c,Je(a,Ve("UPDATE",i)))};return o.requiresFeature=a,e[i]=o,e}),{}),qe=Ye.reduce((function(e,t){var n=t.name,a=t.requiresFeature,i=n.toUpperCase(),r="WATCH_"+i;return e[i]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t,o=e.meta,c=void 0===o?{}:o;return Re(r,n,a,Je(c,Ve("UPDATE",i)))},e[i].requiresFeature=a,e}),{}),Ze=Ye.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="UNWATCH_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,r=void 0===t?{}:t;return Ue(i,n,Je(r,Ve("RESPONSE","UNWATCH",a)))},e}),{}),Qe=Ye.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),$e=Pe.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="PUT_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,o=e.meta,c=void 0===o?{}:o;return He(i,n,r,Je(c,Ve("RESPONSE","PUT",a)))},e}),{}),et=Pe.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),tt=Le.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),nt={FEATURES:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"getFeatures":n;return Fe(a,"config_item",{section:"POCKETNC_FEATURES",parameter:""},Je(t,Ve("RESPONSE","GET_HELPERS","FEATURES")))},PROGRAM_PREFIX:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"getProgramPrefix":n;return Fe(a,"config_item",{section:"DISPLAY",parameter:"PROGRAM_PREFIX"},Je(t,Ve("RESPONSE","GET_HELPERS","PROGRAM_PREFIX")))}},at={JOG_INCREMENT:function(e){var t=e.axis,n=e.jointFlag,a=void 0===n||n,i=e.speed,r=e.increment,o=e.id,c=void 0===o?"jogIncrement":o,s=e.meta;return He(c,"jog_cmd",["JOG_INCREMENT",a,t,i,r],Je(s,Ve("RESPONSE","PUT_HELPERS","JOG_INCREMENT")))},JOG_CONTINUOUS:function(e){var t=e.axis,n=e.jointFlag,a=void 0===n||n,i=e.speed,r=e.id,o=void 0===r?"jogContinuous":r,c=e.meta;return He(o,"jog_cmd",["JOG_CONTINUOUS",a,t,i],Je(c,Ve("RESPONSE","PUT_HELPERS","JOG_CONTINUOUS")))},JOG_STOP:function(e){var t=e.axis,n=e.jointFlag,a=void 0===n||n,i=e.id,r=void 0===i?"jogStop":i,o=e.meta;return He(r,"jog_cmd",["JOG_STOP",a,t],Je(o,Ve("RESPONSE","PUT_HELPERS","JOG_STOP")))},SET_TOOL_OFFSET:function(e){e.toolIndex,e.too},SET_TOOL_DIAMETER:function(){}},it={COMPENSATION:void 0,CONFIG_OVERLAY:void 0,TOOL_TABLE_DESCRIPTIONS:void 0,TOOL_TABLE:void 0,TOOL_DIAMETER:void 0,TOOL_LENGTH_OFFSET:void 0,TOOL_FLUTES:void 0},rt=Object.keys(nt).reduce((function(e,t){return e[t]=void 0,e}),{}),ot=Object.keys(at).reduce((function(e,t){return e[t]=void 0,e}),{}),ct=Object(De.a)({CMDS:{RAW:void 0,GET:function(e){var t=e.name,n=e.data,a=void 0===n?{}:n,i=e.meta,r=e.id;return Fe(void 0===r?"rockhopperGet":r,t,a,i)},WATCH:function(e){var t=e.name,n=e.data,a=void 0===n?{}:n,i=e.meta,r=e.id;return Re(void 0===r?"rockhopperWatch":r,t,a,i)},UNWATCH:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"rockhopperWatch":n;return Re(a,t)},PUT:function(e){var t=e.name,n=e.data,a=e.meta,i=e.id;return He(void 0===i?"rockhopperPut":i,t,n,a)},LIST_GET:function(e){var t=e.meta,n=e.id;return function(e,t){return{id:e,command:"list_get",meta:t}}(void 0===n?"rockhopperListGet":n,t)},LIST_PUT:function(e){var t=e.meta,n=e.id;return function(e,t){return{id:e,command:"list_put",meta:t}}(void 0===n?"rockhopperListPut":n,t)}},SET_CONNECTION_DETAILS:function(e,t,n,a,i){return{server:e,port:t,user:n,password:a,encrypted:i}},SET_LOGGED_IN:void 0,ADD_ACTION_EMITTER:void 0,REMOVE_ACTION_EMITTER:void 0,FILE_UPLOAD:{QUEUED:void 0,ASK_FOR_OVERWRITE:void 0,CONFIRM_OVERWRITE:void 0,CONFIRM_OVERWRITE_ALL:void 0,PROGRESS:void 0,FINALIZE:void 0,CANCEL:void 0,CANCEL_ALL:void 0,REMOVE:void 0,REMOVE_ALL:void 0},FILE_CACHE:{SET_PATH_CHECKSUM:function(e,t){return{path:e,checksum:t}},INIT_PROGRESS:function(e,t){return{checksum:e,size:t}},UPDATE_PROGRESS:function(e,t){return{checksum:e,bytesLoaded:t}}},GET_HELPERS:nt,PUT_HELPERS:at,UPDATE_HELPERS:it,MESSAGES:{DEBUG:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;return{id:Object(ze.a)(),message:e,details:t,type:se,timestamp:Date.now(),dismiss:n}},WARNING:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;return{id:Object(ze.a)(),message:e,details:t,type:de,timestamp:Date.now(),dismiss:n}},INFO:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;return{id:Object(ze.a)(),message:e,details:t,type:le,timestamp:Date.now(),dismiss:n}},ERROR:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe;return{id:Object(ze.a)(),message:e,details:t,type:ue,timestamp:Date.now(),dismiss:n}}},WATCH:qe,UNWATCH:Ze,UPDATE:Qe,GET:Xe,PUT:$e,RESPONSE:{PUT:et,GET:tt,GET_HELPERS:rt,PUT_HELPERS:ot},DELAYED:{REGISTER_UPDATE:Qe,UPDATE:Qe,UPDATE_IMMEDIATE:Qe,PUT:$e}},{prefix:q}),st=n(34),lt=n(17),dt=function(e){return e.pentaui.enableKeyboardJogging},ut=function(e){return e.pentaui.messages},pt=function(e){return e.pentaui.popups},bt=function(e){return e.pentaui.language},mt=function(e){return e.pentaui.dialect},jt=function(e){return e.pentaui.mdiSortKey},ft=function(e){return e.pentaui.mdiText},ht=function(e){return e.pentaui.messageBadges},Ot=function(e){return e.pentaui.displayUnits},xt=function(e){return e.pentaui.isEditingCompensation},gt=function(e){return e.pentaui.compensation},vt=function(e){return e.pentaui.isEditingOverlay},yt=function(e){return e.pentaui.configOverlay},St=function(e){return e.pentaui.axisSelectJog.axis},Ct=function(e){return e.pentaui.axisSelectJog.digitIndex},wt=function(e){return e.pentaui.dro.display},kt=function(e){return e.pentaui.jog.display},Et=function(e){return e.rockhopper},It=function(e){return e.rockhopper.webSocket},Nt=function(e){return e.rockhopper.isLoggedIn},Tt=function(e){return e.rockhopper.status.config||{parameters:[],sections:{}}},_t=function(e){var t={};return e.parameters.length>0&&(Object.keys(e.sections).forEach((function(e){t[e]={}})),e.parameters.forEach((function(e,n){t[e.values.section][e.values.name]=Object(m.a)(Object(m.a)({},e.values),{},{key:e.values.name})}))),t},At=function(e){var t=e.rockhopper.status.config||{parameters:[],sections:{}};return _t(t)},Mt=function(e){var t=e.rockhopper.status.configOverlay||{parameters:[],sections:{}};return _t(t)},Dt=function(e){return e.rockhopper.status.compensation},Lt=function(e){return e.rockhopper.status.motionLine?e.rockhopper.status.motionLine-1:0},Pt=function(e){return e.rockhopper.status.estop},Ft=function(e){return e.rockhopper.status.g5xIndex},Rt=function(e){return e.rockhopper.status.g5xOffset},Ut=function(e){return e.rockhopper.status.g92Offset},Ht=function(e){return e.rockhopper.status.toolInSpindle},Gt=function(e){return e.rockhopper.status.toolOffset},Bt=function(e){return e.rockhopper.fileCache.paths[e.rockhopper.status.program]},zt=function(e){var t=Bt(e);return e.rockhopper.fileCache.progress[t]},Wt=function(e){var t=e.rockhopper.status,n=t.interpState,a=t.taskMode;return n===ge?fe:n!==xe&&a===he?me:n===xe?je:a===Oe?be:"unknown"},Jt=function(e,t){return Object(lt.a)([Tt],(function(n){return n.parameters.reduce((function(n,a){return a.values.section===e&&a.values.name===t?a.values.value:n}),null)}))},Vt=(a="TRAJ",Object(lt.a)([Tt],(function(e){return e.parameters.reduce((function(e,t){return t.values.section===a&&(e[t.values.name]=t.values.value),e}),{})})),Jt("TRAJ","COORDINATES")),Kt=Jt("TRAJ","MAX_LINEAR_VELOCITY"),Yt=Object(lt.a)([Vt],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=n;return t}return{}})),Xt=Object(lt.a)([function(e){return e.rockhopper.status.programPrefix},function(e){return e.rockhopper.status.ls}],(function(e,t){return t&&e?t.map((function(t){return{file:t.replace(e+"/",""),path:t}})).sort((function(e,t){return e.file.localeCompare(t.file,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})):[]})),qt=Object(lt.a)([function(e){return e.rockhopper.status.gcodes},function(e){return e.rockhopper.status.mcodes},function(e){return e.rockhopper.status.settings},function(e){return e.rockhopper.status.halpinMotionSwitchkinsType},function(e){return!0===e.rockhopper.status.toolReleased},function(e){return!0===e.rockhopper.status.viceReleased}],(function(e,t,n,a,i,r){var o=[];e&&e.slice(1).sort((function(e,t){return e.toString().localeCompare(t.toString(),navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})).forEach((function(e,t){e>0&&o.push("G"+e/10)}));t&&t.slice(1).sort((function(e,t){return e.toString().localeCompare(t.toString(),navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})).forEach((function(e,t){e>0&&o.push("M"+e)}));switch(i?o.push("M160"):o.push("M161"),r?o.push("M162"):o.push("M163"),a){case 0:o.push("M429");break;case 1:o.push("M428");break;case 2:o.push("M430")}return n&&(o.push("F"+n[1].toFixed(0)),o.push("S"+n[2])),o})),Zt=Object(lt.a)([qt],(function(e){if(e)return e.includes("G21")?"G21":!!e.includes("G20")&&"G20"})),Qt=function(e){var t=e.rockhopper.status.program,n=e.rockhopper.status.programPrefix;return t&&t.startsWith(n)?t.replace(n+"/",""):t},$t=function(e,t){return e.rockhopper.fileUpload[t]},en=function(e){return e.rockhopper.fileUpload},tn=function(e){var t=[];for(var n in e.rockhopper.fileUpload)e.rockhopper.fileUpload[n].state!==$||e.rockhopper.fileUpload[n].overwrite||t.push(e.rockhopper.fileUpload[n]);return t},nn=Object(lt.a)([function(e){return e.rockhopper.status.axisMask},Vt],(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a="XYZABCUVW",i=0;i<9;i++)if(e&1<<i){var r=a[i],o=t?t.indexOf(r):-1;n.push({axis:r,index:i,jointIndex:o})}return n})),an=Object(lt.a)([function(e){return e.rockhopper.status.joints},function(e){return e.rockhopper.status.homed}],(function(e,t){if(e&&t)for(var n=0;n<e;n++)if(!t[n])return!1;return!0})),rn=function(e){return e.rockhopper.status.axesData},on=Object(lt.a)([rn],(function(e){return e?{value:5.08*Math.abs(e[0].velocity)*Math.PI*2*e[0].torque*2+5.08*Math.abs(e[1].velocity)*Math.PI*2*e[1].torque*2+5.08*Math.abs(e[2].velocity)*Math.PI*2*e[2].torque*3.5+4080*Math.abs(e[3].velocity)/26*Math.PI/180*e[3].torque*3.5+4080*Math.abs(e[4].velocity)/26*Math.PI/180*e[4].torque*2,unit:Ce.MACHINE_UNITS.POWER}:{value:0,unit:Ce.MACHINE_UNITS.POWER}})),cn=Object(lt.a)([Rt,Ut,Gt,an,rn],(function(e,t,n,a,i){return i&&e&&t&&n?i.map((function(i){var r=i.velocity,o=i.axis,c=i.index,s=i.jointIndex,l=i.actualPosition,d=i.jointActualPosition,u=i.dtg,p=i.torque;return{axis:o,index:c,jointIndex:s,actualPosition:{value:l,unit:Ce.AXES[o]},jointActualPosition:{value:d,unit:Ce.AXES[o]},velocity:{value:r,unit:Ce.AXES[o]+"/s"},position:{value:a?l-e[c]-t[c]-n[c]:s>-1?d:0,unit:Ce.AXES[o]},torque:p,dtg:{value:a?u:0,unit:Ce.AXES[o]}}})):[]})),sn=function(e){return{value:e.rockhopper.status.spindleTemperature||-999,unit:Ce.MACHINE_UNITS.TEMPERATURE}},ln=function(e){return{value:e.rockhopper.status.spindlePressure||-999,unit:Ce.MACHINE_UNITS.PRESSURE}},dn=function(e){return{value:e.rockhopper.status.spindleMaxSpeed||1,unit:Ce.MACHINE_UNITS.SPINDLE_SPEED}},un=function(e){return{value:Math.round(e.rockhopper.status.measuredSpindleSpeed)||0,unit:Ce.MACHINE_UNITS.SPINDLE_SPEED}},pn=function(e){return{value:e.rockhopper.status.calculatedFeedrate||0,unit:Ce.MACHINE_UNITS.LINEAR_VELOCITY}},bn=Object(lt.a)([Et],(function(e){var t=e.status,n=t.measuredSpindleCurrent,a=void 0===n?0:n,i=t.measuredSpindleVoltage;return{value:(a||0)*((void 0===i?0:i)||0),unit:Ce.MACHINE_UNITS.POWER}})),mn=Object(lt.a)([bn,un],(function(e,t){var n=t.value/4e4*2500;return n>0?e.value/n:0})),jn=Object(lt.a)([Et,Kt],(function(e,t){var n=e.delayed.status.halpinHaluiMaxVelocityValue;return"undefined"===typeof n?100:Math.round(n/t*100)})),fn=(Object(lt.a)([Et,Kt],(function(e,t){var n=e.status.halpinHaluiMaxVelocityValue;return Math.round(n/t*100)})),Object(lt.a)([Et],(function(e){var t=e.delayed.status.rapidrate;return"undefined"!==typeof t?Math.round(100*t):100}))),hn=(Object(lt.a)([Et],(function(e){var t=e.status.rapidrate;return"undefined"!==typeof t?Math.round(100*t):100})),Object(lt.a)([Et],(function(e){var t=e.delayed.status.feedrate;return"undefined"!==typeof t?Math.round(100*t):100}))),On=(Object(lt.a)([Et],(function(e){var t=e.status.feedrate;return Math.round(100*t)})),Object(lt.a)([Et],(function(e){return e.delayed.status.spindle?e.delayed.status.spindle:[{override:1}]}))),xn=(Object(lt.a)([Et],(function(e){if(e.status.spindle){var t=e.status.spindle[0].override;return Math.round(100*t)}return 100})),Object(lt.a)([function(e){return e.rockhopper.status.toolTable},Ot],(function(e,t){var n=Ce.MACHINE_UNITS.LENGTH,a=Ce.MACHINE_UNITS.ANGLE,i=[null,n,n,n,a,a,a,null,null,null,n,a,a,null];return e?e.slice(1,53).map((function(e){return e.map((function(e,t){return i[t]?{value:e,unit:i[t]}:e}))})):null}))),gn=Object(lt.a)([Et],(function(e){return e.status.clientConfig})),vn=Object(lt.a)([gn],(function(e){return e&&e.KeyboardShortcuts?e.KeyboardShortcuts:we})),yn=Object(lt.a)([vn],(function(e){return e&&e.jogModifiers?e.jogModifiers:we.JOG_MODIFIERS})),Sn=Object(lt.a)([vn],(function(e){return e&&e.jog?e.jog:we.JOG})),Cn=Object(lt.a)([vn],(function(e){return e&&e.axisSelectJog?e.axisSelectJog:we.AXIS_SELECT_JOG})),wn=Object(lt.a)([vn],(function(e){return e&&e.other?e.other:we.OTHER})),kn=Object(lt.a)([Cn],(function(e){var t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[e[n]]="axisSelectJog"+n.charAt(0).toUpperCase()+n.slice(1))})),t})),En=Object(lt.a)([wn],(function(e){var t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[e[n]]=n)})),t})),In=Object(lt.a)([yn,Sn,kn,En],(function(e,t,n,a){if(!e||!t||!n||!a)return null;var i={},r=e.continuous?e.continuous+"+":"";return Object.keys(t).forEach((function(n){""!==t[n]&&(i[r+t[n]]=n,""!==e.incremental&&(i[e.incremental+"+"+t[n]]=n+"incremental"),""!==e.slow&&(i[e.slow+"+"+t[n]]=n+"slow"))})),Object(m.a)(Object(m.a)(Object(m.a)({},i),n),a)})),Nn=Object(lt.a)([gn],(function(e){return e&&e.MDIHistory?e.MDIHistory:[]})),Tn=Object(lt.a)([gn],(function(e){return e&&e.MDIFavorites?e.MDIFavorites:[]}));function _n(e){var t=new Set;return e.forEach((function(e){return t.add(e.cmd),null})),t}var An=Object(lt.a)([Tn],(function(e){var t,n=new Map,a=Object(st.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.set(i.cmd,{name:i.name,time:i.time})}}catch(r){a.e(r)}finally{a.f()}return n})),Mn=Object(lt.a)([Nn,Tn],(function(e,t){var n,a=_n(e),i=_n(t),r=new Map,o=Object(st.a)(a);try{for(o.s();!(n=o.n()).done;){var c=n.value;r.set(c,{isFav:i.has(c)})}}catch(s){o.e(s)}finally{o.f()}return r})),Dn=Object(lt.a)([Nn],(function(e){return Object.values(e).sort((function(e,t){return t.time-e.time}))})),Ln=Object(lt.a)([Dn],(function(e){var t,n=new Set,a=[],i=Object(st.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.cmd.toLowerCase();n.has(o)||(n.add(o),a.push(r))}}catch(c){i.e(c)}finally{i.f()}return a})),Pn=Object(lt.a)([gn],(function(e){return e&&e.ToolFlutes?e.ToolFlutes:null})),Fn=Object(lt.a)([gn],(function(e){return e&&e.ToolTableDescriptions?e.ToolTableDescriptions:null})),Rn=Object(lt.a)([Pn,Ht],(function(e,t){return e&&t>0&&e[t-1]||1})),Un=Object(lt.a)([xn,Ht],(function(e,t){return e&&t?e[t-1][10]:{value:0,unit:Ce.MACHINE_UNITS.LENGTH}})),Hn=Object(lt.a)([Kt,Rn],(function(e,t){return t&&e?{value:60*e/(1e3*t),unit:Ce.MACHINE_UNITS.LENGTH}:{value:0,unit:Ce.MACHINE_UNITS.LENGTH}})),Gn=Object(lt.a)([pn,Rn,un],(function(e,t,n){return n.value&&t?{value:60*e.value/(n.value*t),unit:Ce.MACHINE_UNITS.LENGTH}:{value:0,unit:Ce.MACHINE_UNITS.LENGTH}})),Bn=Object(lt.a)([dn,Un],(function(e,t){return e.value&&t.value?{value:e.value*t.value*Math.PI/12,unit:Ce.MACHINE_UNITS.SURFACE_SPEED}:{value:0,unit:Ce.MACHINE_UNITS.SURFACE_SPEED}})),zn=Object(lt.a)([un,Un],(function(e,t){return e.value&&t.value?{value:e.value*t.value*Math.PI/12,unit:Ce.MACHINE_UNITS.SURFACE_SPEED}:{value:0,unit:Ce.MACHINE_UNITS.SURFACE_SPEED}})),Wn=Object(lt.a)([an,Pt,function(e){return e.rockhopper.status.taskMode},function(e){return e.rockhopper.status.interpState}],(function(e,t,n,a){var i={isReady:!1,reason:null};return t?i.reason="estop":e?n===he&&a!==xe?i.reason="program":i.isReady=!0:i.reason="homed",i})),Jn=Object(lt.a)([Rt,Ut,Gt,an,rn],(function(e,t,n,a,i){return i&&e&&t&&n?i.map((function(i){var r=i.axis,o=i.index,c=i.jointIndex,s=i.actualPosition,l=i.jointActualPosition;return{axis:r,index:o,jointIndex:c,actualPosition:{value:s,unit:c<=2?Ce.MACHINE_UNITS.LENGTH:Ce.MACHINE_UNITS.ANGLE},jointActualPosition:{value:l,unit:c<=2?Ce.MACHINE_UNITS.LENGTH:Ce.MACHINE_UNITS.ANGLE},position:{value:a?s-e[o]-t[o]-n[o]:c>-1?l:0,unit:c<=2?Ce.MACHINE_UNITS.LENGTH:Ce.MACHINE_UNITS.ANGLE},g5xOffset:{value:e[o],unit:c<=2?Ce.MACHINE_UNITS.LENGTH:Ce.MACHINE_UNITS.ANGLE},g92Offset:{value:t[o],unit:c<=2?Ce.MACHINE_UNITS.LENGTH:Ce.MACHINE_UNITS.ANGLE}}})):[]})),Vn=function(e){return e.rockhopper.delayed.registered},Kn=Object(s.connect)((function(e,t){return{toolInSpindle:Ht(e),toolTable:xn(e),toolTableDescriptions:Fn(e),toolFlutes:Pn(e),readyForMdi:Wn(e),unitsCode:Zt(e)}}),(function(e,t){return{onDispatchMdiCmd:function(t){e(ct.put.mdiCmd({data:[t]}))},onDispatchUpdateHelper:function(t,n){e(ct.updateHelpers[t](n))},onLoadTool:function(t){e(ct.put.mdiCmd({data:["M6 T".concat(t)]}))},onMeasureTool:function(t){e(ct.put.mdiCmd({data:["M654 T".concat(t)]}))},onToolTableChanged:function(t,n,a,i){e(ct.updateHelpers.toolTableRow({data:[n,a,i]})),e(ct.put.mdiCmd({data:["G10 L1 P".concat(n," Z").concat(a," X0 R").concat(.5*i," I0 J0 Q0")]}))},onToolDescriptionChanged:function(t,n,a){var i=Object(R.a)(a,(function(e){if(!(t<=a.length)){var i=e.concat(new Array(t-1-a.length).fill(null));return i.push(n),i}e.splice(t-1,1,n)}));e(ct.updateHelpers.toolTableDescriptions({data:i})),e(ct.put.saveClientConfig({data:["ToolTableDescriptions",i]}))},onToolFlutesChanged:function(t){e(ct.updateHelpers.toolFlutes({data:t})),e(ct.put.saveClientConfig({data:["ToolFlutes",t]}))}}}),(function(e,t,n){var a=e.unitsCode,i=t.onDispatchMdiCmd,r=t.onDispatchUpdateHelper;return Object(m.a)(Object(m.a)(Object(m.a)({onSetToolLengthOffset:function(e,t){var n=Ne(t,a);r("toolLengthOffset",{data:[e,n.value]});var o=Ie(t,a),c="G10 L1 P".concat(e," Z").concat(o.value.toFixed(5));i(c)},onSetToolDiameter:function(e,t){var n=Ne(t,a);r("toolDiameter",{data:[e,n.value]});var o=Ie(t,a),c="G10 L1 P".concat(e," R").concat(.5*o.value.toFixed(5));i(c)}},e),t),n)}))(Ae),Yn=function(e){var t=A().t;return Object(L.jsx)(F,{label:t("tool")+" "+t("offset_plural"),children:Object(L.jsx)(Kn,{})})},Xn=n(398),qn=n(369),Zn=n(370),Qn=n(109),$n=n.n(Qn),ea=n(91),ta=n.n(ea),na=n(397),aa=n(363),ia=n(364),ra=n(365),oa=Object(D.a)((function(e){return{button:{margin:e.spacing(1)}}})),ca=function(e){var t=e.open,n=e.value,a=e.onSubmit,i=e.onClose,o=e.title,c=e.textFieldLabel,s=e.submitBtnLabel,l=e.cancelBtnLabel,d=oa(e),u=function(){i&&i()},p=function(e){if(a){e.preventDefault();var t=b.current.text.value;a(t)}},b=r.a.useRef(null);return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(na.a,{open:t,onClose:u,children:[Object(L.jsx)(aa.a,{children:o}),Object(L.jsx)(ia.a,{children:Object(L.jsx)(M.a,{children:Object(L.jsx)("form",{ref:b,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:Object(L.jsx)(W,Object(m.a)(Object(m.a)({},e.textFieldProps),{},{defaultValue:n,onSubmit:function(e,t){p(e)},label:c,variant:"outlined",name:"text"}))})})}),Object(L.jsx)(ra.a,{children:Object(L.jsxs)(M.a,{children:[Object(L.jsx)(h.a,{onClick:function(e){p(e)},variant:"contained",color:"primary",className:d.button,children:s}),Object(L.jsx)(h.a,{onClick:u,variant:"contained",color:"primary",className:d.button,children:l})]})})]})})},sa=Object(D.a)((function(e){return{container:{height:40},openDialogButton:{border:"none",height:"100%",float:"right",textAlign:"center",padding:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,minWidth:32,paddingLeft:4,paddingRight:2},textField:{display:"flex",height:"100%"}}})),la=function(e){var t=e.value,n=e.modalValue,a=e.onSubmitTextField,i=e.onSubmitModal,o=e.disabled,c=e.buttonDom,s=e.buttonProps,l=e.containerProps,d=e.modalProps,u=e.textFieldProps,b=sa(e),j=r.a.useState(!1),f=Object(p.a)(j,2),O=f[0],x=f[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ca,Object(m.a)({open:O,value:n,onSubmit:function(e){i&&i(e),x(!1)},onClose:function(){x(!1)}},d)),Object(L.jsxs)(M.a,Object(m.a)(Object(m.a)({className:b.container},l),{},{children:[Object(L.jsx)(h.a,Object(m.a)(Object(m.a)({className:b.openDialogButton},s),{},{disabled:o,onClick:function(){o||x(!0)},children:c})),Object(L.jsx)(W,Object(m.a)({className:b.textField,disabled:o,value:t,onSubmit:function(e){a&&a(e.target.value)}},u))]}))]})},da=Object(D.a)((function(e){var t,n;return{headerRow:(t={},Object(b.a)(t,e.breakpoints.only("xs"),{fontSize:"1.0rem"}),Object(b.a)(t,e.breakpoints.up("sm"),{fontSize:".8rem"}),Object(b.a)(t,e.breakpoints.up("md"),{fontSize:"1.0rem"}),t),container:{minWidth:"21rem",textAlign:"center",fontSize:"1.0rem",fontWeight:"bold"},menuOpenButton:{borderWidth:2},offsetItemContainer:{borderColor:e.palette.primary.main,borderRadius:5,borderStyle:"solid",borderWidth:2,height:38},offsetItemDropDown:{color:e.palette.primary.main},offsetItemTextField:Object(m.a)(Object(m.a)(Object(m.a)({},e.typography.dataText),e.typography.tableCell),{},{verticalAlign:"middle",whiteSpace:"nowrap"}),offsetItemTextFieldContainer:Object(b.a)({display:"flex",width:"70%"},e.breakpoints.down("sm"),{width:"60%"}),offsetItemButton:(n={borderColor:e.palette.primary.main,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"none",borderWidth:2,minHeight:"100%"},Object(b.a)(n,e.breakpoints.only("sm"),{fontSize:"1.0rem"}),Object(b.a)(n,e.breakpoints.up("md"),{minWidth:45,fontSize:"1.0rem"}),Object(b.a)(n,e.breakpoints.up("lg"),{fontSize:"1.2rem"}),Object(b.a)(n,e.breakpoints.up("lg"),{fontSize:"1.4rem"}),n),offsetItemButtonContainer:Object(b.a)({display:"inline-block",height:"100%",width:"30%"},e.breakpoints.down("sm"),{width:"40%"}),overrideTextFieldInputInput:Object(m.a)({},e.typography.dataText),overrideTextFieldInputRoot:{borderTopRightRadius:0,borderBottomRightRadius:0,paddingLeft:0,paddingRight:0},root:{height:"100%",width:"100%"},text:Object(m.a)({},e.typography.tableCell),spacer:{color:e.palette.primary.main,width:"1rem"}}})),ua=["G54","G55","G56","G57","G58","G59","G59.1","G59.2","G59.3"],pa=function(e){return e>0?ua[e-1]:"G5x"},ba=function(e){var t=e.g5xIndex,n=e.workOffsets,a=e.toolInSpindle,i=e.toolTable,o=e.readyForMdi,c=e.onClearG92,s=e.onDisableG92,l=e.onRestoreG92,d=e.onSetG5xIndex,u=e.onSetG5xOffset,b=e.onSetG5xOffsetAll,m=e.onSetDroViaG5x,j=e.onSetDroAllViaG5x,f=e.onSetG92Offset,O=e.onSetDroViaG92,S=e.onSetDroAllViaG92,C=e.onSetTlo,w=e.onSetDroViaTlo,k=A().t,E=Te().toDisplayUnits,I=da(),N=r.a.useState(null),T=Object(p.a)(N,2),_=T[0],M=T[1],D=r.a.useState(null),P=Object(p.a)(D,2),R=P[0],U=P[1],H=r.a.useState(null),G=Object(p.a)(H,2),B=G[0],z=G[1],W=function(e){var t=parseInt(e.target.value);d&&!isNaN(t)&&d(ua[t]),M(null)},J=function(e,t){var n=parseFloat(e);u&&!isNaN(n)&&u({value:n,unit:E(t.g5xOffset).unit},t)},V=function(e,t){var n=parseFloat(e);m&&!isNaN(n)&&m({value:n,unit:E(t.g5xOffset).unit},t)},K=function(e,t){var n=parseFloat(e);f&&!isNaN(n)&&f({value:n,unit:E(t.g92Offset).unit},t)},Y=function(e,t){var n=parseFloat(e);O&&!isNaN(n)&&O({value:n,unit:E(t.g92Offset).unit},t)},X=function(e){var t=parseFloat(e);C&&!isNaN(t)&&C({value:t,unit:E(i[a][2]).unit})},q=function(e,t){var n=parseFloat(e);w&&!isNaN(n)&&w({value:n,unit:E(i[a][2]).unit},t)},Z=function(e){M(e.currentTarget),z(null)},Q=function(e){U(e.currentTarget),z(null)},$=r.a.useRef(null);return Object(L.jsxs)(F,{label:k("workOffsets"),children:[Object(L.jsxs)(g.a,{id:"g5x-menu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){M(null)},children:[Object(L.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(j&&!isNaN(t)){var a=n.map((function(e){return{value:t,unit:E(e.g5xOffset).unit}}));j(a)}}(0),M(null)},children:k("zeroDro")},"g5x-zero"),Object(L.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(b&&!isNaN(t)){var a=n.map((function(e){return{value:t,unit:E(e.g5xOffset).unit}}));b(a)}}(0),M(null)},children:k("clearCurrentSystem")},"g5x-clear"),ua.map((function(e,t){return Object(L.jsx)(v.a,{onClick:W,value:t,children:k("use")+" "+ua[t]},"g5x-set-"+e)}))]}),Object(L.jsxs)(g.a,{id:"g92-menu",anchorEl:R,keepMounted:!0,open:Boolean(R),onClose:function(){U(null)},children:[Object(L.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(S&&!isNaN(t)){var a=n.map((function(e){return E({value:t,unit:e.g92Offset.unit})}));S(a)}}(0),U(null)},children:k("zeroDro")},"g92-zero"),Object(L.jsx)(v.a,{onClick:function(e){c&&c(),U(null)},children:k("g92Clear")},"g92-clear"),Object(L.jsx)(v.a,{onClick:function(e){s&&s(),U(null)},children:k("g92Suspend")},"g92-disable"),Object(L.jsx)(v.a,{onClick:function(e){l&&l(),U(null)},children:k("g92Restore")},"g92-restore")]}),Object(L.jsxs)(g.a,{id:"mobile-menu",anchorEl:B,keepMounted:!0,open:Boolean(B),onClose:function(){z(null)},children:[Object(L.jsx)(v.a,{onClick:Q,children:"G92"},"open-g92-menu"),Object(L.jsx)(v.a,{onClick:Z,children:pa(t)},"open-g5x-menu")]}),Object(L.jsxs)(x.a,{container:!0,spacing:1,className:I.container,children:[Object(L.jsxs)(x.a,{item:!0,container:!0,justify:"flex-start",alignItems:"center",direction:"row",spacing:0,className:I.headerRow,children:[Object(L.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:4,md:4,children:[Object(L.jsx)(x.a,{item:!0,xs:3,md:2,className:I.spacer}),Object(L.jsx)(x.a,{item:!0,xs:3,md:4,children:k("dro")}),Object(L.jsx)(x.a,{item:!0,xs:3,md:2,className:I.spacer}),Object(L.jsx)(x.a,{item:!0,xs:3,md:4,children:k("absolutePosition")})]}),Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,sm:1}),Object(L.jsxs)(y.a,{mdDown:!0,children:[Object(L.jsx)(x.a,{item:!0,sm:2,children:Object(L.jsx)(h.a,{className:I.menuOpenButton,color:"primary",endIcon:Object(L.jsx)($n.a,{}),disabled:!o.isReady,variant:"outlined",ref:$,onClick:Z,children:pa(t)})}),Object(L.jsx)(x.a,{item:!0,className:I.spacer}),Object(L.jsx)(x.a,{item:!0,sm:2,children:Object(L.jsx)(h.a,{className:I.menuOpenButton,color:"primary",endIcon:Object(L.jsx)($n.a,{}),disabled:!o.isReady,variant:"outlined",onClick:Q,children:"G92"})}),Object(L.jsx)(x.a,{item:!0,align:"center",className:I.spacer}),Object(L.jsx)(x.a,{item:!0,sm:2,children:a?k("tlo")+": "+k("tool")+a:k("noActiveTool")})]}),Object(L.jsx)(y.a,{lgUp:!0,children:Object(L.jsx)(x.a,{item:!0,xs:4,children:Object(L.jsx)(h.a,{className:I.menuOpenButton,color:"primary",startIcon:Object(L.jsx)($n.a,{}),disabled:!o.isReady,variant:"outlined",ref:$,onClick:function(e){z(e.currentTarget),U(null),M(null)},children:k("offset_plural")})})})]}),n.map((function(e){var n=E(e.position),r=Ce.DECIMALS(n.unit);return Object(L.jsxs)(x.a,{item:!0,container:!0,justify:"flex-start",alignItems:"center",direction:"row",spacing:0,children:[Object(L.jsxs)(y.a,{mdDown:!0,children:[Object(L.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:7,sm:4,children:[Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,sm:2,children:e.axis}),Object(L.jsx)(x.a,{item:!0,className:I.text,xs:4,sm:4,children:n.value.toFixed(r)+" "+n.unit}),Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,sm:2,children:"="}),Object(L.jsx)(x.a,{item:!0,className:I.text,xs:4,sm:4,children:E(e.actualPosition).value.toFixed(r)})]}),Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:2,sm:!0,md:1,children:"-"}),Object(L.jsx)(x.a,{item:!0,sm:2,children:Object(L.jsx)(la,{value:E(e.g5xOffset).value.toFixed(r),modalValue:"0.0000",onSubmitTextField:function(t){return J(t,e)},onSubmitModal:function(t){return V(t,e)},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," ").concat(pa(t)),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})}),Object(L.jsx)(x.a,{item:!0,align:"center",className:I.spacer,children:"-"}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"center",direction:"row",sm:2,children:Object(L.jsx)(la,{value:E(e.g92Offset).value.toFixed(r),modalValue:"0.0000",onSubmitTextField:function(t){return K(t,e)},onSubmitModal:function(t){return Y(t,e)},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," G92"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})}),Object(L.jsx)(x.a,{item:!0,align:"center",className:I.spacer,children:2===e.index?"-":""}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",sm:2,children:Object(L.jsx)(x.a,{item:!0,children:2!==e.index?"":Object(L.jsx)(la,{value:i&&a?E(i[a-1][e.index+1]).value.toFixed(r):"",modalValue:"0.0000",onSubmitTextField:function(e){return X(e)},onSubmitModal:function(t){return q(t,e)},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," TLO"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})})})]}),Object(L.jsx)(y.a,{lgUp:!0,children:Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsxs)(Xn.a,{children:[Object(L.jsx)(qn.a,{expandIcon:Object(L.jsx)($n.a,{color:"primary"}),children:Object(L.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:12,children:[Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,children:e.axis}),Object(L.jsx)(x.a,{item:!0,className:I.text,xs:3,children:E(e.position).value.toFixed(r)+" "+E(e.position).unit}),Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,children:"="}),Object(L.jsx)(x.a,{item:!0,className:I.text,xs:3,children:E(e.actualPosition).value.toFixed(r)}),Object(L.jsx)(x.a,{item:!0,className:I.spacer,xs:1,children:"-"}),Object(L.jsx)(x.a,{item:!0,className:I.text,xs:3,children:E({value:e.actualPosition.value-e.position.value,unit:e.position.unit}).value.toFixed(r)})]})}),Object(L.jsx)(Zn.a,{children:Object(L.jsxs)(x.a,{container:!0,direction:"column",alignItems:"flex-end",spacing:1,children:[Object(L.jsxs)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(L.jsx)(x.a,{item:!0,xs:2,className:I.spacer,children:pa(t)}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(L.jsx)(la,{value:E(e.g5xOffset).value.toFixed(r),modalValue:"0.0000",onSubmitTextField:function(t){return J(t,e)},onSubmitModal:function(t){return V(t,E(e.g5xOffset))},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," ").concat(pa(t)),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})})]}),Object(L.jsxs)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(L.jsx)(x.a,{item:!0,xs:2,className:I.spacer,children:"G92"}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(L.jsx)(la,{value:E(e.g92Offset).value.toFixed(r),modalValue:"0.0000",onSubmitTextField:function(t){return K(t,e)},onSubmitModal:function(t){return Y(t,e)},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," G92"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})})]}),Object(L.jsx)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:2===e.index?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(x.a,{item:!0,xs:2,className:I.spacer,children:k("tlo")}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(L.jsx)(la,{value:i?E(i[a][e.index]).value.toFixed(r):"",modalValue:"0.0000",onSubmitTextField:function(e){return X(e)},onSubmitModal:function(t){return q(t,e)},disabled:!o.isReady,buttonDom:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(L.jsx)(ta.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:I.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," TLO"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:I.overrideTextFieldInputInput,root:I.root}}}})})]}):""})]})})]})})})]},e.axis)}))]})]})},ma=Object(s.connect)((function(e,t){return{g5xIndex:Ft(e),workOffsets:Jn(e),toolInSpindle:Ht(e),toolTable:xn(e),readyForMdi:Wn(e),unitsCode:Zt(e)}}),(function(e,t){return{onDispatchMdiCmd:function(t){e(ct.put.mdiCmd({data:[t]}))},onSetG5xIndex:function(t){e(ct.put.mdiCmd({data:[t]}))},onClearG92:function(){e(ct.put.mdiCmd({data:["G92.1"]}))},onDisableG92:function(){e(ct.put.mdiCmd({data:["G92.2"]}))},onRestoreG92:function(){e(ct.put.mdiCmd({data:["G92.3"]}))},onDispatchUpdateHelper:function(t,n){e(ct.updateHelpers[t](n))}}}),(function(e,t,n){var a=e.workOffsets,i=e.g5xIndex,r=e.toolInSpindle,o=e.unitsCode,c=t.onDispatchMdiCmd,s=t.onDispatchUpdateHelper;return Object(m.a)(Object(m.a)(Object(m.a)({onSetG5xOffset:function(e,t){var n=Ie(e,o),a="G10 L2 P".concat(i).concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetDroViaG5x:function(e,t){var n=Ie(e,o),a="G10 L20 P".concat(i).concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetG5xOffsetAll:function(e){var t=e.map((function(e){return Ie(e,o)})),n="G10 L2 P".concat(i);a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetDroAllViaG5x:function(e){var t=e.map((function(e){return Ie(e,o)})),n="G10 L20 P".concat(i," ");a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetG92Offset:function(e,t){var n=Ne(e,o),a=Number(t.position.value+t.g92Offset.value-n.value),i=Ie({value:a,unit:n.unit},o),r="G92 ".concat(t.axis).concat(i.value.toFixed(5));c(r)},onSetDroViaG92:function(e,t){var n=Ie(e,o),a="G92 ".concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetDroAllViaG92:function(e){var t=e.map((function(e){return Ie(e,o)})),n="G92 ";a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetTlo:function(e){var t=Ne(e,o);s("toolLengthOffset",{data:[r,t.value]});var n=Ie(e,o),a="G10 L1 P".concat(r," Z").concat(n.value.toFixed(5));c(a),c("G43")},onSetDroViaTlo:function(e,t){var n=Ne(e,o),a={value:t.actualPosition.value-t.g5xOffset.value-t.g92Offset.value-n.value,unit:n.unit};s("toolLengthOffset",{data:[r,a.value]});var i=Ie(e,o),l="G10 L10 P".concat(r," Z").concat(i.value.toFixed(5));c(l),c("G43")}},e),t),n)}))(ba),ja="@@penta-ui",fa="messages",ha="asc",Oa="desc",xa=Object(De.a)({ENABLE_KEYBOARD_JOGGING:void 0,DISABLE_KEYBOARD_JOGGING:void 0,CHANGE_LANGUAGE:void 0,CHANGE_DIALECT:void 0,INCREMENT_JOG_DIGIT_INDEX:void 0,DECREMENT_JOG_DIGIT_INDEX:void 0,SET_JOG_INCREMENT_INDEX:void 0,SET_JOG_AXIS:void 0,POPUP:{SHOW:void 0,HIDE:void 0},CLEAR_MESSAGE_BADGE:void 0,SET_MDI_TEXT:void 0,SET_DISPLAY_UNITS:void 0,OVERLAY:{CHANGE:void 0,CLEAR:void 0,ENABLE_EDITING:void 0,DISABLE_EDITING:void 0,SET:void 0,DELETE_SECTION:void 0,ADD_SECTION:void 0},COMPENSATION:{CHANGE:void 0,CLEAR:void 0,ENABLE_EDITING:void 0,DISABLE_EDITING:void 0,SET:void 0,DELETE_SECTION:void 0,ADD_SECTION:void 0},AXIS_SELECT_JOG:{SET_AXIS:void 0,SET_DIGIT_INDEX:void 0,INCREMENT_DIGIT_INDEX:void 0},DRO:{SET_DISPLAY:void 0},JOG:{SET_DISPLAY:void 0}},{prefix:ja}),ga=n(393),va=n(50),ya=n.n(va),Sa=Object(D.a)((function(e){return{warningIcon:{marginRight:e.spacing(1)}}}));var Ca=function(e){var t=e.isHomed,n=e.onHomeAll,a=e.classes,i=A().t,r=Sa();return Object(L.jsxs)(h.a,{variant:"contained",color:"primary",size:"small",classes:{root:a.button},onClick:n,children:[t?null:Object(L.jsx)(ya.a,{className:r.warningIcon}),i("homeAll")]})},wa=Object(s.connect)((function(e,t){return{isHomed:an(e)}}),(function(e,t){return{onHomeAll:function(){return e(ct.put.homeCmd())}}}))(Ca),ka=n(35),Ea=n(165),Ia=n(193),Na=["M",0,0],Ta=function(e,t){return Na[1]=e,Na[2]=t,Na.join(" ")},_a=["A",0,0,0,0,0,0,0],Aa=function(e,t,n,a,i,r,o){return _a[1]=e,_a[2]=t,_a[3]=n,_a[4]=a,_a[5]=i,_a[6]=r,_a[7]=o,_a.join(" ")},Ma=["L",0,0],Da=function(e,t){return Ma[1]=e,Ma[2]=t,Ma.join(" ")},La=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,n=Object(i.useState)(e),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)(e),s=Object(p.a)(c,2),l=s[0],d=s[1];return Object(i.useEffect)((function(){var e=window.requestAnimationFrame((function(){var e=t*l+(1-t)*r;Math.abs(e-l)>1e-6&&d(e)}));return function(){return window.cancelAnimationFrame(e)}}),[r,l,d,t]),[r,o,l]},Pa=Object(D.a)((function(e){return{value:{},svg:{touchAction:"none"}}})),Fa="horizontal",Ra=function(e){var t=e.defaultValue,n=void 0===t?0:t,a=e.orientation,r=void 0===a?Fa:a,o=e.diameter,c=void 0===o?100:o,s=e.thickness,l=void 0===s?30:s,d=e.tickDist,u=void 0===d?10:d,b=e.onChange,m=e.reverse,j=void 0!==m&&m,f=e.enableWheel,h=void 0===f||f,O=e.enableDrag,x=void 0===O||O,g=Object(Ea.a)(),v=La(n),y=Object(p.a)(v,3),S=y[0],C=y[1],w=y[2],k=Object(i.useState)(Math.floor(n)),E=Object(p.a)(k,2),I=E[0],N=E[1],T=Object(i.useState)(null),_=Object(p.a)(T,2),A=_[0],M=_[1],D=Object(i.useRef)(null),P=Math.min(1,Math.max(0,e.curvature||0)),F={};r===Fa?(F.width=c,F.height=l,j?(F.startX=c,F.startY=0,F.endX=0,F.endY=0):(F.startX=0,F.startY=0,F.endX=c,F.endY=0),F.tickDirX=0,F.tickDirY=1):(F.width=l,F.height=c,j?(F.startX=5,F.startY=c,F.endX=5,F.endY=0):(F.startX=5,F.startY=0,F.endX=5,F.endY=c),F.tickDirX=1,F.tickDirY=0);for(var R=F.width,U=F.height,H=F.startX,G=F.startY,B=F.endX,z=F.endY,W=F.tickDirX,J=F.tickDirY,V=Pa(),K=[],Y=-w-.5*c/u,X=.5*c/u-w,q=Math.ceil(Y);q<X+1e-5;q+=1){var Z=(q-Y)/(X-Y),Q=(1-P)*Z+P*((Math.cos(Math.PI*Math.max(0,Math.min(1,Z)))-1)/-2),$=1*(1-P)+P*(Math.cos(Math.PI*Math.max(0,Math.min(1,Z))-.5)-Math.cos(Math.PI*Math.max(0,Math.min(1,Z))+.5));K.push({tickValue:q,t:Q,strokeWidth:$})}var ee=K.map((function(e){var t=e.tickValue,n=e.t,a=e.strokeWidth,i=H*(1-n)+B*n,r=G*(1-n)+z*n,o=i+W*l*.25*1,c=r+J*l*.25*1;return Object(L.jsx)("line",{x1:i,y1:r,x2:o,y2:c,stroke:"black",strokeOpacity:.2,strokeWidth:a},t)})),te=Object(i.useCallback)((function(e){var t=S+(j?-1:1)*e/u;C(t);var n=t-I<0?-Math.floor(I-t):Math.floor(t-I);Math.abs(n)>0&&(N(I+n),b(n))}),[C,S,u,b,j,N,I]),ne=Object(i.useCallback)((function(e){e.event;var t=e.delta;Object(ka.a)(e,["event","delta"]);window.getSelection().removeAllRanges();var n=r===Fa?t[0]:t[1];A&&clearTimeout(A),Math.abs(n)>0&&te(n)}),[te,r,A]),ae=Object(i.useCallback)((function(e){e.event;C(I)}),[C,I]),ie=Object(i.useCallback)((function(e){var t=e.event,n=e.wheeling,a=e.delta;n&&t.preventDefault();var i=a[1];te(.25*i),A&&clearTimeout(A),M(setTimeout((function(){C(I)}),2e3))}),[C,I,te,M,A]),re={};x&&(re.onDrag=ne,re.onDragEnd=ae),h&&(re.onWheel=ie),Object(Ia.a)(re,{domTarget:D,eventOptions:{passive:!1}}),Object(i.useEffect)((function(){return function(){clearTimeout(A)}}),[A]);var oe=r===Fa?[Ta(.5*R-5,U),Da(.5*R,U-5),Da(.5*R+5,U),"Z"]:[Ta(0,.5*U-5),Da(5,.5*U),Da(0,.5*U+5),"Z"];return Object(L.jsxs)("svg",{ref:D,width:R,height:U,viewBox:"0 0 "+R+" "+U,className:V.svg,children:[ee,Object(L.jsx)("path",{d:oe.join(" "),fill:g.palette.primary.main})]})},Ua=n(194),Ha=n.n(Ua),Ga=n(223),Ba=Object(D.a)((function(e){return{container:{position:"relative",whiteSpace:"nowrap",lineHeight:"40px",marginBottom:e.spacing(1)},dismiss:{verticalAlign:"baseline"},activeDigits:{border:"1px solid "+e.palette.primary.main},inactiveDigits:{border:"1px solid "+e.palette.grey[200]},digits:{display:"inline-block",height:40,width:"calc(100% - 42px - 42px - "+e.spacing(1)+"px)",lineHeight:"40px",verticalAlign:"middle",borderTopRightRadius:4,borderBottomRightRadius:4,textAlign:"right",paddingRight:e.spacing(1)+42},activeLabel:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,border:"1px solid "+e.palette.primary.main},inactiveLabel:{backgroundColor:e.palette.grey[200],border:"1px solid "+e.palette.grey[200]},label:Object(m.a)(Object(m.a)({},e.typography.axisLabel),{},{display:"inline-block",textAlign:"center",verticalAlign:"middle",width:40,height:40,lineHeight:"40px",borderTopLeftRadius:4,borderBottomLeftRadius:4,userSelect:"none"}),homeButton:Object(m.a)(Object(m.a)({},e.typography.axisLabel),{},{display:"inline-block",textAlign:"center",verticalAlign:"middle",width:42,height:42,lineHeight:"40px",borderTopRightRadius:4,borderBottomRightRadius:4,userSelect:"none",position:"absolute",right:0,top:0}),digit:Object(m.a)(Object(m.a)({},e.typography.axisValue),{},{border:"1px solid rgba(0,0,0,0)",borderRadius:4,display:"inline-block",textAlign:"center",verticalAlign:"middle",position:"relative",maxWidth:"calc( ( 100% - "+e.spacing(4)+"px) / 12)",userSelect:"none"}),active:{cursor:"pointer","&:hover":{border:"1px solid "+e.palette.primary.main}},open:{border:"1px solid "+e.palette.primary.main},spinner:{position:"absolute",top:0,left:0},units:Object(m.a)(Object(m.a)({},e.typography.axisValue),{},{display:"inline-block",fontSize:"22px",lineHeight:"30px",marginLeft:5,width:38,position:"relative",textAlign:"center",verticalAlign:"bottom"})}})),za=function(e){for(var t,n,a=e.value,i=e.onChange,r=e.fractionalDigits,o=e.label,c=e.wholeDigits,s=e.highlighted,l=e.maxOpenIndex,d=e.openIndex,u=void 0===d?-1:d,m=e.onSetOpenIndex,j=e.unit,f=e.onHome,h=Te().getDisplayUnitStringFromUnit,O=30,x=Ba(),g=a.toFixed(r).split("."),v=Object(p.a)(g,2),y=v[0],S=v[1],C=y.split("");C.length<c;)C.unshift("");var w=S.split(""),k=[];C.forEach((function(e,t){var n=C.length-1-t,a=w.length+n+1;k.push({char:e,active:a<=l,increment:Math.pow(10,n),tickDist:15,charIndex:a})})),k.push({char:".",active:!1,increment:0,tickDist:15}),w.forEach((function(e,t){var n=w.length-t;k.push({char:e,active:n<=l,increment:Math.pow(10,-(t+1)),tickDist:15,charIndex:n})}));var E=k.map((function(e,t){var n,a=e.char,r=e.active,o=e.increment,c=e.tickDist,s=e.charIndex,l=s===u?Object(L.jsx)(Ra,{reverse:!0,defaultValue:parseInt(a),thickness:O,diameter:O,tickDist:c,curvature:1,orientation:"vertical",onChange:function(e){i&&i(e*o)}}):null;return Object(L.jsxs)("span",{className:V()((n={},Object(b.a)(n,x.digit,!0),Object(b.a)(n,x.active,r),Object(b.a)(n,x.open,u===s),n)),onClick:function(e){r&&m&&m(s)},style:{fontSize:O,lineHeight:"30px",width:O,height:O},children:[a,Object(L.jsx)("div",{className:x.spinner,children:l})]},t)}));return Object(L.jsxs)("div",{className:x.container,children:[Object(L.jsx)("span",{className:V()(x.label,(t={},Object(b.a)(t,x.activeLabel,s),Object(b.a)(t,x.inactiveLabel,!s),t)),children:o}),Object(L.jsxs)("span",{className:V()(x.digits,(n={},Object(b.a)(n,x.activeDigits,s),Object(b.a)(n,x.inactiveDigits,!s),n)),children:[E,Object(L.jsx)("span",{className:V()(x.units),children:Object(L.jsx)("span",{className:x.axisUnitDegree,children:h(j)})})]}),Object(L.jsx)("span",{className:x.homeButton,children:Object(L.jsx)(Ga.a,{onClick:f,size:"small",children:Object(L.jsx)(Ha.a,{})})})]})},Wa=function(e,t){switch(e){case"velocity":return t.map((function(e){var t=e.velocity;Object(ka.a)(e,["velocity"]);return t}));case"dtg":return t.map((function(e){var t=e.dtg;Object(ka.a)(e,["dtg"]);return t}));case"position":return t.map((function(e){var t=e.position;Object(ka.a)(e,["position"]);return t}));case"actualPosition":return t.map((function(e){var t=e.actualPosition;Object(ka.a)(e,["actualPosition"]);return t}));default:return t.map((function(e){var t=e.position;Object(ka.a)(e,["position"]);return t}))}},Ja=function(e){var t=e.homed,n=e.positions,a=e.openDigitIndex,i=e.openAxis,r=e.display,o=e.onSetOpenAxis,c=e.onSetOpenDigitIndex,s=e.onJogIncrement,l=e.onHome,d=Te().toDisplayUnits,u=Wa(r,n),p=n.map((function(e){var n=e.axis,r=e.position,p=e.jointIndex,b=e.index,m=p>2?10:1,j=!t,f=t?b:p,h=p>2||"mm"===d(r).unit?3:4,O=p>2||"mm"===d(r).unit?5:4,x=(p>2||d(r).unit,4),g=i===n?a:-1;return Object(L.jsx)(za,{label:n,value:d(u[p]).value,unit:d(r).unit,onChange:function(e){var t={value:e,unit:d(r).unit};s({axis:f,jointFlag:j,speed:m,increment:t})},fractionalDigits:h,wholeDigits:O,maxOpenIndex:x,highlighted:n===i,openIndex:g,onSetOpenIndex:function(e){o(n),c(e)},onHome:function(e){return function(){l(e)}}(n)},n)}));return Object(L.jsx)("div",{children:p})},Va=n(158);Va.Howler.autoSuspend=!1;var Ka=new Va.Howl({src:"/sounds/tick.wav"}),Ya=Object(s.connect)((function(e,t){var n=cn(e),a=an(e),i=Zt(e),r=Yt(e),o=Ct(e),c=St(e);return{display:kt(e),homed:a,positions:n,unitsCode:i,openDigitIndex:o,openAxis:c,axisToJointMap:r}}),(function(e,t){return{onDispatchPutHelper:function(t,n){e(ct.putHelpers[t](n))},onHome:function(t,n){if("undefined"!==typeof t&&"undefined"!==typeof n){var a=" ABS[#<_ini[JOINT_".concat(n,"]HOME_SEARCH_VEL>] * 60 "),i=" #<_ini[JOINT_".concat(n,"]HOME> "),r="XYZABC".indexOf(t);e(ct.put.mdiCmd({data:["o<machine-cmd> call [ ".concat(r," ] [ ").concat(a," ] [ ").concat(i," ]")]}))}},onSetOpenAxis:function(t){e(xa.axisSelectJog.setAxis(t))},onSetOpenDigitIndex:function(t){e(xa.axisSelectJog.setDigitIndex(t))}}}),(function(e,t,n){var a=e.unitsCode,i=e.axisToJointMap,r=t.onDispatchPutHelper,o=t.onHome;return Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({},e),t),n),{},{onJogIncrement:function(e){var t=e.axis,n=e.speed,i=e.increment,o=e.jointFlag,c=Ne(i,a);r("jogIncrement",{axis:t,speed:n,increment:c.value,jointFlag:o}),Ka.play()},onHome:function(e){var t=i[e];o(e,t)}})}))(Ja),Xa=n(371),qa=Object(s.connect)((function(e,t){return{checked:dt(e),axes:nn(e)}}),(function(e,t){return{onEnable:function(){e(xa.enableKeyboardJogging())},onDisable:function(){e(xa.disableKeyboardJogging())},onJogStop:function(t){e(ct.putHelpers.jogStop({axis:t}))}}}),(function(e,t,n){var a=e.checked,i=e.axes,r=t.onEnable,o=t.onDisable,c=t.onJogStop;return Object(m.a)(Object(m.a)({},n),{},{checked:a,onChange:function(e){if(e.target.checked)r();else{o();var t,n=Object(st.a)(i);try{for(n.s();!(t=n.n()).done;){var a=t.value.index;c(a)}}catch(s){n.e(s)}finally{n.f()}}}})}))(Xa.a),Za=Object(D.a)((function(e){return{extras:{display:"flex",marginBottom:e.spacing(1)},menuSpan:{width:"100%"},homeAllButton:{marginLeft:e.spacing(1)},select:{height:"30px"},label:Object(m.a)(Object(m.a)({},e.typography.statusItem),{},{fontSize:14})}})),Qa=function(e){var t=e.display,n=e.onSetDisplay,a=A().t,i=Za();return Object(L.jsxs)(F,{label:a("jog"),children:[Object(L.jsxs)("div",{className:i.extras,children:[Object(L.jsxs)(ga.a,{variant:"outlined",value:t,onChange:function(e){n(e.target.value)},className:i.select,children:[Object(L.jsx)(v.a,{value:"position",children:Object(L.jsx)(G.a,{title:a("tooltip_OffsetPosition"),children:Object(L.jsx)("span",{className:i.menuSpan,children:a("position")})})}),Object(L.jsx)(v.a,{value:"actualPosition",children:Object(L.jsx)(G.a,{title:a("tooltip_ActualPosition"),children:Object(L.jsx)("span",{className:i.menuSpan,children:a("actualPosition")})})})]}),Object(L.jsx)(wa,{classes:{button:i.homeAllButton}})]}),Object(L.jsx)(Ya,{}),Object(L.jsxs)("label",{className:i.label,children:[a("keyboardJogging")," ",Object(L.jsx)(qa,{color:"primary"})]})]})},$a=Object(s.connect)((function(e,t){return{display:kt(e)}}),(function(e,t){return{onSetDisplay:function(t){return e(xa.jog.setDisplay(t))}}}))(Qa),ei=function(e){return Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(Yn,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:6,lg:8,children:Object(L.jsx)(ma,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:6,lg:4,children:Object(L.jsx)($a,{})})]})},ti=n(381),ni=n(379),ai=n(380),ii=n(390),ri=n(137),oi=n.n(ri),ci=n(19),si=n(377),li=n(374),di=n(376),ui=n(378),pi=n(373),bi=n(407),mi=n(396),ji=n(136),fi=n.n(ji),hi=n(372);function Oi(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var xi=function(e){var t,n=e.favorites,a=e.filter,r=e.filterKey,o=e.sortOrder,c=e.sortKey,s=e.onSelectItem,l=e.onNameItem,d=e.onClickItem,u=e.selected,p=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n,(t=c,o===Oa?function(e,n){return Oi(e,n,t)}:function(e,n){return-Oi(e,n,t)})),b=Object(i.useCallback)((function(e){d&&d(e)}),[d]);return Object(L.jsx)(hi.a,{children:p.map((function(e,t){var n=function(e){return u.has(e)}(e.cmd),i="enhanced-table-checkbox-".concat(t);return e[r].includes(a)?Object(L.jsxs)(pi.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(L.jsx)(li.a,{padding:"checkbox",onClick:function(t){return s(t,e.cmd)},children:Object(L.jsx)(mi.a,{checked:n,inputProps:{"aria-labelledby":i}})}),Object(L.jsx)(li.a,{children:Object(L.jsx)(h.a,{onClick:function(t){b(e.cmd)},children:e.cmd})}),Object(L.jsx)(li.a,{children:Object(L.jsx)(W,{placeholder:"Quick Access Name",value:e.name,onSubmit:function(t){return l(t,e)}})}),Object(L.jsx)(li.a,{children:new Date(e.time).toLocaleString("en-US")})]},t):null}))})},gi=n(5),vi=n(375),yi=n(144),Si=n(58),Ci=n.n(Si),wi=n(195),ki=n.n(wi),Ei=Object(d.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ci.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ii=function(e){var t=e.onDelete,n=e.onOpenFilterModal,a=e.selected,i=e.filter,r=a?a.size:0,o=Ei();return Object(L.jsxs)(vi.a,{className:Object(gi.a)(o.root,Object(b.a)({},o.highlight,r>0)),children:[r>0?Object(L.jsxs)(yi.a,{className:o.title,color:"inherit",variant:"subtitle1",component:"div",children:[r," selected"]}):Object(L.jsx)(yi.a,{className:o.title,variant:"h6",id:"tableTitle",component:"div"}),i&&i.key?Object(L.jsxs)(yi.a,{className:o.title,color:"inherit",variant:"subtitle1",component:"div",children:["Filtering by: ",i.key," = ",i.value]}):Object(L.jsx)(yi.a,{className:o.title,variant:"h6",id:"tableTitle",component:"div"}),r>0?Object(L.jsx)(G.a,{title:"Delete",children:Object(L.jsx)(Ga.a,{"aria-label":"delete",onClick:function(){t&&t()},children:Object(L.jsx)(Ci.a,{})})}):Object(L.jsx)(G.a,{title:"Filter list",children:Object(L.jsx)(Ga.a,{"aria-label":"filter list",onClick:function(){n&&n()},children:Object(L.jsx)(ki.a,{})})})]})},Ni=Object(d.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rootToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ci.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ti=[{id:"cmd",numeric:!0,disablePadding:!1,label:"Command"},{id:"name",numeric:!0,disablePadding:!1,label:"Name"},{id:"time",numeric:!0,disablePadding:!1,label:"Date Added"}],_i=function(e){var t=e.favorites,n=e.onNameFavorite,a=e.onDelete,i=e.onClickItem,o=Ni(),c=r.a.useState(new Set),s=Object(p.a)(c,2),l=s[0],d=s[1],u=r.a.useState(ha),b=Object(p.a)(u,2),m=b[0],j=b[1],f=r.a.useState(Ti[0].id),h=Object(p.a)(f,2),O=h[0],x=h[1],g=r.a.useState(!1),v=Object(p.a)(g,2),y=v[0],S=v[1],C=r.a.useState(""),w=Object(p.a)(C,2),k=w[0],E=w[1],I=Ti[0].id,N=function(e){j(e===O&&m===ha?"desc":"asc"),x(e)},T=function(){a(l)};return Object(L.jsxs)("div",{children:[Object(L.jsx)(di.a,{children:Object(L.jsxs)(si.a,{className:o.table,"aria-labelledby":"tableTitle","aria-label":"favorites table",stickyHeader:!0,children:[Object(L.jsx)(ui.a,{children:Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{padding:"checkbox",children:Object(L.jsx)(mi.a,{onClick:function(){if(l.size<t.length){var e=new Set(l);t.forEach((function(t){return e.add(t.cmd)})),d(e)}else d(new Set)},inputProps:{"aria-label":"select all desserts"}})}),Ti.map((function(e){return"name"===e.id?Object(L.jsxs)(li.a,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:O===e.id&&m,children:[Object(L.jsxs)(bi.a,{active:O===e.id,direction:O===e.id?m:"asc",onClick:function(t){return N(e.id)},children:[e.label,O===e.id?Object(L.jsx)("span",{className:o.visuallyHidden,children:m===Oa?"sorted descending":"sorted ascending"}):null]}),Object(L.jsx)(G.a,{title:Object(L.jsx)("span",{children:"Named MDI commands will appear in the Quick Access panel."}),children:Object(L.jsx)(fi.a,{})})]},e.id):Object(L.jsx)(li.a,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:O===e.id&&m,children:Object(L.jsxs)(bi.a,{active:O===e.id,direction:O===e.id?m:"asc",onClick:function(t){return N(e.id)},children:[e.label,O===e.id?Object(L.jsx)("span",{className:o.visuallyHidden,children:m===Oa?"sorted descending":"sorted ascending"}):null]})},e.id)}))]})}),Object(L.jsx)(xi,{favorites:t,sortOrder:m,sortKey:O,filter:k,filterKey:I,onSelectItem:function(e,t){var n=new Set(l);l.has(t)?(n.delete(t),d(n)):(n.add(t),d(n))},onNameItem:function(e,t){n(t.cmd,e.target.value)},onClickItem:i,selected:l})]})}),Object(L.jsx)(Ii,{onDelete:function(){return T()},onOpenFilterModal:function(){return S(!0)},filter:k,selected:l,numSelected:l.length}),Object(L.jsx)(ca,{open:y,value:"",onSubmit:function(e){E(e),S(!1)},onClose:function(){S(!1)},title:"Filter Favorites",textFieldLabel:"Command",submitBtnLabel:"Filter",cancelBtnLabel:"Cancel"})]})},Ai=r.a.memo(_i),Mi=n(196),Di=n.n(Mi),Li=Object(D.a)((function(e){return{container:{height:600},oddListItem:{backgroundColor:e.palette.action.hover},starButton:{"&:hover":{backgroundColor:e.palette.primary.light}},submitButton:{width:"100%",justifyContent:"left","&:hover":{backgroundColor:e.palette.primary.light}}}})),Pi=function(e){var t=e.mdiHistory,n=e.mdiHistoryInFavoritesMap,a=e.onPopulate,i=e.onAddFavorite,r=e.onRemoveFavorite,o=Li();return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:o.container,children:Object(L.jsx)(B.a,{height:560,itemCount:t.length,itemSize:50,width:"100%",children:function(e){var c=e.index,s=e.style,l=Object(m.a)(Object(m.a)({},s),{},{overflow:"auto"}),d=t[c],u=d.cmd,p=d.time;return Object(L.jsxs)(x.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",overflow:"hidden",className:c%2===0?null:o.oddListItem,style:l,children:[Object(L.jsx)(x.a,{item:!0,container:!0,overflow:"hidden",xs:9,md:11,children:Object(L.jsx)(G.a,{title:Object(L.jsx)("span",{children:new Date(p).toLocaleString("en-US")}),children:Object(L.jsx)(h.a,{onClick:function(e){return function(e){a&&a(e)}(u)},className:o.submitButton,overflow:"hidden",children:u})})}),Object(L.jsx)(x.a,{item:!0,container:!0,justify:"flex-end",xs:3,md:1,children:n.get(u).isFav?Object(L.jsx)(h.a,{size:"small",onClick:function(e){!function(e){if(r){var t=new Set;t.add(e),r(t)}}(u)},className:o.starButton,children:Object(L.jsx)(oi.a,{})}):Object(L.jsx)(h.a,{size:"small",onClick:function(e){!function(e){i&&i(e)}(u)},className:o.starButton,children:Object(L.jsx)(Di.a,{})})})]})}})})})},Fi=function(e){var t=e.name,n=e.cmd,a=e.onClick,i=t&&t.length>30,o=i?t.substring(0,30)+"...":t,c=i?Object(L.jsxs)(r.a.Fragment,{children:[Object(L.jsx)(yi.a,{color:"inherit",children:t}),n]}):Object(L.jsx)(r.a.Fragment,{children:n});return Object(L.jsx)(G.a,{title:c,children:Object(L.jsx)(h.a,Object(m.a)(Object(m.a)({},e),{},{onClick:function(){return a(n)},children:o}))})},Ri=function(e){var t=e.mdiFavorites,n=e.onClickItem,a=Object(i.useCallback)((function(e){n&&n(e)}),[n]);return Object(L.jsx)(x.a,{container:!0,spacing:4,children:t?t.map((function(e,t){var n=e.cmd,i=e.name;return i&&i.length>0?Object(L.jsx)(x.a,{item:!0,xs:4,children:Object(L.jsx)(Fi,{name:i,cmd:n,onClick:a,size:"large",fullWidth:!0,variant:"contained",color:"secondary"})},t):null})):null})},Ui=r.a.memo(Ri),Hi=function(e){var t=e.children,n=e.value,a=e.index,i=e.p,r=Object(ka.a)(e,["children","value","index","p"]);return Object(L.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(L.jsx)(M.a,{p:i,children:Object(L.jsx)("span",{children:t})})}))};function Gi(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}for(var Bi=Object(D.a)((function(e){return{container:{borderRadius:4},inputBox:{flexGrow:1,display:"flex",backgroundColor:e.palette.background.paper},inputButton:{borderTopRightRadius:0,borderBottomRightRadius:0},tabContainer:{minHeight:600,maxHeight:800,overflow:"auto"},listItem:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}},mdi:{width:"100%"},mdiInput:{borderBottomLeftRadius:0,borderBottomRightRadius:0},noPadding:{padding:0},root:{flexGrow:1,display:"flex",backgroundColor:e.palette.background.paper},submitButton:{width:"100%",justifyContent:"left"},tabPanel:{padding:0,height:600}}})),zi=function(e){var t=e.readyForMdi,n=e.onSendMdiCmd,a=e.onAddMdiFavorite,r=e.onRemoveMdiFavorites,o=e.onNameMdiFavorite,c=e.mdiHistory,s=e.mdiFavorites,l=e.mdiFavoritesMap,d=e.mdiHistoryInFavoritesMap,u=e.mdiHistorySorted,b=e.mdiHistorySortedUnique,j=Bi(),f=Object(O.a)(),g=Object(i.useRef)(null),v=Object(i.useState)(""),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useState)(!1),k=Object(p.a)(w,2),E=k[0],I=k[1],N=Object(i.useState)(0),T=Object(p.a)(N,2),_=T[0],A=T[1],D=Object(i.useState)(!1),P=Object(p.a)(D,2),R=P[0],U=P[1],H=Object(i.useState)(""),G=Object(p.a)(H,2),B=G[0],W=G[1],J=Object(i.useCallback)((function(e){a&&a(e,s)}),[a,s]),V=Object(i.useCallback)((function(e){if(r){if(console.log(e),1===e.size){var t=e.values().next().value,n=l.get(t).name;if(console.log(t),n&&n.length>0)return W(t),void U(!0)}r(e,l)}}),[r,l]),K=Object(i.useCallback)((function(){var e=new Set;console.log(B),e.add(B),W(""),U(!1),r&&r(e,l)}),[B,U,r,l]),Y=Object(i.useCallback)((function(e,t){o&&o(e,t,s)}),[o,s]),X=Object(i.useCallback)((function(e){var t=e.target.value;n&&n(t,c)}),[n,c]),q=Object(i.useCallback)((function(e){n&&n(e,c)}),[n,c]),Z=Object(i.useCallback)((function(e){C(e),I(!0),setTimeout((function(){g.current.focus()}),100)}),[C,I,g]),Q=Object(i.useCallback)((function(e,t){A(t)}),[A]),$=Object(i.useCallback)((function(e){C(e.target.value)}),[]),ee=Object(i.useCallback)((function(e){"Enter"===e.key&&(n&&n(e.target.value,c),e.target.blur())}),[n,c]),te=function(){U(!1)};return Object(L.jsxs)(F,{label:"MDI",children:[Object(L.jsx)(M.a,{className:j.inputBox,children:Object(L.jsx)(z.a,{disabled:!t.isReady,inputRef:g,onSubmit:X,onKeyDown:ee,onChange:function(e){return $(e)},variant:"outlined",classes:{root:j.mdi},InputProps:{className:"".concat(j.mdiInput," ").concat(E?"Mui-focused":void 0),endAdornment:g.target&&g.target.value.length>0?Object(L.jsx)(ni.a,{position:"end",children:Object(L.jsx)(Ga.a,{onClick:function(e){J(g.target.value)},children:Object(L.jsx)(oi.a,{})})}):null},label:"Enter MDI...",value:S})}),Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:3,sm:3,md:2,children:Object(L.jsx)(M.a,{border:1,borderColor:f.palette.grey[200],children:Object(L.jsxs)(ii.a,{value:_,onChange:Q,"aria-label":"simple tabs example",orientation:"vertical",children:[Object(L.jsx)(ai.a,Object(m.a)({label:"Recent"},Gi(0))),Object(L.jsx)(ai.a,Object(m.a)({label:"Log"},Gi(1))),Object(L.jsx)(ai.a,Object(m.a)({label:"Favorites"},Gi(2))),Object(L.jsx)(ai.a,Object(m.a)({label:"Quick Access"},Gi(3)))]})})}),Object(L.jsxs)(x.a,{item:!0,xs:!0,className:j.tabContainer,children:[Object(L.jsx)(Hi,{value:_,index:0,className:j.tabPanel,classes:{root:j.noPadding},children:Object(L.jsx)(Pi,{mdiHistory:b,mdiHistoryInFavoritesMap:d,onPopulate:Z,onAddFavorite:J,onRemoveFavorite:V})}),Object(L.jsx)(Hi,{value:_,index:1,className:j.tabPanel,classes:{root:j.noPadding},children:Object(L.jsx)(Pi,{mdiHistory:u,mdiHistoryInFavoritesMap:d,onPopulate:Z,onAddFavorite:J,onRemoveFavorite:V})}),Object(L.jsx)(Hi,{value:_,index:2,className:j.tabPanel,children:Object(L.jsx)(Ai,{favorites:s||[],onNameFavorite:Y,onDelete:V,onClickItem:Z})}),Object(L.jsx)(Hi,{value:_,index:3,className:j.tabPanel,p:3,children:Object(L.jsx)(x.a,{container:!0,spacing:1,children:Object(L.jsx)(Ui,{mdiFavorites:s,onClickItem:q})})})]})]}),Object(L.jsxs)(na.a,{open:R,onClose:te,"aria-labelledby":"form-dialog-title",children:[Object(L.jsx)(aa.a,{id:"form-dialog-title",children:"Removing Named Favorite"}),Object(L.jsxs)(ia.a,{children:[Object(L.jsxs)(ti.a,{noWrap:!0,children:[Object(L.jsx)(M.a,{component:"span",children:"G-Code:"}),Object(L.jsx)(M.a,{component:"span",fontWeight:"fontWeightBold",children:B})]}),Object(L.jsxs)(ti.a,{noWrap:!0,children:[Object(L.jsx)(M.a,{component:"span",children:"Name:"}),Object(L.jsx)(M.a,{component:"span",fontWeight:"fontWeightBold",children:s&&B?l.get(B).name:""})]}),Object(L.jsxs)(ti.a,{noWrap:!0,children:[Object(L.jsx)(M.a,{component:"span",children:"Saved:"}),Object(L.jsx)(M.a,{component:"span",fontWeight:"fontWeightBold",children:s&&B?new Date(l.get(B).time).toLocaleString("en-US"):""})]})]}),Object(L.jsxs)(ra.a,{children:[Object(L.jsx)(h.a,{onClick:te,color:"primary",children:"Cancel"}),Object(L.jsx)(h.a,{onClick:K,color:"primary",children:"Remove"})]})]})]})},Wi=Object(s.connect)((function(e,t){return{readyForMdi:Wn(e),mdiSortKey:jt(e),mdiText:ft(e),mdiHistory:Nn(e),mdiFavorites:Tn(e),mdiFavoritesMap:An(e),mdiHistoryInFavoritesMap:Mn(e),mdiHistorySorted:Dn(e),mdiHistorySortedUnique:Ln(e)}}),(function(e,t){return{onSetMdiText:function(t){e(xa.setMdiText(t))},onSendMdiCmd:function(t,n){e(ct.put.mdiCmd({data:[t]}));var a={cmd:t,time:Date.now()},i=n?n.concat(a):[a];e(ct.put.saveClientConfig({data:["MDIHistory",i]}))},onAddMdiFavorite:function(t,n){var a={cmd:t,name:"",time:Date.now()},i=n?n.concat(a):[a];e(ct.put.saveClientConfig({data:["MDIFavorites",i]}))},onRemoveMdiFavorites:function(t,n){var a,i=[],r=Object(st.a)(n);try{for(r.s();!(a=r.n()).done;){var o=Object(p.a)(a.value,2),c=o[0],s=o[1];t.has(c)||i.push({cmd:c,name:s.name,time:s.time})}}catch(l){r.e(l)}finally{r.f()}e(ct.put.saveClientConfig({data:["MDIFavorites",i]}))},onNameMdiFavorite:function(t,n,a){var i=a.findIndex((function(e){return e.cmd===t})),r=Object(R.a)(a,(function(e){e[i].name=n}));e(ct.put.saveClientConfig({data:["MDIFavorites",r]}))}}}))(zi),Ji=Object(D.a)((function(e){return{svg:{overflow:"visible"}}})),Vi=function(e){var t=e.width,n=e.height,a=e.viewBox,i=void 0===a?"-5 -5 110 110":a,r=e.preserveAspectRatio,o=void 0===r?"xMaxYMax":r,c=e.children,s=Ji();return Object(L.jsx)("svg",{width:t,height:n,viewBox:i,preserveAspectRatio:o,className:s.svg,children:c})},Ki=function(e,t){return((t-e)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)},Yi=function(e,t,n,a,i,r){var o=function(e,t,n,a,i,r){var o=.5*(e+n),c=.5*(t+a),s=.5*(n+i),l=.5*(a+r);return function(e,t,n,a,i,r,o,c){var s=((e-i)*(r-c)-(t-r)*(i-o))/((e-n)*(r-c)-(t-a)*(i-o));return{x:e+s*(n-e),y:t+s*(a-t)}}(o,c,o+-(a-t),c+(n-e),s,l,s+-(r-a),l+(i-n))}(e,t,n,a,i,r),c=e-o.x,s=t-o.y,l=n-o.x,d=a-o.y,u=i-o.x,p=r-o.y,b=Math.sqrt(c*c+s*s),m=Math.atan2(s,c),j=Math.atan2(d,l),f=Math.atan2(p,u),h=Ki(m,j),O=Ki(m,f),x=O;return h>O&&(x=function(e,t){return Ki(e,t)-2*Math.PI}(m,f)),{c:o,r:b,startAngle:m,endAngle:m+x,angle:x}},Xi=n(138),qi=n.n(Xi),Zi=Object(D.a)((function(e){return{segment:{}}})),Qi=function(e){for(var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.totalSegments,s=void 0===c?100:c,l=e.segmentRatio,d=void 0===l?1:l,u=e.segments,p=void 0===u?0:u,b=e.segmentWidth,m=void 0===b?20:b,j=e.paddingStart,f=void 0===j?0:j,h=e.paddingEnd,x=void 0===h?0:h,g=e.every,v=Object(O.a)(),y=Zi(),S="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:Yi(t,n,a,i,r,o),C=S.c,w=S.r,k=S.startAngle,E=S.endAngle-k,I=(Math.abs(E)-f-x)/s,N=E>0?I*d:-I*d,T=E>0?f:-f,_=[],A=E-N-T-(E>0?x:-x),M=0;M<s;M++)_.push(T+k+M*A/(s-1));var D=qi()([v.palette.primary.main,v.palette.secondary.main]),P=_.map(function(e,t){return function(n,a){var i=m;g&&g.forEach((function(e){a%e.segments===0&&(i=e.width)}));var r=p>a&&Math.floor(p)-a<1e-5?p-a:1,o=N*r,c=N;if(Math.abs(o)<Math.abs(N)){var s,l,d=o>Math.PI?1:0,u=o>0?1:0,b=c-o>Math.PI?1:0,j=c-c>0?1:0,f=w-i,h=Math.cos(o),O=Math.sin(o),x=w*h,v=w*O,y=f*h,S=f*O,C=Math.cos(c),k=Math.sin(c),E=w*C,I=w*k,T=f*C,_=f*k,A=[Ta(w,0),Aa(w,w,0,d,u,x,v),Da(y,S),Aa(f,f,0,d,1-u,f,0),"Z"],M=[Ta(x,v),Aa(w,w,0,b,1-j,E,I),Da(T,_),Aa(f,f,0,b,j,y,S),"Z"];return t&&(s=t(a),l=t(a+1)),Object(L.jsxs)("g",{children:[Object(L.jsx)("path",{d:A.join(" "),fill:s,className:e,transform:"rotate("+180*n/Math.PI+")"}),Object(L.jsx)("path",{d:M.join(" "),fill:l,className:e,transform:"rotate("+180*n/Math.PI+")"})]},a)}var D,P=N>Math.PI?1:0,F=N>0?1:0,R=Math.cos(N),U=Math.sin(N),H=w*R,G=w*U,B=w-i,z=B*R,W=B*U,J=[Ta(w,0),Aa(w,w,0,P,F,H,G),Da(z,W),Aa(B,B,0,P,1-F,B,0),"Z"];return t&&(D=t(a)),Object(L.jsx)("path",{d:J.join(" "),fill:D,className:e,transform:"rotate("+180*n/Math.PI+")"},a)}}(y.segment,(function(e){return e>=p?v.palette.grey[50]:D(e/(s-1))})));return Object(L.jsx)("g",{transform:"translate("+C.x+","+C.y+")",children:P})},$i=function(e){var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.min,s=void 0===c?0:c,l=e.max,d=void 0===l?100:l,u=e.value,p=void 0===u?100:u,b=e.tickThickness,m=void 0===b?1:b,j=e.paddingStart,f=void 0===j?0:j,h=e.paddingEnd,x=void 0===h?0:h,g=e.every,v=Object(O.a)(),y="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:Yi(t,n,a,i,r,o),S=y.c,C=y.r,w=y.startAngle,k=y.endAngle,E=k-w,I=E>0?m/C:-m/C,N=E>0?f:-f,T=E>0?x:-x,_=(Math.min(Math.max(p,s),d)-s)/(d-s<1e-6?1:d-s),A=E-N-T,M=Math.cos(w+N),D=Math.sin(w+N),P=Math.cos(w+N+A*_),F=Math.sin(w+N+A*_),R=Math.cos(k-T),U=Math.sin(k-T),H=C-m,G=A*_>Math.PI?1:0,B=A*_>0?1:0,z=A*(1-_)>Math.PI?1:0,W=A*(1-_)>0?1:0,J=[Ta(C*M,C*D),Aa(C,C,0,G,B,C*P,C*F),Da(H*P,H*F),Aa(H,H,0,G,1-B,H*M,H*D),"Z"],V=[Ta(C*P,C*F),Aa(C,C,0,z,W,C*R,C*U),Da(H*R,H*U),Aa(H,H,0,z,1-W,H*P,H*F),"Z"],K=[];if(g){var Y,X={},q=Object(st.a)(g);try{for(q.s();!(Y=q.n()).done;)for(var Z=Y.value,Q=Z.step,$=Z.width,ee=Math.ceil(s/Q);ee<=Math.floor(d/Q);ee++){var te=ee*Q,ne=te.toFixed(6);"undefined"===typeof X[ne]?X[ne]={n:te,width:$}:$>X[ne].width&&(X[ne].width=$)}}catch(ge){q.e(ge)}finally{q.f()}var ae=E-I-N-T;for(var ie in X){var re=X[ie],oe=re.n,ce=re.width,se=(oe-s)/(d-s<1e-6?1:d-s)*ae+w+N,le=I>Math.PI?1:0,de=I>0?1:0,ue=Math.cos(I),pe=Math.sin(I),be=C*ue,me=C*pe,je=C-ce,fe=je*ue,he=je*pe,Oe=[Ta(C,0),Aa(C,C,0,le,de,be,me),Da(fe,he),Aa(je,je,0,le,1-de,je,0),"Z"],xe=oe>p?v.palette.grey[50]:"black";K.push(Object(L.jsx)("path",{d:Oe.join(" "),stroke:"none",fill:xe,transform:"rotate("+180*se/Math.PI+")"},ie))}}return Object(L.jsxs)("g",{transform:"translate("+S.x+","+S.y+")",children:[Object(L.jsx)("path",{d:J.join(" "),fill:"black"}),Object(L.jsx)("path",{d:V.join(" "),fill:v.palette.grey[50]}),K]})},er=function(e){var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.min,s=void 0===c?0:c,l=e.max,d=void 0===l?100:l,u=e.value,p=void 0===u?100:u,b=e.paddingStart,m=void 0===b?0:b,j=e.paddingEnd,f=void 0===j?0:j,h=e.thickness,O=e.width;isNaN(p)&&console.error("value must be a number");var x="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:Yi(t,n,a,i,r,o),g=x.c,v=x.r,y=x.startAngle,S=x.endAngle-y,C=S>0?m:-m,w=S>0?f:-f,k=(Math.min(Math.max(p,s),d)-s)/(d-s<1e-6?1:d-s),E=S-C-w,I=v-h,N=S>0?O/I:-O/I,T=Math.cos(y+C+E*k-.5*N),_=Math.sin(y+C+E*k-.5*N),A=Math.cos(y+C+E*k),M=Math.sin(y+C+E*k),D=Math.cos(y+C+E*k+.5*N),P=Math.sin(y+C+E*k+.5*N),F=E*k>0?1:0,R=[Ta(v*A,v*M),Da(I*T,I*_),Aa(I,I,0,0,F,I*D,I*P),"Z"];return Object(L.jsx)("g",{transform:"translate("+g.x+","+g.y+")",children:Object(L.jsx)("path",{d:R.join(" "),fill:"black"})})},tr=Object(D.a)((function(e){return{gaugeText:Object(m.a)({},e.typography.gaugeText)}})),nr=function(e){var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.min,s=void 0===c?0:c,l=e.max,d=void 0===l?100:l,u=e.value,p=void 0===u?100:u,b=e.paddingStart,m=void 0===b?0:b,j=e.paddingEnd,f=void 0===j?0:j,h=e.decimalPoints,O=void 0===h?1:h,x=e.textAnchor,g=void 0===x?"middle":x,v=e.alignmentBaseline,y=void 0===v?"middle":v,S=e.fontSize,C=void 0===S?1:S,w=e.units,k=void 0===w?"":w,E=tr(),I="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:Yi(t,n,a,i,r,o),N=I.c,T=I.r,_=I.startAngle,A=I.endAngle-_,M=A>0?m:-m,D=A>0?f:-f,P=(Math.min(Math.max(p,s),d)-s)/(d-s<1e-6?1:d-s),F=A-M-D,R=T*Math.cos(_+M+F*P),U=T*Math.sin(_+M+F*P);return Object(L.jsx)("g",{transform:"translate("+N.x+","+N.y+")",children:Object(L.jsx)("text",{x:R,y:U,textAnchor:g,alignmentBaseline:y,style:{fontSize:C,letterSpacing:.2},className:E.gaugeText,children:p.toFixed(O)+" "+k})})},ar=Object(D.a)((function(e){return{gaugeHeader:Object(m.a)({},e.typography.gaugeHeader)}})),ir=function(e){var t=e.x1,n=e.y1,a=e.x2,r=e.y2,o=e.x3,c=e.y3,s=e.text,l=e.paddingStart,d=void 0===l?0:l,u=e.paddingEnd,b=void 0===u?0:u,m=e.dy,j=void 0===m?0:m,f=e.className,h=Object(i.useState)(Object(ze.a)()),O=Object(p.a)(h,1)[0],x="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof r||"undefined"===typeof o||"undefined"===typeof c?e:Yi(t,n,a,r,o,c),g=x.c,v=x.r,y=x.startAngle,S=x.endAngle,C=ar(),w=S-y,k=w>0?d:-d,E=w>0?b:-b,I=w-k-E,N=Math.cos(y+k),T=Math.sin(y+k),_=Math.cos(S-E),A=Math.sin(S-E),M=I>Math.PI?1:0,D=I>0?1:0,P=[Ta(v*N,v*T),Aa(v,v,0,M,D,v*_,v*A)];return Object(L.jsxs)("g",{children:[Object(L.jsx)("defs",{children:Object(L.jsx)("path",{id:O,d:P.join(" "),transform:"translate("+g.x+","+g.y+")",fill:"none",stroke:"black",strokeWidth:".1"})}),Object(L.jsx)("text",{dy:j,className:V()(C.gaugeHeader,f),textAnchor:"middle",children:Object(L.jsx)("textPath",{href:"#"+O,startOffset:"50%",children:s})})]})},rr=n(40),or=Object(rr.a)(Qi),cr=Object(rr.a)($i),sr=Object(rr.a)(er),lr=Object(rr.a)(nr),dr=Object(D.a)((function(e){return{centerText:Object(m.a)({},e.typography.rpmText),gaugeHeader:Object(m.a)({},e.typography.gaugeHeader)}})),ur=function(e){var t=e.value0,n=void 0===t?0:t,a=e.min0,i=void 0===a?0:a,r=e.max0,o=void 0===r?1:r,c=e.units0,s=void 0===c?"":c,l=e.decimalPoints0,d=void 0===l?0:l,u=e.label0,p=void 0===u?"Label 0":u,b=e.hideValue0,m=void 0!==b&&b,j=e.value1,f=void 0===j?0:j,h=e.min1,O=void 0===h?0:h,x=e.max1,g=void 0===x?1:x,v=e.units1,y=void 0===v?"":v,S=e.decimalPoints1,C=void 0===S?0:S,w=e.label1,k=void 0===w?"Label 1":w,E=e.hideValue1,I=void 0!==E&&E,N=e.value2,T=void 0===N?0:N,_=e.min2,A=void 0===_?0:_,M=e.max2,D=void 0===M?1:M,P=e.units2,F=void 0===P?"":P,R=e.decimalPoints2,U=void 0===R?0:R,H=e.label2,G=void 0===H?"Label 2":H,B=e.hideValue2,z=void 0!==B&&B,W=e.centerValue,J=e.centerLabel,V=e.children,K=Object(rr.b)({from:{value:i},value:n}),Y=Object(rr.b)({from:{value:O},value:f}),X=Object(rr.b)({from:{value:A},value:T}),q=Object(rr.b)({from:{value:0},value:W}),Z=o-i<1e-6?1:o-i,Q=g-O<1e-6?1:g-O,$=D-A<1e-6?1:D-A,ee=3*Math.PI/180,te=dr(),ne=Object(Ea.a)();return Object(L.jsxs)(Vi,{width:"100%",children:[Object(L.jsx)(or,{c:{x:50,y:50},r:48,startAngle:150*Math.PI/180,endAngle:270*Math.PI/180,segments:K.value.interpolate((function(e){return(e-i)/Z*5})),segmentRatio:.95,segmentWidth:5,totalSegments:5,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(cr,{c:{x:50,y:50},r:42,startAngle:150*Math.PI/180,endAngle:270*Math.PI/180,tickThickness:.2,tickWidth:5,value:K.value,min:i,max:o,paddingStart:ee,paddingEnd:ee,every:[{step:10,width:1.5},{step:5,width:1}]}),Object(L.jsx)(sr,{c:{x:50,y:50},r:42,startAngle:150*Math.PI/180,endAngle:270*Math.PI/180,min:i,max:o,value:K.value,thickness:-1,width:2,paddingStart:ee,paddingEnd:ee}),m?null:Object(L.jsx)(lr,{c:{x:50,y:50},r:50,startAngle:150*Math.PI/180,endAngle:270*Math.PI/180,min:i,max:o,value:K.value,paddingStart:ee,paddingEnd:ee,fontSize:3,textAnchor:"end",units:s,decimalPoints:d}),Object(L.jsx)(ir,{c:{x:50,y:50},r:30,startAngle:150*Math.PI/180,endAngle:270*Math.PI/180,text:p,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(or,{c:{x:50,y:50},r:48,startAngle:30*Math.PI/180,endAngle:-90*Math.PI/180,segments:Y.value.interpolate((function(e){return(e-O)/Q*50})),segmentRatio:.95,segmentWidth:5,totalSegments:50,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(cr,{c:{x:50,y:50},r:42,startAngle:30*Math.PI/180,endAngle:-90*Math.PI/180,tickThickness:.2,tickWidth:5,value:Y.value,min:O,max:g,paddingStart:ee,paddingEnd:ee,every:[{step:10,width:1}]}),Object(L.jsx)(sr,{c:{x:50,y:50},r:42,startAngle:30*Math.PI/180,endAngle:-90*Math.PI/180,min:O,max:g,value:Y.value,thickness:-1,width:2,paddingStart:ee,paddingEnd:ee}),I?null:Object(L.jsx)(lr,{c:{x:50,y:50},r:50,startAngle:30*Math.PI/180,endAngle:-90*Math.PI/180,min:O,max:g,value:Y.value,paddingStart:ee,paddingEnd:ee,fontSize:3,textAnchor:"start",units:y,decimalPoints:C}),Object(L.jsx)(ir,{c:{x:50,y:50},r:30,startAngle:-90*Math.PI/180,endAngle:30*Math.PI/180,text:k,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(or,{c:{x:50,y:50},r:48,startAngle:30*Math.PI/180,endAngle:150*Math.PI/180,segments:X.value.interpolate((function(e){return(e-A)/$*50})),segmentRatio:.6,segmentWidth:5,totalSegments:50,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(sr,{c:{x:50,y:50},r:42,startAngle:30*Math.PI/180,endAngle:150*Math.PI/180,min:A,max:D,value:X.value,thickness:-1,width:2,paddingStart:ee,paddingEnd:ee}),z?null:Object(L.jsx)(lr,{c:{x:50,y:50},r:55,startAngle:30*Math.PI/180,endAngle:150*Math.PI/180,min:A,max:D,value:X.value,paddingStart:ee,paddingEnd:ee,fontSize:3,textAnchor:"middle",units:F,decimalPoints:U}),Object(L.jsx)(ir,{c:{x:50,y:50},r:30,startAngle:150*Math.PI/180,endAngle:30*Math.PI/180,text:G,dy:3,paddingStart:ee,paddingEnd:ee}),Object(L.jsx)(rr.a.text,{x:50,y:50,textAnchor:"middle",alignmentBaseline:"middle",className:te.centerText,fill:"white",stroke:ne.palette.primary.main,strokeWidth:.2,style:{letterSpacing:0},children:q.value.interpolate((function(e){return Math.round(e).toLocaleString("en-US")}))}),Object(L.jsx)("text",{x:60,y:60,textAnchor:"middle",alignmentBaseline:"middle",className:te.gaugeHeader,style:{fontSize:5},children:J}),V]})},pr=Object(rr.a)(Qi),br=Object(D.a)((function(e){return{centerText:Object(m.a)({},e.typography.gaugeText),pressureHeader:{fontSize:3},warmUpButton:{}}})),mr=function(e){var t=e.rpm,n=e.load,a=e.power,i=e.temperature,r=e.pressure,o=e.showWarmUpButton,c=e.needsWarmUp,s=e.onWarmUp,l=A().t,d=Te().toDisplayUnits,u=d(r),p=d({value:.172369,unit:r.unit}),b=d(t,"spindleSpeed"),m=d(a),j=d(i),f=d({value:32,unit:"F"}).value,O=d({value:175,unit:"F"}).value,x=br(),g=Object(rr.b)({from:{value:0},value:u.value}),v=r.value<=-999;return Object(L.jsxs)(F,{label:"Spindle",children:[Object(L.jsx)(ur,{value0:m.value,min0:0,max0:2500,units0:m.unit,decimalPoints0:0,label0:l("power"),value1:n,min1:0,max1:100,units1:"%",decimalPoints1:1,label1:l("load"),value2:j.value,min2:f,max2:O,units2:"\xb0"+j.unit,decimalPoints2:1,label2:l("temperature"),hideValue2:i.value<=-998,centerValue:b.value,centerLabel:b.unit,children:v?null:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(rr.a.text,{x:4,y:9,textAnchor:"left",alignmentBaseline:"middle",className:x.centerText,style:{fontSize:3},children:g.value.interpolate((function(e){return(Math.round(100*e)/100).toLocaleString("en-US")+" "+u.unit}))}),Object(L.jsx)(pr,{c:{x:8,y:8},r:8,startAngle:-270*Math.PI/180,endAngle:-30*Math.PI/180,segments:g.value.interpolate((function(e){return 10*e/p.value})),segmentRatio:1,segmentWidth:2,totalSegments:10,paddingStart:0,paddingEnd:0}),Object(L.jsx)(ir,{c:{x:8,y:8},r:10,startAngle:-150*Math.PI/180,endAngle:-30*Math.PI/180,text:l("pressure"),paddingStart:0,paddingEnd:0,className:x.pressureHeader})]})}),o?Object(L.jsxs)(h.a,{variant:"contained",onClick:s,color:c?"primary":null,classes:{root:x.warmUpButton},children:[c?Object(L.jsx)(ya.a,{}):null," ",l("warmUp")]}):null]})},jr=Object(s.connect)((function(e,t){return{rpm:un(e),maxRPM:dn(e),power:bn(e),load:mn(e),temperature:sn(e),pressure:ln(e),needsWarmUp:!0,showWarmUpButton:!0,needsLongWarmUp:!0}}),(function(e,t){return{onWarmUp:function(t){return e(ct.put.mdiCmd({data:[t?"M670":"M671"]}))}}}),(function(e,t,n){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t),n)}))(mr),fr=function(e){var t=e.chipLoad,n=e.maxChipLoad,a=e.feedrate,i=e.power,r=e.surfaceFootage,o=e.maxSurfaceFootage,c=A().t,s=Te().toDisplayUnits,l=s(t),d=s(a),u=s(i),p=s(r,"surfaceSpeed"),b=s(n).value,m=s({value:o.value||1,unit:r.unit},"surfaceSpeed").value;return Object(L.jsx)(F,{label:"Feed",children:Object(L.jsx)(ur,{value0:u.value,min0:0,max0:706,units0:u.unit,decimalPoints0:0,label0:c("power"),value1:l.value,min1:0,max1:b,units1:l.unit,decimalPoints1:4,label1:c("chipLoad"),value2:p.value,min2:0,max2:m,units2:p.unit,decimalPoints2:2,label2:c("surfaceSpeed"),centerValue:d.value,centerLabel:d.unit})})},hr=Object(s.connect)((function(e,t){return{feedrate:pn(e),chipLoad:Gn(e),maxChipLoad:Hn(e),power:on(e),surfaceFootage:zn(e),maxSurfaceFootage:Bn(e)}}),(function(e,t){return{}}))(fr),Or=n(197),xr=n.n(Or),gr=n(198),vr=n.n(gr),yr=n(199),Sr=n.n(yr),Cr=n(404),wr=n(110),kr=n.n(wr),Er=Object(d.a)((function(e){return{button:{marginBottom:e.spacing(1),marginRight:e.spacing(1)},sliderContainer:{position:"absolute",width:"calc(100% - 54px)",bottom:e.spacing(1),left:0},resetContainer:{position:"absolute",width:40,height:40,right:0,bottom:4+e.spacing(1)},labelContainer:Object(m.a)(Object(m.a)({position:"absolute",bottom:36},e.typography.statusItem),{},{fontSize:14}),valueContainer:Object(m.a)(Object(m.a)({position:"absolute",bottom:0},e.typography.statusItem),{},{fontSize:16}),slider:{},row:{position:"relative",width:"100%",height:40+e.spacing(2),marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),Ir=function(e){var t=e.onFeedHold,n=e.onCycleStart,a=e.onStep,r=e.maxVel,o=e.maxRapid,c=e.onSetMaxVelocity,s=e.feedrate,l=e.onSetFeedrate,d=e.spindlerate,u=e.onSetSpindlerate,p=e.machineStatus,b=e.onSetMaxRapid,m=Object(i.useCallback)((function(e,t){c&&t!==r&&c(t,t-r)}),[c,r]),j=Object(i.useCallback)((function(e){c&&c(100)}),[c]),f=Object(i.useCallback)((function(e,t){b&&t!==o&&b(t)}),[b,o]),O=Object(i.useCallback)((function(e){b&&b(100)}),[b]),x=Object(i.useCallback)((function(e,t){l&&t!==s&&l(t,t-s)}),[l,s]),g=Object(i.useCallback)((function(e){l&&l(100)}),[l]),v=Object(i.useCallback)((function(e,t){u&&t!==d&&u(t,t-d)}),[u,d]),y=Object(i.useCallback)((function(e){u&&u(100)}),[u]),S=A().t,C=Er();return Object(L.jsxs)(F,{label:S("control"),children:[Object(L.jsxs)("div",{children:[Object(L.jsxs)(h.a,{size:"small",onClick:n,variant:"contained",color:"primary",classes:{root:C.button},disabled:p===be||p===me,children:[Object(L.jsx)(xr.a,{}),S("cycleStart")]}),Object(L.jsxs)(h.a,{size:"small",onClick:t,variant:"contained",color:"secondary",classes:{root:C.button},disabled:p===je,children:[Object(L.jsx)(vr.a,{}),S("feedHold")]}),Object(L.jsxs)(h.a,{size:"small",onClick:a,variant:"contained",color:"primary",classes:{root:C.button},disabled:p!==fe&&p!==me,children:[Object(L.jsx)(Sr.a,{}),S("step")]})]}),Object(L.jsxs)("div",{className:C.row,children:[Object(L.jsx)("div",{className:C.sliderContainer,children:Object(L.jsx)(Cr.a,{orientation:"horizontal",value:r,max:100,min:0,step:1,valueLabelDisplay:"off",classes:{root:C.slider},onChange:m})}),Object(L.jsx)("div",{className:C.resetContainer,children:Object(L.jsx)(Ga.a,{onClick:j,children:Object(L.jsx)(kr.a,{})})}),Object(L.jsx)("div",{className:C.labelContainer,children:S("maxVelocity")}),Object(L.jsxs)("div",{className:C.valueContainer,children:[r,"%"]})]}),Object(L.jsxs)("div",{className:C.row,children:[Object(L.jsx)("div",{className:C.sliderContainer,children:Object(L.jsx)(Cr.a,{orientation:"horizontal",value:o,max:100,min:0,step:1,valueLabelDisplay:"off",classes:{root:C.slider},onChange:f})}),Object(L.jsx)("div",{className:C.resetContainer,children:Object(L.jsx)(Ga.a,{onClick:O,children:Object(L.jsx)(kr.a,{})})}),Object(L.jsx)("div",{className:C.labelContainer,children:S("maxRapidRate")}),Object(L.jsxs)("div",{className:C.valueContainer,children:[o,"%"]})]}),Object(L.jsxs)("div",{className:C.row,children:[Object(L.jsx)("div",{className:C.sliderContainer,children:Object(L.jsx)(Cr.a,{orientation:"horizontal",value:s,max:200,min:0,step:1,valueLabelDisplay:"off",classes:{root:C.slider},onChange:x})}),Object(L.jsx)("div",{className:C.resetContainer,children:Object(L.jsx)(Ga.a,{onClick:g,children:Object(L.jsx)(kr.a,{})})}),Object(L.jsx)("div",{className:C.labelContainer,children:S("feedRate")}),Object(L.jsxs)("div",{className:C.valueContainer,children:[s,"%"]})]}),Object(L.jsxs)("div",{className:C.row,children:[Object(L.jsx)("div",{className:C.sliderContainer,children:Object(L.jsx)(Cr.a,{orientation:"horizontal",value:d,max:200,min:0,step:1,valueLabelDisplay:"off",classes:{root:C.slider},onChange:v})}),Object(L.jsx)("div",{className:C.resetContainer,children:Object(L.jsx)(Ga.a,{onClick:y,children:Object(L.jsx)(kr.a,{})})}),Object(L.jsx)("div",{className:C.labelContainer,children:S("spindleRate")}),Object(L.jsxs)("div",{className:C.valueContainer,children:[d,"%"]})]})]})},Nr=Object(s.connect)((function(e,t){return{maxVel:jn(e),feedrate:hn(e),spindle:On(e),maxRapid:fn(e),machineStatus:Wt(e),maxLinearVelocity:Kt(e)}}),(function(e,t){return{onCycleStart:function(){return e(ct.put.cycleStartCmd())},onStep:function(){return e(ct.put.autoCmd({data:["AUTO_STEP"]}))},onFeedHold:function(){return e(ct.put.feedHoldCmd())},onSetMaxVelocity:function(t,n,a){e(ct.delayed.update.halpinHaluiMaxVelocityValue({data:t/100*a})),e(ct.delayed.put.maxvel({data:[t/100*a]})),Ka.play()},onSetFeedrate:function(t,n){e(ct.delayed.update.feedrate({data:[t/100]})),e(ct.delayed.put.feedrate({data:[t/100]})),Ka.play()},onSetMaxRapid:function(t,n){e(ct.delayed.update.rapidrate({data:[t/100]})),e(ct.delayed.put.rapidrate({data:[t/100]})),Ka.play()},onSetSpindle:function(t){e(ct.delayed.update.spindle({data:t})),e(ct.delayed.put.spindleoverride({data:[t[0].override]})),Ka.play()}}}),(function(e,t,n){var a=e.maxVel,i=e.feedrate,r=e.spindle,o=e.maxRapid,c=e.machineStatus,s=e.maxLinearVelocity,l=Math.round(100*r[0].override),d=t.onCycleStart,u=t.onFeedHold,p=t.onStep,b=t.onSetMaxVelocity,m=t.onSetFeedrate,j=t.onSetMaxRapid,f=t.onSetSpindle;return{machineStatus:c,maxVel:a,feedrate:i,maxRapid:o,spindlerate:l,onCycleStart:d,onFeedHold:u,onSetFeedrate:m,onSetMaxRapid:j,onStep:p,onSetSpindlerate:function(e,t){f(Object.freeze(Object(R.a)(r,(function(t){t[0].override=e/100}))))},onSetMaxVelocity:function(e,t){return b(e,t,s)}}}))(Ir),Tr=function(e){return Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,lg:6,children:Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(L.jsx)(jr,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(L.jsx)(hr,{})})]})}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:8,lg:6,children:Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(L.jsx)($a,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(L.jsx)(Nr,{})})]})}),Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(Wi,{})})]})},_r=n(200),Ar=n.n(_r),Mr=(n(303),n(304),n(305),n(382)),Dr=n(201),Lr=n.n(Dr),Pr=n(139),Fr=n(12),Rr=n.n(Fr),Ur=n(69),Hr=n(42),Gr=n(72),Br=n(111),zr=n.n(Br),Wr=new(function(){function e(){Object(Hr.a)(this,e),this.maxPersistentCacheSize=1073741824,this.maxMemoryCacheSize=1073741824,this.memoryStore={},this.memoryMetadata={},this.store=zr.a.createInstance({name:"pentaCache",driver:zr.a.INDEXEDDB,storeName:"pentaStore",description:"Stores files locally to avoid unnecessary requests to Rockhopper."}),this.metadata=zr.a.createInstance({name:"pentaCacheMetadata",driver:zr.a.INDEXEDDB,storeName:"pentaStoreMetadata",description:"Stores meta data about files stored in the cache."})}return Object(Gr.a)(e,[{key:"setKey",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(t){var n,a,i,r,o,c,s=this;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.crypto.subtle||!t||64!==t.length){e.next=9;break}for(n=new Uint8Array(16),a=new Uint8Array(16),i=0;i<16;i++)n[i]=parseInt(t.slice(i,i+2),16);for(r=0;r<16;r++)a[r]=parseInt(t.slice(r+16,r+18),16);return o=window.crypto.subtle.importKey("raw",n,{name:"HMAC",hash:"SHA-512"},!1,["sign","verify"]).then((function(e){s.hmacKey=e})),c=window.crypto.subtle.importKey("raw",a,"AES-GCM",!1,["encrypt","decrypt"]).then((function(e){s.aesKey=e})),e.next=9,Promise.all([o,c]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearKey",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.hmacKey=null,this.aesKey=null;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTotalMemorySize",value:function(){var e=0;for(var t in this.memoryMetadata)e+=this.memoryMetadata[t].size;return e}},{key:"getMemoryItem",value:function(e){var t=this.memoryMetadata[e];if(t)return t.timestamp=Date.now(),this.memoryStore[e]}},{key:"setMemoryItem",value:function(e,t){var n=t.byteLength,a=this.getTotalMemorySize()+n;this.memoryStore[e]=t,this.memoryMetadata[e]={timestamp:Date.now(),size:n},a>this.maxMemoryCacheSize&&this.removeOldestMemoryData(a-this.maxMemoryCacheSize)}},{key:"removeOldestMemoryData",value:function(e){var t=[];for(var n in this.memoryMetadata)t.push([this.memoryMetadata[n],n]);t.sort((function(e,t){return e[0].timestamp-t[0].timestamp}));for(var a=0,i=0;i<e&&a<t.length;){var r=Object(p.a)(t[a],2),o=r[0],c=r[1];i+=o.size,delete this.memoryMetadata[c],delete this.memoryStore[c],a++}}},{key:"getTotalPersistentSize",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(){var t;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,this.metadata.iterate((function(e,n,a){t+=e.size})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(t){var n,a=this;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getMemoryItem(t)){e.next=3;break}return e.abrupt("return",Promise.resolve(this.getPersistentItem(t)).then((function(e){return e&&a.setMemoryItem(t,e),e})));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPersistentItem",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(t,n){var a,i,r,o,c;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.byteLength,e.next=3,this.getTotalPersistentSize();case 3:if(e.t0=e.sent,e.t1=a,i=e.t0+e.t1,!(window.crypto.subtle&&this.aesKey&&this.hmacKey)){e.next=18;break}return r=window.crypto.getRandomValues(new Uint8Array(16)),e.next=10,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.aesKey,n);case 10:return o=e.sent,e.next=13,window.crypto.subtle.sign("HMAC",this.hmacKey,o);case 13:c=e.sent,this.store.setItem(t,o),this.metadata.setItem(t,{timestamp:Date.now(),iv:r,signature:c,size:a}),e.next=20;break;case 18:this.store.setItem(t,n),this.metadata.setItem(t,{timestamp:Date.now(),size:a});case 20:i>this.maxPersistentCacheSize&&this.removeOldestPersistentData(i-this.maxPersistentCacheSize);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeOldestPersistentData",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(t){var n,a,i,r,o,c;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.metadata.iterate((function(e,t,a){n.push([e,t])})).catch((function(e){console.error(e)}));case 3:for(n.sort((function(e,t){return e[0].timestamp-t[0].timestamp})),a=0,i=0;i<t&&a<n.length;)r=Object(p.a)(n[a],2),o=r[0],c=r[1],i+=o.size,this.metadata.removeItem(c),this.store.removeItem(c),a++;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPersistentItem",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(t){var n,a,i,r,o=this;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,this.metadata.getItem(t).then((function(e){return e})).catch((function(){return null}));case 3:if(!(n=e.sent)){e.next=17;break}if(a=n.signature,i=n.iv,r=n.size,this.metadata.setItem(t,{timestamp:Date.now(),iv:i,signature:a,size:r}),!(window.crypto.subtle&&this.aesKey&&this.hmacKey&&a&&i)){e.next=13;break}return e.next=10,this.store.getItem(t).then(function(){var e=Object(Ur.a)(Rr.a.mark((function e(t){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.verify("HMAC",o.hmacKey,a,t);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o.aesKey,t));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e})).catch((function(){return null}));case 10:return e.abrupt("return",e.sent);case 13:if(a||i){e.next=17;break}return e.next=16,this.store.getItem(t).then((function(e){return e})).catch((function(){return null}));case 16:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(Ur.a)(Rr.a.mark((function e(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.memoryStore={},this.memoryMetadata={},e.next=4,this.store.dropInstance().then((function(){return console.log("dropped store")}));case 4:return e.next=6,this.metadata.dropInstance().then((function(){return console.log("dropped metadata")}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),Jr="\n".charCodeAt(0),Vr="\r".charCodeAt(0),Kr=Object(d.a)((function(e){return{ace:{"&::-webkit-scrollbar":{height:".375rem",width:".375rem"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)"},"&::-webkit-scrollbar-thumb:vertical":{minHeight:"1.5rem"},"&::-webkit-scrollbar-thumb:horizontal":{minWidth:"1.5rem"}},file:{fontWeight:"bold"},progress:{marginLeft:e.spacing(1)},downloadingProgress:{marginLeft:e.spacing(1)}}})),Yr=function(e){var t=A().t,n=e.file,a=e.checksum,r=e.progress,o=void 0===r?{size:0,bytesLoaded:0}:r,c=e.line,s=Kr(),l=Object(i.useRef)(null),d=Object(i.useState)(!1),u=Object(p.a)(d,2),b=u[0],m=u[1],j=Object(Pr.a)(),f=Object(p.a)(j,2),O=f[0],x=f[1],g=Object(i.useState)({checksum:null,fileDataIndex:0,buffer:null}),v=Object(p.a)(g,2),y=v[0],S=v[1];Object(i.useEffect)((function(){var e=l.current.editor;if(e.container.style.height=b?"800px":"170px",e.setOption("vScrollBarAlwaysVisible",!0),e.setOption("scrollPastEnd",.5),e.setShowPrintMargin(!1),e.setReadOnly(!0),e.resize(!0),c&&e.gotoLine(c+1,1/0),a===y.checksum)if(y.buffer){var t,n=e.getSession().getDocument(),i=new Uint8Array(y.buffer),r=function(e,a,r,o){for(var c=Math.min(e+a,r),s=new TextDecoder,l=[],d=e,u=e;u<c;u++)i[u]===Jr&&(u-1>=0&&i[u-1]===Vr?l.push(s.decode(new Uint8Array(y.buffer,d,u-d-1))):l.push(s.decode(new Uint8Array(y.buffer,d,u-d))),d=u+1);o?t=setTimeout((function(){n.insertFullLines(n.getLength()-1,l),S(Object(R.a)(y,(function(e){e.fileDataIndex=d})))}),1):(n.insertFullLines(n.getLength()-1,l),S(Object(R.a)(y,(function(e){e.fileDataIndex=d}))))};if(y.fileDataIndex<o.bytesLoaded)return 0===y.fileDataIndex?(e.setValue(""),r(y.fileDataIndex,1e6,o.bytesLoaded,!1)):r(y.fileDataIndex,1e6,o.bytesLoaded,!0),function(){return clearTimeout(t)}}else Wr.getItem(a).then((function(e){S(Object(R.a)(y,(function(t){t.buffer=e})))}));else S(Object(R.a)(y,(function(e){e.checksum=a,e.fileDataIndex=0,e.buffer=null})))}),[b,o,l,a,y,S,c]);var C=Object(i.useCallback)((function(e){a&&Wr.getItem(a).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"text/plain;charset=utf-8"});t.setAttribute("href",URL.createObjectURL(a)),t.setAttribute("download",n),t.click()}))}),[n,a]),w=100*o.bytesLoaded/o.size,k=100*Math.min(y.fileDataIndex,o.size)/o.size,E=Math.min(w,k),I=w<100||k<100&&o.size>10485760,N=Math.floor(x.width||500).toString();return Object(L.jsxs)(L.Fragment,{children:[I?Object(L.jsx)(G.a,{placement:"top",title:E.toFixed(2)+"%",children:Object(L.jsx)(Mr.a,{classes:{root:s.progress},variant:"determinate",size:15,thickness:4,value:E})}):null,Object(L.jsxs)("div",{className:s.ace,ref:O,children:[Object(L.jsx)(Ar.a,{mode:"gcode",theme:"chrome",name:"GCodeEditor",ref:l,width:N}),Object(L.jsx)(h.a,{onClick:function(){return m(!b)},children:t(b?"retract":"expand")}),Object(L.jsx)(G.a,{placement:"top",title:t("downloadCurrentFile"),children:Object(L.jsx)(h.a,{onClick:C,disabled:I,children:Object(L.jsx)(Lr.a,{})})})]})]})},Xr=Object(s.connect)((function(e,t){return{file:Qt(e),checksum:Bt(e),progress:zt(e),line:Lt(e)}}),(function(e,t){return{}}))(Yr),qr=n(160),Zr=n.n(qr),Qr=n(202),$r=n.n(Qr),eo=n(361),to=n(324),no=Object(d.a)((function(e){return{realDropBox:{cursor:"pointer",zIndex:100,width:"100%",height:"100%",position:"absolute"},dropBox:{cursor:"pointer",borderWidth:"2px",borderStyle:"dashed",borderColor:e.palette.primary.main,margin:e.spacing(2),width:"calc(100% - "+e.spacing(4)+")",position:"relative"},dropBoxOver:{borderStyle:"solid",backgroundColor:e.palette.primary.light},fileList:{position:"relative",margin:e.spacing(2),width:"calc(100% - "+e.spacing(4)+")",overflow:"scroll"},fileItem:{position:"absolute"},fileContainer:{margin:e.spacing(2),width:"calc(100% - 32px)"},fileLabel:{fontWeight:"bold"},fileName:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fileButton:{width:"100%",justifyContent:"left"},filter:{width:"100%"},fileDialog:{height:"min(600px, 100%)",width:"min(500px, 100%)"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},percentage:{marginLeft:e.spacing(1)}}})),ao=function(e){var t=A().t,n=e.file,a=e.fileList,r=e.onAddFile,o=e.onCancel,c=e.onCancelAll,s=e.onConfirm,l=e.onConfirmAll,d=e.onFileDelete,u=e.onFileOpen,j=e.queuedFiles,f=void 0===j?[]:j,O=e.needsOverwritePermission,x=Object(i.useRef)(null),g=Object(i.useState)(""),v=Object(p.a)(g,2),y=v[0],S=v[1],C=Object(i.useState)({}),w=Object(p.a)(C,2),k=w[0],E=w[1],I=Object(i.useState)(!1),N=Object(p.a)(I,2),T=N[0],_=N[1],M=Object(i.useMemo)((function(){return a.filter((function(e){return e.file.toLowerCase().includes(y.toLowerCase())}))}),[y,a]),D=Object(i.useCallback)((function(e){S("")}),[S]),P=Object(i.useCallback)((function(e){S(e.target.value)}),[S]),F=Object(i.useCallback)((function(e){_(!1)}),[_]),R=Object(i.useCallback)((function(e){_(!0)}),[_]),U=Object(i.useCallback)((function(e){x.current.click()}),[x]),H=Object(i.useCallback)((function(e){e.target.checked?E(Object(m.a)(Object(m.a)({},k),{},Object(b.a)({},e.target.value,!0))):E(Object(m.a)(Object(m.a)({},k),{},Object(b.a)({},e.target.value,!1)))}),[k,E]),B=Object(i.useCallback)((function(e){d&&(Object.keys(k).filter((function(e){return k[e]})).forEach((function(e){d(e)})),E({}))}),[d,k,E]),W=Object(i.useCallback)((function(e){o&&o(O[0].path)}),[o,O]),J=Object(i.useCallback)((function(e){s&&s(O[0].path)}),[s,O]),V=Object.values(f).map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{index:t})}));V.sort((function(e,t){return t.progress-e.progress}));var K=100*V.reduce((function(e,t){return e+1/V.length*t.progress}),0),Y=Object(i.useCallback)((function(e){return function(t){u&&(u(e),_(!1))}}),[u,_]),X=no();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(G.a,{placement:"top",title:n||t("noFileLoaded"),children:Object(L.jsx)(h.a,{onClick:R,children:Object(L.jsx)("span",{className:X.fileName,children:n||t("noFileLoaded")})})}),Object(L.jsxs)(na.a,{open:T,onClose:F,classes:{paper:X.fileDialog},children:[Object(L.jsxs)(aa.a,{children:[Object(L.jsx)("span",{children:t("openGCode")}),Object(L.jsx)(Ga.a,{className:X.closeButton,onClick:F,size:"small",children:Object(L.jsx)(Zr.a,{})})]}),Object(L.jsxs)(ia.a,{children:[Object(L.jsx)(z.a,{placeholder:t("filter"),value:y,className:X.filter,onChange:P,InputProps:{endAdornment:y.length>0?Object(L.jsx)(ni.a,{position:"end",children:Object(L.jsx)(Ga.a,{size:"small",onClick:D,children:Object(L.jsx)(Zr.a,{})})}):null}}),Object(L.jsx)(eo.a,{children:0===M.length?Object(L.jsx)(to.a,{children:t("noGCodeFiles")},"no files"):M.map((function(e){var t=e.file,n=e.path;return Object(L.jsxs)(to.a,{children:[Object(L.jsx)(mi.a,{value:n,checked:!!k[n],onClick:H}),Object(L.jsx)(h.a,{classes:{root:X.fileButton},onClick:Y(n),children:t})]},n)}))})]}),Object(L.jsxs)(ra.a,{children:[Object(L.jsx)(h.a,{color:"secondary",onClick:B,disabled:0===Object.keys(k).filter((function(e){return k[e]})).length,children:t("deleteSelected")}),Object(L.jsx)(h.a,{onClick:F,children:t("cancel")})]})]}),Object(L.jsx)(G.a,{placement:"top",title:"Upload Files",children:Object(L.jsx)(h.a,{onClick:U,children:Object(L.jsx)($r.a,{})})}),Object(L.jsx)(Mr.a,{value:K,variant:"determinate",size:"1em"}),K>0?Object(L.jsx)("span",{className:X.percentage,children:K.toFixed(2)+"%"}):null,Object(L.jsx)("div",{style:{display:"none"},children:Object(L.jsx)("input",{onChange:function(e){var t,n=Object(st.a)(e.target.files);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.name;r(i,a)}}catch(o){n.e(o)}finally{n.f()}e.target.value=""},type:"file",multiple:!0,ref:x})}),Object(L.jsxs)(na.a,{open:O.length>0,children:[Object(L.jsx)(aa.a,{children:"Overwrite existing files?"}),Object(L.jsxs)(ia.a,{children:[Object(L.jsxs)(ti.a,{children:[O.length>0?O[0].path:""," exists on the server",O.length>1?" (and "+O.length+" other file"+(O.length>2?"s":"")+")":"",". Overwrite?"]}),Object(L.jsxs)(ra.a,{children:[Object(L.jsx)(h.a,{onClick:W,color:"secondary",children:"Cancel"}),V.length>1?Object(L.jsx)(h.a,{onClick:c,color:"secondary",children:"Cancel All"}):null,Object(L.jsx)(h.a,{onClick:J,color:"primary",children:"Overwrite"}),V.length>1?Object(L.jsx)(h.a,{onClick:l,color:"primary",children:"Overwrite All"}):null]})]})]})]})},io=n(71),ro=new function e(){var t=this;Object(Hr.a)(this,e),this.channel=Object(io.eventChannel)((function(e){return t.addFile=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e({path:t,data:n,overwrite:a})},function(){}}))},oo=Object(s.connect)((function(e,t){return{file:Qt(e),needsOverwritePermission:tn(e),queuedFiles:en(e),fileList:Xt(e)}}),(function(e,t){return{onCancelAll:function(){return e(ct.fileUpload.cancelAll())},onCancel:function(t){return e(ct.fileUpload.cancel(t))},onConfirm:function(t){return e(ct.fileUpload.confirmOverwrite(t))},onConfirmAll:function(){return e(ct.fileUpload.confirmOverwriteAll())},onAddFile:function(e,t){return ro.addFile(e,t)},onFileOpen:function(t){return e(ct.put.programOpenCmd({data:[t]}))},onFileDelete:function(t){return e(ct.put.programDelete({data:[t]}))}}}))(ao),co=function(e){var t=Object(I.a)().t;return Object(L.jsxs)(F,{label:t("gCodeProgram"),children:[Object(L.jsx)(oo,{}),Object(L.jsx)(Xr,{})]})},so=Object(D.a)((function(e){return{axisRow:{marginBottom:e.spacing(1),whiteSpace:"nowrap"},axisLabel:Object(m.a)(Object(m.a)({},e.typography.axisLabel),{},{display:"inline-block",width:40,height:40,borderTopLeftRadius:4,lineHeight:"40px",verticalAlign:"middle",textAlign:"center",backgroundColor:e.palette.grey[200],border:"1px solid "+e.palette.grey[200]}),axisLabelNoBar:{borderBottomLeftRadius:4},axisUnit:Object(m.a)(Object(m.a)({},e.typography.axisValue),{},{display:"inline-block",height:40,width:40,verticalAlign:"middle",borderTopRightRadius:4,borderRight:"1px solid "+e.palette.grey[200],borderTop:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],lineHeight:"40px"}),axisUnitFraction:{margin:"0 auto",fontSize:"18px",display:"inline-block",position:"relative",textAlign:"center",lineHeight:1,width:"fit-content"},axisUnitFractionSuper:{display:"block",textAlign:"center",verticalAlign:"super"},axisUnitFractionSub:{borderTop:"1px solid black",display:"block",position:"relative",verticalAlign:"sub"},axisUnitWhole:{fontSize:"22px"},axisValue:Object(m.a)(Object(m.a)({},e.typography.axisValue),{},{display:"inline-block",height:40,width:"calc(100% - 83px - "+e.spacing(1)+"px)",lineHeight:"40px",verticalAlign:"middle",textAlign:"right",borderTop:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],paddingRight:e.spacing(1)}),axisValueNoBar:{borderBottomRightRadius:4},bar:{position:"relative",width:"calc(100% - 2px)",height:15,borderBottomLeftRadius:4,borderBottomRightRadius:4,borderRight:"1px solid "+e.palette.grey[200],borderLeft:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],textAlign:"right",overflow:"none",zIndex:200},filledBar:{position:"absolute",height:15,width:"100%",borderBottomLeftRadius:3,borderBottomRightRadius:3,backgroundImage:"linear-gradient(to right, "+e.palette.primary.main+","+e.palette.secondary.main+")",zIndex:0},menuSpan:{width:"100%"},whiteBar:{position:"absolute",height:15,right:0,width:"90%",borderBottomRightRadius:3,backgroundColor:"white",zIndex:1},barText:{position:"absolute",right:0,fontSize:"smaller",lineHeight:"14px",verticalAlign:"top",paddingRight:2,zIndex:100},button:{marginRight:e.spacing(1)},select:{height:"30px"},homeAllButton:{marginLeft:e.spacing(1)},extras:{display:"flex",marginBottom:e.spacing(1)}}})),lo=function(e){var t=e.display,n=e.positions,a=(e.workOffsets,e.g5xIndex,e.onSetDisplay),i=A().t,r=Te(),o=r.toDisplayUnits,c=r.getDisplayUnitStringFromUnit,s=Object(Ea.a)(),l=so(),d=Wa(t,n),u=d&&n.map((function(e,t){var n,a,i=e.axis,r=(e.jointIndex,e.torque),u=(Object(ka.a)(e,["axis","jointIndex","torque"]),o(d[t])),p=c(u.unit),m=Ce.DECIMALS(u.unit),j=p.indexOf("/"),f=Math.min(100*r*5,100),h="undefined"!==typeof r&&null!==r,O=qi()([s.palette.primary.main,s.palette.secondary.main]);return Object(L.jsxs)("div",{className:l.axisRow,id:"DRO_"+i,children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("span",{className:V()((n={},Object(b.a)(n,l.axisLabel,!0),Object(b.a)(n,l.axisLabelNoBar,!h),n)),children:i}),Object(L.jsx)("span",{className:V()((a={},Object(b.a)(a,l.axisValue,!0),Object(b.a)(a,l.axisValueNoBar,!h),a)),children:Object(L.jsx)("span",{children:u.value.toFixed(m)})}),Object(L.jsx)("span",{className:l.axisUnit,children:j>0?Object(L.jsxs)("span",{className:l.axisUnitFraction,children:[Object(L.jsx)("span",{className:V()(Object(b.a)({},l.axisUnitFractionSuper,!0)),children:c(u.unit).slice(0,j)}),Object(L.jsx)("span",{className:V()(Object(b.a)({},l.axisUnitFractionSub,!0)),children:c(u.unit).slice(j+1)})]}):Object(L.jsx)("span",{className:l.axisUnitWhole,children:c(u.unit)})})]}),h?Object(L.jsxs)("div",{className:l.bar,children:[Object(L.jsx)("div",{className:l.filledBar,style:{width:f+"%",backgroundImage:"linear-gradient(to right, "+s.palette.primary.main+","+O(f/100)+")"}}),Object(L.jsxs)("span",{className:l.barText,children:[Math.round(f),"%"]})]}):null]},i)}));return Object(L.jsxs)(F,{id:"DRO",label:i("dro"),children:[Object(L.jsxs)("div",{className:l.extras,children:[Object(L.jsxs)(ga.a,{variant:"outlined",value:t,onChange:function(e){a(e.target.value)},className:l.select,children:[Object(L.jsx)(v.a,{value:"position",children:Object(L.jsx)(G.a,{title:i("tooltip_OffsetPosition"),children:Object(L.jsx)("span",{className:l.menuSpan,children:i("position")})})}),Object(L.jsx)(v.a,{value:"actualPosition",children:Object(L.jsx)(G.a,{title:i("tooltip_ActualPosition"),children:Object(L.jsx)("span",{className:l.menuSpan,children:i("actualPosition")})})}),Object(L.jsx)(v.a,{value:"dtg",children:Object(L.jsx)(G.a,{title:i("tooltip_DTG"),children:Object(L.jsx)("span",{className:l.menuSpan,children:i("dtg")})})}),Object(L.jsx)(v.a,{value:"velocity",children:i("velocity")})]}),Object(L.jsx)(wa,{classes:{button:l.homeAllButton}})]}),u]})},uo=Object(s.connect)((function(e,t){return{positions:cn(e),isHomed:an(e),g5xIndex:Ft(e),workOffsets:Jn(e),display:wt(e)}}),(function(e,t){return{onSetDisplay:function(t){return e(xa.dro.setDisplay(t))},onSetCoordSys:function(t){return e(xa.dro.setCoordSys(t))},onHomeAll:function(){return e(ct.put.homeCmd())}}}))(lo),po=n(140),bo=Object(D.a)((function(e){return{hidden:{display:"none"}}})),mo=function(e){var t=Object(po.f)(),n=bo();return Object(L.jsxs)(x.a,{container:!0,classes:{root:"/production"===t.pathname?null:n.hidden},children:[Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,lg:6,children:Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(L.jsx)(jr,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(L.jsx)(hr,{})})]})}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:8,lg:6,children:Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(L.jsx)(uo,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(L.jsx)(Nr,{})})]})}),Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(co,{})})]})},jo=n(96),fo=n.n(jo),ho=n(81),Oo=n.n(ho),xo=function(e){var t=Date.now(),n=(t-e)/1e3,a=new Date(t),i=new Date(e);if(n>0){if(n<10)return"Just now";if(n<60)return"Less than a minute ago";if(n<3600){var r=Math.round(n/60),o=r>1?"s":"";return"".concat(r," minute").concat(o," ago")}if(Math.round(n/86400)<6){var c=(a.getDay()-i.getDay()+7)%7;if(0===c){var s=Math.round(n/3600),l=s>1?"s":"";return"".concat(s," hour").concat(l," ago")}return 1===c?"Yesterday":i.toLocaleDateString("en-US",{weekday:"long"})}return 0===a.getFullYear()-i.getFullYear()?i.toLocaleDateString("en-US",{month:"long",day:"numeric"}):i.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}return i.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},go=function(e){var t=e.timestamp,n=e.className,a=Object(i.useState)(xo(t)),r=Object(p.a)(a,2),o=r[0],c=r[1];return Object(i.useEffect)((function(){var e=setInterval((function(){c(xo(t))}),1e3);return function(){return clearInterval(e)}})),Object(L.jsx)(G.a,{placement:"top",title:new Date(t).toLocaleString(),children:Object(L.jsx)("span",{className:n,children:o})})},vo=Object(d.a)((function(e){return{timestamp:{fontWeight:"bold",fontSize:".7em"},key:{fontWeight:"bold",fontSize:".7em"},ul:{listStyleType:"none",paddingLeft:e.spacing(1)},value:{fontSize:".7em",fontStyle:"italic"}}})),yo=function(e){var t=e.msg,n=vo();return Object(L.jsxs)("div",{children:[Object(L.jsx)("span",{className:n.timestamp,children:new Date(t.timestamp).toLocaleString()}),function e(t){return"object"===typeof t&&null!==t?Array.isArray(t)?Object(L.jsx)("ul",{className:n.ul,children:t.map((function(a,i){return Object(L.jsxs)("li",{children:[Object(L.jsx)("span",{className:n.key,children:i})," ",e(t[i])]},i)}))}):Object(L.jsx)("ul",{className:n.ul,children:Object.keys(t).map((function(a){return Object(L.jsxs)("li",{children:[Object(L.jsx)("span",{className:n.key,children:a})," ",e(t[a])]},a)}))}):Object(L.jsx)("span",{className:n.value,children:t})}(t.details)]})},So=Object(d.a)((function(e){return{moreLessLink:{fontSize:".7em",fontStyle:"italic",cursor:"pointer",verticalAlign:"text-top"},message:{verticalAlign:"top"},timestamp:{display:"block",fontStyle:"italic",marginRight:e.spacing(2),float:"right",fontSize:".7em",textAlign:"right"},list:{listStyleType:"none",paddingLeft:0,marginTop:0,marginBottom:0,maxHeight:400,overflow:"scroll"},listItem:{padding:e.spacing(1)},error:{backgroundColor:e.palette.error.verylight},warning:{backgroundColor:e.palette.secondary.verylight},info:{backgroundColor:e.palette.primary.verylight},errorIcon:{color:e.palette.error.main},warningIcon:{color:e.palette.secondary.main},infoIcon:{color:e.palette.primary.main},avatar:{backgroundColor:"rgba(0,0,0,0)",padding:0}}})),Co=[{id:1,type:le,message:"This is a very long info message that should be longer than we can see, but it wasn't so I'll keep typing.",timestamp:Date.now()-200448e5,details:{hello:"world"}},{id:2,type:de,message:"This is a warning message",timestamp:Date.now()-1728e6,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}},{id:3,type:ue,message:"This is an error message",timestamp:Date.now()-864e6,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}},{id:4,type:se,message:"This is a debug message",timestamp:Date.now()-7776e5,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}}],wo=100,ko=0;ko<=wo;ko++){var Eo=[le,de,ue,se][Math.floor(4*Math.random())];Co.push({id:ko+5,type:Eo,message:"This is a "+Eo+" message",timestamp:Date.now()-(wo-ko)/wo*(wo-ko)/wo*6048e5,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}})}var Io=function(e){var t=e.messages,n=Object(i.useState)(50),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)({}),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(I.a)().t,b=So(),m=function(e){return function(t){d(Object(R.a)(l,(function(t){t[e.id]=!t[e.id]})))}},j=Object(i.useCallback)((function(){o(r+50)}),[r,o]);return Object(L.jsxs)(F,{label:u("messageLog"),children:[Object(L.jsx)("ul",{className:b.list,children:(r<t.length?t.slice(0,r):t).map((function(e){var t;switch(e.type){case ue:t=Object(L.jsx)(Oo.a,{className:V()(b.errorIcon,b.avatar)});break;case de:t=Object(L.jsx)(ya.a,{className:V()(b.warningIcon,b.avatar)});break;case le:t=Object(L.jsx)(fo.a,{className:V()(b.infoIcon,b.avatar)});break;default:t=null}return Object(L.jsxs)("li",{className:V()(b.listItem,b[e.type]),children:[t,Object(L.jsx)(go,{className:b.timestamp,timestamp:e.timestamp})," ",Object(L.jsx)("span",{className:b.message,children:e.message}),e.details?Object(L.jsx)("span",{className:b.moreLessLink,onClick:m(e),children:l[e.id]?" << "+u("less"):u("more")+" >>"}):null,l[e.id]?Object(L.jsx)(yo,{msg:e}):null]},e.id)}))}),r<t.length?Object(L.jsx)(h.a,{onClick:j,children:u("showOlderMessages")}):null]})},No=Object(s.connect)((function(e,t){return{messages:ut(e)}}),(function(e,t){return{}}))(Io),To=function(e){return Object(L.jsx)(x.a,{container:!0,children:Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(No,{})})})},_o=function(e){var t=Object(I.a)().t;return Object(L.jsx)(F,{label:t("mobileDisplay"),children:[{label:"Auto Width",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},{label:"Max Width",content:"width=1024"},{label:"Max Height",content:"height=1366"}].map((function(e){var t=e.label,n=e.content;return Object(L.jsx)("div",{children:Object(L.jsx)(h.a,{onClick:function(){return document.getElementById("viewport").content=n},children:t})},t)}))})},Ao=n(383),Mo=n(384),Do=Object(D.a)((function(e){return{buttonContainer:{textAlign:"right"},button:{marginLeft:e.spacing(2)},gapUnder:{marginBottom:e.spacing(2)},input:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),Lo=function(e){var t=e.server,n=e.port,a=e.user,r=e.password,o=e.encrypted,c=e.onUpdate,s=Do(),l=Object(I.a)().t,d=Object(i.useRef)(null),u=Object(i.useRef)(null),b=Object(i.useRef)(null),m=Object(i.useRef)(null),j=Object(i.useState)(o),f=Object(p.a)(j,2),O=f[0],x=f[1],g=Object(i.useCallback)((function(){d.current.value=t,u.current.value=n,b.current.value=a,m.current.value=r,x(o)}),[t,n,a,r,o,d,u,b,m,x]),v=Object(i.useCallback)((function(){c&&c(d.current.value,u.current.value,b.current.value,m.current.value,O)}),[c,d,u,b,m,O]),y=Object(i.useCallback)((function(e,t){x(t)}),[x]);return Object(L.jsx)(F,{label:l("websocket"),children:Object(L.jsxs)("form",{children:[Object(L.jsx)(z.a,{autoComplete:"rockhopper server",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("server"),defaultValue:t,variant:"outlined",fullWidth:!0,inputRef:d}),Object(L.jsx)("br",{}),Object(L.jsx)(z.a,{autoComplete:"rockhopper port",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("port"),defaultValue:n,variant:"outlined",fullWidth:!0,inputRef:u}),Object(L.jsx)("br",{}),Object(L.jsx)(z.a,{autoComplete:"rockhopper user",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("username"),defaultValue:a,variant:"outlined",fullWidth:!0,inputRef:b}),Object(L.jsx)("br",{}),Object(L.jsx)(z.a,{autoComplete:"rockhopper password",InputProps:{classes:{input:s.input}},type:"password",label:l("password"),defaultValue:r,variant:"outlined",fullWidth:!0,inputRef:m}),Object(L.jsx)(Ao.a,{row:!0,children:Object(L.jsx)(Mo.a,{control:Object(L.jsx)(Xa.a,{checked:O,onChange:y}),label:l("useSecureWebSocket")})}),Object(L.jsxs)("div",{className:s.buttonContainer,children:[Object(L.jsx)(h.a,{color:"secondary",variant:"contained",classes:{root:s.button},onClick:g,children:l("reset")}),Object(L.jsx)(h.a,{color:"primary",variant:"contained",classes:{root:s.button},onClick:v,children:l("update")})]})]})})},Po=Object(s.connect)((function(e,t){var n=It(e);return{server:n.server,port:n.port,user:n.user,password:n.password,encrypted:n.encrypted}}),(function(e,t){return{onUpdate:function(t,n,a,i,r){e(ct.setConnectionDetails(t,n,a,i,r))}}}))(Lo),Fo=n(358),Ro=n(406),Uo=Object(D.a)((function(e){return{formControl:{},select:{marginTop:e.spacing(1),marginLeft:e.spacing(1)}}})),Ho={en:"English",es:"Espa\xf1ol",de:"Deutsche",jp:"\u65e5\u672c\u8a9e",sv:"Svenska"},Go=function(e){var t=e.dialect,n=e.onChangeDialect,a=Uo(),i=Object(I.a)(),r=i.t,o=i.i18n,c=function(e){n(e)},s=Object.keys(Ho).map((function(e){return Object(L.jsx)(v.a,{value:Ho[e],onClick:function(){var t;t=e,o.changeLanguage(t)},children:Ho[e]},e)}));return Object(L.jsxs)(F,{label:r("language"),children:[Object(L.jsxs)(Fo.a,{className:a.formControl,children:[Object(L.jsx)(Ro.a,{id:"current-language-label",children:r("language")}),Object(L.jsx)(ga.a,{labelId:"current-language-label",value:Ho[o.language],className:a.select,children:s})]}),Object(L.jsxs)(Fo.a,{className:a.formControl,children:[Object(L.jsx)(Ro.a,{id:"dialect-label",children:r("dialect")}),Object(L.jsxs)(ga.a,{labelId:"dialect-label",value:t,className:a.select,children:[Object(L.jsx)(v.a,{value:"industry",onClick:function(){c("industry")},children:r("industry")}),Object(L.jsx)(v.a,{value:"intuitive",onClick:function(){c("intuitive")},children:r("intuitive")})]})]})]})},Bo=Object(s.connect)((function(e,t){return{language:bt(e),dialect:mt(e)}}),(function(e,t){return{onChangeLanguage:function(t){e(xa.changeLanguage(t))},onChangeDialect:function(t){e(xa.changeDialect(t))}}}))(Go),zo=Object(D.a)((function(e){return{formControl:{marginRight:e.spacing(1)}}})),Wo=function(e){var t=e.displayUnits,n=e.onSetDisplayUnits,a=Object(I.a)().t,i=zo(),r=function(e,a){var i=Object(R.a)(t,(function(t){t[a]=e.target.value}));n(i)};return Object(L.jsxs)(F,{label:a("units"),children:[Object(L.jsxs)(Fo.a,{className:i.formControl,children:[Object(L.jsx)(Ro.a,{id:"length-label",children:a("lengthUnits")}),Object(L.jsxs)(ga.a,{labelId:"length-label",id:"length-select",value:t.length,onChange:function(e){var a=Object(R.a)(t,(function(n){n.length=e.target.value,n.linearVelocity=e.target.value+"/"+t.time}));n(a)},children:[Object(L.jsx)(v.a,{value:"in",children:"in"}),Object(L.jsx)(v.a,{value:"mm",children:"mm"}),Object(L.jsx)(v.a,{value:"cm",children:"cm"}),Object(L.jsx)(v.a,{value:"pu",children:a("programUnits")})]})]}),Object(L.jsxs)(Fo.a,{className:i.formControl,children:[Object(L.jsx)(Ro.a,{id:"time-label",children:a("time")}),Object(L.jsxs)(ga.a,{labelId:"time-label",id:"time-select",value:t.time,onChange:function(e){var a=t.length+"/"+e.target.value,i=t.angle+"/"+e.target.value,r=Object(R.a)(t,(function(t){t.time=e.target.value,t.linearVelocity=a,t.angularVelocity=i}));n(r)},children:[Object(L.jsx)(v.a,{value:"s",children:"s"}),Object(L.jsx)(v.a,{value:"min",children:"min"})]})]}),Object(L.jsxs)(Fo.a,{className:i.formControl,style:{minWidth:100},children:[Object(L.jsx)(Ro.a,{id:"surfaceSpeed-label",children:a("surfaceSpeed")}),Object(L.jsxs)(ga.a,{labelId:"surfaceSpeed-label",id:"surfaceSpeed-select",value:t.surfaceSpeed,onChange:function(e){var a=Object(R.a)(t,(function(t){t.surfaceSpeed=e.target.value}));n(a)},children:[Object(L.jsx)(v.a,{value:"ft/min",children:"ft/min"}),Object(L.jsx)(v.a,{value:"in/min",children:"in/min"}),Object(L.jsx)(v.a,{value:"m/min",children:"m/min"}),Object(L.jsx)(v.a,{value:"mm/min",children:"mm/min"})]})]}),Object(L.jsxs)(Fo.a,{className:i.formControl,children:[Object(L.jsx)(Ro.a,{id:"pressure-label",children:a("pressure")}),Object(L.jsxs)(ga.a,{labelId:"pressure-label",id:"pressure-select",value:t.pressure,onChange:function(e){r(e,"pressure")},children:[Object(L.jsx)(v.a,{value:"psi",children:a("psi")}),Object(L.jsx)(v.a,{value:"MPa",children:a("MPa")})]})]}),Object(L.jsxs)(Fo.a,{className:i.formControl,children:[Object(L.jsx)(Ro.a,{id:"temperature-label",children:a("temperature")}),Object(L.jsxs)(ga.a,{labelId:"temperature-label",id:"temperature-select",value:t.temperature,onChange:function(e){r(e,"temperature")},children:[Object(L.jsx)(v.a,{value:"F",children:"F"}),Object(L.jsx)(v.a,{value:"C",children:"C"})]})]})]})},Jo=Object(s.connect)((function(e,t){return{displayUnits:Ot(e)}}),(function(e,t){return{onSetDisplayUnits:function(t){console.log(t),e(xa.setDisplayUnits(t))}}}))(Wo),Vo=n(385),Ko=n(112),Yo=n.n(Ko),Xo=Object(D.a)((function(e){return{button:{margin:e.spacing(1)},displayDiv:{display:"flex",justifyContent:"center"}}})),qo=function(e){var t=e.open,n=e.value,a=e.onSubmit,r=e.onClose,o=e.title,c=e.submitBtnLabel,s=e.cancelBtnLabel,l=e.modifiersOnly,d=e.singleKeyOnly,u=e.reservedKeys,b=e.reservedCombinations,m=Xo(e),j=A().t,f=Object(i.useState)(n?n.split("+"):[]),O=Object(p.a)(f,2),x=O[0],g=O[1],v=Object(i.useState)(!1),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useState)(!1),k=Object(p.a)(w,2),E=k[0],I=k[1],N=Object(i.useState)(!1),T=Object(p.a)(N,2),_=T[0],D=T[1],P=Object(i.useState)(!1),F=Object(p.a)(P,2),R=F[0],U=F[1],H=Object(i.useState)(!1),G=Object(p.a)(H,2),B=G[0],z=G[1],W=Object(i.useState)(!1),J=Object(p.a)(W,2),V=J[0],K=J[1],Y=function(e){var t=!1;u.has(e.key)?(C(!0),t=!0):S&&C(!1),d&&(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)?(U(!0),t=!0):R&&U(!1),l&&!["Alt","Shift","Control","Meta"].includes(e.key)?(D(!0),t=!0):_&&D(!1),!l&&["Alt","Shift","Control","Meta"].includes(e.key)?(z(!0),t=!0):B&&z(!1);var n=[];e.ctrlKey&&n.push(j("Ctrl")),e.shiftKey&&n.push(j("Shift")),e.altKey&&n.push(j("Alt")),e.metaKey&&n.push(j("Meta")),["Alt","Shift","Control","Meta"].includes(e.key)||(e.nativeEvent.code.startsWith("Digit")?n.push(e.nativeEvent.code.slice(5)):e.nativeEvent.code.startsWith("Key")?n.push(e.nativeEvent.code.slice(3)):n.push(e.nativeEvent.code)),b.has(n.join("+"))?(I(!0),t=!0):E&&I(!1),K(!!t),g(n)},X=function(){r&&r()};return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(na.a,{id:"keyboardCapture_dialog",open:t,onClose:X,onKeyDown:Y,children:[Object(L.jsx)(aa.a,{children:o}),Object(L.jsxs)(ia.a,{children:[S&&Object(L.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:j("This non-modifier key is reserved.")}),E&&Object(L.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:j("This key combination is already in use.")}),_&&Object(L.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:j("This is a modifier-only keybinding.")}),R&&Object(L.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:j("This shortcut must be a single non-modifier key")}),B&&Object(L.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:j("This shortcut must include a non-modifier key")}),Object(L.jsx)("div",{onKeyDown:Y,className:m.displayDiv,children:x.join("+")})]}),Object(L.jsx)(ra.a,{children:Object(L.jsxs)(M.a,{children:[Object(L.jsx)(h.a,{id:"keyboardCapture_submit",onClick:function(e){!function(e){a&&(e.preventDefault(),a(x.join("+")))}(e)},variant:"contained",color:"primary",className:m.button,disabled:V,children:c}),Object(L.jsx)(h.a,{id:"keyboardCapture_cancel",onClick:X,variant:"contained",color:"primary",className:m.button,children:s})]})})]})})},Zo=Object(D.a)((function(e){return{cell:{textAlign:"center",fontWeight:"bold",backgroundColor:e.palette.secondary.main,padding:8},row:{lineHeight:"16px"}}})),Qo=function(e){var t=e.text,n=Zo();return Object(L.jsx)(pi.a,{className:n.row,children:Object(L.jsx)(li.a,{className:n.cell,colSpan:3,children:t})})},$o=Object(D.a)((function(e){return{bold:{fontWeight:"bold"},tableContainer:{maxHeight:680},sectionDivider:{lineHeight:"16px",height:16,width:14,textAlign:"center",fontWeight:"bold",padding:8}}})),ec=function(e){var t=e.shortcuts,n=e.jogKeys,a=e.jogModifiers,r=e.axisSelectJogShortcuts,o=e.otherShortcuts,c=e.shortcutsMap,s=e.trajCoords,l=e.onSubmitShortcuts,d=$o(),u=Object(i.useState)({open:!1,category:null,key:"",value:"",modifiersOnly:!1,singleKeyOnly:!1}),b=Object(p.a)(u,2),f=b[0],O=b[1],x=A().t,g=function(e){O(Object(m.a)(Object(m.a)({},e),{},{open:!0}))},v=function(e,n){var a=Object(R.a)(t,(function(t){t[e][n]=""}));l(a)};return Object(L.jsxs)(F,{label:"Keybindings",children:[Object(L.jsx)(di.a,{component:j.a,className:d.tableContainer,children:Object(L.jsxs)(si.a,{stickyHeader:!0,"aria-label":"simple table",children:[Object(L.jsx)(ui.a,{children:Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:x("Command")}),Object(L.jsx)(li.a,{children:x("Keybinding")}),Object(L.jsx)(li.a,{})]})}),Object(L.jsxs)(hi.a,{children:[Object(L.jsx)(Qo,{text:x("Axis-select Jogging"),className:d.sectionDivider}),s&&Object.keys(we.AXIS_SELECT_JOG).map((function(e){var t;if(e.startsWith("select")){if(!s.includes(e.slice(-1)))return null;t=x("selectAxis")+" "+x(e.slice(-1))}else t=e.startsWith("jog")?x("jog")+" "+e.slice(-1):x(e);return Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:t}),Object(L.jsx)(li.a,{className:d.bold,children:r[e]}),Object(L.jsx)(li.a,{children:Object(L.jsxs)(Vo.a,{children:[Object(L.jsx)(G.a,{title:x("tooltip_EditShortcut"),children:Object(L.jsx)(h.a,{id:"edit_"+e,variant:"outlined",onClick:function(){return g({title:x(e),key:e,value:a[e],category:"axisSelectJog",modifiersOnly:!1,singleKeyOnly:!1})},children:Object(L.jsx)(Yo.a,{})})}),r[e]&&Object(L.jsx)(G.a,{title:x("tooltip_DeleteShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return v("axisSelectJog",e)},children:Object(L.jsx)(Ci.a,{})})})]})})]},e)})),Object(L.jsx)(Qo,{text:x("jogging"),className:d.sectionDivider}),Object.keys(we.JOG_MODIFIERS).map((function(e){return Object(L.jsxs)(pi.a,{children:[Object(L.jsxs)(li.a,{children:[x(e+"JogModifier"),"continuous"===e&&Object(L.jsx)(G.a,{title:x("tooltip_ContinuousJog"),children:Object(L.jsx)(fi.a,{})})]}),Object(L.jsx)(li.a,{className:d.bold,children:a[e]}),Object(L.jsx)(li.a,{children:Object(L.jsxs)(Vo.a,{children:[Object(L.jsx)(G.a,{title:x("tooltip_EditShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x(e+"JogModifier"),key:e,value:a[e],category:"jogModifiers",modifiersOnly:!0,singleKeyOnly:!1})},children:Object(L.jsx)(Yo.a,{})})}),a[e]&&Object(L.jsx)(G.a,{title:x("tooltip_DeleteShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return v("jogModifiers",e)},children:Object(L.jsx)(Ci.a,{})})})]})})]},e)})),s&&Object.keys(we.JOG).map((function(e){return-1!==s.indexOf(e[3])?Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:x("jog")+" "+e.slice(3)}),Object(L.jsx)(li.a,{className:d.bold,children:n[e]}),Object(L.jsx)(li.a,{children:Object(L.jsxs)(Vo.a,{children:[Object(L.jsx)(G.a,{title:x("tooltip_EditShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x("jog")+" "+e.slice(3),key:e,value:n[e],category:"jog",modifiersOnly:!1,singleKeyOnly:!0})},children:Object(L.jsx)(Yo.a,{})})}),n[e]&&Object(L.jsx)(G.a,{title:x("tooltip_DeleteShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return v("jog",e)},children:Object(L.jsx)(Ci.a,{})})})]})})]},e):null})),Object(L.jsx)(Qo,{text:x("other"),className:d.sectionDivider}),Object.keys(we.OTHER).map((function(e){return Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:x(e)}),Object(L.jsx)(li.a,{className:d.bold,children:o[e]}),Object(L.jsx)(li.a,{children:Object(L.jsxs)(Vo.a,{children:[Object(L.jsx)(G.a,{title:x("tooltip_EditShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x(e),key:e,value:o[e],category:"other",modifierOnly:!1,singleKeyOnly:!1})},children:Object(L.jsx)(Yo.a,{})})}),o[e]&&Object(L.jsx)(G.a,{title:x("tooltip_DeleteShortcut"),children:Object(L.jsx)(h.a,{variant:"outlined",onClick:function(){return v("other",e)},children:Object(L.jsx)(Ci.a,{})})})]})})]},e)}))]})]})}),Object(L.jsx)(qo,{open:f.open,value:f.value,modifiersOnly:f.modifiersOnly,singleKeyOnly:f.singleKeyOnly,reservedKeys:new Set(Object.values(n)),reservedCombinations:new Set(Object.keys(c).concat(Object.values(a))),onSubmit:function(e){var n=Object(R.a)(t,(function(t){t[f.category]=t[f.category]||{},t[f.category][f.key]=e}));l(n),O(Object(m.a)(Object(m.a)({},f),{},{open:!1}))},onClose:function(){O(Object(m.a)(Object(m.a)({},f),{},{open:!1}))},title:x("Keybinding")+": "+x(f.title),submitBtnLabel:x("Set"),cancelBtnLabel:x("Cancel")},f.key)]})},tc=Object(s.connect)((function(e,t){return{shortcuts:vn(e),axisSelectJogShortcuts:Cn(e),jogModifiers:yn(e),jogKeys:Sn(e),otherShortcuts:wn(e),shortcutsMap:In(e),trajCoords:Vt(e)}}),(function(e,t){return{onSubmitShortcuts:function(t){e(ct.put.saveClientConfig({data:["KeyboardShortcuts",t]}))}}}))(ec),nc=n(203),ac=function(e){return Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsxs)(x.a,{item:!0,xs:12,sm:6,md:4,children:[Object(L.jsx)(Jo,{}),Object(L.jsx)(Bo,{}),nc.isMobile?Object(L.jsx)(_o,{}):null]}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,children:Object(L.jsx)(Po,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,md:6,lg:4,children:Object(L.jsx)(tc,{})})]})},ic=n(204),rc=n.n(ic),oc=n(163),cc=n.n(oc),sc=Object(D.a)((function(e){return{iniRoot:Object(b.a)({height:400},e.breakpoints.up("sm"),{height:400,display:"flex"}),innerTabs:{overflow:"hidden",display:"flex",height:400},lowerRightButtonDiv:{display:"flex",float:"right",justifyContent:"center",margin:e.spacing(1)},table:{tableLayout:"fixed",overflow:"scroll"},tableAlternateRow:{backgroundColor:e.palette.action.hover},tableButtonCell:{width:40},tableCell:{overflow:"hidden",textOverflow:"ellipsis"},tableContainer:{maxHeight:400},tabContainer:{maxHeight:500,overflow:"scroll"},tabs:{borderRight:"1px solid ".concat(e.palette.divider),flexShrink:0},tabsBox:{border:1,borderStyle:"solid",borderColor:e.palette.grey[200]}}})),lc=function(e){var t=e.key,n=e.classes,a=e.isEditing,i=e.index,r=e.rowStyle,o=e.values,c=e.onChange,s=e.onDelete,l=function(e,t){if(c){var n=Object(R.a)(o,(function(n){n[e]=t}));c(i,n)}};return Object(L.jsxs)(pi.a,{style:r,children:[Object(L.jsx)(li.a,{className:n.tableCell,style:{flexGrow:2},children:Object(L.jsx)(W,{disabled:!a,value:o.name,onChange:function(e){l("name",e)}})}),Object(L.jsx)(li.a,{className:n.tableCell,children:Object(L.jsx)(W,{disabled:!a,value:o.value,onChange:function(e){l("value",e)}})}),Object(L.jsx)(li.a,{className:n.tableCell,children:Object(L.jsx)(W,{disabled:!a,value:o.comment,onChange:function(e){l("comment",e)}})}),Object(L.jsx)(li.a,{className:n.tableCell,children:Object(L.jsx)(W,{disabled:!a,value:o.help,onChange:function(e){l("help",e)}})}),a&&Object(L.jsx)(li.a,{style:{flexGrow:0},children:Object(L.jsx)(Ga.a,{onClick:function(){s(o.key)},children:Object(L.jsx)(Ci.a,{})})})]},t)},dc=function(e){var t=e.value,n=e.index,a=e.isEditing,r=e.sectionName,o=e.params,c=e.onChange,s=A().t,l=sc(),d=Object(i.useRef)(),u=Object(i.useRef)(),p=Object(i.useRef)(),b=function(e){var t=Object(R.a)(o,(function(t){delete t[e]}));c(r,t)},f=function(e,t){var n=Object(R.a)(o,(function(e){e[t.key]=t}));c(r,n)};return Object(L.jsx)(Hi,{value:t,index:n,children:Object(L.jsx)(di.a,{component:j.a,className:l.tableContainer,ref:u,children:Object(L.jsxs)(si.a,{stickyHeader:!0,className:l.table,"aria-label":"simple table",id:"asdf",ref:d,children:[Object(L.jsx)(ui.a,{children:Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{style:{flexGrow:2},children:s("Name")}),Object(L.jsx)(li.a,{children:s("Value")}),Object(L.jsx)(li.a,{children:s("Comment")}),Object(L.jsx)(li.a,{children:s("Help")}),a&&Object(L.jsx)(li.a,{className:l.tableButtonCell})]})}),Object(L.jsxs)(hi.a,{ref:p,children:[Object.keys(o).sort().map((function(e,t){return Object(L.jsx)(lc,{index:t,values:Object(m.a)(Object(m.a)({},o[e]),{},{key:e}),classes:l,isEditing:a,onChange:f,onDelete:b},e)})),a&&Object(L.jsx)(pi.a,{children:Object(L.jsx)(li.a,{style:{height:0,padding:0,border:0},children:Object(L.jsx)(Ga.a,{onClick:function(e,t){var n=Object(R.a)(o,(function(e){e["new"+Date.now()]={name:"",comment:"",value:"",help:"",section:r}}));c(r,n)},children:Object(L.jsx)(cc.a,{})})})},"add")]})]})})},r)},uc=function(e){var t=e.isEditing,n=e.clientOverlay,a=e.diskOverlay,r=(e.children,e.value),o=e.index,c=(e.p,e.xsLayout),s=e.onEnableEditing,l=e.onDeleteSection,d=e.onDisableEditing,u=e.onAddSection,b=e.onSave,j=e.onChange,f=Object(ka.a)(e,["isEditing","clientOverlay","diskOverlay","children","value","index","p","xsLayout","onEnableEditing","onDeleteSection","onDisableEditing","onAddSection","onSave","onChange"]),O=Object(Ea.a)(),x=sc(),g=Object(i.useState)(0),v=Object(p.a)(g,2),y=v[0],S=v[1],C=Object(i.useState)(!1),w=Object(p.a)(C,2),k=w[0],E=w[1],I=t?n:a,N=Object(i.useCallback)((function(e,t){S(t)}),[S]),T=function(e,t){var a=Object(R.a)(n,(function(n){return n[e]=t,n}));j(a)};return Object(L.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:r!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},f),{},{children:r===o&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(M.a,{border:1,borderColor:O.palette.grey[200],className:x.iniRoot,children:[Object(L.jsxs)("div",{className:x.tabs,children:[t?Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:O.spacing(1)},children:Object(L.jsxs)(Vo.a,{disabled:!t,children:[Object(L.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){return E(!0)},label:"clicker",children:Object(L.jsx)(rc.a,{})}),Object(L.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){l(Object.keys(I).sort()[y])},label:"clicker",children:Object(L.jsx)(Ci.a,{})})]})}):"",Object(L.jsx)(ii.a,{className:x.tabs,style:c?{}:{height:t?348:400},value:y<Object.keys(I).length?y:0,onChange:N,orientation:c?"horizontal":"vertical",variant:"scrollable",scrollButtons:"off",children:I?Object.keys(I).sort().map((function(e,t){return Object(L.jsx)(ai.a,Object(m.a)({label:e},mc(t)),t)})):""})]}),I?Object.keys(I).sort().map((function(e,n){return Object(L.jsx)(dc,{value:y,index:n,isEditing:t,sectionName:e,params:I[e],onChange:T},n)})):""]}),Object(L.jsx)("div",{className:x.lowerRightButtonDiv,children:t?Object(L.jsxs)(Vo.a,{size:"large",children:[Object(L.jsx)(G.a,{title:"Send changes to server",children:Object(L.jsx)(h.a,{onClick:function(){b(I)},children:"SAVE"})}),Object(L.jsx)(G.a,{title:"Discard changes",children:Object(L.jsx)(h.a,{onClick:d,children:"DISCARD"})})]}):Object(L.jsx)(Vo.a,{size:"large",children:Object(L.jsx)(G.a,{title:"Enable overlay editing",children:Object(L.jsx)(h.a,{onClick:function(){s(a)},children:"Edit Overlay"})})})}),Object(L.jsx)(ca,{open:k,value:"",onSubmit:function(e){u(n,e),E(!1)},onClose:function(){E(!1)},title:"Add Section",textFieldLabel:"SECTION_NAME",submitBtnLabel:"Add",cancelBtnLabel:"Cancel"})]})}))},pc=function(e){var t=e.ini,n=e.xsLayout,a=(e.children,e.value),r=e.index,o=(e.p,Object(ka.a)(e,["ini","xsLayout","children","value","index","p"])),c=A().t,s=sc(),l=Object(i.useState)(0),d=Object(p.a)(l,2),u=d[0],b=d[1],f=Object(i.useCallback)((function(e,t){b(t)}),[b]),h=t;return Object(L.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),{},{children:a===r&&Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(M.a,{className:s.iniRoot,children:[Object(L.jsx)(ii.a,{value:u,onChange:f,orientation:n?"horizontal":"vertical",variant:"scrollable",scrollButtons:"off",className:s.tabs,children:h?Object.keys(h).map((function(e,t){return Object(L.jsx)(ai.a,Object(m.a)({label:e},mc(t)))})):""}),h?Object.values(h).map((function(e,t){return Object(L.jsx)(Hi,{value:u,index:t,children:Object(L.jsx)(di.a,{component:j.a,className:s.tableContainer,children:Object(L.jsxs)(si.a,{stickyHeader:!0,className:s.table,"aria-label":"simple table",children:[Object(L.jsx)(ui.a,{children:Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:c("Name")}),Object(L.jsx)(li.a,{children:c("Value")}),Object(L.jsx)(li.a,{children:c("Comment")}),Object(L.jsx)(li.a,{children:c("Help")})]})}),Object(L.jsx)(hi.a,{children:Object.values(e).map((function(e){return Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{className:s.tableCell,children:e.name}),Object(L.jsx)(li.a,{className:s.tableCell,children:e.value}),Object(L.jsx)(li.a,{className:s.tableCell,children:e.comment}),Object(L.jsx)(li.a,{className:s.tableCell,children:e.help})]},e.name)}))})]})})},t)})):""]})})}))},bc=function(e){var t=e.isEditing,n=e.clientCompensation,a=e.diskCompensation,r=e.onDisableEditing,o=e.onEnableEditing,c=e.onChange,s=e.onSave,l=e.xsLayout,d=(e.children,e.value),u=e.index,b=(e.p,Object(ka.a)(e,["isEditing","clientCompensation","diskCompensation","onDisableEditing","onEnableEditing","onChange","onSave","xsLayout","children","value","index","p"])),f=t?n:a,O=Object(Ea.a)(),x=sc(),g=A().t,v=Object(i.useState)(0),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useCallback)((function(e,t){C(t)}),[C]),k=function(e,t,a,i){var r=Object(R.a)(n,(function(n){return n[e][t][a]=i,n}));c(r)};return Object(L.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:d!==u,id:"simple-tabpanel-".concat(u),"aria-labelledby":"simple-tab-".concat(u)},b),{},{children:d===u&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(M.a,{border:1,borderColor:O.palette.grey[200],className:x.iniRoot,children:[Object(L.jsx)(ii.a,{value:S,onChange:w,orientation:l?"horizontal":"vertical",variant:"scrollable",scrollButtons:"on",className:x.tabs,children:f?Object.keys(f).sort().map((function(e,t){return Object(L.jsx)(ai.a,Object(m.a)({label:e},mc(t)),t)})):""}),f?Object.keys(f).sort().map((function(e,a){return Object(L.jsx)(Hi,{value:S,index:a,style:{overflow:"scroll"},children:Object(L.jsx)(di.a,{component:j.a,className:x.tableContainer,children:Object(L.jsxs)(si.a,{stickyHeader:!0,className:x.table,"aria-label":"simple table",children:[Object(L.jsx)(ui.a,{children:Object(L.jsxs)(pi.a,{children:[Object(L.jsx)(li.a,{children:g("Position")}),Object(L.jsx)(li.a,{children:g("Forward Trim")}),Object(L.jsx)(li.a,{children:g("Reverse Trim")}),t&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(li.a,{className:x.tableButtonCell}),Object(L.jsx)(li.a,{className:x.tableButtonCell})]})]})}),Object(L.jsx)(hi.a,{children:f[e].map((function(a,i){return Object(L.jsxs)(pi.a,{className:i%2===0?x.tableAlternateRow:"",children:[a.map((function(n,a){return Object(L.jsx)(li.a,{children:Object(L.jsx)(W,{value:n,disabled:!t,onChange:function(t){return k(e,i,a,t)}})},a)})),t&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(li.a,{children:Object(L.jsx)(Ga.a,{onClick:function(t){!function(e,t){var a=Object(R.a)(n,(function(n){n[e].splice(t+1,0,["","",""])}));c(a)}(e,i)},children:Object(L.jsx)(cc.a,{})})}),Object(L.jsx)(li.a,{children:Object(L.jsx)(Ga.a,{onClick:function(t){!function(e,t){var a=Object(R.a)(n,(function(n){n[e].splice(t,1)}));c(a)}(e,i)},children:Object(L.jsx)(Ci.a,{})})})]})]},i)}))})]})})},a)})):""]}),Object(L.jsx)("div",{className:x.lowerRightButtonDiv,children:t?Object(L.jsxs)(Vo.a,{size:"large",children:[Object(L.jsx)(G.a,{title:g("Send changes to server"),children:Object(L.jsx)(h.a,{onClick:function(){s(n)},children:g("save")})}),Object(L.jsx)(G.a,{title:g("Discard changes"),children:Object(L.jsx)(h.a,{onClick:function(){r()},children:g("cancel")})})]}):Object(L.jsx)(Vo.a,{size:"large",children:Object(L.jsx)(G.a,{title:g("Enable overlay editing"),children:Object(L.jsx)(h.a,{onClick:function(){o(a)},children:g("Edit Compensation")})})})})]})}))};function mc(e,t){return{id:"".concat(e,"-simple-tab-").concat(t),"aria-controls":"".concat(e,"-simple-tabpanel-").concat(t)}}var jc,fc,hc=function(e){var t=e.ini,n=e.isEditingCompensation,a=e.clientCompensation,r=e.diskCompensation,o=e.onEnableEditingCompensation,c=e.onDisableEditingCompensation,s=e.onChangeCompensation,l=e.onSaveCompensation,d=e.isEditingOverlay,u=e.clientOverlay,b=e.diskOverlay,j=e.onAddOverlaySection,h=e.onDeleteOverlaySection,O=e.onEnableEditingOverlay,x=e.onDisableEditingOverlay,g=e.onChangeOverlay,v=e.onSaveOverlay,y=Object(f.a)((function(e){return e.breakpoints.down("xs")})),S=sc(),C=A().t,w=Object(i.useState)(2),k=Object(p.a)(w,2),E=k[0],I=k[1],N=Object(i.useCallback)((function(e,t){I(t)}),[I]);return Object(L.jsxs)(F,{id:"MachineConfig",label:C("Machine Config"),children:[Object(L.jsxs)(ii.a,{value:E,onChange:N,orientation:"horizontal",className:S.tabsBox,children:[Object(L.jsx)(ai.a,Object(m.a)({label:C("INI Overlay")},mc("overlay",0))),Object(L.jsx)(ai.a,Object(m.a)({label:C("Active INI")},mc("ini",1))),Object(L.jsx)(ai.a,Object(m.a)({label:C("Compensation Tables")},mc("compensation",2)))]}),Object(L.jsxs)(M.a,{className:S.tabContainer,children:[Object(L.jsx)(uc,{value:E,index:0,xsLayout:y,clientOverlay:u,diskOverlay:b,isEditing:d,onAddSection:j,onChange:g,onDeleteSection:h,onDisableEditing:x,onEnableEditing:O,onSave:v}),Object(L.jsx)(pc,{value:E,index:1,ini:t,xsLayout:y}),Object(L.jsx)(bc,{value:E,index:2,xsLayout:y,isEditing:n,clientCompensation:a,diskCompensation:r,onEnableEditing:o,onDisableEditing:c,onChange:s,onSave:l})]})]})},Oc=Object(s.connect)((function(e,t){return{ini:At(e),isEditingOverlay:vt(e),diskOverlay:Mt(e),clientOverlay:yt(e),isEditingCompensation:xt(e),diskCompensation:Dt(e),clientCompensation:gt(e)}}),(function(e,t){return{onAddOverlaySection:function(t,n){if(t.hasOwnProperty(n))return!1;var a=Object(R.a)(t,(function(e){e[n]={}}));e(xa.overlay.set(a))},onChangeOverlay:function(t){e(xa.overlay.set(t))},onDeleteOverlaySection:function(t){e(xa.overlay.deleteSection(t))},onEnableEditingOverlay:function(t){e(xa.overlay.enableEditing(t))},onDisableEditingOverlay:function(){e(xa.overlay.disableEditing())},onSaveOverlay:function(t){var n={},a=[];Object.keys(t).forEach((function(e){n[e]={comment:"",help:""},Object.values(t[e]).forEach((function(e,t){e.key;var n=Object(ka.a)(e,["key"]);a.push({id:t,values:n})}))})),e(xa.overlay.disableEditing()),e(ct.updateHelpers.configOverlay({data:{sections:n,parameters:a}})),e(ct.put.config({data:{data:{sections:n,parameters:a}}}))},onEnableEditingCompensation:function(t){e(xa.compensation.enableEditing(t))},onDisableEditingCompensation:function(){e(xa.compensation.disableEditing())},onChangeCompensation:function(t){e(xa.compensation.set(t))},onSaveCompensation:function(t){e(xa.compensation.disableEditing()),e(ct.updateHelpers.compensation({data:t})),e(ct.put.setCompensation({data:{data:t}}))}}}))(hc),xc=function(e){return Object(L.jsxs)(x.a,{container:!0,children:[Object(L.jsx)(x.a,{item:!0,xs:12,children:Object(L.jsx)(Oc,{})}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:6,md:4})]})},gc="/client",vc="/server",yc=(jc={},Object(b.a)(jc,gc,{id:gc,label:"Client",component:ac}),Object(b.a)(jc,vc,{id:vc,label:"Server",component:xc}),jc),Sc=[yc["/client"],yc["/server"]],Cc=function(e){var t=Object(po.f)(),n=Object(po.e)(),a=t.pathname.replace(Tc,""),i=yc[a]?a:Sc[0].id,r=yc[i].component;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ii.a,{value:i,onChange:function(e,t){var a;a=t,n.push(Tc+a)},children:Sc.map((function(e){return Object(L.jsx)(ai.a,{label:e.label,value:e.id},e.id)}))}),Object(L.jsx)(r,{})]})},wc=Object(d.a)((function(e){return{active:{color:e.palette.primary.main},tabButton:Object(m.a)({},e.typography.mainTab),tabItem:{textAlign:"center"},tabLabelContainer:{whiteSpace:"nowrap"},tabLabel:{lineHeight:"24px",height:24,verticalAlign:"middle"},tabText:{lineHeight:"24px",height:24,verticalAlign:"middle"},tabIcon:{lineHeight:"18px",height:18,width:18,marginRight:-e.spacing(1),verticalAlign:"middle"},tabLine:{borderWidth:"1px",borderStyle:"solid",borderRadius:"1px"},logoContainer:{position:"fixed",width:40,height:55,marginLeft:e.spacing(2),marginTop:e.spacing(2)},tabsContainer:{position:"fixed",left:40,width:"calc( 100% - 40px )",height:55,marginLeft:e.spacing(2),marginTop:e.spacing(2)}}})),kc="/setup",Ec="/manual",Ic="/production",Nc="/history",Tc="/config",_c=(fc={},Object(b.a)(fc,kc,{id:kc,label:"setup",canHide:!1,component:ei}),Object(b.a)(fc,Ec,{id:Ec,label:"manual",canHide:!1,component:Tr}),Object(b.a)(fc,Ic,{id:Ic,label:"production",canHide:!1,component:mo,alwaysMounted:!0}),Object(b.a)(fc,Nc,{id:Nc,label:"history",canHide:!0,component:To}),Object(b.a)(fc,Tc,{id:Tc,label:"config",canHide:!0,component:Cc}),fc),Ac=[_c["/setup"],_c["/manual"],_c["/production"],_c["/history"],_c[Tc]],Mc=function(e){var t=Object(I.a)().t,n=Object(po.e)(),a=Object(po.f)(),o=Object(O.a)(),c=Object(i.useState)(!1),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(i.useRef)(null),m=Object(f.a)(o.breakpoints.down("xs")),S=a.pathname.split("/")[1],w=S?"/"+S:Ec,N=function(e){return function(){n.push(e),d(!1)}},T=wc();return Object(L.jsxs)(j.a,{elevation:0,square:!0,children:[Object(L.jsx)("div",{className:T.logoContainer,children:Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.pocketnc.com",children:Object(L.jsx)("img",{width:"40",src:E,alt:"Pocket NC"})})}),Object(L.jsx)("div",{className:T.tabsContainer,children:Object(L.jsxs)(x.a,{container:!0,children:[Ac.map((function(e,n){var a=e.id,i=e.label,c=e.canHide,s=a===w;return Object(L.jsx)(r.a.Fragment,{children:Object(L.jsx)(y.a,{smDown:c,children:Object(L.jsx)(x.a,{item:!0,md:2,sm:3,xs:3,className:T.tabItem,children:Object(L.jsx)(h.a,{classes:{root:T.tabButton},onClick:N(a),color:s?"primary":"default",children:Object(L.jsxs)("div",{className:T.tabLabelContainer,children:[Object(L.jsx)("div",{className:T.tabLine,style:{borderColor:s?o.palette.primary.main:o.palette.text.main}}),Object(L.jsxs)("div",{className:T.tabLabel,children:[s&&!m?Object(L.jsx)(k.a,{className:T.tabIcon}):null," ",Object(L.jsx)("span",{className:T.tabText,children:t(i)})]})]})})})})},e.id)})),Object(L.jsx)(y.a,{mdUp:!0,children:Object(L.jsxs)(x.a,{item:!0,sm:3,xs:3,className:T.tabItem,children:[Object(L.jsx)(h.a,{classes:{root:T.tabButton},onClick:function(e){d(!l)},ref:u,children:Object(L.jsx)(C.a,{})}),Object(L.jsx)(g.a,{open:l,anchorEl:u.current,onClose:function(){d(!1)},children:Ac.filter((function(e){return e.canHide})).map((function(e){var n=e.id,a=e.label,i=n===w;return Object(L.jsxs)(v.a,{onClick:N(n),classes:{root:V()(T.tabButton,Object(b.a)({},T.active,i))},children:[i?Object(L.jsx)(k.a,{}):null," ",t(a)]},n)}))})]})})]})})]})},Dc=Object(d.a)((function(e){return{underlineSVG:{position:"fixed",top:78}}})),Lc=function(e){var t=Dc(),n=Object(i.useState)(window.innerWidth),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(O.a)();Object(i.useEffect)((function(){var e=function(){o(window.innerWidth)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]);var s=20*Math.PI/180,l=.15*r,d=.85*r,u=6*Math.cos(s),b=6-6*Math.sin(s),m=[["M",0,7],["L",l,7],["a",6,6,0,0,0,u,-b],["L",l+u+(8-2*b-1)*Math.tan(s),0+b],["a",6,6,0,0,1,u,-b],["L",d-u-(8-2*b-1)*Math.tan(s)-u,0],["a",6,6,0,0,1,u,b],["L",d-u,8-b-1],["a",6,6,0,0,0,u,b],["L",r,7],["L",r,8],["L",0,8],["Z"]];return Object(L.jsxs)("div",{children:[Object(L.jsx)(Mc,{}),Object(L.jsx)("svg",{width:r,height:8,className:t.underlineSVG,children:Object(L.jsx)("path",{d:m.map((function(e){return e.join(" ")})).join(" "),fill:c.palette.text.primary})})]})},Pc=Object(s.connect)((function(e,t){return{isInEstop:Pt(e),isHomed:an(e)}}),(function(e,t){return{onHome:function(){return e(ct.put.homeCmd())},onAbort:function(){return e(ct.put.abortCmd())},onDisableEstop:function(){return e(ct.put.estopCmd({data:[!1]}))}}}),(function(e,t,n){return{leftLabelKey:"homeAll",rightLabelKey:e.isInEstop?"estop":"reset",leftColor:"primary",rightColor:e.isInEstop?"error":"secondary",onLeftButtonClick:t.onHome,onRightButtonClick:e.isInEstop?t.onDisableEstop:t.onAbort,leftIcon:e.isHomed?null:Object(L.jsx)(ya.a,{fontSize:"large"}),rightIcon:e.isInEstop?Object(L.jsx)(Oo.a,{fontSize:"large"}):null}}))(Lc),Fc=Object(D.a)((function(e){return{focus:{display:"absolute",outline:"none"}}})),Rc=function(e){var t=e.enable,n=e.onKeyDown,a=e.onKeyUp,r=e.onFocus,o=e.onBlur,c=Object(i.useState)(!1),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(i.useCallback)((function(e){d(!0)}),[d]),b=Object(i.useCallback)((function(e){d(!1)}),[d]),m=Object(i.useRef)(null),j=Fc();return Object(i.useEffect)((function(){if(t){var e=setInterval((function(){var e=document.activeElement;l||"A"!==e.tagName&&"BODY"!==e.tagName&&"BUTTON"!==e.tagName||m.current.focus()}),100);return document.addEventListener("mousedown",u),document.addEventListener("mouseup",b),function(){clearInterval(e),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",b)}}}),[t,l,u,b]),Object(L.jsx)("div",{className:j.focus,tabIndex:"0",onKeyDown:n,onKeyUp:a,ref:m,onFocus:r,onBlur:o})},Uc=function(e){return e.router.location},Hc={estopDisable:function(){return ct.put.estopCmd({data:[!1]})},estopEnable:function(){return ct.put.estopCmd({data:[!0]})},feedrateDecrement1:function(){return ct.put.incrementFeedrateCmd({data:[-.01]})},feedrateIncrement1:function(){return ct.put.incrementFeedrateCmd({data:[.01]})},feedrateDecrement10:function(){return ct.put.incrementFeedrateCmd({data:[-.1]})},feedrateIncrement10:function(){return ct.put.incrementFeedrateCmd({data:[.1]})},spindlerateDecrement1:function(){return ct.put.incrementSpindleOverrideCmd({data:[-.01]})},spindlerateIncrement1:function(){return ct.put.incrementSpindleOverrideCmd({data:[.01]})},spindlerateDecrement10:function(){return ct.put.incrementSpindleOverrideCmd({data:[-.1]})},spindlerateIncrement10:function(){return ct.put.incrementSpindleOverrideCmd({data:[.1]})},homeAll:function(){return ct.put.homeCmd()},feedHold:function(){return ct.put.feedHoldCmd()},step:function(){return ct.put.autoCmd({data:["AUTO_STEP"]})},cycleStart:function(){return ct.put.cycleStartCmd()},reset:function(){return ct.put.abortCmd()}},Gc={axisSelectJogX:function(){return xa.axisSelectJog.setAxis("X")},axisSelectJogY:function(){return xa.axisSelectJog.setAxis("Y")},axisSelectJogZ:function(){return xa.axisSelectJog.setAxis("Z")},axisSelectJogA:function(){return xa.axisSelectJog.setAxis("A")},axisSelectJogB:function(){return xa.axisSelectJog.setAxis("B")},axisSelectJogC:function(){return xa.axisSelectJog.setAxis("C")},axisSelectJogIncreaseStepSize:function(){return xa.axisSelectJog.incrementDigitIndex(1)},axisSelectJogDecreaseStepSize:function(){return xa.axisSelectJog.incrementDigitIndex(-1)}},Bc=Object(s.connect)((function(e,t){return{enable:!0,axes:nn(e),location:Uc(e).pathname,enableKeyboardJogging:dt(e),maxVel:jn(e),feedrate:hn(e),spindle:On(e),maxRapid:fn(e),machineStatus:Wt(e),maxLinearVelocity:Kt(e),positions:cn(e),shortcutsMap:In(e),trajCoords:Vt(e),axisSelectJogAxis:St(e),axisSelectJogDigitIndex:Ct(e),displayUnits:Ot(e)}}),(function(e,t){return{onFocus:function(){},onBlur:function(){},onJogContinuous:function(t,n){e(ct.putHelpers.jogContinuous({axis:t,speed:n}))},onJogIncrement:function(t,n,a){e(ct.putHelpers.jogIncrement({axis:t,speed:n,increment:a}))},onJogStop:function(t){e(ct.putHelpers.jogStop({axis:t}))},onAction:e}}),(function(e,t,n){var a=e.enable,i=e.location,r=e.enableKeyboardJogging,o=e.shortcutsMap,c=e.trajCoords,s=e.axisSelectJogAxis,l=e.axisSelectJogDigitIndex,d=e.displayUnits,u=t.onFocus,p=t.onBlur,b=t.onJogContinuous,m=t.onJogIncrement,j=t.onJogStop,f=t.onAction;return{enable:a,onFocus:u,onBlur:p,onKeyDown:function(e){var t=e.nativeEvent,n=e.shiftKey,a=e.altKey,u=e.ctrlKey,p=e.metaKey,j=e.repeat,h=(u?"Ctrl+":"")+(n?"Shift+":"")+(a?"Alt+":"")+(p?"Meta+":""),O=t.code;O.startsWith("Digit")?O=O.slice(5):O.startsWith("Key")&&(O=O.slice(3));var x=h+O;if(!j&&o.hasOwnProperty(x)){var g=o[x];if(g.startsWith("jog")){if((i.startsWith(Ec)||i.startsWith(kc))&&r){var v=c.indexOf(g[3]);if(-1!==v){var y="+"===g[4]?1:-1,S=v>2?10:1;if(g.includes("slow"))b(v,S*y*.1);else if(g.includes("incremental")){var C=v>2?d.angle:d.length,w=l||1,k=(v>2||"mm"===C?.001:1e-4)*Math.pow(10,w-1),E=Ne({value:k,unit:C}).value;m(v,y*S,E)}else b(v,S*y);Ka.play()}}}else if(g.startsWith("axisSelectJog")){if(Gc.hasOwnProperty(g)){var I=Gc[g]();f(I),Ka.play()}else if((i.startsWith(Ec)||i.startsWith(kc))&&r){var N=c.indexOf(s);if(-1!==N&&l>0&&l<5){var T=N>2?d.angle:d.length,_=(N>2||"mm"===T?.001:1e-4)*Math.pow(10,l-1),A=Ne({value:_,unit:T}).value,M=g.includes("+")?1:-1;m(N,M*(N>2?10:1),A),Ka.play()}}}else{var D=Hc[g]();f(D),Ka.play()}}},onKeyUp:function(e){var t=e.nativeEvent.code;if(t.startsWith("Digit")?t=t.slice(5):e.nativeEvent.code.startsWith("Key")&&(t=t.slice(3)),o.hasOwnProperty(t)&&o[t].startsWith("jog")){var n=o[t],a=c.indexOf(n[3]);j(a)}}}}))(Rc),zc=n(113),Wc=n(222),Jc=n(207),Vc=n.n(Jc),Kc=n(206),Yc=n.n(Kc),Xc=Object(d.a)((function(e){return{primary:{color:e.palette.primary.main,lineHeight:"63px"},secondary:{color:e.palette.secondary.main,lineHeight:"63px"},extra:Object(m.a)({marginBottom:e.spacing(1),marginLeft:e.spacing(1)},e.typography.statusItem)}})),qc=function(e){var t=e.color,n=e.children,a=Xc(),i=Object(O.a)(),r={};return!!a[t]||(r.color=t||i.palette.common.white),Object(L.jsx)("span",{className:V()(a[t],a.extra),style:r,children:n})},Zc=Object(d.a)((function(e){return{primary:{color:e.palette.primary.main,lineHeight:"20px"},secondary:{color:e.palette.secondary.main,lineHeight:"20px"},extra:Object(m.a)({lineHeight:"20px",marginBottom:e.spacing(1),marginLeft:e.spacing(1)},e.typography.statusItem)}})),Qc=function(e){var t=e.color,n=e.children,a=Zc(),i=Object(O.a)(),r={};return!!a[t]||(r.color=t||i.palette.common.white),Object(L.jsx)("span",{className:V()(a[t],a.extra),style:r,children:n})},$c=["G0","G1","G2","G3","G17","G18","G19","G20","G21","G43","G49","G54","G55","G56","G57","G58","G59","G59.1","G59.2","G59.3","G90","G91","G93","G94","M3","M4","M5","M7","M8","M9","M428","M429","M430"],es=function(e){var t=e.activeCodes,n=void 0===t?["G1","G17","G20"]:t,a=A().t,i=n.filter((function(e){return-1!==$c.indexOf(e)}));return Object(L.jsxs)(qc,{children:[Object(L.jsx)(y.a,{mdDown:!0,children:Object(L.jsx)(G.a,{title:n.join(" "),arrow:!0,enterTouchDelay:0,children:Object(L.jsx)("span",{children:i.join(" ")})})}),Object(L.jsx)(y.a,{lgUp:!0,children:Object(L.jsx)(G.a,{title:n.join(" "),arrow:!0,enterTouchDelay:0,children:Object(L.jsx)("span",{children:a("activeCodes")})})})]})},ts=Object(s.connect)((function(e,t){return{activeCodes:qt(e)}}),(function(e,t){return{}}))(es),ns=n(386),as=Object(D.a)((function(e){return{badge:{},info:{color:e.palette.text.primary,backgroundColor:e.palette.primary.light},warning:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.light},error:{color:e.palette.text.primary,backgroundColor:e.palette.error.light}}})),is=function(e){var t=e.messageBadges,n=e.onClear,a=Object(i.useState)(null),r=Object(p.a)(a,2),o=r[0],c=r[1],s=Object(i.useState)(null),l=Object(p.a)(s,2),d=l[0],u=l[1],b=A().t,m=as(),j=function(e){return function(t){c(t.currentTarget),u(e)}};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(qc,{children:[t.info.length>0?Object(L.jsx)(Ga.a,{color:"inherit",onClick:j("info"),children:Object(L.jsx)(ns.a,{badgeContent:t.info.length,color:"primary",classes:{root:m.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(L.jsx)(fo.a,{})})}):null,t.warning.length>0?Object(L.jsx)(Ga.a,{color:"inherit",onClick:j("warning"),children:Object(L.jsx)(ns.a,{badgeContent:t.warning.length,color:"secondary",classes:{root:m.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(L.jsx)(ya.a,{})})}):null,t.error.length>0?Object(L.jsx)(Ga.a,{color:"inherit",onClick:j("error"),children:Object(L.jsx)(ns.a,{badgeContent:t.error.length,color:"error",classes:{root:m.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(L.jsx)(Oo.a,{})})}):null]}),Object(L.jsxs)(g.a,{id:"message-badges-menu",anchorEl:o,open:Boolean(d),onClose:function(){c(null),u(null)},children:[d?t[d].map((function(e,t){return Object(L.jsx)(v.a,{style:{opacity:1},disabled:!0,classes:{root:m[e.type]},children:e.message},t)})):null,Object(L.jsx)(v.a,{onClick:function(){u(null),c(null),n&&n(d)},children:b("clear")})]})]})},rs=Object(s.connect)((function(e,t){return{messageBadges:ht(e)}}),(function(e,t){return{onClear:function(t){e(xa.clearMessageBadge(t))}}}))(is),os=Object(d.a)((function(e){return{bar:{},left:{zIndex:200,position:"fixed",bottom:0,left:0,height:63},right:{position:"fixed",bottom:0,right:0,lineHeight:"66px",paddingRight:e.spacing(1),verticalAlign:"middle",zIndex:200,height:63},paper:{backgroundColor:e.palette.text.primary,padding:e.spacing(1)},statusSpan:{textAlign:"center",verticalAlign:"middle",display:"inline-block",textTransform:"uppercase",whiteSpace:"nowrap",lineHeight:"63px"},statusItem:Object(m.a)({},e.typography.statusItem)}})),cs=function(e){var t=e.connected,n=e.rtcSeconds,a=e.machineStatus,i=Object(I.a)().t,r=os(),o=Object(O.a)(),c=Object(f.a)(o.breakpoints.down("sm")),s=Math.floor(n/60/60)||0,l=Math.floor(n/60-60*s)||0,d=n-60*s*60-60*l||0;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:r.left,children:[t?Object(L.jsxs)(qc,{color:"primary",children:[Object(L.jsx)(Yc.a,{className:r.statusSpan}),c?Object(L.jsx)("span",{className:r.statusSpan}):Object(L.jsx)("span",{className:r.statusSpan,children:i("connected")})]}):Object(L.jsxs)(qc,{color:"secondary",children:[Object(L.jsx)(Vc.a,{className:r.statusSpan}),c?Object(L.jsx)("span",{className:r.statusSpan}):Object(L.jsx)("span",{className:r.statusSpan,children:i("disconnected")})]}),Object(L.jsx)(ts,{})]}),Object(L.jsxs)("div",{className:r.right,children:[Object(L.jsxs)(Qc,{children:[i(a),Object(L.jsx)("br",{}),("0"+s).slice(-2),":",("0"+l).slice(-2),":",("0"+d.toFixed(1)).slice(-4)]}),Object(L.jsx)(rs,{})]})]})},ss=Object(s.connect)((function(e,t){return{connected:Nt(e),rtcSeconds:function(e){return e.rockhopper.status.rtcSeconds}(e),machineStatus:Wt(e)}}),(function(e,t){return{}}))(cs),ls=Object(d.a)((function(e){return{button:{},bottomBar:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"rgba(0,0,0,0)"}}})),ds=function(e){var t=ls(),n=Object(I.a)().t,a=e.buttonLabel,i=e.buttonColor,r=e.onButtonClick,o=Object(Pr.a)(),c=Object(p.a)(o,2),s=c[0],l=c[1].width,d=63,u=Object(O.a)(),b=Object(f.a)(u.breakpoints.down("sm")),m=70*Math.PI/180,j=.3*l,h=6*Math.sin(m),x=6+6*Math.cos(m),g=6*Math.sin(m),v=6-6*Math.cos(m),y=u.spacing(1),S=Math.tan(m),C=63-x-v,w=C/S,k=x/S,E=v/S,N=[["M",0,0],["L",j,0],["a",6,6,0,0,1,h,x],["l",-w,C],["a",6,6,0,0,1,-g,v],["L",0,63],["Z"]],T=[["M",l,0],["L",l-j,0],["a",6,6,0,0,0,-h,x],["l",w,C],["a",6,6,0,0,0,g,v],["L",l,63],["Z"]],_=[["M",j+h+k+g-E+y,0],["a",6,6,0,0,0,-g,v],["l",-w,C],["a",6,6,0,0,0,h,x],["L",l-j-h+w+E-h-k-y,63],["a",6,6,0,0,0,h,-x],["l",-w,-C],["a",6,6,0,0,0,-g,-v],["Z"]],A=[_[0],_[1],_[2],_[3],["L",0,63],["L",0,0],["Z"]],M=[["M",l,63],_[4],_[5],_[6],_[7],["L",l,0],["Z"]],D=_[0][1]+_[1][6]+_[2][1]+_[3][6]-6,P=_[4][1]+6-D;return Object(L.jsxs)("div",{ref:s,className:t.bottomBar,children:[Object(L.jsx)(zc.a,{focusRipple:!0,className:t.button,style:{left:D,height:62},onClick:r,children:Object(L.jsxs)(Wc.a,{width:l,height:d,viewBox:D+" 0 "+P+" "+d,style:{width:P,height:d,left:D},children:[Object(L.jsx)("path",{d:_.map((function(e){return e.join(" ")})).join(" "),fill:u.palette[i].main}),Object(L.jsx)("text",{x:.5*l,y:31.5,style:b?u.typography.bottomButtonSm:u.typography.bottomButton,textAnchor:"middle",alignmentBaseline:"middle",children:n(a)})]})}),Object(L.jsxs)("svg",{width:l,height:d,style:{display:"block",height:d,position:"fixed",bottom:0,zIndex:100},pointerEvents:"none",children:[Object(L.jsx)("path",{d:A.map((function(e){return e.join(" ")})).join(" "),fill:u.palette.background.paper,pointerEvents:"visible"}),Object(L.jsx)("path",{d:M.map((function(e){return e.join(" ")})).join(" "),fill:u.palette.background.paper,pointerEvents:"visible"}),Object(L.jsx)("path",{d:N.map((function(e){return e.join(" ")})).join(" "),fill:u.palette.text.primary}),Object(L.jsx)("path",{d:T.map((function(e){return e.join(" ")})).join(" "),fill:u.palette.text.primary})]}),Object(L.jsx)(ss,{})]})},us=Object(s.connect)((function(e,t){return{isInEstop:Pt(e)}}),(function(e,t){return{onAbort:function(){return e(ct.put.abortCmd())},onDisableEstop:function(){return e(ct.put.estopCmd({data:[!1]}))}}}),(function(e,t,n){return{buttonLabel:e.isInEstop?"estop":"reset",buttonColor:e.isInEstop?"error":"secondary",onButtonClick:e.isInEstop?t.onDisableEstop:t.onAbort}}))(ds),ps=n(141),bs=n(68),ms=Object(bs.a)({hashType:"noslash"}),js=function(){return{id:"router",reducerMap:{router:Object(ps.b)(ms)}}},fs=Object(rr.a)(j.a),hs=Object(d.a)((function(e){return{container:{position:"fixed",right:0,bottom:64},item:{width:350,height:88,float:"right",clear:"right",margin:e.spacing(1),padding:e.spacing(1),backgroundColor:e.palette.common.white,borderRadius:4,position:"absolute",bottom:0,right:0},info:{backgroundColor:e.palette.primary.verylight},warning:{backgroundColor:e.palette.secondary.verylight},error:{backgroundColor:e.palette.error.verylight},infoIcon:{color:e.palette.primary.main,float:"left",paddingRight:e.spacing(1)},warningIcon:{color:e.palette.secondary.main,float:"left",paddingRight:e.spacing(1)},errorIcon:{color:e.palette.error.main,float:"left",paddingRight:e.spacing(1)},message:{}}})),Os=function(e){var t=e.messages,n=hs(),a=t.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{index:t})})),i=Object(rr.c)(a,(function(e){return e.id}),{from:function(e){e.index;return{opacity:0,transform:"translate(0, -100%)"}},enter:function(e){e.index;return{opacity:1,transform:"translate(0, 0)"}},leave:function(e){e.index;return{opacity:0,transform:"translate(0, 100%)"}},update:function(e){var t=e.index;return{bottom:112*(a.length-t-1)}}});return Object(L.jsx)("div",{className:n.container,children:i.map((function(e){var t,a=e.item,i=e.props;switch(a.type){case ue:t=Object(L.jsx)(Oo.a,{className:n.errorIcon});break;case de:t=Object(L.jsx)(ya.a,{className:n.warningIcon});break;case le:t=Object(L.jsx)(fo.a,{className:n.infoIcon});break;default:t=null}return Object(L.jsxs)(fs,{style:i,elevation:2,className:V()(n.item,n[a.type]),children:[t," ",Object(L.jsx)("span",{className:n.message,children:a.message})]},a.id)}))})},xs=Object(s.connect)((function(e,t){return{messages:pt(e)}}),(function(e,t){return{}}))(Os),gs=Object(l.a)({palette:{primary:{verylight:"#edfcf7",light:"#59e4b8",main:"#03b188",dark:"#00805b",contrastText:"#ffffff"},secondary:{verylight:"#fffcee",main:"#ffb431",light:"#ffe665",dark:"#c78500",contrastText:"#2d2d2d"},text:{primary:"#333333",secondary:"#333333"}},typography:{button:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:2,textTransform:"uppercase",fontSize:".75rem"},mainTab:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:".875rem"},statusItem:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:12,display:"inline-block",verticalAlign:"middle",textTransform:"uppercase"},axisLabel:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:30,display:"inline-block",verticalAligner:"middle",textTransform:"uppercase"},axisValue:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:30,display:"inline-block",verticalAligner:"middle"},dataText:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,textAlign:"center",fontWeight:"bold"},topButton:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:8,textTransform:"uppercase",fontSize:25},topButtonSm:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:18},bottomButton:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:8,textTransform:"uppercase",fontSize:25},bottomButtonSm:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:18},panelHeader:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:0,fontSize:22,fontWeight:"bold",textTransform:"uppercase",whiteSpace:"nowrap"},sectionHeader:{fontFamily:'"Titillium Web Regular", sans-serif',letterSpacing:3,fontSize:14,fontWeight:"normal"},gaugeText:{fontFamily:'"Titillium Web Regular", sans-serif',fontWeight:"bold"},gaugeHeader:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:.2,fontSize:4,fontWeight:"bold",textTransform:"uppercase"},rpmText:{fontFamily:'"Titillium Web Bold", sans-serif',fontSize:15,textTransform:"uppercase"}},overrides:{MuiInputBase:{root:{fontFamily:'"Titillium Web Regular", sans-serif'}},MuiFormLabel:{root:{fontFamily:'"Titillium Web Regular", sans-serif'}}}});gs.palette.error.verylight="#fcf0f0",window.theme=gs;var vs=Object(d.a)((function(e){return{mainContent:{position:"fixed",width:"100%",height:"calc( 100% - 86px - 51px )",top:86,left:0,overflow:"scroll"}}}));function ys(){var e=vs();return Object(L.jsx)(u.a,{theme:gs,children:Object(L.jsxs)(ps.a,{history:ms,children:[Object(L.jsx)(Pc,{}),Object(L.jsxs)("div",{className:e.mainContent,children:[Object(L.jsxs)(po.c,{children:[Ac.filter((function(e){return!e.alwaysMounted})).map((function(e){var t=e.component,n=e.id,a=t;return Object(L.jsx)(po.a,{path:n,children:Object(L.jsx)(a,{})},n)})),Object(L.jsx)(po.a,{exact:!0,path:"/",children:Ac[1].component})]}),Ac.filter((function(e){return e.alwaysMounted})).map((function(e){var t=e.component,n=e.id,a=t;return Object(L.jsx)(a,{},n)}))]}),Object(L.jsx)(us,{}),Object(L.jsx)(Bc,{}),Object(L.jsx)(xs,{})]})})}var Ss=function(){return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)("img",{src:E,className:"App-logo",alt:"logo"}),Object(L.jsx)("div",{children:"loading..."})]})};var Cs=function(e){var t=e.dialect,n=e.displayUnits,a=e.activeCodes;return Object(L.jsx)(X,{value:{displayUnits:n,activeCodes:a},children:Object(L.jsx)(_,{value:t,children:Object(L.jsx)(i.Suspense,{fallback:Object(L.jsx)(Ss,{}),children:Object(L.jsx)(ys,{})})})})},ws=Object(s.connect)((function(e,t){return{dialect:mt(e),displayUnits:Ot(e),activeCodes:qt(e)}}))(Cs);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ks=n(209),Es=n(210),Is=n(211),Ns=n(391),Ts=function(){return Object.values(ct.get).map((function(e){return e({})})).reduce((function(e,t){var n=t.payload.name,a=t.type.split("/"),i=a[a.length-1],r=Ve("UPDATE",i),o=Ke(n);return e[r]=Object(R.a)((function(e,t){e.status[o]=t.payload.data})),e}),{})},_s=function(){return Object.values(ct.get).map((function(e){return e({})})).reduce((function(e,t){var n=t.payload.name,a=t.type.split("/"),i=a[a.length-1],r=Ve("DELAYED","UPDATE_IMMEDIATE",i),o=Ke(n);return e[r]=Object(R.a)((function(e,t){e.delayed.status[o]=t.payload.data})),e[Ve("DELAYED","UPDATE",i)]=Object(R.a)((function(e,t){e.delayed.status[o]=t.payload.data})),e[Ve("DELAYED","REGISTER_UPDATE",i)]=Object(R.a)((function(e,t){e.delayed.registered[o]=t.payload})),e}),{})},As=JSON.parse(localStorage.getItem(ce)||"{}"),Ms={webSocket:{server:As.server||(-1===document.location.hostname.indexOf("localhost")?document.location.hostname:"192.168.6.2"),port:As.port||"8000",user:As.user||"default",password:As.password||"default",encrypted:"undefined"!==typeof As.encrypted&&As.encrypted},isLoggedIn:!1,actionEmitters:{},features:{},status:{},delayed:{registered:{},status:{}},fileUpload:{},fileCache:{paths:{},progress:{}}},Ds=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.includeStatusReducers,a=void 0===n||n,i=t.includeDelayedStatusReducers,r=void 0===i||i,o=a?Ts():{},c=r?_s():{};return Object(Ns.a)(Object(m.a)(Object(m.a)((e={},Object(b.a)(e,ct.fileCache.initProgress,Object(R.a)((function(e,t){var n=t.payload,a=n.checksum,i=n.size;e.fileCache.progress[a]={size:i,bytesLoaded:0}}))),Object(b.a)(e,ct.fileCache.updateProgress,Object(R.a)((function(e,t){var n=t.payload,a=n.checksum,i=n.bytesLoaded;e.fileCache.progress[a].bytesLoaded=i}))),Object(b.a)(e,ct.fileCache.setPathChecksum,Object(R.a)((function(e,t){var n=t.payload,a=n.path,i=n.checksum;e.fileCache.paths[a]=i}))),Object(b.a)(e,ct.fileUpload.removeAll,Object(R.a)((function(e,t){e.fileUpload={}}))),Object(b.a)(e,ct.fileUpload.remove,Object(R.a)((function(e,t){var n=t.payload;delete e.fileUpload[n]}))),Object(b.a)(e,ct.fileUpload.cancel,Object(R.a)((function(e,t){var n=t.payload;e.fileUpload[n]&&(e.fileUpload[n].state=ee)}))),Object(b.a)(e,ct.fileUpload.cancelAll,Object(R.a)((function(e,t){for(var n in e.fileUpload)e.fileUpload[n].state=ee}))),Object(b.a)(e,ct.fileUpload.progress,Object(R.a)((function(e,t){var n=t.payload,a=n.path,i=n.progress;e.fileUpload[a]&&(e.fileUpload[a].progress=i,e.fileUpload[a].state=Q)}))),Object(b.a)(e,ct.fileUpload.finalize,Object(R.a)((function(e,t){var n=t.payload.path;delete e.fileUpload[n]}))),Object(b.a)(e,ct.fileUpload.askForOverwrite,Object(R.a)((function(e,t){var n=t.payload.path;e.fileUpload[n].state=$}))),Object(b.a)(e,ct.fileUpload.confirmOverwrite,Object(R.a)((function(e,t){var n=t.payload;e.fileUpload[n].overwrite=!0}))),Object(b.a)(e,ct.fileUpload.confirmOverwriteAll,Object(R.a)((function(e,t){for(var n in e.fileUpload)e.fileUpload[n].overwrite=!0}))),Object(b.a)(e,ct.fileUpload.queued,Object(R.a)((function(e,t){var n=t.payload,a=n.path,i=n.overwrite;e.fileUpload[a]={path:a,overwrite:i,progress:0,state:Z}}))),Object(b.a)(e,ct.setLoggedIn,Object(R.a)((function(e,t){var n=t.payload;e.isLoggedIn=n,n||(e.fileUpload={})}))),Object(b.a)(e,ct.setConnectionDetails,Object(R.a)((function(e,t){var n=t.payload,a=n.server,i=n.port,r=n.user,o=n.password,c=n.encrypted;e.webSocket.user=r,e.webSocket.password=o,e.webSocket.server=a,e.webSocket.port=i,e.webSocket.encrypted=c}))),Object(b.a)(e,ct.addActionEmitter,Object(R.a)((function(e,t){var n=t.payload.id;e.actionEmitters[n]||(e.actionEmitters[n]=[]),e.actionEmitters[n].push(t.payload)}))),Object(b.a)(e,ct.removeActionEmitter,Object(R.a)((function(e,t){var n=t.payload,a=n.id,i=n.type;if(e.actionEmitters[a]){var r=e.actionEmitters[a].findIndex((function(e){return e.id===a&&e.type===i}));e.actionEmitters[a].splice(r,1)}}))),Object(b.a)(e,ct.response.getHelpers.programPrefix,Object(R.a)((function(e,t){e.status.programPrefix=t.payload.data.parameters[0].values.value}))),Object(b.a)(e,ct.response.getHelpers.features,Object(R.a)((function(e,t){var n={};if(t.payload.data.parameters){var a,i=Object(st.a)(t.payload.data.parameters);try{for(i.s();!(a=i.n()).done;){n[a.value.values.name]=!0}}catch(r){i.e(r)}finally{i.f()}}e.features=n}))),Object(b.a)(e,ct.updateHelpers.toolFlutes,Object(R.a)((function(e,t){e.status.clientConfig.ToolFlutes=t.payload.data}))),Object(b.a)(e,ct.updateHelpers.toolTableDescriptions,Object(R.a)((function(e,t){e.status.clientConfig.ToolTableDescriptions=t.payload.data}))),Object(b.a)(e,ct.updateHelpers.toolDiameter,Object(R.a)((function(e,t){var n=Object(Me.a)(t.payload.data),a=n[0],i=n[1];e.status.toolTable[a][Se]=i}))),Object(b.a)(e,ct.updateHelpers.toolLengthOffset,Object(R.a)((function(e,t){var n=Object(Me.a)(t.payload.data),a=n[0],i=n[1];e.status.toolTable[a][ye]=i}))),Object(b.a)(e,ct.updateHelpers.toolTableRow,Object(R.a)((function(e,t){var n=Object(Me.a)(t.payload.data)[0];e.status.toolTable[n]=[null].concat(Object(Me.a)(t.payload.data))}))),Object(b.a)(e,ct.updateHelpers.toolTable,Object(R.a)((function(e,t){e.status.toolTable=[null].concat(Object(Me.a)(t.payload.data))}))),Object(b.a)(e,ct.updateHelpers.configOverlay,Object(R.a)((function(e,t){e.status.configOverlay=t.payload.data}))),Object(b.a)(e,ct.updateHelpers.compensation,Object(R.a)((function(e,t){e.status.compensation=t.payload.data}))),e),o),c),Ms)},Ls=n(3),Ps=n(212),Fs=n.n(Ps),Rs=Rr.a.mark(jl),Us=Rr.a.mark(fl),Hs=Rr.a.mark(hl),Gs=Rr.a.mark(Ol),Bs=Rr.a.mark(xl),zs=Rr.a.mark(vl),Ws=Rr.a.mark(yl),Js=Rr.a.mark(Sl),Vs=Rr.a.mark(Cl),Ks=Rr.a.mark(wl),Ys=Rr.a.mark(kl),Xs=Rr.a.mark(El),qs=Rr.a.mark(Il),Zs=Rr.a.mark(Nl),Qs=Rr.a.mark(Tl),$s=Rr.a.mark(_l),el=Rr.a.mark(Al),tl=Rr.a.mark(Ml),nl=Rr.a.mark(Dl),al=Rr.a.mark(Ll),il=Rr.a.mark(Pl),rl=Rr.a.mark(Fl),ol=Rr.a.mark(Rl),cl=Rr.a.mark(Ul),sl=Rr.a.mark(Hl),ll=Rr.a.mark(Gl),dl=function(e,t,n){try{return new WebSocket("ws".concat(n?"s":"","://").concat(e,":").concat(t,"/websocket/"))}catch(a){return null}},ul=function(e,t){e.send(JSON.stringify(t))},pl=function(e,t,n){return new Promise((function(a,i){var r=ne,o=function(){ul(e,function(e,t){return{id:ne,user:e,password:t,date:(new Date).toISOString()}}(t,n))},c=function(e){a(!1)};e.addEventListener("open",o),e.addEventListener("close",c),e.addEventListener("message",(function t(n){var i=JSON.parse(n.data);i.code===oe&&i.id===r&&(a(!0),e.removeEventListener("open",o),e.removeEventListener("close",c),e.removeEventListener("message",t)),i.code!==oe&&i.id===r&&(console.log("Login Failed",i),a(!1))}))}))},bl=function(e){e.readyState!==WebSocket.CLOSED&&e.readyState!==WebSocket.CLOSING&&e.close()},ml=function(e){return Object(io.eventChannel)((function(t){var n=!0,a=function(e){var a=JSON.parse(e.data);n=!0,a.id!==ae&&t(a)},i=function(){t(new Error("WebSocket closed."))};e.addEventListener("message",a),e.addEventListener("close",i);var r=setInterval((function(){if(n){ul(e,Fe("HEARTBEAT_ID","estop")),n=!1}else t(new Error("Heartbeat timed out."))}),3e3);return function(){e.removeEventListener("message",a),e.removeEventListener("close",i),clearInterval(r)}}))};function jl(e){var t,n,a,i,r,o,c,s,l,d,u,p;return Rr.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Object(Ls.b)(ml,e);case 2:t=b.sent;case 3:return b.prev=4,b.next=7,Object(Ls.k)(t);case 7:return n=b.sent,b.next=10,Object(Ls.j)(Et);case 10:if(a=b.sent,!(i=a.actionEmitters)[n.id]){b.next=30;break}r=Object(st.a)(i[n.id]),b.prev=14,r.s();case 16:if((o=r.n()).done){b.next=22;break}return c=o.value,b.next=20,Object(Ls.h)(We(c.type,n));case 20:b.next=16;break;case 22:b.next=27;break;case 24:b.prev=24,b.t0=b.catch(14),r.e(b.t0);case 27:return b.prev=27,r.f(),b.finish(27);case 30:if(!n.meta||!n.meta.actionEmitters){b.next=48;break}s=Object(st.a)(n.meta.actionEmitters),b.prev=32,s.s();case 34:if((l=s.n()).done){b.next=40;break}return d=l.value,b.next=38,Object(Ls.h)(We(d,n));case 38:b.next=34;break;case 40:b.next=45;break;case 42:b.prev=42,b.t1=b.catch(32),s.e(b.t1);case 45:return b.prev=45,s.f(),b.finish(45);case 48:if("WATCH_ERROR"!==n.id||!n.data){b.next=58;break}if(!ct.messages[n.data.type]){b.next=54;break}return b.next=52,Object(Ls.h)(ct.messages[n.data.type](n.data.text,n));case 52:b.next=56;break;case 54:return b.next=56,Object(Ls.h)(ct.messages.error(n.data.text,n));case 56:return b.next=58,Object(Ls.h)(ct.put.clearError());case 58:if(!(n.code!==oe||n.data&&n.data.notify)){b.next=63;break}return u=n.data.notify&&n.data.notify.type||"error",p=n.data&&n.data.message||n.data&&n.data.notify&&n.data.notify.message||n.data&&n.data.notify&&n.data.notify.text||n.code.replace("?",""),b.next=63,Object(Ls.h)(ct.messages[u](p,n));case 63:b.next=69;break;case 65:b.prev=65,b.t2=b.catch(4),console.log("caught error",b.t2),t.close();case 69:b.next=3;break;case 71:case"end":return b.stop()}}),Rs,null,[[4,65],[14,24,27,30],[32,42,45,48]])}function fl(e,t){return Rr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ls.b)(ul,e,t.payload);case 2:case"end":return n.stop()}}),Us)}function hl(e){return Rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ls.l)([ct.cmds.raw,ct.cmds.get,ct.cmds.watch,ct.cmds.put,ct.cmds.listGet,ct.cmds.listPut].concat(Object(Me.a)(Object.values(ct.watch)),Object(Me.a)(Object.values(ct.unwatch)),Object(Me.a)(Object.values(ct.get)),Object(Me.a)(Object.values(ct.put)),Object(Me.a)(Object.values(ct.getHelpers)),Object(Me.a)(Object.values(ct.putHelpers))),fl,e);case 2:case"end":return t.stop()}}),Hs)}function Ol(){var e,t,n,a,i,r,o,c,s;return Rr.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(Ls.j)(It);case 2:return e=l.sent,t=e.server,n=e.port,a=e.user,i=e.password,r=e.encrypted,l.next=10,Object(Ls.b)(dl,t,n,r);case 10:if(!(o=l.sent)){l.next=34;break}return l.next=14,Object(Ls.b)(pl,o,a,i);case 14:if(!l.sent){l.next=32;break}return l.next=18,Object(Ls.h)(ct.messages.info("Connected to machine."));case 18:return l.next=20,Object(Ls.f)(hl,o);case 20:return c=l.sent,l.next=23,Object(Ls.f)(jl,o);case 23:return s=l.sent,l.next=26,Object(Ls.h)(ct.setLoggedIn(!0));case 26:return l.next=28,Object(Ls.g)(s);case 28:return l.next=30,Object(Ls.c)(c);case 30:return l.next=32,Object(Ls.h)(ct.messages.warning("Lost connection with machine."));case 32:return l.next=34,Object(Ls.b)(bl,o);case 34:case"end":return l.stop()}}),Gs)}function xl(){var e;return Rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ls.a)(ct.setConnectionDetails);case 2:e=t.sent;case 3:return t.next=6,Object(Ls.i)({updateConnectionDetails:Object(Ls.k)(e),connection:Object(Ls.b)(Ol)});case 6:if(!t.sent.updateConnectionDetails){t.next=12;break}return t.next=10,Object(Ls.b)(vl);case 10:t.next=14;break;case 12:return t.next=14,Object(Ls.d)(1e3);case 14:return t.next=16,Object(Ls.h)(ct.setLoggedIn(!1));case 16:t.next=3;break;case 18:case"end":return t.stop()}}),Bs)}var gl=function(e,t,n,a,i){localStorage.setItem(ce,JSON.stringify({server:e,port:t,user:n,password:a,encrypted:i}))};function vl(){var e,t,n,a,i,r;return Rr.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Ls.j)(It);case 2:return e=o.sent,t=e.server,n=e.port,a=e.user,i=e.password,r=e.encrypted,o.next=10,Object(Ls.b)(gl,t,n,a,i,r);case 10:case"end":return o.stop()}}),zs)}function yl(){var e,t,n,a;return Rr.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ls.h)(ct.getHelpers.features());case 2:return i.next=4,Object(Ls.k)(ct.response.getHelpers.features);case 4:return i.next=6,Object(Ls.j)(Et);case 6:e=i.sent,t=e.features,i.t0=Rr.a.keys(ct.watch);case 9:if((i.t1=i.t0()).done){i.next=17;break}if(n=i.t1.value,!(a=ct.watch[n]).requiresFeature||!t[a.requiresFeature]){i.next=15;break}return i.next=15,Object(Ls.h)(a());case 15:i.next=9;break;case 17:case"end":return i.stop()}}),Ws)}function Sl(e){return Rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.payload){t.next=118;break}return t.next=4,Object(Ls.h)(ct.watch.estop());case 4:return t.next=6,Object(Ls.h)(ct.get.joints());case 6:return t.next=8,Object(Ls.h)(ct.get.axisMask());case 8:return t.next=10,Object(Ls.h)(ct.watch.axesData());case 10:return t.next=12,Object(Ls.h)(ct.watch.g5xOffset());case 12:return t.next=14,Object(Ls.h)(ct.watch.g5xIndex());case 14:return t.next=16,Object(Ls.h)(ct.watch.g92Offset());case 16:return t.next=18,Object(Ls.h)(ct.watch.toolOffset());case 18:return t.next=20,Object(Ls.h)(ct.watch.halpinHaluiMaxVelocityValue());case 20:return t.next=22,Object(Ls.h)(ct.getHelpers.programPrefix());case 22:return t.next=24,Object(Ls.h)(ct.watch.program());case 24:return t.next=26,Object(Ls.f)(yl);case 26:return t.next=28,Object(Ls.h)(ct.watch.halpinMotionSwitchkinsType());case 28:return t.next=30,Object(Ls.h)(ct.watch.rapidrate());case 30:return t.next=32,Object(Ls.h)(ct.watch.command());case 32:return t.next=34,Object(Ls.h)(ct.watch.homed());case 34:return t.next=36,Object(Ls.h)(ct.watch.spindle());case 36:return t.next=38,Object(Ls.h)(ct.watch.feedrate());case 38:return t.next=40,Object(Ls.h)(ct.watch.gcodes());case 40:return t.next=42,Object(Ls.h)(ct.watch.mcodes());case 42:return t.next=44,Object(Ls.h)(ct.watch.halpinHaluiMaxVelocityValue());case 44:return t.next=46,Object(Ls.h)(ct.watch.measuredSpindleCurrent());case 46:return t.next=48,Object(Ls.h)(ct.watch.measuredSpindleVoltage());case 48:return t.next=50,Object(Ls.h)(ct.watch.measuredSpindleSpeed());case 50:return t.next=52,Object(Ls.h)(ct.get.spindleMaxSpeed());case 52:return t.next=54,Object(Ls.h)(ct.watch.calculatedFeedrate());case 54:return t.next=56,Object(Ls.h)(ct.watch.spindleTemperature());case 56:return t.next=58,Object(Ls.h)(ct.watch.spindlePressure());case 58:return t.next=60,Object(Ls.h)(ct.watch.toolReleased());case 60:return t.next=62,Object(Ls.h)(ct.watch.viceReleased());case 62:return t.next=64,Object(Ls.h)(ct.watch.linearUnits());case 64:return t.next=66,Object(Ls.h)(ct.watch.programUnits());case 66:return t.next=68,Object(Ls.h)(ct.watch.taskState());case 68:return t.next=70,Object(Ls.h)(ct.watch.taskMode());case 70:return t.next=72,Object(Ls.h)(ct.watch.interpState());case 72:return t.next=74,Object(Ls.h)(ct.watch.queueFull());case 74:return t.next=76,Object(Ls.h)(ct.watch.paused());case 76:return t.next=78,Object(Ls.h)(ct.watch.mist());case 78:return t.next=80,Object(Ls.h)(ct.watch.flood());case 80:return t.next=82,Object(Ls.h)(ct.watch.toolInSpindle());case 82:return t.next=84,Object(Ls.h)(ct.watch.settings());case 84:return t.next=86,Object(Ls.h)(ct.watch.motionLine());case 86:return t.next=88,Object(Ls.h)(ct.watch.optionalStop());case 88:return t.next=90,Object(Ls.h)(ct.watch.error());case 90:return t.next=92,Object(Ls.h)(ct.watch.clientConfig());case 92:return t.next=94,Object(Ls.h)(ct.watch.ls());case 94:return t.next=96,Object(Ls.h)(ct.watch.usbDetected());case 96:return t.next=98,Object(Ls.h)(ct.watch.rtcSeconds());case 98:return t.next=100,Object(Ls.h)(ct.watch.rotaryMotionOnly());case 100:return t.next=102,Object(Ls.h)(ct.watch.toolTable());case 102:return t.next=104,Object(Ls.h)(ct.get.boardRevision());case 104:return t.next=106,Object(Ls.h)(ct.get.config());case 106:return t.next=108,Object(Ls.h)(ct.get.configOverlay());case 108:return t.next=110,Object(Ls.h)(ct.get.compensation());case 110:return t.next=112,Object(Ls.h)(ct.delayed.registerUpdate.halpinHaluiMaxVelocityValue(200));case 112:return t.next=114,Object(Ls.h)(ct.delayed.registerUpdate.feedrate(200));case 114:return t.next=116,Object(Ls.h)(ct.delayed.registerUpdate.rapidrate(200));case 116:return t.next=118,Object(Ls.h)(ct.delayed.registerUpdate.spindle(200));case 118:case"end":return t.stop()}}),Js)}function Cl(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.m)([ct.setLoggedIn],Sl);case 2:case"end":return e.stop()}}),Vs)}function wl(e){return Rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.payload.data){t.next=6;break}return t.next=4,Object(Ls.h)(ct.get.usbMap());case 4:return t.next=6,Object(Ls.h)(ct.get.usbSoftwareFiles());case 6:case"end":return t.stop()}}),Ks)}function kl(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.m)([ct.update.usbDetected],wl);case 2:case"end":return e.stop()}}),Ys)}function El(e){var t,n,a,i,r,o;return Rr.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.byteLength,n=Math.ceil(t/ie),a=0;case 3:if(!(a<n)){c.next=12;break}return i=0===a,r=a===n-1,o=new Uint8Array(e.slice(a*ie,(a+1)*ie)),c.next=9,{start:i,end:r,data:o,progress:(a+1)/n};case 9:a++,c.next=3;break;case 12:case"end":return c.stop()}}),Xs)}function Il(e){var t,n,a,i;return Rr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.size,n=Math.ceil(t/ie),a=Rr.a.mark((function t(a){var i,r;return Rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=0===a,r=a===n-1,t.next=4,new Promise((function(t,o){var c=new FileReader,s=e.slice(a*ie,(a+1)*ie);c.onload=function(e){null===e.target.error?t({start:i,end:r,data:new Uint8Array(e.target.result),progress:(a+1)/n}):o(e.target.error)},c.readAsArrayBuffer(s)}));case 4:case"end":return t.stop()}}),t)})),i=0;case 4:if(!(i<n)){r.next=9;break}return r.delegateYield(a(i),"t0",6);case 6:i++,r.next=4;break;case 9:case"end":return r.stop()}}),qs)}function Nl(e,t,n,a){var i,r,o,c,s,l,d,u,p,b,m,j,f,h,O,x,g,v,y,S,C,w,k,E,I,N,T,_,A;return Rr.a.wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Object(Ls.j)($t,n);case 2:if(i=M.sent,r=0,o=null,"string"===typeof a?(c=new TextEncoder("utf-8"),a=c.encode(a),r=a.byteLength,o="arraybuffer"):"[object ArrayBuffer]"===Object.prototype.toString.call(a)?(r=a.byteLength,o="arraybuffer"):a instanceof Blob?(r=a.size,o="blob"):console.error("fileQueue can only upload object of type string, ArrayBuffer, File or Blob"),!i||!o){M.next=106;break}return s="FILE_UPLOAD_INIT_"+n.toUpperCase(),l=Ve("RESPONSE","FILE_UPLOAD_INIT",n.toUpperCase()),M.next=11,Object(Ls.h)(ct.cmds.put({id:s,meta:Je({},l),data:[n,r,i.overwrite],name:"file_upload_init"}));case 11:return M.next=13,Object(Ls.k)(l);case 13:if((d=M.sent).payload.code!==oe){M.next=86;break}return u=new ArrayBuffer(r),p=new Uint8Array(u),b=0,"arraybuffer"===o?m=El(a):"blob"===o&&(m=Il(a)),M.next=21,Object(Ls.h)(ct.fileUpload.progress({path:n,progress:0}));case 21:j=new Fs.a.ArrayBuffer,f=0,h=Object(st.a)(m),M.prev=24,h.s();case 26:if((O=h.n()).done){M.next=57;break}return x=O.value,M.next=30,Promise.resolve(x);case 30:for(g=M.sent,v=g.data,y=g.progress,S=new Array(v.byteLength),C=0;C<v.byteLength;C++)p[b+C]=v[C],S[C]=String.fromCharCode(v[C]);return b+=v.byteLength,w=btoa(S.join("")),j.append(v),k="FILE_UPLOAD_CHUNK_"+f+"_"+n.toUpperCase(),E=Ve("RESPONSE","FILE_UPLOAD_CHUNK_"+f,n.toUpperCase()),M.next=41,Object(Ls.h)(ct.cmds.put({id:k,name:"file_upload_chunk",data:[n,w],meta:Je({},E)}));case 41:return M.next=43,Object(Ls.k)(E);case 43:if((I=M.sent).payload.code!==oe){M.next=49;break}return M.next=47,Object(Ls.h)(ct.fileUpload.progress({path:n,progress:y}));case 47:M.next=54;break;case 49:return console.error("File upload error",I),M.next=52,Object(Ls.h)(ct.messages.error("Failed to upload file: ".concat(n),I.payload));case 52:return M.next=54,Object(Ls.h)(ct.fileUpload.cancel(n));case 54:f++;case 55:M.next=26;break;case 57:M.next=62;break;case 59:M.prev=59,M.t0=M.catch(24),h.e(M.t0);case 62:return M.prev=62,h.f(),M.finish(62);case 65:return N=j.end(),Wr.setPersistentItem(N,u),T="FILE_UPLOAD_FINALIZE_"+n.toUpperCase(),_=Ve("RESPONSE","FILE_UPLOAD_FINALIZE",n.toUpperCase()),M.next=71,Object(Ls.h)(ct.cmds.put({id:T,meta:Je({},_),name:"file_upload_finalize",data:[n,N]}));case 71:return M.next=73,Object(Ls.k)(_);case 73:if((A=M.sent).payload.code!==oe){M.next=79;break}return M.next=77,Object(Ls.h)(ct.fileUpload.finalize({path:n}));case 77:M.next=84;break;case 79:return M.next=81,Object(Ls.h)(ct.messages.error("Failed to finalize upload: ".concat(n),A.payload));case 81:return M.next=83,Object(Ls.h)(ct.fileUpload.cancel({path:n}));case 83:console.error("File upload error",A);case 84:M.next=106;break;case 86:if("?File exists"!==d.payload.code){M.next=101;break}return M.next=89,Object(Ls.j)($t,n);case 89:if(!M.sent.overwrite){M.next=95;break}return M.next=93,Object(Ls.h)(e,{path:n,data:a});case 93:M.next=99;break;case 95:return M.next=97,Object(Ls.h)(ct.fileUpload.askForOverwrite({path:n}));case 97:return M.next=99,Object(Ls.h)(t,{path:n,data:a});case 99:M.next=106;break;case 101:return console.error("fileUploadInit error",d),M.next=104,Object(Ls.h)(ct.messages.error("Failed to initialize file upload: ".concat(n),d.payload));case 104:return M.next=106,Object(Ls.h)(ct.fileUpload.cancel(n));case 106:return M.abrupt("return",!0);case 107:case"end":return M.stop()}}),Zs,null,[[24,59,62,65]])}function Tl(e){var t,n;return Rr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ls.a)([ct.fileUpload.cancel,ct.fileUpload.cancelAll]);case 2:t=a.sent;case 3:return a.next=6,Object(Ls.k)(t);case 6:return a.next=8,Object(Ls.j)($t,e);case 8:if((n=a.sent)&&n.state!==ee){a.next=11;break}return a.abrupt("break",13);case 11:a.next=3;break;case 13:return a.abrupt("return",!0);case 14:case"end":return a.stop()}}),Qs)}function _l(e,t){var n,a,i;return Rr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Ls.k)(e);case 3:return n=r.sent,a=n.path,i=n.data,r.next=8,Object(Ls.i)({error:Object(Ls.b)(Tl,a),complete:Object(Ls.b)(Nl,e,t,a,i)});case 8:r.next=0;break;case 10:case"end":return r.stop()}}),$s)}function Al(e,t){var n,a,i,r,o,c,s,l,d,u,p,b,m,j,f,h,O,x,g,v,y,S,C,w,k;return Rr.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return n={},E.next=3,Object(Ls.a)(ct.fileUpload.cancel);case 3:return a=E.sent,E.next=6,Object(Ls.a)(ct.fileUpload.cancelAll);case 6:return i=E.sent,E.next=9,Object(Ls.a)(ct.fileUpload.confirmOverwrite);case 9:return r=E.sent,E.next=12,Object(Ls.a)(ct.fileUpload.confirmOverwriteAll);case 12:o=E.sent;case 13:return E.next=16,Object(Ls.i)({newFileNeedsPermission:Object(Ls.k)(t),cancel:Object(Ls.k)(a),cancelAll:Object(Ls.k)(i),confirm:Object(Ls.k)(r),confirmAll:Object(Ls.k)(o)});case 16:if(c=E.sent,s=c.newFileNeedsPermission,l=c.cancel,d=c.cancelAll,u=c.confirm,p=c.confirmAll,!u){E.next=31;break}if(b=u.payload,!(m=n[b])){E.next=29;break}return delete n[b],E.next=29,Object(Ls.h)(e,{path:b,data:m});case 29:E.next=46;break;case 31:if(!p){E.next=45;break}j=Object.keys(n),f=0,h=j;case 34:if(!(f<h.length)){E.next=43;break}return O=h[f],x=n[O],delete n[O],E.next=40,Object(Ls.h)(e,{path:O,data:x});case 40:f++,E.next=34;break;case 43:E.next=46;break;case 45:if(l)g=l.payload,n[g]&&delete n[g];else if(d)for(v=Object.keys(n),y=0,S=v;y<S.length;y++)C=S[y],delete n[C];else s&&(w=s.path,k=s.data,n[w]=k);case 46:E.next=13;break;case 48:case"end":return E.stop()}}),el)}function Ml(e){var t,n;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.j)(en);case 2:t=e.sent,e.t0=Rr.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=10;break}return n=e.t1.value,e.next=8,Object(Ls.h)(ct.put.fileUploadCancel({data:[n]}));case 8:e.next=4;break;case 10:return e.next=12,Object(Ls.h)(ct.fileUpload.removeAll());case 12:case"end":return e.stop()}}),tl)}function Dl(e){var t;return Rr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(Ls.h)(ct.put.fileUploadCancel({data:[t]}));case 3:return n.next=5,Object(Ls.h)(ct.fileUpload.remove(t));case 5:case"end":return n.stop()}}),nl)}function Ll(){var e,t,n,a,i,r,o,c,s;return Rr.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return e=ro.channel,l.next=3,Object(Ls.b)(io.channel);case 3:return t=l.sent,l.next=6,Object(Ls.b)(io.channel);case 6:n=l.sent,a=10,i=0;case 9:if(!(i<a)){l.next=15;break}return l.next=12,Object(Ls.f)(_l,t,n);case 12:i++,l.next=9;break;case 15:return l.next=17,Object(Ls.f)(Al,t,n);case 17:return l.next=19,Object(Ls.l)(ct.fileUpload.cancel,Dl);case 19:return l.next=21,Object(Ls.m)(ct.fileUpload.cancelAll,Ml);case 21:return l.next=24,Object(Ls.k)(e);case 24:return r=l.sent,o=r.path,c=r.data,s=r.overwrite,l.next=30,Object(Ls.j)(Nt);case 30:if(!l.sent){l.next=42;break}return l.next=34,Object(Ls.j)(en);case 34:if(l.sent[o]){l.next=40;break}return l.next=38,Object(Ls.h)(ct.fileUpload.queued({path:o,overwrite:s}));case 38:return l.next=40,Object(Ls.h)(t,{path:o,data:c});case 40:l.next=46;break;case 42:return l.next=44,Object(Ls.e)(t);case 44:return l.next=46,Object(Ls.e)(n);case 46:l.next=21;break;case 48:case"end":return l.stop()}}),al)}function Pl(e){var t,n,a,i,r,o,c,s,l,d,u,p,b,m,j,f,h;return Rr.a.wrap((function(O){for(;;)switch(O.prev=O.next){case 0:if(!(t=e.payload.data)){O.next=64;break}return n="FILE_DOWNLOAD_INIT_"+t.toUpperCase(),a=Ve("RESPONSE","FILE_DOWNLOAD_INIT",t.toUpperCase()),O.next=6,Object(Ls.h)(ct.cmds.put({id:n,meta:Je({},a),data:[t],name:"file_download_init"}));case 6:return O.next=8,Object(Ls.k)(a);case 8:if((i=O.sent).payload.code!==oe){O.next=61;break}return r=i.payload.data,o=r.size,c=r.checksum,O.next=13,Object(Ls.h)(ct.fileCache.setPathChecksum(t,c));case 13:return O.next=15,Object(Ls.h)(ct.fileCache.initProgress(c,o));case 15:return O.next=17,Object(Ls.b)([Wr,Wr.getItem],c);case 17:if(!O.sent){O.next=25;break}return O.next=21,Object(Ls.h)(ct.fileCache.updateProgress(c,o));case 21:return O.next=23,Object(Ls.h)(ct.put.fileDownloadCancel({data:[t]}));case 23:O.next=59;break;case 25:s=new ArrayBuffer(o),Wr.setMemoryItem(c,s),l=new Uint8Array(s),d=0,u=Math.ceil(o/re),p=0;case 31:if(!(p<u)){O.next=56;break}return b="FILE_DOWNLOAD_CHUNK_"+p+"_"+t.toUpperCase(),m=Ve("RESPONSE","FILE_DOWNLOAD_CHUNK_"+p,t.toUpperCase()),O.next=36,Object(Ls.h)(ct.cmds.put({id:b,name:"file_download_chunk",data:[t,re],meta:Je({},m)}));case 36:return O.next=38,Object(Ls.k)(m);case 38:if((j=O.sent).payload.code!==oe){O.next=47;break}for(f=atob(j.payload.data.chunk),h=0;h<f.length;h++)l[h+d]=f.charCodeAt(h);return d+=f.length,O.next=45,Object(Ls.h)(ct.fileCache.updateProgress(c,d));case 45:O.next=53;break;case 47:return console.error("File download error",j),O.next=50,Object(Ls.h)(ct.messages.error("Failed to download file: ".concat(t),j.payload));case 50:return O.next=52,Object(Ls.h)(ct.put.fileDownloadCancel({data:[t]}));case 52:return O.abrupt("break",56);case 53:p++,O.next=31;break;case 56:return O.next=58,Object(Ls.h)(ct.fileCache.updateProgress(c,o));case 58:Wr.setPersistentItem(c,s);case 59:O.next=64;break;case 61:return console.error("fileDownloadInit error",i),O.next=64,Object(Ls.h)(ct.messages.error("Failed to initialize file download: ".concat(t),i.payload));case 64:case"end":return O.stop()}}),il)}function Fl(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.m)(ct.update.program,Pl);case 2:case"end":return e.stop()}}),rl)}function Rl(e,t){return Rr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ls.d)(e);case 2:return n.next=4,Object(Ls.h)(t);case 4:case"end":return n.stop()}}),ol)}function Ul(e,t){var n;return Rr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ls.d)(e);case 2:return a.next=4,Object(Ls.k)(t);case 4:return n=a.sent,a.next=7,Object(Ls.h)(n);case 7:case"end":return a.stop()}}),cl)}function Hl(){var e,t,n,a,i,r,o,c,s,l,d;return Rr.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Ls.a)(Object.values(ct.delayed.put));case 2:e=u.sent,t={},n={};case 5:return u.next=8,Object(Ls.k)(e);case 8:if(a=u.sent,i=a.type,r=a.payload,o=i.split("/"),c=o[o.length-1],s=Ke(c),i in n){u.next=17;break}return u.next=16,Object(Ls.b)(io.channel,io.buffers.sliding(1));case 16:n[i]=u.sent;case 17:return r.id,r.name,l=r.meta,d=Object(ka.a)(r,["id","name","meta"]),u.next=20,Object(Ls.h)(n[i],ct.put[s]({data:d,meta:l}));case 20:if(i in t&&t[i].isRunning()){u.next=24;break}return u.next=23,Object(Ls.f)(Ul,50,n[i]);case 23:t[i]=u.sent;case 24:u.next=5;break;case 26:case"end":return u.stop()}}),sl)}function Gl(){var e,t,n,a,i,r,o,c,s,l;return Rr.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(Ls.a)(Object.values(ct.update).concat(Object.values(ct.delayed.update)));case 2:e=d.sent,t={},n=Ve("DELAYED","UPDATE");case 5:return d.next=8,Object(Ls.k)(e);case 8:return a=d.sent,d.next=11,Object(Ls.j)(Vn);case 11:if(i=d.sent,r=a.type,o=a.payload,c=r.split("/"),s=c[c.length-1],!((l=Ke(s))in i)){d.next=33;break}if(!(l in t)||!t[l].isRunning()){d.next=25;break}return d.next=20,Object(Ls.c)(t[l]);case 20:return d.next=22,Object(Ls.f)(Rl,i[l],ct.delayed.updateImmediate[l](o));case 22:t[l]=d.sent,d.next=33;break;case 25:if(!r.startsWith(n)){d.next=31;break}return d.next=28,Object(Ls.f)(Rl,i[l],ct.delayed.updateImmediate[l](o));case 28:t[l]=d.sent,d.next=33;break;case 31:return d.next=33,Object(Ls.h)(ct.delayed.updateImmediate[l](o));case 33:d.next=5;break;case 35:case"end":return d.stop()}}),ll)}var Bl,zl=function(){return{id:q,reducerMap:{rockhopper:Ds()},sagas:[xl,Cl,kl,Ll,Fl,Gl,Hl]}},Wl=n(400),Jl=sessionStorage.getItem(fa),Vl={enableKeyboardJogging:!0,dialect:"industry",language:"en",mdiSortKey:"time",mdiText:"",messages:Jl?JSON.parse(Jl):[],messageBadges:{debug:[],info:[],warning:[],error:[]},popups:[],displayUnits:{angle:"deg",angularVelocity:"deg/min",length:"in",linearVelocity:"in/min",power:"W",pressure:"MPa",spindleSpeed:"rpm",surfaceSpeed:"ft/min",temperature:"C",time:"min"},isEditingOverlay:!1,configOverlay:{},isEditingCompensation:!1,compensation:{},axisSelectJog:{axis:"X",digitIndex:1},dro:{display:"position"},jog:{display:"position"}},Kl=Object(Ns.a)((Bl={},Object(b.a)(Bl,xa.enableKeyboardJogging,Object(R.a)((function(e,t){e.enableKeyboardJogging=!0}))),Object(b.a)(Bl,xa.disableKeyboardJogging,Object(R.a)((function(e,t){e.enableKeyboardJogging=!1}))),Object(b.a)(Bl,xa.changeLanguage,Object(R.a)((function(e,t){e.language=t.payload}))),Object(b.a)(Bl,xa.changeDialect,Object(R.a)((function(e,t){e.dialect=t.payload}))),Object(b.a)(Bl,xa.setMdiSortKey,Object(R.a)((function(e,t){e.mdiSortKey=t.payload}))),Object(b.a)(Bl,xa.setMdiText,Object(R.a)((function(e,t){e.mdiText=t.payload}))),Object(b.a)(Bl,xa.clearMessageBadge,Object(R.a)((function(e,t){e.messageBadges[t.payload]=[]}))),Object(b.a)(Bl,Object(Wl.a)(ct.messages.debug,ct.messages.info,ct.messages.warning,ct.messages.error),Object(R.a)((function(e,t){switch(e.messages.unshift(t.payload),t.type){case ct.messages.debug.toString():e.messageBadges.debug.push(t.payload);break;case ct.messages.info.toString():e.messageBadges.info.push(t.payload);break;case ct.messages.warning.toString():e.messageBadges.warning.push(t.payload);break;case ct.messages.error.toString():e.messageBadges.error.push(t.payload)}}))),Object(b.a)(Bl,xa.popup.show,Object(R.a)((function(e,t){if(e.popups.splice(0,0,t.payload),e.popups.length>1)for(var n=e.popups.length-1,a=0,i=e.popups.length-1;i>=0&&a<n;i--)e.popups[i].dismiss===pe&&(e.popups.splice(i,1),a++)}))),Object(b.a)(Bl,xa.popup.hide,Object(R.a)((function(e,t){var n=e.popups.findIndex((function(e){return e.id===t.payload.id}));n>-1&&e.popups.splice(n,1)}))),Object(b.a)(Bl,xa.setDisplayUnits,Object(R.a)((function(e,t){e.displayUnits=t.payload}))),Object(b.a)(Bl,xa.overlay.enableEditing,Object(R.a)((function(e,t){e.isEditingOverlay=!0,e.configOverlay=t.payload}))),Object(b.a)(Bl,xa.overlay.disableEditing,Object(R.a)((function(e,t){e.isEditingOverlay=!1}))),Object(b.a)(Bl,xa.overlay.deleteSection,Object(R.a)((function(e,t){delete e.configOverlay[t.payload]}))),Object(b.a)(Bl,xa.overlay.set,Object(R.a)((function(e,t){e.configOverlay=t.payload}))),Object(b.a)(Bl,xa.compensation.enableEditing,Object(R.a)((function(e,t){e.isEditingCompensation=!0,e.compensation=t.payload}))),Object(b.a)(Bl,xa.compensation.disableEditing,Object(R.a)((function(e,t){e.isEditingCompensation=!1}))),Object(b.a)(Bl,xa.compensation.deleteSection,Object(R.a)((function(e,t){delete e.compensation[t.payload]}))),Object(b.a)(Bl,xa.compensation.set,Object(R.a)((function(e,t){e.compensation=t.payload}))),Object(b.a)(Bl,xa.axisSelectJog.setAxis,Object(R.a)((function(e,t){console.log(t.payload),e.axisSelectJog.axis=t.payload}))),Object(b.a)(Bl,xa.axisSelectJog.setDigitIndex,Object(R.a)((function(e,t){e.axisSelectJog.digitIndex=t.payload}))),Object(b.a)(Bl,xa.axisSelectJog.incrementDigitIndex,Object(R.a)((function(e,t){null===e.axisSelectJog.digitIndex&&1===t.payload?e.axisSelectJog.digitIndex=1:e.axisSelectJog.digitIndex=Math.max(1,Math.min(4,e.axisSelectJog.digitIndex+t.payload))}))),Object(b.a)(Bl,xa.dro.setDisplay,Object(R.a)((function(e,t){e.dro.display=t.payload}))),Object(b.a)(Bl,xa.jog.setDisplay,Object(R.a)((function(e,t){e.jog.display=t.payload}))),Bl),Vl),Yl=Rr.a.mark(Ql),Xl=Rr.a.mark($l),ql=Rr.a.mark(ed),Zl=function(e,t){window.sessionStorage.setItem(e,t)};function Ql(e){var t;return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.j)(ut);case 2:return t=e.sent,e.next=5,Object(Ls.b)(Zl,fa,JSON.stringify(t));case 5:case"end":return e.stop()}}),Yl)}function $l(e){var t;return Rr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(Ls.f)(Ql);case 3:return n.next=5,Object(Ls.h)(xa.popup.show(t));case 5:if(t.dismiss!==pe){n.next=10;break}return n.next=8,Object(Ls.d)(3e3);case 8:return n.next=10,Object(Ls.h)(xa.popup.hide(t));case 10:case"end":return n.stop()}}),Xl)}function ed(){return Rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ls.l)([ct.messages.debug,ct.messages.info,ct.messages.warning,ct.messages.error],$l);case 2:case"end":return e.stop()}}),ql)}var td=function(){return{id:ja,reducerMap:{pentaui:Kl},sagas:[ed]}},nd=n(101),ad=n(108),id=n(214),rd=n(216),od=n(217),cd={en:{common:rd,intuitive:n(218),industry:od}};nd.a.use(id.a).use(ad.e).init({lng:"en",fallbackLng:"en",preload:["en"],supportedLngs:["en","de","es","sv","jp"],ns:["common","industry","intuitive"],defaultNS:"common",debug:!1}),nd.a.addResourceBundle("en","common",cd.en.common),nd.a.addResourceBundle("en","industry",cd.en.industry),nd.a.addResourceBundle("en","intuitive",cd.en.intuitive);nd.a;var sd=Object(ks.createStore)({initialState:Object(R.a)({},(function(){})),enhancers:[],extensions:[Object(Es.getSagaExtension)()],compose:Is.composeWithDevTools},zl(),td(),js());c.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(s.Provider,{store:sd,children:Object(L.jsx)(ws,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[320,1,2]]]);
//# sourceMappingURL=main.a93f8c3e.chunk.js.map