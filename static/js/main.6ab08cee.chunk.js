(this["webpackJsonppenta-ui"]=this["webpackJsonppenta-ui"]||[]).push([[0],{230:function(e){e.exports=JSON.parse('{"absolutePosition":"Absolute Position","activeCodes":"Active Codes","activeVersion":"Active Version","actualPosition":"Actual Position","addCertificate":"Add Certificate","air":"Air","audioEnabled":"Audio Enabled","auto":"Auto","axis":"Axis","cancel":"Cancel","certificate":"Certificate","certificate_plural":"Certificates","checkForUpdates":"Check For Updates","chipLoad":"Chip Load","clear":"Clear","clearActiveOffsetSystem":"Clear Active Offset System","clearAbbreviated":"CLR","clearOffsets":"Clear Offsets","clearCurrentSystem":"Clear Current System","celsius":"Celsius","centimeters":"Centimeters","combinedOffsets":"Combined Offsets","config":"Config","connected":"Connected","control":"Control","continuousJogModifier":"Continuous Jog Modifier","coordinateSystem":"Coordinate System","copyFromUsb":"Copy from USB","copyToDisk":"Copy to disk","copyToUsb":"Copy to USB","current":"Current","currentVersion":"Current Version","currentCoordinateSystem":"Current Coordinate System","currentLanguage":"Current Language","decreaseStepSize":"Decrease Step Size","decrementFeedrate10":"Decrement Feedrate 10%","decrementSpindlerate10":"Decrement Spindlerate 10%","delete":"Delete","deleteSelected":"Delete Selected","deploy":"Deploy","description":"Description","dialect":"Dialect","diameter":"Diameter","disable":"Disable","disconnected":"Disconnected","display":"Display","distanceToGo":"Distance To Go","downloadCurrentFile":"Download Current File","downloadConfigurationFiles":"Download current configuration files","dtg":"DTG","enable":"Enable","enableAudio":"Enable Audio","enableSsl":"Enable SSL","english":"English","estop":"E-Stop","estopDisable":"Estop Disable","estopEnable":"Estop Enable","expand":"Expand","fahrenheit":"Fahrenheit","feedRate":"Feed Rate","feedrateDecrement1":"Feedrate: Decrement 1%","feedrateIncrement1":"Feedrate: Increment 1%","feedrateDecrement10":"Feedrate: Decrement 10%","feedrateIncrement10":"Feedrate: Increment 10%","filter":"Filter...","filterList":"Filter list","flutes":"Flutes","gCodeProgram":"G-code","german":"German","g92Clear":"Clear G92 Offsets","g92Restore":"Restore G92 Offsets","g92Suspend":"Suspend G92 Offsets","history":"History","holdTool":"Hold Tool","holdVice":"Hold Vice","homeAll":"Home All","host":"Host","inch":"Inch","inches":"Inches","increaseStepSize":"Increase Step Size","incrementFeedrate10":"Increment Feedrate 10%","incrementSpindlerate10":"Increment Spindlerate 10%","incrementalJogModifier":"Incremental Jog Modifier","industry":"Industry","intuitive":"Intuitive","jog":"Jog","jogging":"Jogging","joggingModifiers":"Jogging Modifiers","jogModifierContinuous":"Continuous Jog Modifier","jogModifierIncremental":"Incremental Jog Modifier","jogModifierSlow":"Slow Jog Modifier","joint":"Joint","keyboardJogging":"Keyboard Jogging","language":"Language","languageOptions":"Language Options","latestVersion":"Latest Version","lengthUnits":"Length","less":"Less","load":"Load","loadingMessage":"loading...","machineCoordinates":"Machine Coordinates","manual":"Manual","maxRapidRate":"Max Rapid","maxVelocity":"Max Velocity","messageLog":"Message Log","millimeters":"Millimeters","minutes":"Minutes","mobileDisplay":"Mobile Display","more":"More","mouseWheelJogging":"Mouse Wheel Jogging","mpaa":"MPaA","newDroValue":"New DRO value","nextAxis":"Next Axis","noActiveTool":"No Active Tool","noGCodeFiles":"No G Code Files","none":"None","noFileLoaded":"No File Loaded","notConnectedToUpdateServer":"Not connected to update server.","offset":"Offset","offset_plural":"Offsets","offsetDroToZero":"Offset DRO to zero","openGCode":"Open File","optionalStop":"Optional Stop","other":"Other","password":"Password","pause":"Pause","pendingVersion":"Pending Version","port":"Port","power":"Power","position":"Position","pressure":"Pressure","previousAxis":"Previous Axis","production":"Production","programUnits":"Program Units","psia":"PSIA","favoritesTablePlaceholderText":"Quick Access Name","rebootMachine":"Reboot Machine","rebootToTakeEffect":"Reboot for changes to take effect.","refresh":"Refresh","releaseTool":"Release Tool","releaseVice":"Release Vice","reset":"Reset","restartServices":"Restart services","restore":"Restore","resume":"Resume","retract":"Retract","run":"Run","save":"Save","seconds":"Seconds","select":"Select","selectAxis":"Select Axis","selectNextAxis":"Select Next Axis","selectPreviousAxis":"Select Previous Axis","serialNumber":"Serial number","server":"Server","set":"Set","setup":"Setup","simulator":"Simulator","showUniqueHistory":"Show Unique History","showUniqueHistoryOnly":"Show Unique History Only","showOlderMessages":"Show Older Messages","shutdownMachine":"Shutdown Machine","shutdownServices":"Shutdown Services","shutdownServicesToUpdate":"Shutdown services to update software.","slowJogModifier":"Slow Jog Modifier","software":"Software","soundEnabled":"Sound Enabled","spindlerate":"Spindlerate","spindlerateDecrement1":"Spindlerate Decrement 1%","spindlerateIncrement1":"Spindlerate Increment 1%","spindlerateDecrement10":"Spindlerate Decrement 10%","spindlerateIncrement10":"Spindlerate Increment 10%","spindleRate":"Spindle Rate","ssl":"SSL","sslSettings":"SSL Settings","sslStatus":"SSL Status","status":"Status","step":"Step","surfaceFootage":"Surface Footage","surfaceSpeed":"Surface Speed","tlo":"TLO","temperature":"Temperature","time":"Time","timeInterval":"Time Interval","tool":"Tool","toolTouchOff":"Measure tool length with tool probe button.","tooltip_ActualPosition":"Show position in machine coordinates","tooltip_ContinuousJog":"Leave blank to continuous jog by default","tooltip_DeleteSelected":"Only deletes files from the current storage location (Internal or USB)","tooltip_DeleteShortcut":"Remove keybinding","tooltip_DTG":"Distance To Go","tooltip_EditShortcut":"Set keybinding for this shortcut","tooltip_FileBrowserHome":"Return to directory home","tooltip_FileBrowserGoUp":"Go up a level","tooltip_G5xPosition":"Show position relative to a coordinate system. Does not actually set the active coordinate system.","tooltip_HighPressureWarning":"Air supply pressure is above the gauge\'s maximum measurement threshold. Reduce supply pressure to avoid risk of damage and allow accurate measurement.","tooltip_JogPanel":"Select a digit and drag up or down to jog axes in increments corresponding to the position of the digit.","tooltip_MdiFavoritesName":"Named MDI commands will appear in the Quick Access panel.","tooltip_OffsetPosition":"Show position including all offsets","uiOptions":"EN UI Options","update":"Update","uploadConfigurationFiles":"Upload configuration files","upToDate":"Software is up to date!","use":"Use","username":"Username","useSecureWebSocket":"Use Secure WebSocket","units":"Units","upgradeTo":"Upgrade to","uploadFiles":"Upload Files","velocity":"Velocity","via":"via","vice":"Vice","viewInternalFiles":"View Internal Files","viewUsbFiles":"View USB Files","volume":"Volume","warmUp":"Warm Up","websocket":"WebSocket","workOffsets":"Work Offsets","world":"World","zero":"Zero","zeroDro":"Zero DRO"}')},231:function(e){e.exports=JSON.parse('{"cycleStart":"Cycle/Start","feedHold":"Feed Hold","dro":"DRO"}')},232:function(e){e.exports=JSON.parse('{"cycleStart":"Run","feedHold":"Pause","dro":"Positions"}')},262:function(e,t,n){},266:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var a,i=n(1),r=n.n(i),o=n(28),c=n.n(o),s=(n(262),n(14)),l=n(233),u=n(371),d=n(396),p=(n(266),n(13)),b=n(8),j=n(4),m=n(364),f=n(377),h=n(335),O=n(35),x=n(376),g=n(234),v=n(375),y=n(404),S=n(219),C=n.n(S),w=n(169),k=n.n(w);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I(e,t){var n=e.title,r=e.titleId,o=N(e,["title","titleId"]);return i.createElement("svg",E({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98.72 130.35",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,a||(a=i.createElement("path",{d:"M16.81,29.11H16V21.65h.86c1.18,0,1.77,1.24,1.77,3.73a6.63,6.63,0,0,1-.46,2.83A1.42,1.42,0,0,1,16.81,29.11ZM18.06,59a.75.75,0,0,0-.74.75.74.74,0,0,0,1.48,0A.75.75,0,0,0,18.06,59Zm-3,31.23c0-.61,0-1.21,0-1.81,0-.34.14-.58-.25-.61l-.53,0c-.57,0-1.13,0-1.69,0-.37,0-.44.11-.72-.17L11.23,87,8.76,84.54l-1.4-1.37v6.55a7.28,7.28,0,0,0,2.79,5.33l5,3.48V94ZM21.53,74a.75.75,0,0,0,.75-.74.75.75,0,1,0-1.49,0A.74.74,0,0,0,21.53,74Zm7.64-34.42a4.27,4.27,0,0,0,.47,1.67,1,1,0,0,0,1.64,0,4.27,4.27,0,0,0,.47-1.67q.15-1.2.21-3.24c0-1.36,0-3.07,0-5.13s0-3.76,0-5.12-.11-2.44-.21-3.24a4.27,4.27,0,0,0-.47-1.67,1,1,0,0,0-1.64,0,4.27,4.27,0,0,0-.47,1.67c-.1.8-.17,1.88-.2,3.24s0,3.07,0,5.12,0,3.77,0,5.13S29.07,38.78,29.17,39.58Zm2.4,49.29A.87.87,0,0,0,30,88.28c-.36.77.28,1.3,1,1.23C31.15,89.2,31.5,89.19,31.57,88.87Zm-.42,7.91a.91.91,0,0,0-.5-1.66C29.18,95.21,30,97.53,31.15,96.78ZM21.48,96a.9.9,0,0,0,.27-1.78C20.74,94.08,20.41,95.88,21.48,96Zm.87-8.63c.48-.62-.29-1.45-1-1.27-.21,0-.84.69-.54,1.13A.86.86,0,0,0,22.35,87.39Zm17.17,7.48c-1.58-1.46-3-3.05-4.53-4.59a2.42,2.42,0,0,0-1.05-.77.86.86,0,0,0-1,.44A4.46,4.46,0,0,1,31.77,91a2.16,2.16,0,0,1-1.6.17,2.79,2.79,0,0,1-2.07-2.27,2.75,2.75,0,0,1,.28-1.47,16.54,16.54,0,0,0-1.27-1.24c-.63-.59-1.29-1.89-2.17-2.11a11.87,11.87,0,0,0-2.73,0c-2.05,0-4.13-.1-6.18,0-1,.06-1.88.2-2.65-.57-.6-.6-1.14-1.27-1.77-1.84a6.28,6.28,0,0,1-1.83-1.91,6.6,6.6,0,0,1,0-2.43V64.67c0-.88.11-1.78.07-2.65S9,60.65,8.44,60.14c-.34-.31-.91-.68-1.08-1.11v21.8c1.06,1.08,2.11,2.17,3.18,3.24A13,13,0,0,0,12.41,86c.71.46,1.9.22,2.7.17,1.1-.07,2.21,0,3.32,0,.65,0,.65.08,1-.47a2.56,2.56,0,0,1,1.51-1.19,2.35,2.35,0,0,1,2.5.7,2.57,2.57,0,0,1,.69,2.44c-.12.4-.33.4,0,.74l.67.68,1.35,1.37c.82.84,1.66,1.67,2.51,2.47l.71.65c.39.34.16.15.49,0a3.56,3.56,0,0,1,1.26-.07c.83,0,1.67,1,2,1.7a2.35,2.35,0,0,1-.44,2.42c-.26.29-1,1-1.4,1s-1.17.14-1.59-.13A3,3,0,0,1,28.11,96c0-.53.41-1.05.05-1.41l-1.32-1.36c-.88-.9-1.77-1.8-2.68-2.68-.32-.31-1.15-1.36-1.55-1.2a3.94,3.94,0,0,1-1.45.13,2,2,0,0,1-1.24-.67c-.32-.34-.68-1.06-1.13-1a10,10,0,0,0-1.89,0c0,.64,0,1.27,0,1.91,0,1.29,0,2.57,0,3.86,0,2,0,4.08,0,6.12L41,116.54v-3.31S24,98,23.15,97.61c-.43-.19-.57.14-.94.14h-.78a2.63,2.63,0,0,1-2.25-3.53A4.1,4.1,0,0,1,21,92.57a2.85,2.85,0,0,1,2.38.69,2.69,2.69,0,0,1,.87,2.23.84.84,0,0,1-.13.49c-.16.22.11.36.28.55.41.45,3.71,2.61,4,3s12.27,11.67,12.8,11.78c0-3.73.26-13.14,0-14.31C41,96,40.27,95.56,39.52,94.87ZM31.09,73.05h0a.84.84,0,1,0,.84.84A.83.83,0,0,0,31.09,73.05Zm-.28,7.41a.87.87,0,0,0-.21,1.72A.87.87,0,0,0,30.81,80.46ZM90.81,11V89.72a7.54,7.54,0,0,1-2.75,5.39L52.68,120.8a5.1,5.1,0,0,1-5.53,0l-4.49-3.13c0-8.34,0-21.47-.1-21.85-.16-.68-1.05-1.28-1.54-1.73-.9-.81-1.73-1.69-2.6-2.54L35.79,89c-.34-.34-.64-.73-1-1s-1-.11-1.55-.12A3.08,3.08,0,0,0,31,86.12a2.81,2.81,0,0,0-1.19.08c-.3.13-.09.31-.45,0s-.57-.51-.85-.77c-.82-.78-1.65-1.59-2.4-2.44s-1.6-.71-2.65-.64c-2.45.15-4.9,0-7.36,0-.56,0-1.38.23-1.79-.16L13,80.9c-.46-.45-.91-.91-1.34-1.39s-.19-1.41-.19-2c.07-5.18-.09-10.36.09-15.53,0-1.07-.5-1.48-1.25-2.17-1-.92-1.95-1.9-2.91-2.86V11a3.4,3.4,0,0,1,3.4-3.39H87.42A3.4,3.4,0,0,1,90.81,11ZM24.21,31.21a72.12,72.12,0,0,0,.32,7.32,19.68,19.68,0,0,0,1,4.93,5.58,5.58,0,0,0,1.94,2.72,5.68,5.68,0,0,0,5.88,0,5.58,5.58,0,0,0,1.94-2.72,19.68,19.68,0,0,0,1-4.93,72.12,72.12,0,0,0,.32-7.32,72.05,72.05,0,0,0-.32-7.31,19.68,19.68,0,0,0-1-4.93,6.07,6.07,0,0,0-1.94-2.79,5.35,5.35,0,0,0-5.88,0A6.07,6.07,0,0,0,25.58,19a19.68,19.68,0,0,0-1,4.93A72.05,72.05,0,0,0,24.21,31.21ZM11.39,46.52H16V34.86h1.6a4.7,4.7,0,0,0,4.27-2.38q1.45-2.38,1.46-7.14A22.77,22.77,0,0,0,23,21.61a11.12,11.12,0,0,0-.92-3,5.64,5.64,0,0,0-1.58-2,3.66,3.66,0,0,0-2.26-.73H11.39Zm7.87,24.32V61.92a2.48,2.48,0,1,0-1.76.25V72.45c-.09.25,1.55.52,1.55.81a2.49,2.49,0,1,0,2.48-2.49C21.34,70.77,19.45,70.8,19.26,70.84ZM24,78.35c-.24-.52-1.18-1.62-1.82-1.62-.48,0-1.12-.15-1.51.14a6.41,6.41,0,0,0-1.13.94c-.36.42-.26.64-.81.64-.34,0-.5.06-.74-.17s-.79-.75-1.17-1.13c-.56-.55-1.63-1.17-1.76-2a17.46,17.46,0,0,1,0-2.89V53.51c0-.27-.28-.4-.46-.59l-2.51-2.54C10.59,48.79,9,47.24,7.4,45.65c0,.74,0,1.48,0,2.21l5.45,5.41c1,.95.53,2.27.53,3.5V75.59a1.22,1.22,0,0,0,0,.27c.91,1,3.53,4.14,4.79,4.37.22,0,1-.25,1.08.1a1.39,1.39,0,0,0,.51.79,2.58,2.58,0,0,0,4-.41A2.26,2.26,0,0,0,24,78.35Zm4.39-10.59a2.68,2.68,0,0,0,.95,1c1.35,1,2.73.19,3.61-1,1-1.34-.12-2.81-1.3-3.55a2.26,2.26,0,0,0-2.38.26,4,4,0,0,0-.93,1c-.28.43-1.19.24-1.7.24s-1,0-1.56,0l-.59,0h0a2.42,2.42,0,1,0-2.26,1.57,2.35,2.35,0,0,0,.6-.09l0,.06c.45.48,1.67.19,2.26.19.83,0,1.67,0,2.5.06C27.93,67.51,28.26,67.4,28.42,67.76Zm4.35,12A2.55,2.55,0,0,0,29.59,79,2.72,2.72,0,0,0,28.17,82c.54,1.36,2.25,2.57,3.65,1.65S33.86,81.18,32.77,79.81Zm7-19a2.58,2.58,0,1,0-3.59,2.37c0,.64-.09,5.09-.09,5.09S33,70.9,32.36,71.4a2.79,2.79,0,1,0-2.08,5.16l.12,0,.22.05a2,2,0,0,0,.35,0h.34a2.79,2.79,0,0,0,2.43-1.91s0-.06,0-.08a3.18,3.18,0,0,0,.08-.33,1.36,1.36,0,0,0,0-.21,2.13,2.13,0,0,0,0-.25,2.8,2.8,0,0,0-.23-1.12c-.06-.31,4-3.91,4-3.91s.06-4.67.06-5.55A3,3,0,0,0,39.78,60.77ZM49.87,34.22H45.46c0,1.45,0,2.66-.06,3.62a18.21,18.21,0,0,1-.21,2.29,3,3,0,0,1-.42,1.23.82.82,0,0,1-.68.36.94.94,0,0,1-.83-.47,4.48,4.48,0,0,1-.46-1.67,29.81,29.81,0,0,1-.21-3.24c0-1.36-.05-3.07-.05-5.13s0-3.76.05-5.12a29.81,29.81,0,0,1,.21-3.24,4.48,4.48,0,0,1,.46-1.67.94.94,0,0,1,.83-.47c.44,0,.76.31.95.94a13.85,13.85,0,0,1,.3,3.56v1.72h4.41V25a24.12,24.12,0,0,0-.31-4,9.94,9.94,0,0,0-1-3,5.11,5.11,0,0,0-1.75-2,4.76,4.76,0,0,0-2.62-.69,5.05,5.05,0,0,0-3,.84,5.85,5.85,0,0,0-1.94,2.72,19.51,19.51,0,0,0-1,4.94q-.3,3-.3,7.41t.25,7.32A20.12,20.12,0,0,0,39,43.46,5.25,5.25,0,0,0,41,46.18a5.59,5.59,0,0,0,3.14.82,5.85,5.85,0,0,0,2.14-.41A4.1,4.1,0,0,0,48.08,45a9.69,9.69,0,0,0,1.3-3.24,23.17,23.17,0,0,0,.49-5.27Zm15.27,12.3H75.72V40h-6V33.92h5.45V27.66H69.69V22.42H75.5V15.9H65.14Zm-13.8,0H55.9v-8.1l1-2.57,2.67,10.67h5.2L59.77,29.28,64.18,15.9H59.33L56,27.66H55.9V15.9H51.34Zm17.15,4.59H62.74V76.53h-.06l-4-25.42H51.85V92.37h5.74V66.88h.07l4.09,25.49h6.74ZM86.91,75.78H81c0,2,0,3.59-.08,4.88a27.1,27.1,0,0,1-.28,3.1,4,4,0,0,1-.56,1.64,1.11,1.11,0,0,1-.93.49,1.25,1.25,0,0,1-1.1-.63A5.72,5.72,0,0,1,77.39,83a42.59,42.59,0,0,1-.28-4.37Q77,75.9,77,71.74t.07-6.91a42.36,42.36,0,0,1,.28-4.36A5.67,5.67,0,0,1,78,58.22a1.24,1.24,0,0,1,1.1-.64c.6,0,1,.42,1.29,1.27a19.18,19.18,0,0,1,.4,4.8V66h5.94v-2.6a32.52,32.52,0,0,0-.41-5.4A14,14,0,0,0,85,53.85a7,7,0,0,0-2.36-2.63,6.52,6.52,0,0,0-3.54-.92,6.76,6.76,0,0,0-4,1.13,7.68,7.68,0,0,0-2.61,3.67,26,26,0,0,0-1.41,6.64q-.4,4.11-.41,10t.35,9.85a26.43,26.43,0,0,0,1.27,6.64A7,7,0,0,0,74.9,91.9,7.42,7.42,0,0,0,79.12,93,7.77,7.77,0,0,0,82,92.45a5.47,5.47,0,0,0,2.49-2.13A13.1,13.1,0,0,0,86.25,86a31.57,31.57,0,0,0,.66-7.11Zm.77-59.88H76.31v6.78h3.38V46.52h4.56V22.68h3.43ZM20.78,79.1a.88.88,0,0,0,1.66.53C22.88,78.64,21.07,77.89,20.78,79.1ZM31.57,66.77c.18-1.25-1.84-1.27-1.73-.11A.88.88,0,0,0,31.57,66.77ZM95.16,7.31v85a8.28,8.28,0,0,1-3.11,6.06L53.26,126.32a6,6,0,0,1-6.53.07l-40.56-28a8.08,8.08,0,0,1-3.16-6v-85A4.25,4.25,0,0,1,7.26,3.07H90.92A4.25,4.25,0,0,1,95.16,7.31Zm-1.7,0a2.54,2.54,0,0,0-2.54-2.54H7.26A2.55,2.55,0,0,0,4.71,7.31v85A6.38,6.38,0,0,0,7.14,97L47.7,125a4.33,4.33,0,0,0,4.57,0L91.06,97a6.62,6.62,0,0,0,2.4-4.69Z"})))}var T,M,_,A,D,L,P,F,R,U,H,B,G,J,W,V=i.forwardRef(I);n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z(e,t){var n=e.title,a=e.titleId,r=K(e,["title","titleId"]);return i.createElement("svg",z({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 433.99 127.41",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,T||(T=i.createElement("defs",null,i.createElement("style",null,".cls-1{fill:#03b188;}"))),M||(M=i.createElement("path",{className:"cls-1",d:"M29.38,24.22H43.89L39.34,47.67,58.08,24.19H75L55,48.11,68,74.18H51.53L44,58.31l-8.64,10-1.15,5.86H19.66Z"})),_||(_=i.createElement("path",{className:"cls-1",d:"M97.82,24.16l14.65,0-9.48,50-14.66,0Z"})),A||(A=i.createElement("path",{className:"cls-1",d:"M136.62,24.12h13.5l11.81,26.22,5.17-26.24h14.81l-9.72,50H158.53L146.58,48.26l-5,25.85H126.9Z"})),D||(D=i.createElement("path",{className:"cls-1",d:"M206.06,24.05l39.58,0-2.47,12.42-24.84,0-1.24,6.1,23.84,0-2.39,12.27-23.84,0-1.31,6.79,25.84,0L236.84,74l-40.5,0Z"})),L||(L=i.createElement("path",{className:"cls-1",d:"M278.5,36.41H262.84L265.24,24l46-.05-2.4,12.43H293.16L285.91,74H271.25Z"})),P||(P=i.createElement("path",{className:"cls-1",d:"M332.28,23.93h14.66l-9.49,50-14.66,0Z"})),F||(F=i.createElement("path",{className:"cls-1",d:"M364.37,50.13c0-15,11.65-27,27.55-27,8.1,0,14.81,2.84,19.44,7.23L400.48,40.53a10.84,10.84,0,0,0-9-4.15c-6.63,0-11.88,5.79-11.88,13.74,0,6.56,4.71,11.41,11.19,11.41a10.91,10.91,0,0,0,7.94-2.79l8.41,10.64a27.58,27.58,0,0,1-16.58,5.42C374.71,74.81,364.37,64.87,364.37,50.13Z"})),R||(R=i.createElement("path",{className:"cls-1",d:"M110,93.06a9,9,0,0,1,9.45-9.2,9.58,9.58,0,0,1,6.8,2.59L122.81,90a4,4,0,0,0-3.14-1.4,4.27,4.27,0,0,0-4.22,4.46,4.21,4.21,0,0,0,4.22,4.52,4.65,4.65,0,0,0,3.8-2l3.33,3.67a9.55,9.55,0,0,1-7.35,3A9,9,0,0,1,110,93.06Z"})),U||(U=i.createElement("path",{className:"cls-1",d:"M141.35,93.06c0-5.1,3.83-9.2,9.56-9.2s9.58,4.1,9.58,9.2-3.86,9.25-9.58,9.25S141.35,98.21,141.35,93.06Zm13.69,0a4.14,4.14,0,0,0-4.13-4.46,4.22,4.22,0,0,0-4.11,4.46c0,2.64,1.71,4.52,4.11,4.52S155,95.7,155,93.06Z"})),H||(H=i.createElement("path",{className:"cls-1",d:"M176.75,84.14h4.54L187,92a9.07,9.07,0,0,1,.8,1.35V84.14H193V102h-4.55l-5.67-7.76a10.16,10.16,0,0,1-.8-1.35V102h-5.23Z"})),B||(B=i.createElement("path",{className:"cls-1",d:"M214.43,88.57h-5.59V84.14h16.41v4.43h-5.59V102h-5.23Z"})),G||(G=i.createElement("path",{className:"cls-1",d:"M241.1,84.14H249c5.49,0,8.29,3.16,8.29,7a6.65,6.65,0,0,1-2.8,5.48l3.33,5.31h-6l-2-3.82a12.87,12.87,0,0,1-1.29.08h-2.15V102H241.1ZM249,93.8a2.62,2.62,0,1,0,0-5.23h-2.73V93.8Z"})),J||(J=i.createElement("path",{className:"cls-1",d:"M273,93.06c0-5.1,3.83-9.2,9.56-9.2s9.58,4.1,9.58,9.2-3.86,9.25-9.58,9.25S273,98.21,273,93.06Zm13.69,0a4.14,4.14,0,0,0-4.13-4.46,4.22,4.22,0,0,0-4.11,4.46c0,2.64,1.71,4.52,4.11,4.52S286.66,95.7,286.66,93.06Z"})),W||(W=i.createElement("path",{className:"cls-1",d:"M308.37,84.14h5.23V97.55h9.5V102H308.37Z"})))}var Y,X=i.forwardRef(Z),q=(n.p,n(408)),Q=r.a.createContext({}),$=Q.Provider,ee=$,te=function(){var e=Object(q.a)(),t=e.t,n=e.i18n,a=e.ready,r=Object(i.useContext)(Q);return{t:function(e){var n=t(r+":"+e);return n!==e?n:t(e)},i18n:n,ready:a}},ne=n(397),ae=n(337),ie=n(0),re=Object(ae.a)((function(e){return{paper:{},panelHeader:Object(j.a)({},e.typography.panelHeader),headerBox:{position:"relative",height:30,marginBottom:e.spacing(1),display:"flex"},line:{borderBottom:"1px solid "+e.palette.text.primary,marginLeft:e.spacing(2),width:"100%",height:25,display:"block"},svg:{verticalAlign:"bottom",position:"relative",bottom:-2,left:-3}}})),oe=function(e){var t=e.label,n=e.children,a=re(),i=20*Math.PI/180,r=3*Math.cos(i),o=3-3*Math.sin(i),c=[["M",0,3],["a",3,3,0,0,1,3,-3],["L",60,0],["a",3,3,0,0,1,r,o],["l",(6-2*o-1)*Math.tan(i),6-2*o-1],["a",3,3,0,0,0,r,o],["L",3,6],["a",3,3,0,0,1,-3,-3],["Z"]];return Object(ie.jsxs)(ne.a,{m:2,children:[Object(ie.jsxs)("div",{className:a.headerBox,children:[Object(ie.jsx)("span",{className:a.panelHeader,children:t}),Object(ie.jsx)("span",{className:a.line,children:Object(ie.jsx)("svg",{width:80,height:6,className:a.svg,children:Object(ie.jsx)("path",{d:c.map((function(e){return e.join(" ")})).join(" "),fill:"black"})})})]}),Object(ie.jsx)(m.a,{elevation:0,classes:{root:a.paper},children:Object(ie.jsx)(ne.a,{m:0,children:n})})]})},ce=n(11),se=n(163),le=n.n(se),ue=n(412),de=n(152),pe=n(411),be=function(e){var t=e.value,n=e.onChange,a=e.onSubmit,r=Object(i.useState)(t),o=Object(p.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(!1),u=Object(p.a)(l,2),d=u[0],b=u[1],m=d?c:t,f=Object(i.useCallback)((function(e){s(t),b(!0)}),[b,s,t]),h=Object(i.useCallback)((function(e){n?(n(e.target.value),s(e.target.value),e.preventDefault()):s(e.target.value)}),[n,s]),O=Object(i.useCallback)((function(e){b(!1),s(t)}),[b,t,s]),x=Object(i.useCallback)((function(e){"Enter"===e.key&&(a&&a(e),e.target.blur())}),[a]);return Object(ie.jsx)(pe.a,Object(j.a)(Object(j.a)({},e),{},{value:m,onFocus:f,onBlur:O,onChange:h,onKeyDown:x}))},je=n(27),me=n.n(je),fe=r.a.createContext({}),he=fe.Provider,Oe=he,xe="@@rockhopper",ge="queued",ve="uploading",ye="askForOverwrite",Se="canceled",Ce="PROGRAM",we="USB_PROGRAM",ke="CONFIGURATION",Ee="watch",Ne="LOGIN_ID",Ie="HEARTBEAT_ID",Te=102400,Me=102400,_e="?OK",Ae="webSocket",De="debug",Le="info",Pe="warning",Fe="error",Re="basic",Ue="mdi",He="running",Be="idle",Ge="paused",Je=2,We=3,Ve=1,ze=3,Ke=0,Ze=3,Ye=10,Xe={MACHINE_UNITS:{ANGLE:"deg",ANGULAR_VELOCITY:"deg/s",LENGTH:"in",LINEAR_VELOCITY:"in/s",POWER:"W",PRESSURE:"MPa",SPINDLE_SPEED:"rpm",SURFACE_SPEED:"ft/min",TEMPERATURE:"C"},AXES:{X:"in",Y:"in",Z:"in",A:"deg",B:"deg",C:"deg"},TYPE_MAP:{in:"length",mm:"length",cm:"length",pu:"length","in/s":"linearVelocity","in/min":"linearVelocity","ft/s":"linearVelocity","ft/min":"linearVelocity","mm/s":"linearVelocity","mm/min":"linearVelocity","m/s":"linearVelocity","m/min":"linearVelocity","pu/s":"linearVelocity","pu/min":"linearVelocity",deg:"angle","deg/s":"angularVelocity","deg/min":"angularVelocity",psi:"pressure",MPa:"pressure",F:"temperature",C:"temperature",rpm:"spindleSpeed",W:"power"},DECIMALS:function(e){switch(e){case"mm":case"mm/s":case"mm/min":case"deg":case"deg/min":case"deg/s":return 3;default:return 4}},lengthOptions:new Set(["in","mm","cm","mu"]),angleOptions:new Set(["deg"]),pressureOptions:new Set(["MPa","psi"]),temperatureOptions:new Set(["C","F"]),linearVelocityOptions:new Set(["in/s","in/min","mm/s","mm/min"]),angularVelocityOptions:new Set(["deg/s","deg/min"])},qe={AXIS_SELECT_JOG:{"jog+":"Equal","jog-":"Minus",nextAxis:"Quote",previousAxis:"Semicolon",increaseStepSize:"BracketLeft",decreaseStepSize:"BracketRight",selectX:"1",selectY:"2",selectZ:"3",selectA:"4",selectB:"5",selectC:"6"},OTHER:{cycleStart:"",estopDisable:"",estopEnable:"",feedHold:"",feedrateIncrement1:"",feedrateIncrement10:"",feedrateDecrement1:"",feedrateDecrement10:"",homeAll:"",reset:"",spindlerateIncrement1:"",spindlerateIncrement10:"",spindlerateDecrement1:"",spindlerateDecrement10:"",step:""},JOG_MODIFIERS:{continuous:"",incremental:"Alt",slow:"Shift"},JOG:{"jogX+":"ArrowRight","jogX-":"ArrowLeft","jogY+":"ArrowUp","jogY-":"ArrowDown","jogZ+":"X","jogZ-":"Z","jogA+":"S","jogA-":"A","jogB-":"B","jogB+":"N","jogC+":"V","jogC-":"C"}},Qe={LINEAR:{MIN:{value:.001,unit:"mm"},MAX:{value:.1,unit:"in"}},ANGULAR:{MIN:{value:.001,unit:"deg"},MAX:{value:360,unit:"deg"}}},$e=2.3,et=10,tt=n(83),nt=n.n(tt),at=function(e,t){var n=e.unit,a=e.value,i=Xe.TYPE_MAP[n];if("length"===i){if("G21"===t)return{value:nt()(a).from(n).to("mm"),unit:"mm"};if("G20"===t)return{value:nt()(a).from(n).to("in"),unit:"in"}}else{if("linearVelocity"!==i){var r=i.split(/(?=[A-Z])/).map((function(e){return e.toUpperCase()})).join("_"),o=Xe.MACHINE_UNITS[r];return{value:nt()(a).from(n).to(o),unit:o}}if("G21"===t)return{value:nt()(a).from(n).to("mm/min"),unit:"mm/min"};if("G20"===t)return{value:nt()(a).from(n).to("in/min"),unit:"in/min"}}},it=function(e,t){var n=e.unit,a=e.value;n.startsWith("pu")&&("G21"===t?n="mm"+n.substr(2):"G20"===t&&(n="in"+n.substr(2)));var i=Xe.TYPE_MAP[n].split(/(?=[A-Z])/).map((function(e){return e.toUpperCase()})).join("_"),r=Xe.MACHINE_UNITS[i];return{value:nt()(a).from(n).to(r),unit:r}},rt=function(){var e=Object(i.useContext)(fe),t=e.displayUnits,n=e.activeCodes;return{displayUnits:t,getDisplayUnitStringFromType:function(e){var a=t[e];return a.startsWith("pu")&&(n.includes("G21")?a="mm"+a.substr(2):n.includes("G20")&&(a="in"+a.substr(2))),a},getDisplayUnitStringFromUnit:function(e){return e.startsWith("deg")?"deg"+e.substr(3):e},toDisplayUnits:function(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.unit,o=e.value;return(a=i?t[i]:t[Xe.TYPE_MAP[r]]).startsWith("pu")&&(a=n.includes("G21")?"mm"+a.substr(2):(n.includes("G20"),"in"+a.substr(2))),{value:nt()(o).from(r).to(a),unit:a}}}},ot=Object(u.a)((function(e){return{container:{display:"flex",flexDirection:"column",overflow:"scroll"},cell:{display:"flex",flex:"0 0 ".concat(120,"px"),justifyContent:"center",verticalAlign:"top"},fixedSizeList:{display:"flex",width:"100%",overflowX:"visible",overflowY:"scroll"},measureButton:{height:39},row:{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%"},headerRow:{display:"flex",direction:"rtl",justifyContent:"flex-end",width:"100%"},headerCell:{display:"flex",flex:"0 0 ".concat(120,"px"),justifyContent:"center",textAlign:"center",verticalAlign:"top"},textFieldInput:Object(j.a)(Object(j.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.primary.main,borderRadius:4,borderWidth:2,direction:"ltr",padding:e.spacing(1),marginLeft:e.spacing(.5),marginRight:e.spacing(.5),textAlign:"left","&:hover":{border:"2px solid"+e.palette.primary.light},"&:disabled":{border:"2px solid"+e.palette.grey[200]}}),numericalTextFieldInput:Object(j.a)(Object(j.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.primary.main,borderRadius:4,borderWidth:2,direction:"ltr",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),"&:hover":{border:"2px solid"+e.palette.primary.light},"&:disabled":{border:"2px solid"+e.palette.grey[200]}}),textFieldNotchedOutline:{border:"none"},toolNumButton:Object(j.a)(Object(j.a)({},e.typography.dataText),{},{border:"2px solid "+e.palette.text.primary,marginLeft:e.spacing(1),marginRight:e.spacing(.5),height:39}),activeToolNumberBox:{backgroundColor:e.palette.text.primary,color:e.palette.primary.main}}})),ct=function(e){var t=e.toolInSpindle,n=e.toolTable,a=e.toolTableDescriptions,r=e.toolFlutes,o=e.readyForMdi,c=e.onMeasureTool,s=e.onLoadTool,l=e.onToolDescriptionChanged,u=e.onToolFlutesChanged,d=e.onSetToolLengthOffset,j=e.onSetToolDiameter,m=ot(),f=te().t,O=rt(),x=O.getDisplayUnitStringFromType,g=O.toDisplayUnits,v=n?Xe.DECIMALS(g(n[0][Ze]).unit):0,y=Object(i.useRef)(0),S=Object(i.useRef)();Object(i.useEffect)((function(){S.current&&0!==y.current&&S.current.scrollTo(y.current)}));var C=Object(i.useRef)(),w=Object(i.useState)(0),k=Object(p.a)(w,2),E=k[0],N=k[1];Object(i.useEffect)((function(){function e(){N(C.current.offsetWidth<727?742-C.current.offsetWidth:0)}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var I=function(e){c&&c(e)};return Object(ie.jsxs)("div",{className:m.container,children:[Object(ie.jsx)("div",{style:{width:"100%",paddingRight:E},children:Object(ie.jsxs)("div",{className:m.headerRow,ref:C,children:[Object(ie.jsx)("span",{className:m.headerCell,style:{flexGrow:1,minWidth:200},children:f("description")}),Object(ie.jsx)("span",{className:m.headerCell,children:f("flutes")}),Object(ie.jsx)("span",{className:m.headerCell,children:f("diameter")+" ("+x("length")+")"}),Object(ie.jsx)("span",{className:m.headerCell,children:f("tlo")+" ("+x("length")+")"}),Object(ie.jsx)("span",{className:m.headerCell,style:{flex:"0 0 ".concat(60,"px")}}),Object(ie.jsx)("span",{className:m.headerCell,style:{marginLeft:15,flex:"0 0 ".concat(65,"px")}})]})}),n?Object(ie.jsx)(de.a,{ref:S,height:250,itemCount:n?n.length:55,itemSize:50,className:m.fixedSizeList,direction:"rtl",style:{paddingRight:E},onScroll:function(e){e.scrollOffset===y.current||e.scrollUpdateWasRequested||(y.current=e.scrollOffset)},children:function(e){var i=e.index,c=e.style,p=n&&n[i]?n[i]:Array(14).fill({value:0,unit:""}),O=g(p[Ze]),x=g(p[Ye]);return Object(ie.jsxs)("div",{className:m.row,style:c,children:[Object(ie.jsx)("span",{className:m.cell,style:{flexGrow:1,minWidth:200},children:Object(ie.jsx)(be,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:p,value:a&&a[p[Ke]-1]?a[p[Ke]-1]:"",onSubmit:function(e){var t,n;t=p[Ke],n=e.target.value,l&&l(t,n,a)},InputProps:{classes:{input:m.textFieldInput,notchedOutline:m.textFieldNotchedOutline}}})}),Object(ie.jsx)("span",{className:m.cell,children:Object(ie.jsx)(be,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",value:r&&r[p[Ke]-1]?r[p[Ke]-1]:"1",onSubmit:function(e){var t,a;t=p[Ke],a=e.target.value,u&&u(Object(ce.a)(r||new Array(n.length).map((function(){return 1})),(function(e){e.splice(t-1,1,a)})),a)},InputProps:{classes:{input:m.numericalTextFieldInput,notchedOutline:m.textFieldNotchedOutline}}})}),Object(ie.jsx)("span",{className:m.cell,children:Object(ie.jsx)(be,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:p,value:x.value.toFixed(v),onSubmit:function(e){!function(e,t,n){var a=Number(e.target.value);j&&!isNaN(a)&&j(n,{value:a,unit:g(t).unit})}(e,x,p[Ke])},InputProps:{classes:{input:m.numericalTextFieldInput,notchedOutline:m.textFieldNotchedOutline}}})}),Object(ie.jsx)("span",{className:m.cell,children:Object(ie.jsx)(be,{disabled:!o.isReady,fullWidth:!0,variant:"outlined",tool:p,value:O.value.toFixed(v),onSubmit:function(e){!function(e,t,n){var a=Number(e.target.value);d&&!isNaN(a)&&d(n,{value:a,unit:g(t).unit})}(e,O,p[Ke])},InputProps:{classes:{input:m.numericalTextFieldInput,notchedOutline:m.textFieldNotchedOutline}}})}),Object(ie.jsx)("span",{className:m.cell,style:{flex:"0 0 ".concat(60,"px")},children:Object(ie.jsx)(h.a,{className:me()(m.toolNumButton,Object(b.a)({},m.activeToolNumberBox,i+1===Number(t))),onClick:function(){var e;e=p[Ke],s&&s(e)},variant:"outlined",size:"small",children:Object(ie.jsx)("span",{children:"T "+p[Ke]})})}),Object(ie.jsx)("span",{className:m.cell,style:{flex:"0 0 ".concat(65,"px")},children:o.isReady?Object(ie.jsx)(ue.a,{title:f("toolTouchOff"),children:Object(ie.jsx)(h.a,{className:m.measureButton,color:"primary",variant:"contained",disabled:!o.isReady,onClick:function(){I(p[Ke])},size:"small",children:Object(ie.jsx)(le.a,{})})}):Object(ie.jsx)(h.a,{className:m.measureButton,color:"primary",variant:"contained",disabled:!o.isReady,onClick:function(){I(p[Ke])},size:"small",children:Object(ie.jsx)(le.a,{})})})]})}}):null]})},st=n(33),lt=n(398),ut=[{name:"acceleration",watchable:!0},{name:"active_queue",watchable:!0},{name:"actual_position",watchable:!0},{name:"adaptive_feed_enabled",watchable:!0},{name:"ain",watchable:!0},{name:"angular_units",watchable:!0},{name:"aout",watchable:!0},{name:"axes",watchable:!0},{name:"axes_data",watchable:!0},{name:"axis",watchable:!1},{name:"axis_mask",watchable:!0},{name:"block_delete",watchable:!0},{name:"board_revision",watchable:!1},{name:"calculated_feedrate",watchable:!0},{name:"calibration_data",watchable:!1},{name:"client_config",watchable:!0},{name:"command",watchable:!0},{name:"compensation",watchable:!1},{name:"config",watchable:!1},{name:"config_item",watchable:!1},{name:"config_overlay",watchable:!1},{name:"current_line",watchable:!0},{name:"current_vel",watchable:!0},{name:"current_version",watchable:!1},{name:"cycle_time",watchable:!0},{name:"debug",watchable:!0},{name:"delay_left",watchable:!0},{name:"din",watchable:!0},{name:"distance_to_go",watchable:!0},{name:"dogtag",watchable:!1},{name:"dout",watchable:!0},{name:"dtg",watchable:!0},{name:"echo_serial_number",watchable:!0},{name:"enabled",watchable:!0},{name:"error",watchable:!0},{name:"estop",watchable:!0},{name:"exec_state",watchable:!0},{name:"feed_hold_enabled",watchable:!0},{name:"feed_override_enabled",watchable:!0},{name:"feedrate",watchable:!0},{name:"file",watchable:!0},{name:"file_content",watchable:!1},{name:"flood",watchable:!0},{name:"g5x_index",watchable:!0},{name:"g5x_offset",watchable:!0},{name:"g92_offset",watchable:!0},{name:"gcode_map",watchable:!0},{name:"gcodes",watchable:!0},{name:"halgraph",watchable:!1},{name:"halpin_halui.max-velocity.value",watchable:!0},{name:"halpin_hss_warmup.full_warmup_needed",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_hss_warmup.performing_warmup",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_hss_warmup.warmup_needed",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"halpin_interlock.program-paused-by-interlock",watchable:!0,requiresFeature:"INTERLOCK"},{name:"halpin_motion.switchkins-type",watchable:!0},{name:"halsig_interlockClosed",watchable:!0,requiresFeature:"INTERLOCK"},{name:"homed",watchable:!0},{name:"id",watchable:!0},{name:"ini_file_name",watchable:!0},{name:"inpos",watchable:!0},{name:"input_timeout",watchable:!0},{name:"interp_state",watchable:!0},{name:"interpreter_errcode",watchable:!0},{name:"joint_actual_position",watchable:!0},{name:"joint_position",watchable:!0},{name:"joints",watchable:!0},{name:"kinematics_type",watchable:!0},{name:"limit",watchable:!0},{name:"linear_units",watchable:!0},{name:"ls",watchable:!0},{name:"lube",watchable:!0},{name:"lube_level",watchable:!0},{name:"max_acceleration",watchable:!0},{name:"max_velocity",watchable:!0},{name:"mcodes",watchable:!0},{name:"measured_spindle_current",watchable:!0},{name:"measured_spindle_speed",watchable:!0},{name:"measured_spindle_voltage",watchable:!0},{name:"mist",watchable:!0},{name:"motion_line",watchable:!0},{name:"motion_mode",watchable:!0},{name:"motion_type",watchable:!0},{name:"optional_stop",watchable:!0},{name:"paused",watchable:!0},{name:"pocket_prepped",watchable:!0},{name:"position",watchable:!0},{name:"pressure_data",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"probe_tripped",watchable:!0},{name:"probe_val",watchable:!0},{name:"probed_position",watchable:!0},{name:"probing",watchable:!0},{name:"program",watchable:!0},{name:"program_units",watchable:!0},{name:"queue",watchable:!0},{name:"queue_full",watchable:!0},{name:"rapidrate",watchable:!0},{name:"read_line",watchable:!0},{name:"rotary_motion_only",watchable:!0},{name:"rotation_xy",watchable:!0},{name:"rtc_seconds",watchable:!0},{name:"running",watchable:!0},{name:"settings",watchable:!0},{name:"spindle",watchable:!0},{name:"spindle_max_speed",watchable:!0},{name:"spindle_pressure",watchable:!0},{name:"spindle_temperature",watchable:!0},{name:"state",watchable:!0},{name:"system_status",watchable:!1},{name:"task_mode",watchable:!0},{name:"task_paused",watchable:!0},{name:"task_state",watchable:!0},{name:"temperature_data",watchable:!0,requiresFeature:"HIGH_SPEED_SPINDLE"},{name:"tool_in_spindle",watchable:!0},{name:"tool_offset",watchable:!0},{name:"tool_released",watchable:!0},{name:"tool_table",watchable:!0},{name:"usb_detected",watchable:!0},{name:"usb_map",watchable:!1},{name:"usb_software_files",watchable:!1},{name:"users",watchable:!0},{name:"velocity",watchable:!0},{name:"versions",watchable:!1},{name:"vice_released",watchable:!0}],dt=[{name:"abort_cmd",paramTypes:[]},{name:"add_user",paramTypes:[{optional:!1,ordinal:"0",pname:"username",ptype:"string"},{optional:!1,ordinal:"1",pname:"password",ptype:"string"}]},{name:"auto",paramTypes:[{"lookup-vals":["AUTO_RUN","AUTO_STEP","AUTO_RESUME","AUTO_PAUSE"],optional:!1,ordinal:"0",pname:"auto",ptype:"lookup"},{optional:!0,ordinal:"1",pname:"run_from",ptype:"int"}]},{name:"auto_cmd",paramTypes:[{"lookup-vals":["AUTO_RUN","AUTO_STEP","AUTO_RESUME","AUTO_PAUSE"],optional:!1,ordinal:"0",pname:"auto",ptype:"lookup"},{optional:!0,ordinal:"1",pname:"run_from",ptype:"int"}]},{name:"brake",paramTypes:[{"lookup-vals":["BRAKE_ENGAGE","BRAKE_RELEASE"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"check_for_updates",paramTypes:[]},{name:"check_usb_file_for_updates",paramTypes:[{optional:!1,ordinal:"0",pname:"file",ptype:"string"},{optional:!1,ordinal:"1",pname:"require_valid_signature",ptype:"bool"}]},{name:"clear_error",paramTypes:[]},{name:"clear_logs",paramTypes:[]},{name:"clear_ncfiles",paramTypes:[]},{name:"config",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"create_swap",paramTypes:[]},{name:"cycle_start_cmd",paramTypes:[]},{name:"debug",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"delete_swap",paramTypes:[]},{name:"disable_swap",paramTypes:[]},{name:"eject_usb",paramTypes:[]},{name:"enable_swap",paramTypes:[]},{name:"estop_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"estop",ptype:"bool"}]},{name:"feed_hold_cmd",paramTypes:[]},{name:"feedrate",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"file_copy",paramTypes:[{optional:!1,ordinal:"0",pname:"src_filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"src_file_type",ptype:"string"},{optional:!1,ordinal:"2",pname:"dest_filename",ptype:"string"},{optional:!1,ordinal:"3",pname:"dest_file_type",ptype:"string"},{optional:!1,ordinal:"4",pname:"overwrite",ptype:"bool"}]},{name:"file_delete",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"}]},{name:"file_download_cancel",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"}]},{name:"file_download_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"},{optional:!1,ordinal:"2",pname:"size",ptype:"int"}]},{name:"file_download_init",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"}]},{name:"file_upload_cancel",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"}]},{name:"file_upload_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"},{optional:!1,ordinal:"2",pname:"data",ptype:"string"}]},{name:"file_upload_finalize",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"},{optional:!1,ordinal:"2",pname:"checksum",ptype:"string"}]},{name:"file_upload_init",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"},{optional:!1,ordinal:"2",pname:"size",ptype:"int"},{optional:!1,ordinal:"3",pname:"overwrite",ptype:"bool"}]},{name:"flood",paramTypes:[{"lookup-vals":["FLOOD_ON","FLOOD_OFF"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"home",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"}]},{name:"home_cmd",paramTypes:[{optional:!0,ordinal:"0",pname:"axes",ptype:"int[]"}]},{name:"increment_feedrate_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"increment",ptype:"float"}]},{name:"increment_spindle_override_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"increment",ptype:"float"}]},{name:"ini_file_name",paramTypes:[{optional:!1,ordinal:"0",pname:"ini_file_name",ptype:"string"}]},{name:"interlock_release",paramTypes:[]},{name:"jog_cmd",paramTypes:[{"lookup-vals":["JOG_STOP","JOG_CONTINUOUS","JOG_INCREMENT"],optional:!1,ordinal:"0",pname:"jog",ptype:"lookup"},{optional:!1,ordinal:"1",pname:"mode",ptype:"string"},{optional:!1,ordinal:"2",pname:"axis",ptype:"int"},{optional:!0,ordinal:"3",pname:"velocity",ptype:"float"},{optional:!0,ordinal:"4",pname:"distance",ptype:"float"}]},{name:"load_tool_table",paramTypes:[]},{name:"maxvel",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"mdi_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"mdi",ptype:"string"}]},{name:"mist",paramTypes:[{"lookup-vals":["MIST_ON","MIST_OFF"],optional:!1,ordinal:"0",pname:"onoff",ptype:"lookup"}]},{name:"mode",paramTypes:[{"lookup-vals":["MODE_AUTO","MODE_MANUAL","MODE_MDI"],optional:!1,ordinal:"0",pname:"mode",ptype:"lookup"}]},{name:"override_limits",paramTypes:[]},{name:"program_delete",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"program_download_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"idx",ptype:"int"},{optional:!1,ordinal:"1",pname:"size",ptype:"int"}]},{name:"program_get_size",paramTypes:[]},{name:"program_open",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"}]},{name:"program_open_cmd",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"file_type",ptype:"string"}]},{name:"program_upload",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"data",ptype:"string"}]},{name:"program_upload_chunk",paramTypes:[{optional:!1,ordinal:"0",pname:"filename",ptype:"string"},{optional:!1,ordinal:"1",pname:"data",ptype:"string"},{optional:!1,ordinal:"2",pname:"start",ptype:"bool"},{optional:!1,ordinal:"3",pname:"end",ptype:"bool"},{optional:!1,ordinal:"4",pname:"ovw",ptype:"bool"}]},{name:"rapidrate",paramTypes:[{optional:!1,ordinal:"0",pname:"rate",ptype:"float"}]},{name:"reset_clock",paramTypes:[]},{name:"reset_interpreter",paramTypes:[]},{name:"restart",paramTypes:[]},{name:"save_client_config",paramTypes:[{optional:!1,ordinal:"0",pname:"key",ptype:"string"},{optional:!1,ordinal:"1",pname:"value",ptype:"string"}]},{name:"set_adaptive_feed",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_analog_output",paramTypes:[{optional:!1,ordinal:"0",pname:"index",ptype:"int"},{optional:!1,ordinal:"1",pname:"value",ptype:"float"}]},{name:"set_block_delete",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_compensation",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"set_date",paramTypes:[]},{name:"set_digital_output",paramTypes:[{optional:!1,ordinal:"0",pname:"index",ptype:"int"},{optional:!1,ordinal:"1",pname:"value",ptype:"int"}]},{name:"set_feed_hold",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_feed_override",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_m6_tool_probe",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_max_limit",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"},{optional:!1,ordinal:"1",pname:"limit",ptype:"float"}]},{name:"set_min_limit",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"},{optional:!1,ordinal:"1",pname:"limit",ptype:"float"}]},{name:"set_optional_stop",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_spindle_override",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"set_version",paramTypes:[{optional:!1,ordinal:"0",pname:"version",ptype:"string"}]},{name:"shutdown",paramTypes:[]},{name:"shutdown_computer",paramTypes:[]},{name:"spindle",paramTypes:[{"lookup-vals":["SPINDLE_FORWARD","SPINDLE_REVERSE","SPINDLE_OFF","SPINDLE_INCREASE","SPINDLE_DECREASE","SPINDLE_CONSTANT"],optional:!1,ordinal:"0",pname:"spindle",ptype:"lookup"}]},{name:"spindleoverride",paramTypes:[{optional:!1,ordinal:"0",pname:"factor",ptype:"float"}]},{name:"state",paramTypes:[{"lookup-vals":["STATE_ESTOP","STATE_ESTOP_RESET","STATE_ON","STATE_OFF"],optional:!1,ordinal:"0",pname:"state",ptype:"lookup"}]},{name:"teleop_enable",paramTypes:[{optional:!1,ordinal:"0",pname:"onoff",ptype:"int"}]},{name:"teleop_vector",paramTypes:[{optional:!1,ordinal:"0",pname:"p1",ptype:"float"},{optional:!1,ordinal:"1",pname:"p2",ptype:"float"},{optional:!1,ordinal:"2",pname:"p3",ptype:"float"},{optional:!0,ordinal:"3",pname:"p4",ptype:"float"},{optional:!0,ordinal:"4",pname:"p5",ptype:"float"},{optional:!0,ordinal:"5",pname:"p6",ptype:"float"}]},{name:"temp_set_config_item",paramTypes:[{optional:!1,ordinal:"0",pname:"data",ptype:"dict"}]},{name:"toggle_v1_v2revP",paramTypes:[]},{name:"tool_offset",paramTypes:[{optional:!1,ordinal:"0",pname:"toolnumber",ptype:"int"},{optional:!1,ordinal:"1",pname:"z_offset",ptype:"float"},{optional:!1,ordinal:"2",pname:"x_offset",ptype:"float"},{optional:!1,ordinal:"3",pname:"diameter",ptype:"float"},{optional:!1,ordinal:"4",pname:"frontangle",ptype:"float"},{optional:!1,ordinal:"5",pname:"backangle",ptype:"float"},{optional:!1,ordinal:"6",pname:"orientation",ptype:"float"}]},{name:"traj_mode",paramTypes:[{"lookup-vals":["TRAJ_MODE_FREE","TRAJ_MODE_COORD","TRAJ_MODE_TELEOP"],optional:!1,ordinal:"0",pname:"mode",ptype:"lookup"}]},{name:"unhome",paramTypes:[{optional:!1,ordinal:"0",pname:"axis",ptype:"int"}]},{name:"wait_complete",paramTypes:[{optional:!0,ordinal:"0",pname:"timeout",ptype:"float"}]}],pt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Object(j.a)(Object(j.a)({id:e,name:t,command:"get"},n),{},{meta:a})},bt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Object(j.a)(Object(j.a)({id:e,name:t,command:Ee},n),{},{meta:a})},jt=function(e,t,n){return{id:e,name:t,command:"unwatch",meta:n}},mt=function(e,t,n,a){return Object(j.a)(Object(j.a)({id:e,name:t,command:"put"},n),{},{meta:a})},ft=n(110),ht=n.n(ft),Ot=n(401),xt=function(e,t){return{type:e,payload:t}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(j.a)(Object(j.a)({},e),{},{actionEmitters:[].concat(Object(st.a)(e.actionEmitter?e.actionEmitter:[]),[t])})},vt=function(){return[xe].concat(Array.prototype.slice.call(arguments)).join("/")},yt=function(e){return ht()(e)},St=ut.filter((function(e){return e.watchable})),Ct=ut.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="GET_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,r=void 0===t?{}:t,o=e.data,c=void 0===o?{}:o;return pt(i,n,c,gt(r,vt("UPDATE",a)))},e}),{}),wt=St.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="WATCH_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,o=e.meta,c=void 0===o?{}:o;return bt(i,n,r,gt(c,vt("UPDATE",a)))},e}),{}),kt=St.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="UNWATCH_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,r=void 0===t?{}:t;return jt(i,n,gt(r,vt("RESPONSE","UNWATCH",a)))},e}),{}),Et=St.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),Nt=dt.reduce((function(e,t){var n=t.name,a=n.toUpperCase(),i="PUT_"+a;return e[a]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,o=e.meta,c=void 0===o?{}:o;return mt(i,n,r,gt(c,vt("RESPONSE","PUT",a)))},e}),{}),It=dt.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),Tt=ut.reduce((function(e,t){return e[t.name.toUpperCase()]=void 0,e}),{}),Mt={FEATURES:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"getFeatures":n;return pt(a,"config_item",{section:"POCKETNC_FEATURES",parameter:""},gt(t,vt("RESPONSE","GET_HELPERS","FEATURES")))},PROGRAM_PREFIX:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"getProgramPrefix":n;return pt(a,"config_item",{section:"DISPLAY",parameter:"PROGRAM_PREFIX"},gt(t,vt("RESPONSE","GET_HELPERS","PROGRAM_PREFIX")))}},_t={JOG_INCREMENT:function(e){var t=e.axis,n=e.jogMode,a=e.speed,i=e.increment,r=e.id,o=void 0===r?"jogIncrement":r,c=e.meta;return mt(o,"jog_cmd",["JOG_INCREMENT",n,t,a,i],gt(c,vt("RESPONSE","PUT_HELPERS","JOG_INCREMENT")))},JOG_CONTINUOUS:function(e){var t=e.axis,n=e.jogMode,a=e.speed,i=e.id,r=void 0===i?"jogContinuous":i,o=e.meta;return mt(r,"jog_cmd",["JOG_CONTINUOUS",n,t,a],gt(o,vt("RESPONSE","PUT_HELPERS","JOG_CONTINUOUS")))},JOG_STOP:function(e){var t=e.axis,n=e.jogMode,a=e.id,i=void 0===a?"jogStop":a,r=e.meta;return mt(i,"jog_cmd",["JOG_STOP",n,t],gt(r,vt("RESPONSE","PUT_HELPERS","JOG_STOP")))}},At={CURRENT_FILE_CHECKSUM:void 0,SOUND_CONFIG:void 0,COMPENSATION:void 0,CONFIG_OVERLAY:void 0,JOG_MODE:void 0,TOOL_TABLE_DESCRIPTIONS:void 0,TOOL_TABLE:void 0,TOOL_DIAMETER:void 0,TOOL_LENGTH_OFFSET:void 0,TOOL_FLUTES:void 0,SET_DISPLAY_UNITS:void 0},Dt=Object.keys(Mt).reduce((function(e,t){return e[t]=void 0,e}),{}),Lt=Object.keys(_t).reduce((function(e,t){return e[t]=void 0,e}),{}),Pt=ut.reduce((function(e,t){var n=t.name,a=t.requiresFeature;return e[yt(n)]=a,e}),{}),Ft=Object(lt.a)({CMDS:{RAW:void 0,GET:function(e){var t=e.name,n=e.data,a=void 0===n?{}:n,i=e.meta,r=e.id;return pt(void 0===r?"rockhopperGet":r,t,a,i)},WATCH:function(e){var t=e.name,n=e.data,a=void 0===n?{}:n,i=e.meta,r=e.id;return bt(void 0===r?"rockhopperWatch":r,t,a,i)},UNWATCH:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.id,a=void 0===n?"rockhopperWatch":n;return bt(a,t)},PUT:function(e){var t=e.name,n=e.data,a=e.meta,i=e.id;return mt(void 0===i?"rockhopperPut":i,t,n,a)},LIST_GET:function(e){var t=e.meta,n=e.id;return function(e,t){return{id:e,command:"list_get",meta:t}}(void 0===n?"rockhopperListGet":n,t)},LIST_PUT:function(e){var t=e.meta,n=e.id;return function(e,t){return{id:e,command:"list_put",meta:t}}(void 0===n?"rockhopperListPut":n,t)}},SET_CONNECTION_DETAILS:function(e,t,n,a,i){return{host:e,port:t,user:n,password:a,encrypted:i}},SET_LOGGED_IN:void 0,ADD_ACTION_EMITTER:void 0,REMOVE_ACTION_EMITTER:void 0,FILE_UPLOAD:{QUEUED:void 0,ASK_FOR_OVERWRITE:void 0,CONFIRM_OVERWRITE:void 0,CONFIRM_OVERWRITE_ALL:void 0,PROGRESS:void 0,FINALIZE:void 0,CANCEL:void 0,CANCEL_ALL:void 0,REMOVE:void 0,REMOVE_ALL:void 0},FILE_DOWNLOAD:{QUEUED:void 0,PROGRESS:void 0,FINALIZE:void 0,CANCEL:void 0,CANCEL_ALL:void 0,REMOVE:void 0,REMOVE_ALL:void 0},FILE_CACHE:{SET_FILE_KEY_CHECKSUM:function(e,t){return{fileKey:e,checksum:t}},SET_PATH_CHECKSUM:function(e,t){return{path:e,checksum:t}},INIT_PROGRESS:function(e,t){return{checksum:e,size:t}},UPDATE_PROGRESS:function(e,t){return{checksum:e,bytesLoaded:t}}},GET_HELPERS:Mt,PUT_HELPERS:_t,UPDATE_HELPERS:At,MESSAGES:{DEBUG:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re;return{id:Object(Ot.a)(),message:e,details:t,type:De,timestamp:Date.now(),dismiss:n}},WARNING:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re;return{id:Object(Ot.a)(),message:e,details:t,type:Pe,timestamp:Date.now(),dismiss:n}},INFO:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re;return{id:Object(Ot.a)(),message:e,details:t,type:Le,timestamp:Date.now(),dismiss:n}},ERROR:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re;return{id:Object(Ot.a)(),message:e,details:t,type:Fe,timestamp:Date.now(),dismiss:n}}},WATCH:wt,UNWATCH:kt,UPDATE:Et,GET:Ct,PUT:Nt,RESPONSE:{PUT:It,GET:Tt,GET_HELPERS:Dt,PUT_HELPERS:Lt},DELAYED:{REGISTER_UPDATE:Et,UPDATE:Et,UPDATE_IMMEDIATE:Et,PUT:Nt}},{prefix:xe}),Rt=n(30),Ut=n(16),Ht=function(e){return e.rockhopper},Bt=function(e){return e.rockhopper.webSocket},Gt=function(e){return e.rockhopper.isLoggedIn},Jt=function(e){return e.rockhopper.status.config||{parameters:[],sections:{}}},Wt=function(e){return e.rockhopper.status.gcodeMap},Vt=function(e){var t={};return e.parameters.length>0&&(Object.keys(e.sections).forEach((function(e){t[e]={}})),e.parameters.forEach((function(e,n){t[e.values.section][n]=Object(j.a)(Object(j.a)({},e.values),{},{key:e.values.name})}))),t},zt=function(e){var t=e.rockhopper.status.config||{parameters:[],sections:{}};return Vt(t)},Kt=function(e){var t=e.rockhopper.status.configOverlay||{parameters:[],sections:{}};return Vt(t)},Zt=function(e){return e.rockhopper.status.compensation},Yt=function(e){return e.rockhopper.status.motionLine?e.rockhopper.status.motionLine-1:0},Xt=function(e){return e.rockhopper.status.estop},qt=function(e){return e.rockhopper.status.g5xIndex},Qt=function(e){return e.rockhopper.status.g5xOffset},$t=function(e){return e.rockhopper.status.g92Offset},en=function(e){return e.rockhopper.status.toolInSpindle},tn=function(e){return e.rockhopper.status.toolOffset},nn=function(e){return e.rockhopper.status.optionalStop},an=function(e){return e.rockhopper.features},rn=function(e){return e.rockhopper.fileCache.fileKeys[e.rockhopper.status.program]},on=function(e){var t=rn(e);return e.rockhopper.fileCache.progress[t]},cn=function(e){var t=e.rockhopper.status,n=t.interpState,a=t.taskMode;return n===ze?Ge:n!==Ve&&a===Je?He:n===Ve?Be:a===We?Ue:"unknown"},sn=function(e){return e.rockhopper.status.programPrefix},ln=Object(Ut.a)([an],(function(e){return e.HIGH_SPEED_SPINDLE})),un=Object(Ut.a)([ln,Ht],(function(e,t){return e&&t.status.halpinHssWarmupWarmupNeeded})),dn=Object(Ut.a)([ln,Ht],(function(e,t){return e&&t.status.halpinHssWarmupPerformingWarmup})),pn=Object(Ut.a)([ln,Ht],(function(e,t){return e&&t.status.halpinHssWarmupFullWarmupNeeded})),bn=function(e,t){return Object(Ut.a)([Jt],(function(n){return n.parameters.reduce((function(n,a){return a.values.section===e&&a.values.name===t?a.values.value:n}),null)}))},jn=(Y="TRAJ",Object(Ut.a)([Jt],(function(e){return e.parameters.reduce((function(e,t){return t.values.section===Y&&(e[t.values.name]=t.values.value),e}),{})})),bn("TRAJ","COORDINATES")),mn=bn("TRAJ","MAX_LINEAR_VELOCITY"),fn=Object(Ut.a)([jn],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=n;return t}return{}})),hn=Object(Ut.a)([sn,function(e){return e.rockhopper.status.ls}],(function(e,t){return t&&e?t.map((function(t){return{file:t.replace(e+"/",""),path:t}})).sort((function(e,t){return e.file.localeCompare(t.file,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})):[]})),On=Object(Ut.a)([function(e){return e.rockhopper.status.gcodes},function(e){return e.rockhopper.status.mcodes},function(e){return e.rockhopper.status.settings},function(e){return e.rockhopper.status.halpinMotionSwitchkinsType},function(e){return!0===e.rockhopper.status.toolReleased},function(e){return!0===e.rockhopper.status.viceReleased}],(function(e,t,n,a,i,r){var o=[];e&&e.slice(1).sort((function(e,t){return e.toString().localeCompare(t.toString(),navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})).forEach((function(e,t){e>0&&o.push("G"+e/10)}));t&&t.slice(1).sort((function(e,t){return e.toString().localeCompare(t.toString(),navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})})).forEach((function(e,t){e>0&&o.push("M"+e)}));switch(i?o.push("M160"):o.push("M161"),r?o.push("M162"):o.push("M163"),a){case 0:o.push("M429");break;case 1:o.push("M428");break;case 2:o.push("M430")}return n&&(o.push("F"+n[1].toFixed(0)),o.push("S"+n[2])),o})),xn=Object(Ut.a)([On],(function(e){if(e)return e.includes("G21")?"G21":!!e.includes("G20")&&"G20"})),gn=function(e){return e.rockhopper.status.program?e.rockhopper.status.program:""},vn=function(e,t){return e.rockhopper.fileDownload[t]},yn=function(e){return e.rockhopper.fileDownload},Sn=function(e,t){return e.rockhopper.fileUpload[t]},Cn=function(e){return e.rockhopper.fileUpload},wn=function(e){var t=[];for(var n in e.rockhopper.fileUpload)e.rockhopper.fileUpload[n].state!==ye||e.rockhopper.fileUpload[n].overwrite||t.push(e.rockhopper.fileUpload[n]);return t},kn=Object(Ut.a)([function(e){return e.rockhopper.status.axisMask},jn],(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a="XYZABCUVW",i=0;i<9;i++)if(e&1<<i){var r=a[i],o=t?t.indexOf(r):-1;n.push({axis:r,index:i,jointIndex:o})}return n})),En=Object(Ut.a)([function(e){return e.rockhopper.status.joints},function(e){return e.rockhopper.status.homed}],(function(e,t){if(e&&t)for(var n=0;n<e;n++)if(!t[n])return!1;return!0})),Nn=function(e){return e.rockhopper.status.axesData},In=Object(Ut.a)([Nn],(function(e){return e?{value:5.08*Math.abs(e[0].velocity)*Math.PI*2*e[0].torque*2+5.08*Math.abs(e[1].velocity)*Math.PI*2*e[1].torque*2+5.08*Math.abs(e[2].velocity)*Math.PI*2*e[2].torque*3.5+4080*Math.abs(e[3].velocity)/26*Math.PI/180*e[3].torque*3.5+4080*Math.abs(e[4].velocity)/26*Math.PI/180*e[4].torque*2,unit:Xe.MACHINE_UNITS.POWER}:{value:0,unit:Xe.MACHINE_UNITS.POWER}})),Tn=Object(Ut.a)([Qt,$t,tn,En,Nn],(function(e,t,n,a,i){return i&&e&&t&&n?i.map((function(i){var r=i.velocity,o=i.axis,c=i.index,s=i.jointIndex,l=i.actualPosition,u=i.jointActualPosition,d=i.dtg,p=i.torque;return{axis:o,index:c,jointIndex:s,actualPosition:{value:l,unit:Xe.AXES[o]},jointActualPosition:{value:u,unit:Xe.AXES[o]},velocity:{value:r,unit:Xe.AXES[o]+"/s"},position:{value:a?l-e[c]-t[c]-n[c]:s>-1?u:0,unit:Xe.AXES[o]},torque:p,dtg:{value:a?d:0,unit:Xe.AXES[o]}}})):[]})),Mn=function(e){return{value:e.rockhopper.status.spindleTemperature||-999,unit:Xe.MACHINE_UNITS.TEMPERATURE}},_n=function(e){return{value:e.rockhopper.status.spindlePressure||-999,unit:Xe.MACHINE_UNITS.PRESSURE}},An=function(e){return{value:e.rockhopper.status.spindleMaxSpeed||1,unit:Xe.MACHINE_UNITS.SPINDLE_SPEED}},Dn=function(e){return{value:Math.round(e.rockhopper.status.measuredSpindleSpeed)||0,unit:Xe.MACHINE_UNITS.SPINDLE_SPEED}},Ln=function(e){return{value:e.rockhopper.status.calculatedFeedrate||0,unit:Xe.MACHINE_UNITS.LINEAR_VELOCITY}},Pn=Object(Ut.a)([Ht],(function(e){var t=e.status,n=t.measuredSpindleCurrent,a=void 0===n?0:n,i=t.measuredSpindleVoltage;return{value:(a||0)*((void 0===i?0:i)||0),unit:Xe.MACHINE_UNITS.POWER}})),Fn=Object(Ut.a)([Pn,Dn],(function(e,t){var n=t.value/4e4*2500;return n>0?e.value/n:0})),Rn=Object(Ut.a)([Ht,mn],(function(e,t){var n=e.delayed.status.halpinHaluiMaxVelocityValue;return"undefined"===typeof n?100:Math.round(n/t*100)})),Un=(Object(Ut.a)([Ht,mn],(function(e,t){var n=e.status.halpinHaluiMaxVelocityValue;return Math.round(n/t*100)})),Object(Ut.a)([Ht],(function(e){var t=e.delayed.status.rapidrate;return"undefined"!==typeof t?Math.round(100*t):100}))),Hn=(Object(Ut.a)([Ht],(function(e){var t=e.status.rapidrate;return"undefined"!==typeof t?Math.round(100*t):100})),Object(Ut.a)([Ht],(function(e){var t=e.delayed.status.feedrate;return"undefined"!==typeof t?Math.round(100*t):100}))),Bn=(Object(Ut.a)([Ht],(function(e){var t=e.status.feedrate;return Math.round(100*t)})),Object(Ut.a)([Ht],(function(e){return e.delayed.status.spindle?e.delayed.status.spindle:[{override:1}]}))),Gn=(Object(Ut.a)([Ht],(function(e){if(e.status.spindle){var t=e.status.spindle[0].override;return Math.round(100*t)}return 100})),Object(Ut.a)([Ht],(function(e){return e.status.clientConfig}))),Jn=Object(Ut.a)([Gn],(function(e){return e&&e.soundConfig?e.soundConfig:{volume:1,enabled:!0}})),Wn=Object(Ut.a)([Gn],(function(e){return e&&e.displayUnits?e.displayUnits:{angle:"deg",angularVelocity:"deg/min",length:"pu",linearVelocity:"pu/min",power:"W",pressure:"MPa",spindleSpeed:"rpm",surfaceSpeed:"ft/min",temperature:"C",time:"min"}})),Vn=Object(Ut.a)([function(e){return e.rockhopper.status.toolTable},Wn],(function(e,t){var n=Xe.MACHINE_UNITS.LENGTH,a=Xe.MACHINE_UNITS.ANGLE,i=[null,n,n,n,a,a,a,null,null,null,n,a,a,null];return e?e.slice(1,53).map((function(e){return e.map((function(e,t){return i[t]?{value:e,unit:i[t]}:e}))})):null})),zn=Object(Ut.a)([Gn],(function(e){return e&&e.KeyboardShortcuts?e.KeyboardShortcuts:qe})),Kn=Object(Ut.a)([zn],(function(e){return e&&e.jogModifiers?e.jogModifiers:qe.JOG_MODIFIERS})),Zn=Object(Ut.a)([zn],(function(e){return e&&e.jog?e.jog:qe.JOG})),Yn=Object(Ut.a)([zn],(function(e){return e&&e.axisSelectJog?e.axisSelectJog:qe.AXIS_SELECT_JOG})),Xn=Object(Ut.a)([zn],(function(e){return e&&e.other?e.other:qe.OTHER})),qn=Object(Ut.a)([zn],(function(e){return e&&e.mdi?e.mdi:{}})),Qn=Object(Ut.a)([Yn],(function(e){var t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[e[n]]="axisSelectJog"+n.charAt(0).toUpperCase()+n.slice(1))})),t})),$n=Object(Ut.a)([Xn],(function(e){var t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[e[n]]=n)})),t})),ea=Object(Ut.a)([Gn],(function(e){return e&&e.MDIHistory?e.MDIHistory:[]})),ta=Object(Ut.a)([Gn],(function(e){return e&&e.MDIFavorites?e.MDIFavorites:[]})),na=Object(Ut.a)([Gn],(function(e){return e&&e.jogMode?e.jogMode:"JOINT"})),aa=Object(Ut.a)([ta],(function(e){var t={};return e.forEach((function(e){e.keybind&&""!==e.keybind&&(t[e.keybind]="mdi"+e.cmd)})),t}));function ia(e){var t=new Set;return e.forEach((function(e){return t.add(e.cmd),null})),t}var ra=Object(Ut.a)([ta],(function(e){var t,n=new Map,a=Object(Rt.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.set(i.cmd,{name:i.name,time:i.time,keybind:i.keybind})}}catch(r){a.e(r)}finally{a.f()}return n})),oa=Object(Ut.a)([Kn,Zn,Qn,$n,aa],(function(e,t,n,a,i){if(!e||!t||!n||!a)return null;var r={},o=e.continuous?e.continuous+"+":"";return Object.keys(t).forEach((function(n){""!==t[n]&&(r[o+t[n]]=n,""!==e.incremental&&(r[e.incremental+"+"+t[n]]=n+"incremental"),""!==e.slow&&(r[e.slow+"+"+t[n]]=n+"slow"))})),Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},r),n),a),i)})),ca=Object(Ut.a)([ea,ta],(function(e,t){var n,a=ia(e),i=ia(t),r=new Map,o=Object(Rt.a)(a);try{for(o.s();!(n=o.n()).done;){var c=n.value;r.set(c,{isFav:i.has(c)})}}catch(s){o.e(s)}finally{o.f()}return r})),sa=Object(Ut.a)([ea],(function(e){return Object.values(e).sort((function(e,t){return t.time-e.time}))})),la=Object(Ut.a)([sa],(function(e){var t,n=new Set,a=[],i=Object(Rt.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.cmd.toLowerCase();n.has(o)||(n.add(o),a.push(r))}}catch(c){i.e(c)}finally{i.f()}return a})),ua=Object(Ut.a)([Gn],(function(e){return e&&e.ToolFlutes?e.ToolFlutes:null})),da=Object(Ut.a)([Gn],(function(e){return e&&e.ToolTableDescriptions?e.ToolTableDescriptions:[]})),pa=Object(Ut.a)([ua,en],(function(e,t){return e&&t>0&&e[t-1]||1})),ba=Object(Ut.a)([Vn,en],(function(e,t){return e&&t?e[t-1][10]:{value:0,unit:Xe.MACHINE_UNITS.LENGTH}})),ja=Object(Ut.a)([mn,pa],(function(e,t){return t&&e?{value:60*e/(1e3*t),unit:Xe.MACHINE_UNITS.LENGTH}:{value:0,unit:Xe.MACHINE_UNITS.LENGTH}})),ma=Object(Ut.a)([Ln,pa,Dn],(function(e,t,n){return n.value&&t?{value:60*e.value/(n.value*t),unit:Xe.MACHINE_UNITS.LENGTH}:{value:0,unit:Xe.MACHINE_UNITS.LENGTH}})),fa=Object(Ut.a)([An,ba],(function(e,t){return e.value&&t.value?{value:e.value*t.value*Math.PI/12,unit:Xe.MACHINE_UNITS.SURFACE_SPEED}:{value:0,unit:Xe.MACHINE_UNITS.SURFACE_SPEED}})),ha=Object(Ut.a)([Dn,ba],(function(e,t){return e.value&&t.value?{value:e.value*t.value*Math.PI/12,unit:Xe.MACHINE_UNITS.SURFACE_SPEED}:{value:0,unit:Xe.MACHINE_UNITS.SURFACE_SPEED}})),Oa=Object(Ut.a)([En,Xt,function(e){return e.rockhopper.status.taskMode},function(e){return e.rockhopper.status.interpState}],(function(e,t,n,a){var i={isReady:!1,reason:null};return t?i.reason="Machine is in E-stop.":e?n===Je&&a!==Ve?i.reason="Machine is running a program.":i.isReady=!0:i.reason="Machine is not homed.",i})),xa=Object(Ut.a)([Qt,$t,tn,En,Nn],(function(e,t,n,a,i){return i&&e&&t&&n?i.map((function(i){var r=i.axis,o=i.index,c=i.jointIndex,s=i.actualPosition,l=i.jointActualPosition;return{axis:r,index:o,jointIndex:c,actualPosition:{value:s,unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE},jointActualPosition:{value:l,unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE},position:{value:a?s-e[o]-t[o]-n[o]:c>-1?l:0,unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE},toolOffset:{value:n[o],unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE},g5xOffset:{value:e[o],unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE},g92Offset:{value:t[o],unit:c<=2?Xe.MACHINE_UNITS.LENGTH:Xe.MACHINE_UNITS.ANGLE}}})):[]})),ga=function(e){return e.rockhopper.delayed.registered},va=Object(s.connect)((function(e,t){return{toolInSpindle:en(e),toolTable:Vn(e),toolTableDescriptions:da(e),toolFlutes:ua(e),readyForMdi:Oa(e),unitsCode:xn(e)}}),(function(e,t){return{onDispatchMdiCmd:function(t){e(Ft.put.mdiCmd({data:[t]}))},onDispatchUpdateHelper:function(t,n){e(Ft.updateHelpers[t](n))},onLoadTool:function(t){e(Ft.put.mdiCmd({data:["M6 T".concat(t," G43")]}))},onMeasureTool:function(t){e(Ft.put.mdiCmd({data:["M654 T".concat(t)]}))},onToolTableChanged:function(t,n,a,i){e(Ft.updateHelpers.toolTableRow({data:[n,a,i]})),e(Ft.put.mdiCmd({data:["G10 L1 P".concat(n," Z").concat(a," X0 R").concat(.5*i," I0 J0 Q0")]}))},onToolDescriptionChanged:function(t,n,a){var i=Object(ce.a)(a,(function(e){if(!(t<=a.length)){var i=e.concat(new Array(t-1-a.length).fill(null));return i.push(n),i}e.splice(t-1,1,n)}));e(Ft.updateHelpers.toolTableDescriptions({data:i})),e(Ft.put.saveClientConfig({data:["ToolTableDescriptions",i]}))},onToolFlutesChanged:function(t){e(Ft.updateHelpers.toolFlutes({data:t})),e(Ft.put.saveClientConfig({data:["ToolFlutes",t]}))}}}),(function(e,t,n){var a=e.unitsCode,i=t.onDispatchMdiCmd,r=t.onDispatchUpdateHelper;return Object(j.a)(Object(j.a)(Object(j.a)({onSetToolLengthOffset:function(e,t){var n=it(t,a);r("toolLengthOffset",{data:[e,n.value]});var o=at(t,a),c="G10 L1 P".concat(e," Z").concat(o.value.toFixed(5));i(c)},onSetToolDiameter:function(e,t){var n=it(t,a);r("toolDiameter",{data:[e,n.value]});var o=at(t,a),c="G10 L1 P".concat(e," R").concat(.5*o.value.toFixed(5));i(c)}},e),t),n)}))(ct),ya=function(e){var t=te().t;return Object(ie.jsx)(oe,{label:t("tool")+" "+t("offset_plural"),children:Object(ie.jsx)(va,{})})},Sa=n(407),Ca=n(378),wa=n(379),ka=n(91),Ea=n.n(ka),Na=n(95),Ia=n.n(Na),Ta=n(406),Ma=n(372),_a=n(373),Aa=n(374),Da=Object(ae.a)((function(e){return{button:{margin:e.spacing(1)}}})),La=function(e){var t=e.open,n=e.value,a=e.onSubmit,i=e.onClose,o=e.title,c=e.textFieldLabel,s=e.submitBtnLabel,l=e.cancelBtnLabel,u=Da(e),d=function(){i&&i()},p=function(e){if(a){e.preventDefault();var t=b.current.text.value;a(t)}},b=r.a.useRef(null);return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ta.a,{open:t,onClose:d,children:[Object(ie.jsx)(Ma.a,{children:o}),Object(ie.jsx)(_a.a,{children:Object(ie.jsx)(ne.a,{children:Object(ie.jsx)("form",{ref:b,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:Object(ie.jsx)(be,Object(j.a)(Object(j.a)({},e.textFieldProps),{},{defaultValue:n,onSubmit:function(e,t){p(e)},label:c,variant:"outlined",name:"text"}))})})}),Object(ie.jsx)(Aa.a,{children:Object(ie.jsxs)(ne.a,{children:[Object(ie.jsx)(h.a,{onClick:function(e){p(e)},variant:"contained",color:"primary",className:u.button,children:s}),Object(ie.jsx)(h.a,{onClick:d,variant:"contained",color:"primary",className:u.button,children:l})]})})]})})},Pa=Object(ae.a)((function(e){return{container:{height:40},openDialogButton:{border:"none",height:"100%",float:"right",textAlign:"center",padding:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,minWidth:32,paddingLeft:4,paddingRight:2},textField:{display:"flex",height:"100%"}}})),Fa=function(e){var t=e.value,n=e.modalValue,a=e.onSubmitTextField,i=e.onSubmitModal,o=e.disabled,c=e.buttonDom,s=e.buttonProps,l=e.containerProps,u=e.modalProps,d=e.textFieldProps,b=Pa(e),m=r.a.useState(!1),f=Object(p.a)(m,2),O=f[0],x=f[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(La,Object(j.a)({open:O,value:n,onSubmit:function(e){i&&i(e),x(!1)},onClose:function(){x(!1)}},u)),Object(ie.jsxs)(ne.a,Object(j.a)(Object(j.a)({className:b.container},l),{},{children:[Object(ie.jsx)(h.a,Object(j.a)(Object(j.a)({className:b.openDialogButton},s),{},{disabled:o,onClick:function(){o||x(!0)},children:c})),Object(ie.jsx)(be,Object(j.a)({className:b.textField,disabled:o,value:t,onSubmit:function(e){a&&a(e.target.value)}},d))]}))]})},Ra=Object(ae.a)((function(e){var t,n;return{headerRow:(t={},Object(b.a)(t,e.breakpoints.only("xs"),{fontSize:"1.0rem"}),Object(b.a)(t,e.breakpoints.up("sm"),{fontSize:".8rem"}),Object(b.a)(t,e.breakpoints.up("md"),{fontSize:"1.0rem"}),t),container:{minWidth:"21rem",textAlign:"center",fontSize:"1.0rem",fontWeight:"bold"},menuOpenButton:{borderWidth:2},offsetItemContainer:{borderColor:e.palette.primary.main,borderRadius:5,borderStyle:"solid",borderWidth:2,height:38},offsetItemDropDown:{color:e.palette.primary.main},offsetItemTextField:Object(j.a)(Object(j.a)(Object(j.a)({},e.typography.dataText),e.typography.tableCell),{},{verticalAlign:"middle",whiteSpace:"nowrap"}),offsetItemTextFieldContainer:Object(b.a)({display:"flex",width:"70%"},e.breakpoints.down("sm"),{width:"60%"}),offsetItemButton:(n={borderColor:e.palette.primary.main,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"none",borderWidth:2,minHeight:"100%"},Object(b.a)(n,e.breakpoints.only("sm"),{fontSize:"1.0rem"}),Object(b.a)(n,e.breakpoints.up("md"),{minWidth:45,fontSize:"1.0rem"}),Object(b.a)(n,e.breakpoints.up("lg"),{fontSize:"1.2rem"}),Object(b.a)(n,e.breakpoints.up("lg"),{fontSize:"1.4rem"}),n),offsetItemButtonContainer:Object(b.a)({display:"inline-block",height:"100%",width:"30%"},e.breakpoints.down("sm"),{width:"40%"}),overrideTextFieldInputInput:Object(j.a)({},e.typography.dataText),overrideTextFieldInputRoot:{borderTopRightRadius:0,borderBottomRightRadius:0,paddingLeft:0,paddingRight:0},root:{height:"100%",width:"100%"},text:Object(j.a)({},e.typography.tableCell),spacer:{color:e.palette.primary.main,width:"1rem"}}})),Ua=["G54","G55","G56","G57","G58","G59","G59.1","G59.2","G59.3"],Ha=function(e){return e>0?Ua[e-1]:"G5x"},Ba=function(e){var t=e.g5xIndex,n=e.workOffsets,a=e.toolInSpindle,i=e.toolTable,o=e.readyForMdi,c=e.onClearG92,s=e.onDisableG92,l=e.onRestoreG92,u=e.onSetG5xIndex,d=e.onSetG5xOffset,b=e.onSetG5xOffsetAll,j=e.onSetDroViaG5x,m=e.onSetDroAllViaG5x,f=e.onSetG92Offset,O=e.onSetDroViaG92,S=e.onSetDroAllViaG92,C=e.onSetTlo,w=e.onSetDroViaTlo,k=te().t,E=rt().toDisplayUnits,N=Ra(),I=r.a.useState(null),T=Object(p.a)(I,2),M=T[0],_=T[1],A=r.a.useState(null),D=Object(p.a)(A,2),L=D[0],P=D[1],F=r.a.useState(null),R=Object(p.a)(F,2),U=R[0],H=R[1],B=function(e){var t=parseInt(e.target.value);u&&!isNaN(t)&&u(Ua[t]),_(null)},G=function(e,t){var n=parseFloat(e);d&&!isNaN(n)&&d({value:n,unit:E(t.g5xOffset).unit},t)},J=function(e,t){var n=parseFloat(e);j&&!isNaN(n)&&j({value:n,unit:E(t.g5xOffset).unit},t)},W=function(e,t){var n=parseFloat(e);f&&!isNaN(n)&&f({value:n,unit:E(t.g92Offset).unit},t)},V=function(e,t){var n=parseFloat(e);O&&!isNaN(n)&&O({value:n,unit:E(t.g92Offset).unit},t)},z=function(e){var t=parseFloat(e);C&&!isNaN(t)&&C({value:t,unit:E(i[a][2]).unit})},K=function(e,t){var n=parseFloat(e);w&&!isNaN(n)&&w({value:n,unit:E(i[a][2]).unit},t)},Z=function(e){_(e.currentTarget),H(null)},Y=function(e){P(e.currentTarget),H(null)},X=r.a.useRef(null);return Object(ie.jsxs)(oe,{label:k("workOffsets"),children:[Object(ie.jsxs)(g.a,{id:"g5x-menu",anchorEl:M,keepMounted:!0,open:Boolean(M),onClose:function(){_(null)},children:[Object(ie.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(m&&!isNaN(t)){var a=n.map((function(e){return{value:t,unit:E(e.g5xOffset).unit}}));m(a)}}(0),_(null)},children:k("zeroDro")},"g5x-zero"),Object(ie.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(b&&!isNaN(t)){var a=n.map((function(e){return{value:t,unit:E(e.g5xOffset).unit}}));b(a)}}(0),_(null)},children:k("clearCurrentSystem")},"g5x-clear"),Ua.map((function(e,t){return Object(ie.jsx)(v.a,{onClick:B,value:t,children:k("use")+" "+Ua[t]},"g5x-set-"+e)}))]}),Object(ie.jsxs)(g.a,{id:"g92-menu",anchorEl:L,keepMounted:!0,open:Boolean(L),onClose:function(){P(null)},children:[Object(ie.jsx)(v.a,{onClick:function(){!function(e){var t=parseFloat(e);if(S&&!isNaN(t)){var a=n.map((function(e){return E({value:t,unit:e.g92Offset.unit})}));S(a)}}(0),P(null)},children:k("zeroDro")},"g92-zero"),Object(ie.jsx)(v.a,{onClick:function(e){c&&c(),P(null)},children:k("g92Clear")},"g92-clear"),Object(ie.jsx)(v.a,{onClick:function(e){s&&s(),P(null)},children:k("g92Suspend")},"g92-disable"),Object(ie.jsx)(v.a,{onClick:function(e){l&&l(),P(null)},children:k("g92Restore")},"g92-restore")]}),Object(ie.jsxs)(g.a,{id:"mobile-menu",anchorEl:U,keepMounted:!0,open:Boolean(U),onClose:function(){H(null)},children:[Object(ie.jsx)(v.a,{onClick:Y,children:"G92"},"open-g92-menu"),Object(ie.jsx)(v.a,{onClick:Z,children:Ha(t)},"open-g5x-menu")]}),Object(ie.jsxs)(x.a,{container:!0,spacing:1,className:N.container,children:[Object(ie.jsxs)(x.a,{item:!0,container:!0,justify:"flex-start",alignItems:"center",direction:"row",spacing:0,className:N.headerRow,children:[Object(ie.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:4,md:4,children:[Object(ie.jsx)(x.a,{item:!0,xs:3,md:2,className:N.spacer}),Object(ie.jsx)(x.a,{item:!0,xs:3,md:4,children:k("dro")}),Object(ie.jsx)(x.a,{item:!0,xs:3,md:2,className:N.spacer}),Object(ie.jsx)(x.a,{item:!0,xs:3,md:4,children:k("absolutePosition")})]}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,sm:1}),Object(ie.jsxs)(y.a,{mdDown:!0,children:[Object(ie.jsx)(x.a,{item:!0,sm:2,children:Object(ie.jsx)(h.a,{className:N.menuOpenButton,color:"primary",endIcon:Object(ie.jsx)(Ea.a,{}),disabled:!o.isReady,variant:"outlined",ref:X,onClick:Z,children:Ha(t)})}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer}),Object(ie.jsx)(x.a,{item:!0,sm:2,children:Object(ie.jsx)(h.a,{className:N.menuOpenButton,color:"primary",endIcon:Object(ie.jsx)(Ea.a,{}),disabled:!o.isReady,variant:"outlined",onClick:Y,children:"G92"})}),Object(ie.jsx)(x.a,{item:!0,align:"center",className:N.spacer}),Object(ie.jsx)(x.a,{item:!0,sm:2,children:a?k("tlo")+": "+k("tool")+a:k("noActiveTool")})]}),Object(ie.jsx)(y.a,{lgUp:!0,children:Object(ie.jsx)(x.a,{item:!0,xs:4,children:Object(ie.jsx)(h.a,{className:N.menuOpenButton,color:"primary",startIcon:Object(ie.jsx)(Ea.a,{}),disabled:!o.isReady,variant:"outlined",ref:X,onClick:function(e){H(e.currentTarget),P(null),_(null)},children:k("offset_plural")})})})]}),n.map((function(e){var n=E(e.position),a=Xe.DECIMALS(n.unit);return Object(ie.jsxs)(x.a,{item:!0,container:!0,justify:"flex-start",alignItems:"center",direction:"row",spacing:0,children:[Object(ie.jsxs)(y.a,{mdDown:!0,children:[Object(ie.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:7,sm:4,children:[Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,sm:2,children:e.axis}),Object(ie.jsx)(x.a,{item:!0,className:N.text,xs:4,sm:4,children:n.value.toFixed(a)+" "+n.unit}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,sm:2,children:"="}),Object(ie.jsx)(x.a,{item:!0,className:N.text,xs:4,sm:4,children:E(e.actualPosition).value.toFixed(a)})]}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:2,sm:!0,md:1,children:"-"}),Object(ie.jsx)(x.a,{item:!0,sm:2,children:Object(ie.jsx)(Fa,{value:E(e.g5xOffset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(t){return G(t,e)},onSubmitModal:function(t){return J(t,e)},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," ").concat(Ha(t)),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})}),Object(ie.jsx)(x.a,{item:!0,align:"center",className:N.spacer,children:"-"}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"center",direction:"row",sm:2,children:Object(ie.jsx)(Fa,{value:E(e.g92Offset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(t){return W(t,e)},onSubmitModal:function(t){return V(t,e)},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," G92"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})}),Object(ie.jsx)(x.a,{item:!0,align:"center",className:N.spacer,children:2===e.index?"-":""}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",sm:2,children:Object(ie.jsx)(x.a,{item:!0,children:2!==e.index?"":Object(ie.jsx)(Fa,{value:E(e.toolOffset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(e){return z(e)},onSubmitModal:function(t){return K(t,e)},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," TLO"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})})})]}),Object(ie.jsx)(y.a,{lgUp:!0,children:Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsxs)(Sa.a,{children:[Object(ie.jsx)(Ca.a,{expandIcon:Object(ie.jsx)(Ea.a,{color:"primary"}),children:Object(ie.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",direction:"row",xs:12,children:[Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,children:e.axis}),Object(ie.jsx)(x.a,{item:!0,className:N.text,xs:3,children:E(e.position).value.toFixed(a)+" "+E(e.position).unit}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,children:"="}),Object(ie.jsx)(x.a,{item:!0,className:N.text,xs:3,children:E(e.actualPosition).value.toFixed(a)}),Object(ie.jsx)(x.a,{item:!0,className:N.spacer,xs:1,children:"-"}),Object(ie.jsx)(x.a,{item:!0,className:N.text,xs:3,children:E({value:e.actualPosition.value-e.position.value,unit:e.position.unit}).value.toFixed(a)})]})}),Object(ie.jsx)(wa.a,{children:Object(ie.jsxs)(x.a,{container:!0,direction:"column",alignItems:"flex-end",spacing:1,children:[Object(ie.jsxs)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(ie.jsx)(x.a,{item:!0,xs:2,className:N.spacer,children:Ha(t)}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(ie.jsx)(Fa,{value:E(e.g5xOffset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(t){return G(t,e)},onSubmitModal:function(t){return J(t,E(e.g5xOffset))},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," ").concat(Ha(t)),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})})]}),Object(ie.jsxs)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(ie.jsx)(x.a,{item:!0,xs:2,className:N.spacer,children:"G92"}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(ie.jsx)(Fa,{value:E(e.g92Offset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(t){return W(t,e)},onSubmitModal:function(t){return V(t,e)},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," G92"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})})]}),Object(ie.jsx)(x.a,{item:!0,container:!0,direction:"row",justify:"center",children:2===e.index?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(x.a,{item:!0,xs:2,className:N.spacer,children:k("tlo")}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"flex-start",direction:"row",xs:4,children:Object(ie.jsx)(Fa,{value:E(e.toolOffset).value.toFixed(a),modalValue:"0.0000",onSubmitTextField:function(e){return z(e)},onSubmitModal:function(t){return K(t,e)},disabled:!o.isReady,buttonDom:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{fontSize:6},children:"DRO"}),Object(ie.jsx)(Ia.a,{})]}),buttonProps:{color:"primary"},containerProps:{className:N.offsetItemContainer},modalProps:{title:"".concat(k("set")," ").concat(e.axis.toUpperCase()," ").concat(k("dro")," ").concat(k("via")," TLO"),textFieldLabel:k("newDroValue"),submitBtnLabel:k("set"),cancelBtnLabel:k("cancel")},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:N.overrideTextFieldInputInput,root:N.root}}}})})]}):""})]})})]})})})]},e.axis)}))]})]})},Ga=Object(s.connect)((function(e,t){return{g5xIndex:qt(e),workOffsets:xa(e),toolInSpindle:en(e),toolTable:Vn(e),readyForMdi:Oa(e),unitsCode:xn(e)}}),(function(e,t){return{onDispatchMdiCmd:function(t){e(Ft.put.mdiCmd({data:[t]}))},onSetG5xIndex:function(t){e(Ft.put.mdiCmd({data:[t]}))},onClearG92:function(){e(Ft.put.mdiCmd({data:["G92.1"]}))},onDisableG92:function(){e(Ft.put.mdiCmd({data:["G92.2"]}))},onRestoreG92:function(){e(Ft.put.mdiCmd({data:["G92.3"]}))},onDispatchUpdateHelper:function(t,n){e(Ft.updateHelpers[t](n))}}}),(function(e,t,n){var a=e.workOffsets,i=e.g5xIndex,r=e.toolInSpindle,o=e.unitsCode,c=t.onDispatchMdiCmd,s=t.onDispatchUpdateHelper;return Object(j.a)(Object(j.a)(Object(j.a)({onSetG5xOffset:function(e,t){var n=at(e,o),a="G10 L2 P".concat(i).concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetDroViaG5x:function(e,t){var n=at(e,o),a="G10 L20 P".concat(i).concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetG5xOffsetAll:function(e){var t=e.map((function(e){return at(e,o)})),n="G10 L2 P".concat(i);a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetDroAllViaG5x:function(e){var t=e.map((function(e){return at(e,o)})),n="G10 L20 P".concat(i," ");a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetG92Offset:function(e,t){var n=it(e,o),a=Number(t.position.value+t.g92Offset.value-n.value),i=at({value:a,unit:n.unit},o),r="G92 ".concat(t.axis).concat(i.value.toFixed(5));c(r)},onSetDroViaG92:function(e,t){var n=at(e,o),a="G92 ".concat(t.axis).concat(n.value.toFixed(5));c(a)},onSetDroAllViaG92:function(e){var t=e.map((function(e){return at(e,o)})),n="G92 ";a.map((function(e,a){return n+=e.axis+String(t[a].value.toFixed(5))})),c(n)},onSetTlo:function(e){var t=it(e,o);s("toolLengthOffset",{data:[r,t.value]});var n=at(e,o),a="G10 L1 P".concat(r," Z").concat(n.value.toFixed(5));c(a),c("G43")},onSetDroViaTlo:function(e,t){var n=it(e,o),a={value:t.actualPosition.value-t.g5xOffset.value-t.g92Offset.value-n.value,unit:n.unit};s("toolLengthOffset",{data:[r,a.value]});var i=at(e,o),l="G10 L10 P".concat(r," Z").concat(i.value.toFixed(5));c(l),c("G43")}},e),t),n)}))(Ba),Ja="@@penta-ui",Wa="messages",Va="asc",za="desc",Ka=Object(lt.a)({ENABLE_KEYBOARD_JOGGING:void 0,DISABLE_KEYBOARD_JOGGING:void 0,ENABLE_MOUSE_WHEEL_JOGGING:void 0,DISABLE_MOUSE_WHEEL_JOGGING:void 0,CHANGE_LANGUAGE:void 0,CHANGE_DIALECT:void 0,INCREMENT_JOG_DIGIT_INDEX:void 0,DECREMENT_JOG_DIGIT_INDEX:void 0,SET_JOG_INCREMENT_INDEX:void 0,SET_JOG_AXIS:void 0,POPUP:{SHOW:void 0,HIDE:void 0},CLEAR_MESSAGE_BADGE:void 0,SET_MDI_SHOW_UNIQUE_HISTORY_ONLY:void 0,SET_MDI_TEXT:void 0,OVERLAY:{CHANGE:void 0,CLEAR:void 0,ENABLE_EDITING:void 0,DISABLE_EDITING:void 0,SET:void 0,DELETE_SECTION:void 0,ADD_SECTION:void 0},COMPENSATION:{CHANGE:void 0,CLEAR:void 0,ENABLE_EDITING:void 0,DISABLE_EDITING:void 0,SET:void 0,DELETE_SECTION:void 0,ADD_SECTION:void 0},AXIS_SELECT_JOG:{SET_AXIS:void 0,SET_DIGIT_INDEX:void 0,INCREMENT_AXIS:void 0,INCREMENT_DIGIT_INDEX:void 0},DRO:{SET_DISPLAY:void 0},JOG:{SET_DISPLAY:void 0}},{prefix:Ja}),Za=n(402),Ya=n(100),Xa=n.n(Ya),qa=n(50),Qa=n.n(qa),$a=Object(ae.a)((function(e){return{warningIcon:{marginRight:e.spacing(1)}}}));var ei=function(e){var t=e.isHomed,n=e.onHomeAll,a=e.classes,i=te().t,r=$a();return Object(ie.jsxs)(h.a,{variant:"contained",color:"primary",size:"small",classes:{root:a.button},onClick:n,children:[t?null:Object(ie.jsx)(Qa.a,{className:r.warningIcon}),i("homeAll")]})},ti=Object(s.connect)((function(e,t){return{isHomed:En(e)}}),(function(e,t){return{onHomeAll:function(){return e(Ft.put.homeCmd())}}}))(ei),ni=n(143),ai=n.n(ni),ii=n(200),ri=n.n(ii),oi=Object(ae.a)((function(e){return{button:{border:"none",height:"100%",float:"right",textAlign:"center",padding:0,minWidth:32},container:{},dropDownIcon:{height:"100%"},textField:{display:"flex",height:"100%"}}})),ci=function(e){var t=e.value,n=e.onChange,a=e.onSelect,i=e.onSubmit,o=e.disabled,c=e.menuItems,s=oi(e),l=r.a.useState(null),u=Object(p.a)(l,2),d=u[0],b=u[1],m=function(e){b(null),i&&i(e)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(g.a,Object(j.a)(Object(j.a)({},e.menuProps),{},{anchorEl:d,open:Boolean(d),onClose:function(){b(null)},children:c.map((function(e,t){return Object(ie.jsx)(v.a,{onClick:function(){return function(e,t){b(null),n&&a({index:e,value:t})}(t,e)},onKeyDown:function(e){"Enter"===e.key&&(b(null),e.preventDefault())},children:e},e)}))})),Object(ie.jsxs)(ne.a,Object(j.a)(Object(j.a)({className:s.container},e.containerProps),{},{children:[Object(ie.jsx)(h.a,Object(j.a)(Object(j.a)({},e.buttonProps),{},{className:s.button,disabled:o,onClick:function(e){o||b(e.currentTarget)},children:Object(ie.jsx)(Ea.a,Object(j.a)(Object(j.a)({},e.iconProps),{},{className:s.dropDownIcon}))})),Object(ie.jsx)(be,Object(j.a)(Object(j.a)({},e.textFieldProps),{},{className:s.textField,disabled:o,value:t,onSubmit:function(e,t){return m(e)},onChange:function(e){return n(e)}}))]}))]})},si=function(e){switch(e){case"deg":return[.001,.01,.1,1,10];case"mm":return[.001,.01,.1,1];case"in":return[1e-4,.001,.01,.1];default:return[]}},li=Object(ae.a)((function(e){return{dropDown:{color:e.palette.primary.contrastText},extras:{display:"flex",marginBottom:e.spacing(1)},homeAllButton:{marginLeft:e.spacing(1)},jogButton:{margin:e.spacing(1)},jogButtonBox:{display:"flex",justifyContent:"center"},label:Object(j.a)(Object(j.a)({},e.typography.statusItem),{},{fontSize:14}),offsetItemContainer:{backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main,borderStyle:"solid",borderWidth:2,height:38,width:100,marginTop:e.spacing(1)},overrideTextFieldInputInput:Object(j.a)({color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},e.typography.dataText),root:{height:"100%",backgroundColor:e.palette.primary.main,width:"100%"},unit:{alignItems:"center",backgroundColor:e.palette.secondary.main,color:"white",display:"flex",justifyContent:"center",height:42,width:36,marginTop:e.spacing(1)}}})),ui=function(e){var t=e.axisSelectJogAxis,n=e.axisSelectJogDigitIndex,a=e.jogMode,r=e.trajCoords,o=e.unitsCode,c=e.onJogIncrement,s=e.onSetOpenDigitIndex,l=rt().getDisplayUnitStringFromType;Object(i.useEffect)((function(){m(null)}),[t,n,o]);var u=li(),d=Object(i.useState)(null),b=Object(p.a)(d,2),j=b[0],m=b[1],f=r.indexOf(t),O=f>2,x=l(O?"angle":"length"),g=(O||"mm"===x||"pu"===x&&"G21"===o?.001:1e-4)*Math.pow(10,n-1),v=j||g,y=j||v,S=function(e){var t=parseFloat(e),n=O?Qe.ANGULAR:Qe.LINEAR;if(!isNaN(t)&&!(t<n.MIN||t>n.MAX)){var a=si(x).indexOf(t);-1!==a&&s(a+1),m(t)}},C=function(e){var t=it({value:v,unit:x}).value;c(f,e*$e,t,a)};return Object(ie.jsxs)(ne.a,{className:u.jogButtonBox,children:[Object(ie.jsx)(h.a,{size:"large",color:"primary",variant:"contained",className:u.jogButton,onClick:function(){return C(-1)},children:Object(ie.jsx)(ri.a,{})}),Object(ie.jsx)(ci,{value:y,menuItems:si(x),onChange:S,onSelect:function(e){var t=e.index,n=e.value;m(n),s(t+1)},onSubmit:function(e){return S(e.target.value)},buttonProps:{classes:{root:u.dropDown}},containerProps:{className:u.offsetItemContainer},textFieldProps:{InputProps:{disableUnderline:!0,classes:{input:u.overrideTextFieldInputInput,root:u.root}}}}),Object(ie.jsx)("span",{className:u.unit,children:x}),Object(ie.jsx)(h.a,{size:"large",color:"primary",variant:"contained",className:u.jogButton,onClick:function(){return C(1)},children:Object(ie.jsx)(ai.a,{})})]})},di=function(e){return e.pentaui.enableKeyboardJogging},pi=function(e){return e.pentaui.enableMouseWheelJogging},bi=function(e){return e.pentaui.messages},ji=function(e){return e.pentaui.popups},mi=function(e){return e.pentaui.language},fi=function(e){return e.pentaui.dialect},hi=function(e){return e.pentaui.mdiSortKey},Oi=function(e){return e.pentaui.mdiText},xi=function(e){return e.pentaui.messageBadges},gi=function(e){return e.pentaui.isEditingCompensation},vi=function(e){return e.pentaui.compensation},yi=function(e){return e.pentaui.isEditingOverlay},Si=function(e){return e.pentaui.configOverlay},Ci=function(e){return e.pentaui.axisSelectJog.axis},wi=function(e){return e.pentaui.axisSelectJog.digitIndex},ki=function(e){return e.pentaui.dro.display},Ei=function(e){return e.pentaui.jog.display},Ni=Object(s.connect)((function(e,t){return{axisSelectJogAxis:Ci(e)?Ci(e):"X",axisSelectJogDigitIndex:wi(e)?wi(e):0,displayUnits:Wn(e),jogMode:na(e),trajCoords:jn(e)?jn(e):"XYZAB",unitsCode:xn(e)}}),(function(e,t){return{onJogIncrement:function(t,n,a,i){e(Ft.putHelpers.jogIncrement({axis:t,speed:n,increment:a,jogMode:i}))},onSetOpenDigitIndex:function(t){e(Ka.axisSelectJog.setDigitIndex(t))}}}))(ui),Ii=Object(ae.a)((function(e){return{select:{textTransform:"capitalize"}}})),Ti=function(e){var t=e.jogMode,n=e.onSetJogMode,a=te().t,i=Ii();return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Za.a,{labelId:"jog-mode-select-label",id:"jog-mode-select",value:t,onChange:function(e){n&&n(e.target.value)},className:i.select,children:[Object(ie.jsx)(v.a,{value:"JOINT",children:a("joint")}),Object(ie.jsx)(v.a,{value:"AXIS",children:a("axis")})]})})},Mi=Object(s.connect)((function(e,t){return{jogMode:na(e)}}),(function(e,t){return{onSetJogMode:function(t){e(Ft.updateHelpers.jogMode(t)),e(Ft.put.saveClientConfig({data:["jogMode",t]}))}}}))(Ti),_i=r.a.createContext({}),Ai=_i.Provider,Di=n(164),Li=function(){var e=Object(i.useContext)(_i);Di.Howler.autoSuspend=!1;var t=Object(i.useMemo)((function(){return new Di.Howl({src:"/sounds/tick.wav"})}),[]);Object(i.useEffect)((function(){t.volume(e.volume),t.mute(!e.enabled)}),[t,e]);return{playTick:function(){t.play()},setVolume:function(e){t.volume(e)},setEnabled:function(e){t.mute(!e)}}},Pi=n(36),Fi=function(e,t){switch(e){case"velocity":return t.map((function(e){var t=e.velocity;Object(Pi.a)(e,["velocity"]);return t}));case"dtg":return t.map((function(e){var t=e.dtg;Object(Pi.a)(e,["dtg"]);return t}));case"position":return t.map((function(e){var t=e.position;Object(Pi.a)(e,["position"]);return t}));case"actualPosition":return t.map((function(e){var t=e.actualPosition;Object(Pi.a)(e,["actualPosition"]);return t}));default:return t.map((function(e){var t=e.position;Object(Pi.a)(e,["position"]);return t}))}},Ri=n(170),Ui=n(201),Hi=["M",0,0],Bi=function(e,t){return Hi[1]=e,Hi[2]=t,Hi.join(" ")},Gi=["A",0,0,0,0,0,0,0],Ji=function(e,t,n,a,i,r,o){return Gi[1]=e,Gi[2]=t,Gi[3]=n,Gi[4]=a,Gi[5]=i,Gi[6]=r,Gi[7]=o,Gi.join(" ")},Wi=["L",0,0],Vi=function(e,t){return Wi[1]=e,Wi[2]=t,Wi.join(" ")},zi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,n=Object(i.useState)(e),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)(e),s=Object(p.a)(c,2),l=s[0],u=s[1];return Object(i.useEffect)((function(){var e=window.requestAnimationFrame((function(){var e=t*l+(1-t)*r;Math.abs(e-l)>1e-6&&u(e)}));return function(){return window.cancelAnimationFrame(e)}}),[r,l,u,t]),[r,o,l]},Ki=Object(ae.a)((function(e){return{value:{},svg:{touchAction:"none"}}})),Zi="horizontal",Yi=function(e){var t=e.defaultValue,n=void 0===t?0:t,a=e.orientation,r=void 0===a?Zi:a,o=e.diameter,c=void 0===o?100:o,s=e.thickness,l=void 0===s?30:s,u=e.tickDist,d=void 0===u?10:u,b=e.onChange,j=e.reverse,m=void 0!==j&&j,f=e.enableWheel,h=void 0===f||f,O=e.enableDrag,x=void 0===O||O,g=Object(Ri.a)(),v=zi(n),y=Object(p.a)(v,3),S=y[0],C=y[1],w=y[2],k=Object(i.useState)(Math.floor(n)),E=Object(p.a)(k,2),N=E[0],I=E[1],T=Object(i.useState)(null),M=Object(p.a)(T,2),_=M[0],A=M[1],D=Object(i.useRef)(null),L=Math.min(1,Math.max(0,e.curvature||0)),P={};r===Zi?(P.width=c,P.height=l,m?(P.startX=c,P.startY=0,P.endX=0,P.endY=0):(P.startX=0,P.startY=0,P.endX=c,P.endY=0),P.tickDirX=0,P.tickDirY=1):(P.width=l,P.height=c,m?(P.startX=5,P.startY=c,P.endX=5,P.endY=0):(P.startX=5,P.startY=0,P.endX=5,P.endY=c),P.tickDirX=1,P.tickDirY=0);for(var F=P.width,R=P.height,U=P.startX,H=P.startY,B=P.endX,G=P.endY,J=P.tickDirX,W=P.tickDirY,V=Ki(),z=[],K=-w-.5*c/d,Z=.5*c/d-w,Y=Math.ceil(K);Y<Z+1e-5;Y+=1){var X=(Y-K)/(Z-K),q=(1-L)*X+L*((Math.cos(Math.PI*Math.max(0,Math.min(1,X)))-1)/-2),Q=1*(1-L)+L*(Math.cos(Math.PI*Math.max(0,Math.min(1,X))-.5)-Math.cos(Math.PI*Math.max(0,Math.min(1,X))+.5));z.push({tickValue:Y,t:q,strokeWidth:Q})}var $=z.map((function(e){var t=e.tickValue,n=e.t,a=e.strokeWidth,i=U*(1-n)+B*n,r=H*(1-n)+G*n,o=i+J*l*.25*1,c=r+W*l*.25*1;return Object(ie.jsx)("line",{x1:i,y1:r,x2:o,y2:c,stroke:"black",strokeOpacity:.2,strokeWidth:a},t)})),ee=Object(i.useCallback)((function(e){var t=S+(m?-1:1)*e/d;C(t);var n=t-N<0?-Math.floor(N-t):Math.floor(t-N);Math.abs(n)>0&&(I(N+n),b(n))}),[C,S,d,b,m,I,N]),te=Object(i.useCallback)((function(e){e.event;var t=e.delta;Object(Pi.a)(e,["event","delta"]);window.getSelection().removeAllRanges();var n=r===Zi?t[0]:t[1];_&&clearTimeout(_),Math.abs(n)>0&&ee(n)}),[ee,r,_]),ne=Object(i.useCallback)((function(e){e.event;C(N)}),[C,N]),ae=Object(i.useCallback)((function(e){var t=e.event,n=e.wheeling,a=e.delta;n&&t.preventDefault();var i=a[1];ee(.25*i),_&&clearTimeout(_),A(setTimeout((function(){C(N)}),2e3))}),[C,N,ee,A,_]),re={};x&&(re.onDrag=te,re.onDragEnd=ne),h&&(re.onWheel=ae),Object(Ui.a)(re,{domTarget:D,eventOptions:{passive:!1}}),Object(i.useEffect)((function(){return function(){clearTimeout(_)}}),[_]);var oe=r===Zi?[Bi(.5*F-5,R),Vi(.5*F,R-5),Vi(.5*F+5,R),"Z"]:[Bi(0,.5*R-5),Vi(5,.5*R),Vi(0,.5*R+5),"Z"];return Object(ie.jsxs)("svg",{ref:D,width:F,height:R,viewBox:"0 0 "+F+" "+R,className:V.svg,children:[$,Object(ie.jsx)("path",{d:oe.join(" "),fill:g.palette.primary.main})]})},Xi=n(144),qi=n.n(Xi),Qi=n(237),$i=Object(ae.a)((function(e){return{container:{position:"relative",whiteSpace:"nowrap",lineHeight:"40px",marginBottom:e.spacing(1)},dismiss:{verticalAlign:"baseline"},activeDigits:{border:"1px solid "+e.palette.primary.main},inactiveDigits:{border:"1px solid "+e.palette.grey[200]},digits:{display:"inline-block",height:40,width:"calc(100% - 42px - 42px - "+e.spacing(1)+"px)",lineHeight:"40px",verticalAlign:"middle",borderTopRightRadius:4,borderBottomRightRadius:4,textAlign:"right",paddingRight:e.spacing(1)+42},activeLabel:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,border:"1px solid "+e.palette.primary.main},inactiveLabel:{backgroundColor:e.palette.grey[200],border:"1px solid "+e.palette.grey[200]},label:Object(j.a)(Object(j.a)({},e.typography.axisLabel),{},{display:"inline-block",textAlign:"center",verticalAlign:"middle",width:40,height:40,lineHeight:"40px",borderTopLeftRadius:4,borderBottomLeftRadius:4,userSelect:"none"}),homeButton:Object(j.a)(Object(j.a)({},e.typography.axisLabel),{},{display:"inline-block",textAlign:"center",verticalAlign:"middle",width:42,height:42,lineHeight:"40px",borderTopRightRadius:4,borderBottomRightRadius:4,userSelect:"none",position:"absolute",right:0,top:0}),digit:Object(j.a)(Object(j.a)({},e.typography.axisValue),{},{border:"1px solid rgba(0,0,0,0)",borderRadius:4,display:"inline-block",textAlign:"center",verticalAlign:"middle",position:"relative",maxWidth:"calc( ( 100% - "+e.spacing(4)+"px) / 12)",userSelect:"none"}),active:{cursor:"pointer","&:hover":{border:"1px solid "+e.palette.primary.main}},open:{border:"1px solid "+e.palette.primary.main},spinner:{position:"absolute",top:0,left:0},units:Object(j.a)(Object(j.a)({},e.typography.axisValue),{},{display:"inline-block",fontSize:"22px",lineHeight:"30px",marginLeft:5,width:38,position:"relative",textAlign:"center",verticalAlign:"bottom"})}})),er=function(e){for(var t,n,a=e.value,i=e.onChange,r=e.fractionalDigits,o=e.label,c=e.wholeDigits,s=e.highlighted,l=e.maxOpenIndex,u=e.openIndex,d=void 0===u?-1:u,j=e.onSetOpenIndex,m=e.unit,f=e.onHome,h=rt().getDisplayUnitStringFromUnit,O=30,x=$i(),g=a.toFixed(r).split("."),v=Object(p.a)(g,2),y=v[0],S=v[1],C=y.split("");C.length<c;)C.unshift("");var w=S.split(""),k=[];C.forEach((function(e,t){var n=C.length-1-t,a=w.length+n+1;k.push({char:e,active:a<=l,increment:Math.pow(10,n),tickDist:15,charIndex:a})})),k.push({char:".",active:!1,increment:0,tickDist:15}),w.forEach((function(e,t){var n=w.length-t;k.push({char:e,active:n<=l,increment:Math.pow(10,-(t+1)),tickDist:15,charIndex:n})}));var E=k.map((function(e,t){var n,a=e.char,r=e.active,o=e.increment,c=e.tickDist,s=e.charIndex,l=s===d?Object(ie.jsx)(Yi,{reverse:!0,defaultValue:parseInt(a),thickness:O,diameter:O,tickDist:c,curvature:1,orientation:"vertical",onChange:function(e){i&&i(e*o)}}):null;return Object(ie.jsxs)("span",{className:me()((n={},Object(b.a)(n,x.digit,!0),Object(b.a)(n,x.active,r),Object(b.a)(n,x.open,d===s),n)),onClick:function(e){r&&j&&j(s)},style:{fontSize:O,lineHeight:"30px",width:O,height:O},children:[a,Object(ie.jsx)("div",{className:x.spinner,children:l})]},t)}));return Object(ie.jsxs)("div",{className:x.container,children:[Object(ie.jsx)("span",{className:me()(x.label,(t={},Object(b.a)(t,x.activeLabel,s),Object(b.a)(t,x.inactiveLabel,!s),t)),children:o}),Object(ie.jsxs)("span",{className:me()(x.digits,(n={},Object(b.a)(n,x.activeDigits,s),Object(b.a)(n,x.inactiveDigits,!s),n)),children:[E,Object(ie.jsx)("span",{className:me()(x.units),children:Object(ie.jsx)("span",{className:x.axisUnitDegree,children:h(m)})})]}),Object(ie.jsx)("span",{className:x.homeButton,children:Object(ie.jsx)(Qi.a,{onClick:f,size:"small",children:Object(ie.jsx)(qi.a,{})})})]})},tr=function(e){var t=e.homed,n=e.positions,a=e.openDigitIndex,i=e.openAxis,r=e.display,o=e.onSetOpenAxis,c=e.onSetOpenDigitIndex,s=e.onJogIncrement,l=e.onHome,u=Li().playTick,d=rt().toDisplayUnits,p=Fi(r,n),b=n.map((function(e){var n=e.axis,r=e.position,b=e.jointIndex,j=e.index,m=b>2?10:1,f=t?j:b,h=b>2||"mm"===d(r).unit?3:4,O=b>2||"mm"===d(r).unit?5:4,x=b>2?5:(d(r).unit,4),g=i===n?a:-1;return Object(ie.jsx)(er,{label:n,value:d(p[b]).value,unit:d(r).unit,onChange:function(e){var t={value:Math.abs(e),unit:d(r).unit},n=m*Math.sign(e);s({axis:f,speed:n,increment:t,playTick:u})},fractionalDigits:h,wholeDigits:O,maxOpenIndex:x,highlighted:n===i,openIndex:g,onSetOpenIndex:function(e){o(n),c(e)},onHome:function(e){return function(){l(e)}}(n)},n)}));return Object(ie.jsx)("div",{children:b})},nr=Object(s.connect)((function(e,t){var n=Tn(e),a=En(e),i=na(e),r=xn(e),o=fn(e),c=wi(e),s=Ci(e);return{display:Ei(e),homed:a,jogMode:i,positions:n,unitsCode:r,openDigitIndex:c,openAxis:s,axisToJointMap:o}}),(function(e,t){return{onDispatchPutHelper:function(t,n){e(Ft.putHelpers[t](n))},onHome:function(t,n){if("undefined"!==typeof t&&"undefined"!==typeof n){var a=" ABS[#<_ini[JOINT_".concat(n,"]HOME_SEARCH_VEL>] * 60 "),i=" #<_ini[JOINT_".concat(n,"]HOME> "),r="XYZABC".indexOf(t);e(Ft.put.mdiCmd({data:["o<machine-cmd> call [ ".concat(r," ] [ ").concat(a," ] [ ").concat(i," ]")]}))}},onSetOpenAxis:function(t){e(Ka.axisSelectJog.setAxis(t))},onSetOpenDigitIndex:function(t){e(Ka.axisSelectJog.setDigitIndex(t))}}}),(function(e,t,n){var a=e.jogMode,i=e.unitsCode,r=e.axisToJointMap,o=t.onDispatchPutHelper,c=t.onHome;return Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},e),t),n),{},{onJogIncrement:function(e){var t=e.axis,n=e.speed,r=e.increment,c=e.playTick,s=it(r,i);o("jogIncrement",{axis:t,speed:n,increment:s.value,jogMode:a}),c()},onHome:function(e){var t=r[e];c(e,t)}})}))(tr),ar=n(380),ir=Object(s.connect)((function(e,t){return{checked:di(e),axes:kn(e),jogMode:na(e)}}),(function(e,t){return{onEnable:function(){e(Ka.enableKeyboardJogging())},onDisable:function(){e(Ka.disableKeyboardJogging())},onJogStop:function(t,n){e(Ft.putHelpers.jogStop({axis:t,jogMode:n}))}}}),(function(e,t,n){var a=e.checked,i=e.axes,r=e.jogMode,o=t.onEnable,c=t.onDisable,s=t.onJogStop;return Object(j.a)(Object(j.a)({},n),{},{checked:a,onChange:function(e){if(e.target.checked)o();else{c();var t,n=Object(Rt.a)(i);try{for(n.s();!(t=n.n()).done;){var a=t.value.index;s(a,r)}}catch(l){n.e(l)}finally{n.f()}}}})}))(ar.a),rr=Object(s.connect)((function(e,t){return{checked:pi(e),axes:kn(e),jogMode:na(e)}}),(function(e,t){return{onEnable:function(){e(Ka.enableMouseWheelJogging())},onDisable:function(){e(Ka.disableMouseWheelJogging())},onJogStop:function(t,n){e(Ft.putHelpers.jogStop({axis:t,jogMode:n}))}}}),(function(e,t,n){var a=e.checked,i=e.axes,r=e.jogMode,o=t.onEnable,c=t.onDisable,s=t.onJogStop;return Object(j.a)(Object(j.a)({},n),{},{checked:a,onChange:function(e){if(e.target.checked)o();else{c();var t,n=Object(Rt.a)(i);try{for(n.s();!(t=n.n()).done;){var a=t.value.index;s(a,r)}}catch(l){n.e(l)}finally{n.f()}}}})}))(ar.a),or=Object(ae.a)((function(e){return{extras:{display:"flex",marginBottom:e.spacing(1)},homeAllButton:{marginLeft:e.spacing(1)},label:Object(j.a)(Object(j.a)({},e.typography.statusItem),{},{fontSize:14,marginLeft:e.spacing(1)}),menuSpan:{width:"100%"},select:{height:"30px"}}})),cr=function(e){var t=e.display,n=e.onSetDisplay,a=te().t,i=or();return Object(ie.jsxs)(oe,{label:a("jog"),children:[Object(ie.jsxs)("div",{className:i.extras,children:[Object(ie.jsxs)(Za.a,{variant:"outlined",value:t,onChange:function(e){n(e.target.value)},className:i.select,children:[Object(ie.jsx)(v.a,{value:"position",children:Object(ie.jsx)(ue.a,{title:a("tooltip_OffsetPosition"),children:Object(ie.jsx)("span",{className:i.menuSpan,children:a("position")})})}),Object(ie.jsx)(v.a,{value:"actualPosition",children:Object(ie.jsx)(ue.a,{title:a("tooltip_ActualPosition"),children:Object(ie.jsx)("span",{className:i.menuSpan,children:a("actualPosition")})})})]}),Object(ie.jsx)(ti,{classes:{button:i.homeAllButton}}),Object(ie.jsx)(ue.a,{placement:"top",style:{display:"flex",float:"right",marginLeft:"auto"},title:Object(ie.jsx)("span",{children:a("tooltip_JogPanel")}),children:Object(ie.jsx)(Xa.a,{})})]}),Object(ie.jsx)(nr,{}),Object(ie.jsx)(Ni,{}),Object(ie.jsxs)("label",{className:i.label,children:[a("Jog Mode")," ",Object(ie.jsx)(Mi,{color:"primary"})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)("label",{className:i.label,children:[a("keyboardJogging")," ",Object(ie.jsx)(ir,{color:"primary"})]}),Object(ie.jsxs)("label",{className:i.label,children:[a("mouseWheelJogging")," ",Object(ie.jsx)(rr,{color:"primary"})]})]})},sr=Object(s.connect)((function(e,t){return{display:Ei(e)}}),(function(e,t){return{onSetDisplay:function(t){return e(Ka.jog.setDisplay(t))}}}))(cr),lr=function(e){return Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,md:6,lg:8,children:Object(ie.jsx)(Ga,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,md:6,lg:4,children:Object(ie.jsx)(sr,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(ya,{})})]})},ur=n(391),dr=n(389),pr=n(390),br=n(399),jr=n(147),mr=n.n(jr),fr=n(19),hr=n(387),Or=n(383),xr=n(386),gr=n(388),vr=n(382),yr=n(416),Sr=n(405),Cr=Object(ae.a)((function(e){return{button:{margin:e.spacing(1)},displayDiv:{display:"flex",justifyContent:"center"}}})),wr=function(e){var t=e.open,n=e.value,a=e.onSubmit,r=e.onClose,o=e.title,c=e.submitBtnLabel,s=e.cancelBtnLabel,l=e.modifiersOnly,u=e.singleKeyOnly,d=e.reservedKeys,b=e.reservedCombinations,j=Cr(e),m=te().t,f=Object(i.useState)(n?n.split("+"):[]),O=Object(p.a)(f,2),x=O[0],g=O[1],v=Object(i.useState)(!1),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useState)(!1),k=Object(p.a)(w,2),E=k[0],N=k[1],I=Object(i.useState)(!1),T=Object(p.a)(I,2),M=T[0],_=T[1],A=Object(i.useState)(!1),D=Object(p.a)(A,2),L=D[0],P=D[1],F=Object(i.useState)(!1),R=Object(p.a)(F,2),U=R[0],H=R[1],B=Object(i.useState)(!1),G=Object(p.a)(B,2),J=G[0],W=G[1],V=function(e){var t=!1;d.has(e.key)?(C(!0),t=!0):S&&C(!1),u&&(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)?(P(!0),t=!0):L&&P(!1),l&&!["Alt","Shift","Control","Meta"].includes(e.key)?(_(!0),t=!0):M&&_(!1),!l&&["Alt","Shift","Control","Meta"].includes(e.key)?(H(!0),t=!0):U&&H(!1);var n=[];e.ctrlKey&&n.push(m("Ctrl")),e.shiftKey&&n.push(m("Shift")),e.altKey&&n.push(m("Alt")),e.metaKey&&n.push(m("Meta")),["Alt","Shift","Control","Meta"].includes(e.key)||(e.nativeEvent.code.startsWith("Digit")?n.push(e.nativeEvent.code.slice(5)):e.nativeEvent.code.startsWith("Key")?n.push(e.nativeEvent.code.slice(3)):n.push(e.nativeEvent.code)),b.has(n.join("+"))?(N(!0),t=!0):E&&N(!1),W(!!t),g(n)},z=function(){r&&r()};return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ta.a,{id:"keyboardCapture_dialog",open:t,onClose:z,onKeyDown:V,children:[Object(ie.jsx)(Ma.a,{children:o}),Object(ie.jsxs)(_a.a,{children:[S&&Object(ie.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:m("This non-modifier key is reserved.")}),E&&Object(ie.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:m("This key combination is already in use.")}),M&&Object(ie.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:m("This is a modifier-only keybinding.")}),L&&Object(ie.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:m("This shortcut must be a single non-modifier key")}),U&&Object(ie.jsx)("div",{style:{backgroundColor:"red"},severity:"error",children:m("This shortcut must include a non-modifier key")}),Object(ie.jsx)("div",{onKeyDown:V,className:j.displayDiv,children:x.join("+")})]}),Object(ie.jsx)(Aa.a,{children:Object(ie.jsxs)(ne.a,{children:[Object(ie.jsx)(h.a,{id:"keyboardCapture_submit",onClick:function(e){!function(e){a&&(e.preventDefault(),a(x.join("+")))}(e)},variant:"contained",color:"primary",className:j.button,disabled:J,children:c}),Object(ie.jsx)(h.a,{id:"keyboardCapture_cancel",onClick:z,variant:"contained",color:"primary",className:j.button,children:s})]})})]})})},kr=n(381),Er=n(384),Nr=n(92),Ir=n.n(Nr),Tr=n(111),Mr=n.n(Tr);function _r(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Ar=function(e){var t,n=e.favorites,a=e.filter,r=e.filterKey,o=e.placeholderText,c=e.sortOrder,s=e.sortKey,l=e.onSelectItem,u=e.onNameItem,d=e.onClickItem,p=e.onClickEditKeybind,b=e.onClickDeleteKeybind,j=e.selected,m=te().t,f=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n,(t=s,c===za?function(e,n){return _r(e,n,t)}:function(e,n){return-_r(e,n,t)})),O=Object(i.useCallback)((function(e){d&&d(e)}),[d]);return Object(ie.jsx)(kr.a,{children:f.map((function(e,t){var n=function(e){return j.has(e)}(e.cmd),i="enhanced-table-checkbox-".concat(t);return e[r].includes(a)?Object(ie.jsxs)(vr.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(ie.jsx)(Or.a,{padding:"checkbox",onClick:function(t){return l(t,e.cmd)},children:Object(ie.jsx)(Sr.a,{checked:n,inputProps:{"aria-labelledby":i}})}),Object(ie.jsx)(Or.a,{children:Object(ie.jsx)(h.a,{onClick:function(t){O(e.cmd)},children:e.cmd})}),Object(ie.jsx)(Or.a,{children:Object(ie.jsx)(be,{placeholder:o,value:e.name,onSubmit:function(t){return u(t,e)}})}),Object(ie.jsx)(Or.a,{children:Object(ie.jsxs)(Er.a,{children:[Object(ie.jsx)(ue.a,{title:m("tooltip_EditShortcut"),children:Object(ie.jsxs)(h.a,{variant:"outlined",onClick:function(){return p(e)},children:[e.keybind,Object(ie.jsx)(Ir.a,{})]})}),Object(ie.jsx)(ue.a,{title:e.keybind?m("tooltip_DeleteShortcut"):"",children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return b(e.cmd)},disabled:!e.keybind,children:Object(ie.jsx)(Mr.a,{})})})]})}),Object(ie.jsx)(Or.a,{children:new Date(e.time).toLocaleString("en-US")})]},t):null}))})},Dr=n(6),Lr=n(385),Pr=n(154),Fr=n(61),Rr=n.n(Fr),Ur=n(202),Hr=n.n(Ur),Br=Object(u.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(fr.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Gr=function(e){var t=e.onDelete,n=e.onOpenFilterModal,a=e.selected,i=e.filter,r=a?a.size:0,o=te().t,c=Br();return Object(ie.jsxs)(Lr.a,{className:Object(Dr.a)(c.root,Object(b.a)({},c.highlight,r>0)),children:[r>0?Object(ie.jsxs)(Pr.a,{className:c.title,color:"inherit",variant:"subtitle1",component:"div",children:[r," selected"]}):Object(ie.jsx)(Pr.a,{className:c.title,variant:"h6",id:"tableTitle",component:"div"}),i&&i.key?Object(ie.jsx)(Pr.a,{className:c.title,color:"inherit",variant:"subtitle1",component:"div",children:o("filteringBy")+":"+i.key+"="+i.value}):Object(ie.jsx)(Pr.a,{className:c.title,variant:"h6",id:"tableTitle",component:"div"}),r>0?Object(ie.jsx)(ue.a,{title:o("delete"),children:Object(ie.jsx)(Qi.a,{"aria-label":"delete",onClick:function(){t&&t()},children:Object(ie.jsx)(Rr.a,{})})}):Object(ie.jsx)(ue.a,{title:o("filterList"),children:Object(ie.jsx)(Qi.a,{"aria-label":"filter list",onClick:function(){n&&n()},children:Object(ie.jsx)(Hr.a,{})})})]})},Jr=Object(u.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rootToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(fr.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Wr=function(e){var t=e.favorites,n=e.favoritesMap,a=e.headCells,o=e.placeholderText,c=e.onNameFavorite,s=e.onDelete,l=e.onClickItem,u=e.jogKeys,d=e.jogModifiers,b=e.shortcutsMap,m=e.onModifyFavorite,f=te().t,h=Jr(),O=r.a.useState(new Set),x=Object(p.a)(O,2),g=x[0],v=x[1],y=r.a.useState(Va),S=Object(p.a)(y,2),C=S[0],w=S[1],k=r.a.useState(a[0].id),E=Object(p.a)(k,2),N=E[0],I=E[1],T=r.a.useState(!1),M=Object(p.a)(T,2),_=M[0],A=M[1],D=r.a.useState(""),L=Object(p.a)(D,2),P=L[0],F=L[1],R=a[0].id,U=Object(i.useState)({open:!1,category:null,key:"",value:"",modifiersOnly:!1,singleKeyOnly:!1}),H=Object(p.a)(U,2),B=H[0],G=H[1],J=function(){s(g)};return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(xr.a,{children:Object(ie.jsxs)(hr.a,{className:h.table,"aria-labelledby":"tableTitle","aria-label":"favorites table",stickyHeader:!0,children:[Object(ie.jsx)(gr.a,{children:Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{padding:"checkbox",children:Object(ie.jsx)(Sr.a,{onClick:function(){if(g.size<t.length){var e=new Set(g);t.forEach((function(t){return e.add(t.cmd)})),v(e)}else v(new Set)},inputProps:{"aria-label":"select all favorites"}})}),a.map((function(e){return Object(ie.jsxs)(Or.a,{align:"left",padding:e.disablePadding?"none":"default",sortDirection:N===e.id&&C,children:[Object(ie.jsxs)(yr.a,{active:N===e.id,direction:N===e.id?C:"asc",onClick:function(t){return n=e.id,w(n===N&&C===Va?"desc":"asc"),void I(n);var n},children:[e.label,N===e.id?Object(ie.jsx)("span",{className:h.visuallyHidden,children:C===za?"sorted descending":"sorted ascending"}):null]}),e.tooltip&&Object(ie.jsx)(ue.a,{placement:"right",title:Object(ie.jsx)("span",{children:e.tooltip}),children:Object(ie.jsx)(Xa.a,{})})]},e.id)}))]})}),Object(ie.jsx)(Ar,{favorites:t,sortOrder:C,sortKey:N,filter:P,filterKey:R,placeholderText:o,onSelectItem:function(e,t){var n=new Set(g);g.has(t)?(n.delete(t),v(n)):(n.add(t),v(n))},onNameItem:function(e,t){c(t.cmd,e.target.value)},onClickItem:l,onClickEditKeybind:function(e){var t={open:!0,title:e.cmd,key:e.cmd,value:e.keybind||"",category:"mdi",modifiersOnly:!1,singleKeyOnly:!1};G(t)},onClickDeleteKeybind:function(e){var t=n.get(e);m({cmd:e,name:t.name,time:t.time,keybind:""})},selected:g})]})}),Object(ie.jsx)(Gr,{onDelete:function(){return J()},onOpenFilterModal:function(){return A(!0)},filter:P,selected:g,numSelected:g.length}),Object(ie.jsx)(La,{open:_,value:"",onSubmit:function(e){F(e),A(!1)},onClose:function(){A(!1)},title:f("filterFavorites"),textFieldLabel:f("Command"),submitBtnLabel:f("Filter"),cancelBtnLabel:f("Cancel")}),Object(ie.jsx)(wr,{open:B.open,value:B.value,modifiersOnly:B.modifiersOnly,singleKeyOnly:B.singleKeyOnly,reservedKeys:new Set(Object.values(u)),reservedCombinations:new Set(Object.keys(b).concat(Object.values(d))),onSubmit:function(e){var t=n.get(B.key);m({cmd:B.key,name:t.name,time:t.time,keybind:e}),G(Object(j.a)(Object(j.a)({},B),{},{open:!1}))},onClose:function(){G(Object(j.a)(Object(j.a)({},B),{},{open:!1}))},title:f("Keybinding")+": "+f(B.title),submitBtnLabel:f("Set"),cancelBtnLabel:f("Cancel")},B.key)]})},Vr=r.a.memo(Wr),zr=n(203),Kr=n.n(zr),Zr=Object(ae.a)((function(e){return{container:{height:600},oddListItem:{backgroundColor:e.palette.action.hover},starButton:{"&:hover":{backgroundColor:e.palette.primary.light}},submitButton:{width:"100%",justifyContent:"left","&:hover":{backgroundColor:e.palette.primary.light}}}})),Yr=function(e){var t=e.mdiHistory,n=e.mdiHistoryInFavoritesMap,a=e.onPopulate,i=e.onAddFavorite,r=e.onRemoveFavorite,o=Zr();return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:o.container,children:Object(ie.jsx)(de.a,{height:560,itemCount:t.length,itemSize:50,width:"100%",children:function(e){var c=e.index,s=e.style,l=Object(j.a)(Object(j.a)({},s),{},{overflow:"auto"}),u=t[c],d=u.cmd,p=u.time;return Object(ie.jsxs)(x.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",overflow:"hidden",className:c%2===0?null:o.oddListItem,style:l,children:[Object(ie.jsx)(x.a,{item:!0,container:!0,overflow:"hidden",xs:9,md:11,children:Object(ie.jsx)(ue.a,{title:Object(ie.jsx)("span",{children:new Date(p).toLocaleString("en-US")}),children:Object(ie.jsx)(h.a,{onClick:function(e){return function(e){a&&a(e)}(d)},className:o.submitButton,overflow:"hidden",children:d})})}),Object(ie.jsx)(x.a,{item:!0,container:!0,justify:"flex-end",xs:3,md:1,children:n.get(d).isFav?Object(ie.jsx)(h.a,{size:"small",onClick:function(e){!function(e){if(r){var t=new Set;t.add(e),r(t)}}(d)},className:o.starButton,children:Object(ie.jsx)(mr.a,{})}):Object(ie.jsx)(h.a,{size:"small",onClick:function(e){!function(e){i&&i(e)}(d)},className:o.starButton,children:Object(ie.jsx)(Kr.a,{})})})]})}})})})},Xr=Object(ae.a)((function(e){return{button:{height:42}}})),qr=function(e){var t=e.name,n=e.cmd,a=e.onClick,i=Xr(),o=t&&t.length>30,c=o?t.substring(0,30)+"...":t,s=o?Object(ie.jsxs)(r.a.Fragment,{children:[Object(ie.jsx)(Pr.a,{color:"inherit",children:t}),n]}):Object(ie.jsx)(r.a.Fragment,{children:n});return Object(ie.jsx)(ue.a,{title:s,children:Object(ie.jsx)("span",{children:Object(ie.jsx)(h.a,Object(j.a)(Object(j.a)({},e),{},{className:i.button,onClick:function(){return a(n)},children:c}))})})},Qr=function(e){var t=e.mdiFavorites,n=e.onClickItem,a=t.reduce((function(e,t){return t.name?++e:e}),0),r=Object(i.useCallback)((function(e){n&&n(e)}),[n]);return Object(ie.jsxs)(x.a,{container:!0,spacing:4,children:[t&&t.map((function(e,t){var n=e.cmd,a=e.name;return a&&a.length>0?Object(ie.jsx)(x.a,{item:!0,xs:4,children:Object(ie.jsx)(qr,{name:a,cmd:n,onClick:r,size:"large",fullWidth:!0,variant:"contained",color:"secondary"})},t):null})),Object(st.a)(Array(Math.max(0,15-a))).map((function(e,t){return Object(ie.jsx)(x.a,{item:!0,xs:4,children:Object(ie.jsx)(qr,{disabled:!0,name:"",cmd:"",onClick:r,size:"large",fullWidth:!0,variant:"contained",color:"secondary"})},t)}))]})},$r=r.a.memo(Qr),eo=function(e){var t=e.children,n=e.value,a=e.index,i=e.p,r=Object(Pi.a)(e,["children","value","index","p"]);return Object(ie.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(ie.jsx)(ne.a,{p:i,children:Object(ie.jsx)("span",{children:t})})}))};function to(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var no=Object(ae.a)((function(e){return{container:{borderRadius:4},inputBox:{flexGrow:1,display:"flex",backgroundColor:e.palette.background.paper},inputButton:{borderTopRightRadius:0,borderBottomRightRadius:0},tabContainer:{minHeight:600,maxHeight:800,overflow:"auto"},listItem:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}},mdi:{width:"100%"},mdiInput:{borderBottomLeftRadius:0,borderBottomRightRadius:0},noPadding:{padding:0},root:{flexGrow:1,display:"flex",backgroundColor:e.palette.background.paper},submitButton:{width:"100%",justifyContent:"left"},tabPanel:{padding:0,height:600}}})),ao=function(e){var t=e.readyForMdi,n=e.onSendMdiCmd,a=e.onAddMdiFavorite,r=e.onRemoveMdiFavorites,o=e.onNameMdiFavorite,c=e.mdiHistory,s=e.mdiFavorites,l=e.mdiFavoritesMap,u=e.mdiHistoryInFavoritesMap,d=e.mdiHistorySorted,b=e.mdiHistorySortedUnique,m=e.jogModifiers,f=e.jogKeys,g=e.mdiShortcuts,v=e.shortcuts,y=e.shortcutsMap,S=e.onModifyFavorite,C=te().t,w=no(),k=Object(O.a)(),E=Object(i.useRef)(null),N=Object(i.useState)(""),I=Object(p.a)(N,2),T=I[0],M=I[1],_=Object(i.useState)(!1),A=Object(p.a)(_,2),D=A[0],L=A[1],P=Object(i.useState)(0),F=Object(p.a)(P,2),R=F[0],U=F[1],H=Object(i.useState)(!1),B=Object(p.a)(H,2),G=B[0],J=B[1],W=Object(i.useState)(""),V=Object(p.a)(W,2),z=V[0],K=V[1],Z=Object(i.useCallback)((function(e){a&&a(e,s)}),[a,s]),Y=Object(i.useCallback)((function(e){if(r){if(1===e.size){var t=e.values().next().value,n=l.get(t).name;if(n&&n.length>0)return K(t),void J(!0)}r(e,l)}}),[r,l]),X=Object(i.useCallback)((function(){var e=new Set;e.add(z),K(""),J(!1),r&&r(e,l)}),[z,J,r,l]),q=Object(i.useCallback)((function(e,t){o&&o(e,t,s)}),[o,s]),Q=Object(i.useCallback)((function(e){var t=e.target.value;n&&n(t,c)}),[n,c]),$=Object(i.useCallback)((function(e){n&&n(e,c)}),[n,c]),ee=Object(i.useCallback)((function(e){M(e),L(!0),setTimeout((function(){E.current.focus()}),100)}),[M,L,E]),ae=Object(i.useCallback)((function(e,t){U(t)}),[U]),re=Object(i.useCallback)((function(e){M(e.target.value)}),[]),ce=Object(i.useCallback)((function(e){"Enter"===e.key&&(n&&n(e.target.value,c),e.target.blur())}),[n,c]),se=function(){J(!1)};return Object(ie.jsxs)(oe,{label:"MDI",children:[Object(ie.jsx)(ne.a,{className:w.inputBox,children:Object(ie.jsx)(pe.a,{disabled:!t.isReady,inputRef:E,onSubmit:Q,onKeyDown:ce,onChange:function(e){return re(e)},variant:"outlined",classes:{root:w.mdi},InputProps:{className:"".concat(w.mdiInput," ").concat(D?"Mui-focused":void 0),endAdornment:E.target&&E.target.value.length>0?Object(ie.jsx)(dr.a,{position:"end",children:Object(ie.jsx)(Qi.a,{onClick:function(e){Z(E.target.value)},children:Object(ie.jsx)(mr.a,{})})}):null},label:C("Enter MDI..."),value:T})}),Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:3,sm:3,md:2,children:Object(ie.jsx)(ne.a,{border:1,borderColor:k.palette.grey[200],children:Object(ie.jsxs)(br.a,{value:R,onChange:ae,"aria-label":"simple tabs example",orientation:"vertical",children:[Object(ie.jsx)(pr.a,Object(j.a)({label:C("Recent")},to(0))),Object(ie.jsx)(pr.a,Object(j.a)({label:C("Log")},to(1))),Object(ie.jsx)(pr.a,Object(j.a)({label:C("Favorites")},to(2))),Object(ie.jsx)(pr.a,Object(j.a)({label:C("Quick Access")},to(3)))]})})}),Object(ie.jsxs)(x.a,{item:!0,xs:!0,className:w.tabContainer,children:[Object(ie.jsx)(eo,{value:R,index:0,className:w.tabPanel,classes:{root:w.noPadding},children:Object(ie.jsx)(Yr,{mdiHistory:b,mdiHistoryInFavoritesMap:u,onPopulate:ee,onAddFavorite:Z,onRemoveFavorite:Y})}),Object(ie.jsx)(eo,{value:R,index:1,className:w.tabPanel,classes:{root:w.noPadding},children:Object(ie.jsx)(Yr,{mdiHistory:d,mdiHistoryInFavoritesMap:u,onPopulate:ee,onAddFavorite:Z,onRemoveFavorite:Y})}),Object(ie.jsx)(eo,{value:R,index:2,className:w.tabPanel,children:Object(ie.jsx)(Vr,{jogKeys:f,jogModifiers:m,mdiShortcuts:g,shortcuts:v,shortcutsMap:y,onModifyFavorite:function(e){S(e,l)},favorites:s||[],favoritesMap:l||{},headCells:[{id:"cmd",numeric:!0,disablePadding:!1,label:C("Command")},{id:"name",numeric:!0,disablePadding:!1,label:C("Name"),tooltip:C("tooltip_MdiFavoritesName")},{id:"keybind",numeric:!0,disablePadding:!1,label:C("Keybinding")},{id:"time",numeric:!0,disablePadding:!1,label:C("Date Added")}],placeholderText:C("favoritesTablePlaceholderText"),onNameFavorite:q,onDelete:Y,onClickItem:ee})}),Object(ie.jsx)(eo,{value:R,index:3,className:w.tabPanel,p:3,children:Object(ie.jsx)(x.a,{container:!0,spacing:1,children:Object(ie.jsx)($r,{mdiFavorites:s,onClickItem:$})})})]})]}),Object(ie.jsxs)(Ta.a,{open:G,onClose:se,"aria-labelledby":"form-dialog-title",children:[Object(ie.jsx)(Ma.a,{id:"form-dialog-title",children:C("Removing Named Favorite")}),Object(ie.jsxs)(_a.a,{children:[Object(ie.jsxs)(ur.a,{noWrap:!0,children:[Object(ie.jsx)(ne.a,{component:"span",children:C("G-Code")+":"}),Object(ie.jsx)(ne.a,{component:"span",fontWeight:"fontWeightBold",children:z})]}),Object(ie.jsxs)(ur.a,{noWrap:!0,children:[Object(ie.jsx)(ne.a,{component:"span",children:C("Name")+":"}),Object(ie.jsx)(ne.a,{component:"span",fontWeight:"fontWeightBold",children:s&&z?l.get(z).name:""})]}),Object(ie.jsxs)(ur.a,{noWrap:!0,children:[Object(ie.jsxs)(ne.a,{component:"span",children:[C("Saved")+":",":"]}),Object(ie.jsx)(ne.a,{component:"span",fontWeight:"fontWeightBold",children:s&&z?new Date(l.get(z).time).toLocaleString("en-US"):""})]})]}),Object(ie.jsxs)(Aa.a,{children:[Object(ie.jsx)(h.a,{onClick:se,color:"primary",children:C("Cancel")}),Object(ie.jsx)(h.a,{onClick:X,color:"primary",children:C("Remove")})]})]})]})},io=Object(s.connect)((function(e,t){return{readyForMdi:Oa(e),mdiSortKey:hi(e),mdiText:Oi(e),mdiHistory:ea(e),mdiFavorites:ta(e),mdiFavoritesMap:ra(e),mdiHistoryInFavoritesMap:ca(e),mdiHistorySorted:sa(e),mdiHistorySortedUnique:la(e),jogModifiers:Kn(e),jogKeys:Zn(e),mdiShortcuts:qn(e),otherShortcuts:Xn(e),shortcuts:zn(e),shortcutsMap:oa(e)}}),(function(e,t){return{onSetMdiText:function(t){e(Ka.setMdiText(t))},onSendMdiCmd:function(t,n){e(Ft.put.mdiCmd({data:[t]}));var a={cmd:t,time:Date.now()},i=n?n.concat(a):[a];e(Ft.put.saveClientConfig({data:["MDIHistory",i]}))},onAddMdiFavorite:function(t,n){var a={cmd:t,name:"",keybind:"",time:Date.now()},i=n?n.concat(a):[a];e(Ft.put.saveClientConfig({data:["MDIFavorites",i]}))},onRemoveMdiFavorites:function(t,n){var a,i=[],r=Object(Rt.a)(n);try{for(r.s();!(a=r.n()).done;){var o=Object(p.a)(a.value,2),c=o[0],s=o[1];t.has(c)||i.push({cmd:c,name:s.name,time:s.time})}}catch(l){r.e(l)}finally{r.f()}e(Ft.put.saveClientConfig({data:["MDIFavorites",i]}))},onModifyFavorite:function(t,n){var a,i=[],r=Object(Rt.a)(n);try{for(r.s();!(a=r.n()).done;){var o=Object(p.a)(a.value,2),c=o[0],s=o[1];c!==t.cmd&&i.push({cmd:c,name:s.name,time:s.time,keybind:s.keybind||""})}}catch(l){r.e(l)}finally{r.f()}i.push(t),e(Ft.put.saveClientConfig({data:["MDIFavorites",i]}))},onNameMdiFavorite:function(t,n,a){var i=a.findIndex((function(e){return e.cmd===t})),r=Object(ce.a)(a,(function(e){e[i].name=n}));e(Ft.put.saveClientConfig({data:["MDIFavorites",r]}))},onSubmitShortcuts:function(t){e(Ft.put.saveClientConfig({data:["KeyboardShortcuts",t]}))}}}))(ao),ro=Object(ae.a)((function(e){return{svg:{overflow:"visible"}}})),oo=function(e){var t=e.width,n=e.height,a=e.viewBox,i=void 0===a?"-5 -5 110 110":a,r=e.preserveAspectRatio,o=void 0===r?"xMaxYMax":r,c=e.children,s=ro();return Object(ie.jsx)("svg",{width:t,height:n,viewBox:i,preserveAspectRatio:o,className:s.svg,children:c})},co=function(e,t){return((t-e)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)},so=function(e,t,n,a,i,r){var o=function(e,t,n,a,i,r){var o=.5*(e+n),c=.5*(t+a),s=.5*(n+i),l=.5*(a+r);return function(e,t,n,a,i,r,o,c){var s=((e-i)*(r-c)-(t-r)*(i-o))/((e-n)*(r-c)-(t-a)*(i-o));return{x:e+s*(n-e),y:t+s*(a-t)}}(o,c,o+-(a-t),c+(n-e),s,l,s+-(r-a),l+(i-n))}(e,t,n,a,i,r),c=e-o.x,s=t-o.y,l=n-o.x,u=a-o.y,d=i-o.x,p=r-o.y,b=Math.sqrt(c*c+s*s),j=Math.atan2(s,c),m=Math.atan2(u,l),f=Math.atan2(p,d),h=co(j,m),O=co(j,f),x=O;return h>O&&(x=function(e,t){return co(e,t)-2*Math.PI}(j,f)),{c:o,r:b,startAngle:j,endAngle:j+x,angle:x}},lo=n(148),uo=n.n(lo),po=Object(ae.a)((function(e){return{segment:{}}})),bo=function(e){for(var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.totalSegments,s=void 0===c?100:c,l=e.segmentRatio,u=void 0===l?1:l,d=e.segments,p=void 0===d?0:d,b=e.segmentWidth,j=void 0===b?20:b,m=e.paddingStart,f=void 0===m?0:m,h=e.paddingEnd,x=void 0===h?0:h,g=e.every,v=Object(O.a)(),y=po(),S="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:so(t,n,a,i,r,o),C=S.c,w=S.r,k=S.startAngle,E=S.endAngle-k,N=(Math.abs(E)-f-x)/s,I=E>0?N*u:-N*u,T=E>0?f:-f,M=[],_=E-I-T-(E>0?x:-x),A=0;A<s;A++)M.push(T+k+A*_/(s-1));var D=uo()([v.palette.primary.main,v.palette.secondary.main]),L=M.map(function(e,t){return function(n,a){var i=j;g&&g.forEach((function(e){a%e.segments===0&&(i=e.width)}));var r=p>a&&Math.floor(p)-a<1e-5?p-a:1,o=I*r,c=I;if(Math.abs(o)<Math.abs(I)){var s,l,u=o>Math.PI?1:0,d=o>0?1:0,b=c-o>Math.PI?1:0,m=c-o>0?1:0,f=w-i,h=Math.cos(o),O=Math.sin(o),x=w*h,v=w*O,y=f*h,S=f*O,C=Math.cos(c),k=Math.sin(c),E=w*C,N=w*k,T=f*C,M=f*k,_=[Bi(w,0),Ji(w,w,0,u,d,x,v),Vi(y,S),Ji(f,f,0,u,1-d,f,0),"Z"],A=[Bi(x,v),Ji(w,w,0,b,m,E,N),Vi(T,M),Ji(f,f,0,b,1-m,y,S),"Z"];return t&&(s=t(a),l=t(a+1)),Object(ie.jsxs)("g",{children:[Object(ie.jsx)("path",{d:_.join(" "),fill:s,className:e,transform:"rotate("+180*n/Math.PI+")"}),Object(ie.jsx)("path",{d:A.join(" "),fill:l,className:e,transform:"rotate("+180*n/Math.PI+")"})]},a)}var D,L=I>Math.PI?1:0,P=I>0?1:0,F=Math.cos(I),R=Math.sin(I),U=w*F,H=w*R,B=w-i,G=B*F,J=B*R,W=[Bi(w,0),Ji(w,w,0,L,P,U,H),Vi(G,J),Ji(B,B,0,L,1-P,B,0),"Z"];return t&&(D=t(a)),Object(ie.jsx)("path",{d:W.join(" "),fill:D,className:e,transform:"rotate("+180*n/Math.PI+")"},a)}}(y.segment,(function(e){return e>=p?v.palette.grey[200]:D(e/(s-1))})));return Object(ie.jsx)("g",{transform:"translate("+C.x+","+C.y+")",children:L})},jo=Object(ae.a)((function(e){return{gaugeText:Object(j.a)({},e.typography.gaugeText)}})),mo=function(e){var t=e.x1,n=e.y1,a=e.x2,i=e.y2,r=e.x3,o=e.y3,c=e.min,s=void 0===c?0:c,l=e.max,u=void 0===l?100:l,d=e.value,p=void 0===d?100:d,b=e.paddingStart,j=void 0===b?0:b,m=e.paddingEnd,f=void 0===m?0:m,h=e.decimalPoints,O=void 0===h?1:h,x=e.textAnchor,g=void 0===x?"middle":x,v=e.alignmentBaseline,y=void 0===v?"middle":v,S=e.fontSize,C=void 0===S?1:S,w=e.units,k=void 0===w?"":w,E=jo(),N="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof r||"undefined"===typeof o?e:so(t,n,a,i,r,o),I=N.c,T=N.r,M=N.startAngle,_=N.endAngle-M,A=_>0?j:-j,D=_>0?f:-f,L=(Math.min(Math.max(p,s),u)-s)/(u-s<1e-6?1:u-s),P=_-A-D,F=T*Math.cos(M+A+P*L),R=T*Math.sin(M+A+P*L);return Object(ie.jsx)("g",{transform:"translate("+I.x+","+I.y+")",children:Object(ie.jsx)("text",{x:F,y:R,textAnchor:g,alignmentBaseline:y,style:{fontSize:C,letterSpacing:.2},className:E.gaugeText,children:p.toFixed(O)+" "+k})})},fo=Object(ae.a)((function(e){return{gaugeHeader:Object(j.a)({},e.typography.gaugeHeader)}})),ho=function(e){var t=e.x1,n=e.y1,a=e.x2,r=e.y2,o=e.x3,c=e.y3,s=e.text,l=e.paddingStart,u=void 0===l?0:l,d=e.paddingEnd,b=void 0===d?0:d,j=e.dy,m=void 0===j?0:j,f=e.className,h=Object(i.useState)(Object(Ot.a)()),O=Object(p.a)(h,1)[0],x="undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof a||"undefined"===typeof r||"undefined"===typeof o||"undefined"===typeof c?e:so(t,n,a,r,o,c),g=x.c,v=x.r,y=x.startAngle,S=x.endAngle,C=fo(),w=S-y,k=w>0?u:-u,E=w>0?b:-b,N=w-k-E,I=Math.cos(y+k),T=Math.sin(y+k),M=Math.cos(S-E),_=Math.sin(S-E),A=N>Math.PI?1:0,D=N>0?1:0,L=[Bi(v*I,v*T),Ji(v,v,0,A,D,v*M,v*_)];return Object(ie.jsxs)("g",{children:[Object(ie.jsx)("defs",{children:Object(ie.jsx)("path",{id:O,d:L.join(" "),transform:"translate("+g.x+","+g.y+")",fill:"none",stroke:"black",strokeWidth:".1"})}),Object(ie.jsx)("text",{dy:m,className:me()(C.gaugeHeader,f),textAnchor:"middle",children:Object(ie.jsx)("textPath",{href:"#"+O,startOffset:"50%",children:s})})]})},Oo=152*Math.PI/180,xo=268*Math.PI/180,go=28*Math.PI/180,vo=-88*Math.PI/180,yo=32*Math.PI/180,So=148*Math.PI/180,Co=.98,wo=Object(ae.a)((function(e){return{centerText:Object(j.a)({},e.typography.rpmText),gaugeHeader:Object(j.a)({},e.typography.gaugeHeader)}})),ko=function(e){var t=e.value0,n=void 0===t?0:t,a=e.min0,i=void 0===a?0:a,r=e.max0,o=void 0===r?1:r,c=e.units0,s=void 0===c?"":c,l=e.decimalPoints0,u=void 0===l?0:l,d=e.label0,p=void 0===d?"Label 0":d,b=e.hideValue0,j=void 0!==b&&b,m=e.value1,f=void 0===m?0:m,h=e.min1,O=void 0===h?0:h,x=e.max1,g=void 0===x?1:x,v=e.units1,y=void 0===v?"":v,S=e.decimalPoints1,C=void 0===S?0:S,w=e.label1,k=void 0===w?"Label 1":w,E=e.hideValue1,N=void 0!==E&&E,I=e.value2,T=void 0===I?0:I,M=e.min2,_=void 0===M?0:M,A=e.max2,D=void 0===A?1:A,L=e.units2,P=void 0===L?"":L,F=e.decimalPoints2,R=void 0===F?0:F,U=e.label2,H=void 0===U?"Label 2":U,B=e.hideValue2,G=void 0!==B&&B,J=e.centerValue,W=e.centerLabel,V=e.children,z=o-i<1e-6?1:o-i,K=g-O<1e-6?1:g-O,Z=D-_<1e-6?1:D-_,Y=3*Math.PI/180,X=wo(),q=Object(Ri.a)();return Object(ie.jsxs)(oo,{width:"100%",children:[Object(ie.jsx)(bo,{c:{x:50,y:50},r:48,startAngle:Oo,endAngle:xo,segments:(n-i)/z*5,segmentRatio:Co,segmentWidth:5,totalSegments:5,paddingStart:Y,paddingEnd:Y}),j?null:Object(ie.jsx)(mo,{c:{x:50,y:50},r:50,startAngle:Oo,endAngle:xo,min:i,max:o,value:n,paddingStart:Y,paddingEnd:Y,fontSize:3,textAnchor:"end",units:s,decimalPoints:u}),Object(ie.jsx)(ho,{c:{x:50,y:50},r:37,startAngle:Oo,endAngle:xo,text:p,paddingStart:Y,paddingEnd:Y}),Object(ie.jsx)(bo,{c:{x:50,y:50},r:48,startAngle:go,endAngle:vo,segments:(f-O)/K*5,segmentRatio:Co,segmentWidth:5,totalSegments:5,paddingStart:Y,paddingEnd:Y}),N?null:Object(ie.jsx)(mo,{c:{x:50,y:50},r:50,startAngle:go,endAngle:vo,min:O,max:g,value:f,paddingStart:Y,paddingEnd:Y,fontSize:3,textAnchor:"start",units:y,decimalPoints:C}),Object(ie.jsx)(ho,{c:{x:50,y:50},r:37,startAngle:vo,endAngle:go,text:k,paddingStart:Y,paddingEnd:Y}),Object(ie.jsx)(bo,{c:{x:50,y:50},r:48,startAngle:yo,endAngle:So,segments:(T-_)/Z*5,segmentRatio:Co,segmentWidth:5,totalSegments:5,paddingStart:Y,paddingEnd:Y}),G?null:Object(ie.jsx)(mo,{c:{x:50,y:50},r:55,startAngle:yo,endAngle:So,min:_,max:D,value:T,paddingStart:Y,paddingEnd:Y,fontSize:3,textAnchor:"middle",units:P,decimalPoints:R}),Object(ie.jsx)(ho,{c:{x:50,y:50},r:37,startAngle:So,endAngle:yo,text:H,dy:3,paddingStart:Y,paddingEnd:Y}),Object(ie.jsx)("text",{x:50,y:50,textAnchor:"middle",alignmentBaseline:"middle",className:X.centerText,fill:q.palette.text.primary,strokeWidth:.2,style:{letterSpacing:0},children:Math.round(J).toLocaleString("en-US")}),Object(ie.jsx)("text",{x:60,y:60,textAnchor:"middle",alignmentBaseline:"middle",className:X.gaugeHeader,style:{fontSize:5},children:W}),V]})},Eo=n(94),No=Object(Eo.a)(bo),Io=Object(ae.a)((function(e){return{centerText:Object(j.a)({},e.typography.gaugeText),pressureHeader:{fontSize:3},warningText:{fill:"red"},warmUpButton:{}}})),To=function(e){var t=e.rpm,n=e.load,a=e.power,i=e.temperature,r=e.pressure,o=e.showWarmUpButton,c=e.needsWarmUp,s=e.onWarmUp,l=e.disableWarmUpButton,u=te().t,d=rt().toDisplayUnits,p=d(r),b=d({value:.193915,unit:r.unit}),j=d(t,"spindleSpeed"),m=d(a),f=d(i),O=d({value:32,unit:"F"}).value,x=d({value:175,unit:"F"}).value,g=Io(),v=Object(Eo.b)({from:{value:0},value:p.value}),y=r.value<=-999;return Object(ie.jsxs)(oe,{label:"Spindle",children:[Object(ie.jsx)(ko,{value0:m.value,min0:0,max0:2500,units0:m.unit,decimalPoints0:0,label0:u("power"),value1:100*n,min1:0,max1:100,units1:"%",decimalPoints1:1,label1:u("load"),value2:f.value,min2:O,max2:x,units2:"\xb0"+f.unit,decimalPoints2:1,label2:u("temperature"),hideValue2:i.value<=-998,centerValue:j.value,centerLabel:j.unit,children:y?null:Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(ue.a,{title:r.value>=b.value?u("tooltip_HighPressureWarning"):"",children:Object(ie.jsxs)("g",{children:[Object(ie.jsx)(Eo.a.text,{x:4,y:9,textAnchor:"left",alignmentBaseline:"middle",className:me()(g.centerText,r.value>=b.value?g.warningText:null),style:{fontSize:3},children:v.value.interpolate((function(e){return(Math.round(100*e)/100).toLocaleString("en-US")+" "+p.unit}))}),Object(ie.jsx)(No,{c:{x:8,y:8},r:8,startAngle:-270*Math.PI/180,endAngle:-30*Math.PI/180,segments:v.value.interpolate((function(e){return 10*e/b.value})),segmentRatio:1,segmentWidth:2,totalSegments:10,paddingStart:0,paddingEnd:0}),Object(ie.jsx)(ho,{c:{x:8,y:8},r:10,startAngle:-150*Math.PI/180,endAngle:-30*Math.PI/180,text:u("pressure"),paddingStart:0,paddingEnd:0,className:me()(g.pressureHeader,r.value>=b.value?g.warningText:null)})]})})})}),o?Object(ie.jsxs)(h.a,{disabled:l,variant:"contained",onClick:s,color:c?"primary":"default",classes:{root:g.warmUpButton},children:[c?Object(ie.jsx)(Qa.a,{}):null," ",u("warmUp")]}):null]})},Mo=Object(s.connect)((function(e,t){return{rpm:Dn(e),maxRPM:An(e),power:Pn(e),load:Fn(e),temperature:Mn(e),pressure:_n(e),needsWarmUp:un(e),showWarmUpButton:ln(e),needsLongWarmUp:pn(e),disableWarmUpButton:!Oa(e).isReady||dn(e)}}),(function(e,t){return{onWarmUp:function(t){e(Ft.put.mdiCmd({data:[t?"M670":"M671"]}))}}}),(function(e,t,n){var a=t.onWarmUp,i=e.needsLongWarmUp;return Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},e),t),n),{},{onWarmUp:function(){return a(i)}})}))(To),_o=function(e){var t=e.chipLoad,n=e.maxChipLoad,a=e.feedrate,i=e.power,r=e.surfaceFootage,o=e.maxSurfaceFootage,c=te().t,s=rt().toDisplayUnits,l=s(t),u=s(a),d=s(i),p=s(r,"surfaceSpeed"),b=s(n).value,j=s({value:o.value||1,unit:r.unit},"surfaceSpeed").value;return Object(ie.jsx)(oe,{label:"Feed",children:Object(ie.jsx)(ko,{value0:d.value,min0:0,max0:706,units0:d.unit,decimalPoints0:0,label0:c("power"),value1:l.value,min1:0,max1:b,units1:l.unit,decimalPoints1:4,label1:c("chipLoad"),value2:p.value,min2:0,max2:j,units2:p.unit,decimalPoints2:2,label2:c("surfaceSpeed"),centerValue:u.value,centerLabel:u.unit})})},Ao=Object(s.connect)((function(e,t){return{feedrate:Ln(e),chipLoad:ma(e),maxChipLoad:ja(e),power:In(e),surfaceFootage:ha(e),maxSurfaceFootage:fa(e)}}),(function(e,t){return{}}))(_o),Do=Object(s.connect)((function(e,t){return{optionalStop:nn(e)}}),(function(e,t){return{onEnable:function(){e(Ft.put.setOptionalStop({data:[!0]}))},onDisable:function(){e(Ft.put.setOptionalStop({data:[!1]}))}}}),(function(e,t,n){var a=e.optionalStop,i=t.onEnable,r=t.onDisable,o=void 0!==a&&a;return Object(j.a)(Object(j.a)({},n),{},{checked:o,onChange:function(e){e.target.checked?i():r()}})}))(ar.a),Lo=n(204),Po=n.n(Lo),Fo=n(205),Ro=n.n(Fo),Uo=n(206),Ho=n.n(Uo),Bo=n(413),Go=n(114),Jo=n.n(Go),Wo=Object(u.a)((function(e){return{button:{marginBottom:e.spacing(1),marginRight:e.spacing(1)},sliderContainer:{position:"absolute",width:"calc(100% - 54px)",bottom:e.spacing(1),left:0},resetContainer:{position:"absolute",width:40,height:40,right:0,bottom:4+e.spacing(1)},label:Object(j.a)(Object(j.a)({},e.typography.statusItem),{},{fontSize:14}),labelContainer:Object(j.a)(Object(j.a)({position:"absolute",bottom:36},e.typography.statusItem),{},{fontSize:14}),valueContainer:Object(j.a)(Object(j.a)({position:"absolute",bottom:0},e.typography.statusItem),{},{fontSize:16}),slider:{},row:{position:"relative",width:"100%",height:40+e.spacing(2),marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),Vo=function(e){var t=e.onFeedHold,n=e.onCycleStart,a=e.onStep,r=e.maxVel,o=e.maxRapid,c=e.onSetMaxVelocity,s=e.feedrate,l=e.onSetFeedrate,u=e.spindlerate,d=e.onSetSpindlerate,p=e.machineStatus,b=e.onSetMaxRapid,j=Li().playTick,m=Object(i.useCallback)((function(e,t){c&&t!==r&&(j(),c(t,t-r))}),[j,c,r]),f=Object(i.useCallback)((function(e){c&&(j(),c(100))}),[j,c]),O=Object(i.useCallback)((function(e,t){b&&t!==o&&(j(),b(t))}),[j,b,o]),x=Object(i.useCallback)((function(e){b&&(j(),b(100))}),[j,b]),g=Object(i.useCallback)((function(e,t){l&&t!==s&&(j(),l(t,t-s))}),[j,l,s]),v=Object(i.useCallback)((function(e){l&&(j(),l(100))}),[j,l]),y=Object(i.useCallback)((function(e,t){d&&t!==u&&(j(),d(t,t-u))}),[j,d,u]),S=Object(i.useCallback)((function(e){d&&(j(),d(100))}),[j,d]),C=te().t,w=Wo();return Object(ie.jsxs)(oe,{label:C("control"),children:[Object(ie.jsxs)("div",{children:[Object(ie.jsxs)(h.a,{size:"small",onClick:n,variant:"contained",color:"primary",classes:{root:w.button},disabled:p===Ue||p===He,children:[Object(ie.jsx)(Po.a,{}),C("cycleStart")]}),Object(ie.jsxs)(h.a,{size:"small",onClick:t,variant:"contained",color:"secondary",classes:{root:w.button},disabled:p===Be,children:[Object(ie.jsx)(Ro.a,{}),C("feedHold")]}),Object(ie.jsxs)(h.a,{size:"small",onClick:a,variant:"contained",color:"primary",classes:{root:w.button},disabled:p!==Ge&&p!==He,children:[Object(ie.jsx)(Ho.a,{}),C("step")]}),Object(ie.jsx)(Do,{color:"primary",name:"opt-stop-switch"}),Object(ie.jsxs)("label",{htmlFor:"opt-stop-switch",className:w.label,children:[C("optionalStop")," "]})]}),Object(ie.jsxs)("div",{className:w.row,children:[Object(ie.jsx)("div",{className:w.sliderContainer,children:Object(ie.jsx)(Bo.a,{orientation:"horizontal",value:r,max:100,min:0,step:1,valueLabelDisplay:"off",classes:{root:w.slider},onChange:m})}),Object(ie.jsx)("div",{className:w.resetContainer,children:Object(ie.jsx)(Qi.a,{onClick:f,children:Object(ie.jsx)(Jo.a,{})})}),Object(ie.jsx)("div",{className:w.labelContainer,children:C("maxVelocity")}),Object(ie.jsxs)("div",{className:w.valueContainer,children:[r,"%"]})]}),Object(ie.jsxs)("div",{className:w.row,children:[Object(ie.jsx)("div",{className:w.sliderContainer,children:Object(ie.jsx)(Bo.a,{orientation:"horizontal",value:o,max:100,min:0,step:1,valueLabelDisplay:"off",classes:{root:w.slider},onChange:O})}),Object(ie.jsx)("div",{className:w.resetContainer,children:Object(ie.jsx)(Qi.a,{onClick:x,children:Object(ie.jsx)(Jo.a,{})})}),Object(ie.jsx)("div",{className:w.labelContainer,children:C("maxRapidRate")}),Object(ie.jsxs)("div",{className:w.valueContainer,children:[o,"%"]})]}),Object(ie.jsxs)("div",{className:w.row,children:[Object(ie.jsx)("div",{className:w.sliderContainer,children:Object(ie.jsx)(Bo.a,{orientation:"horizontal",value:s,max:200,min:0,step:1,valueLabelDisplay:"off",classes:{root:w.slider},onChange:g})}),Object(ie.jsx)("div",{className:w.resetContainer,children:Object(ie.jsx)(Qi.a,{onClick:v,children:Object(ie.jsx)(Jo.a,{})})}),Object(ie.jsx)("div",{className:w.labelContainer,children:C("feedRate")}),Object(ie.jsxs)("div",{className:w.valueContainer,children:[s,"%"]})]}),Object(ie.jsxs)("div",{className:w.row,children:[Object(ie.jsx)("div",{className:w.sliderContainer,children:Object(ie.jsx)(Bo.a,{orientation:"horizontal",value:u,max:200,min:0,step:1,valueLabelDisplay:"off",classes:{root:w.slider},onChange:y})}),Object(ie.jsx)("div",{className:w.resetContainer,children:Object(ie.jsx)(Qi.a,{onClick:S,children:Object(ie.jsx)(Jo.a,{})})}),Object(ie.jsx)("div",{className:w.labelContainer,children:C("spindleRate")}),Object(ie.jsxs)("div",{className:w.valueContainer,children:[u,"%"]})]})]})},zo=Object(s.connect)((function(e,t){return{maxVel:Rn(e),feedrate:Hn(e),spindle:Bn(e),maxRapid:Un(e),machineStatus:cn(e),maxLinearVelocity:mn(e)}}),(function(e,t){return{onCycleStart:function(){return e(Ft.put.cycleStartCmd())},onStep:function(){return e(Ft.put.autoCmd({data:["AUTO_STEP"]}))},onFeedHold:function(){return e(Ft.put.feedHoldCmd())},onSetMaxVelocity:function(t,n,a){e(Ft.delayed.update.halpinHaluiMaxVelocityValue({data:t/100*a})),e(Ft.delayed.put.maxvel({data:[t/100*a]}))},onSetFeedrate:function(t,n){e(Ft.delayed.update.feedrate({data:[t/100]})),e(Ft.delayed.put.feedrate({data:[t/100]}))},onSetMaxRapid:function(t,n){e(Ft.delayed.update.rapidrate({data:[t/100]})),e(Ft.delayed.put.rapidrate({data:[t/100]}))},onSetSpindle:function(t){e(Ft.delayed.update.spindle({data:t})),e(Ft.delayed.put.spindleoverride({data:[t[0].override]}))}}}),(function(e,t,n){var a=e.maxVel,i=e.feedrate,r=e.spindle,o=e.maxRapid,c=e.machineStatus,s=e.maxLinearVelocity,l=Math.round(100*r[0].override),u=t.onCycleStart,d=t.onFeedHold,p=t.onStep,b=t.onSetMaxVelocity,j=t.onSetFeedrate,m=t.onSetMaxRapid,f=t.onSetSpindle;return{machineStatus:c,maxVel:a,feedrate:i,maxRapid:o,spindlerate:l,onCycleStart:u,onFeedHold:d,onSetFeedrate:j,onSetMaxRapid:m,onStep:p,onSetSpindlerate:function(e,t){f(Object.freeze(Object(ce.a)(r,(function(t){t[0].override=e/100}))))},onSetMaxVelocity:function(e,t){return b(e,t,s)}}}))(Vo),Ko=function(e){return Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,lg:6,children:Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(ie.jsx)(Mo,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(ie.jsx)(Ao,{})})]})}),Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:8,lg:6,children:Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(ie.jsx)(sr,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(ie.jsx)(zo,{})})]})}),Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(io,{})})]})},Zo=n(207),Yo=n.n(Zo),Xo=(n(315),n(316),n(317),n(392)),qo=n(208),Qo=n.n(qo),$o=n(149),ec=n(12),tc=n.n(ec),nc=n(54),ac=n(40),ic=n(72),rc=n(115),oc=n.n(rc),cc=new(function(){function e(){Object(ac.a)(this,e),this.maxPersistentCacheSize=1073741824,this.maxMemoryCacheSize=1073741824,this.memoryStore={},this.memoryMetadata={},this.store=oc.a.createInstance({name:"pentaCache",driver:oc.a.INDEXEDDB,storeName:"pentaStore",description:"Stores files locally to avoid unnecessary requests to Rockhopper."}),this.metadata=oc.a.createInstance({name:"pentaCacheMetadata",driver:oc.a.INDEXEDDB,storeName:"pentaStoreMetadata",description:"Stores meta data about files stored in the cache."})}return Object(ic.a)(e,[{key:"setKey",value:function(){var e=Object(nc.a)(tc.a.mark((function e(t){var n,a,i,r,o,c,s=this;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.crypto.subtle||!t||64!==t.length){e.next=9;break}for(n=new Uint8Array(16),a=new Uint8Array(16),i=0;i<16;i++)n[i]=parseInt(t.slice(i,i+2),16);for(r=0;r<16;r++)a[r]=parseInt(t.slice(r+16,r+18),16);return o=window.crypto.subtle.importKey("raw",n,{name:"HMAC",hash:"SHA-512"},!1,["sign","verify"]).then((function(e){s.hmacKey=e})),c=window.crypto.subtle.importKey("raw",a,"AES-GCM",!1,["encrypt","decrypt"]).then((function(e){s.aesKey=e})),e.next=9,Promise.all([o,c]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearKey",value:function(){var e=Object(nc.a)(tc.a.mark((function e(){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.hmacKey=null,this.aesKey=null;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTotalMemorySize",value:function(){var e=0;for(var t in this.memoryMetadata)e+=this.memoryMetadata[t].size;return e}},{key:"getMemoryItem",value:function(e){var t=this.memoryMetadata[e];if(t)return t.timestamp=Date.now(),this.memoryStore[e]}},{key:"setMemoryItem",value:function(e,t){var n=t.byteLength,a=this.getTotalMemorySize()+n;this.memoryStore[e]=t,this.memoryMetadata[e]={timestamp:Date.now(),size:n},a>this.maxMemoryCacheSize&&this.removeOldestMemoryData(a-this.maxMemoryCacheSize)}},{key:"removeOldestMemoryData",value:function(e){var t=[];for(var n in this.memoryMetadata)t.push([this.memoryMetadata[n],n]);t.sort((function(e,t){return e[0].timestamp-t[0].timestamp}));for(var a=0,i=0;i<e&&a<t.length;){var r=Object(p.a)(t[a],2),o=r[0],c=r[1];i+=o.size,delete this.memoryMetadata[c],delete this.memoryStore[c],a++}}},{key:"getTotalPersistentSize",value:function(){var e=Object(nc.a)(tc.a.mark((function e(){var t;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,this.metadata.iterate((function(e,n,a){t+=e.size})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=Object(nc.a)(tc.a.mark((function e(t){var n,a=this;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getMemoryItem(t)){e.next=3;break}return e.abrupt("return",Promise.resolve(this.getPersistentItem(t)).then((function(e){return e&&a.setMemoryItem(t,e),e})));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPersistentItem",value:function(){var e=Object(nc.a)(tc.a.mark((function e(t,n){var a,i,r,o,c;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.byteLength,e.next=3,this.getTotalPersistentSize();case 3:if(e.t0=e.sent,e.t1=a,i=e.t0+e.t1,!(window.crypto.subtle&&this.aesKey&&this.hmacKey)){e.next=18;break}return r=window.crypto.getRandomValues(new Uint8Array(16)),e.next=10,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.aesKey,n);case 10:return o=e.sent,e.next=13,window.crypto.subtle.sign("HMAC",this.hmacKey,o);case 13:c=e.sent,this.store.setItem(t,o),this.metadata.setItem(t,{timestamp:Date.now(),iv:r,signature:c,size:a}),e.next=20;break;case 18:this.store.setItem(t,n),this.metadata.setItem(t,{timestamp:Date.now(),size:a});case 20:i>this.maxPersistentCacheSize&&this.removeOldestPersistentData(i-this.maxPersistentCacheSize);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeOldestPersistentData",value:function(){var e=Object(nc.a)(tc.a.mark((function e(t){var n,a,i,r,o,c;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.metadata.iterate((function(e,t,a){n.push([e,t])})).catch((function(e){console.error(e)}));case 3:for(n.sort((function(e,t){return e[0].timestamp-t[0].timestamp})),a=0,i=0;i<t&&a<n.length;)r=Object(p.a)(n[a],2),o=r[0],c=r[1],i+=o.size,this.metadata.removeItem(c),this.store.removeItem(c),a++;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPersistentItem",value:function(){var e=Object(nc.a)(tc.a.mark((function e(t){var n,a,i,r,o=this;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,this.metadata.getItem(t).then((function(e){return e})).catch((function(){return null}));case 3:if(!(n=e.sent)){e.next=17;break}if(a=n.signature,i=n.iv,r=n.size,this.metadata.setItem(t,{timestamp:Date.now(),iv:i,signature:a,size:r}),!(window.crypto.subtle&&this.aesKey&&this.hmacKey&&a&&i)){e.next=13;break}return e.next=10,this.store.getItem(t).then(function(){var e=Object(nc.a)(tc.a.mark((function e(t){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.verify("HMAC",o.hmacKey,a,t);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o.aesKey,t));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e})).catch((function(){return null}));case 10:return e.abrupt("return",e.sent);case 13:if(a||i){e.next=17;break}return e.next=16,this.store.getItem(t).then((function(e){return e})).catch((function(){return null}));case 16:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(nc.a)(tc.a.mark((function e(){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.memoryStore={},this.memoryMetadata={},e.next=4,this.store.dropInstance().then((function(){return console.log("dropped store")}));case 4:return e.next=6,this.metadata.dropInstance().then((function(){return console.log("dropped metadata")}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());function sc(e,t,n){return e.getItem(t).then((function(e){var t=document.createElement("a"),a=new Blob([e],{type:"text/plain;charset=utf-8"});t.setAttribute("href",URL.createObjectURL(a)),t.setAttribute("download",n),t.click()})),null}function lc(e,t){return e+":"+t}function uc(e){var t=e.split(":")[0];return{fileType:t,path:e.slice(t.length+1)}}for(var dc="\n".charCodeAt(0),pc="\r".charCodeAt(0),bc=Object(u.a)((function(e){return{ace:{"&::-webkit-scrollbar":{height:".375rem",width:".375rem"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)"},"&::-webkit-scrollbar-thumb:vertical":{minHeight:"1.5rem"},"&::-webkit-scrollbar-thumb:horizontal":{minWidth:"1.5rem"}},file:{fontWeight:"bold"},progress:{marginLeft:e.spacing(1)},downloadingProgress:{marginLeft:e.spacing(1)}}})),jc=function(e){var t=te().t,n=e.programKey,a=e.checksum,r=e.progress,o=void 0===r?{size:0,bytesLoaded:0}:r,c=e.line,s=e.onDownloadProgram,l=bc(),u=Object(i.useRef)(null),d=Object(i.useState)(!1),b=Object(p.a)(d,2),j=b[0],m=b[1],f=Object($o.a)(),O=Object(p.a)(f,2),x=O[0],g=O[1],v=Object(i.useState)({checksum:null,fileDataIndex:0,buffer:null}),y=Object(p.a)(v,2),S=y[0],C=y[1],w=uc(n),k=w.programType,E=w.programPath;Object(i.useEffect)((function(){var e=u.current.editor;if(e.container.style.height=j?"800px":"170px",e.setOption("vScrollBarAlwaysVisible",!0),e.setOption("scrollPastEnd",.5),e.setShowPrintMargin(!1),e.setReadOnly(!0),e.resize(!0),c&&e.gotoLine(c+1,1/0),a===S.checksum)if(S.buffer){var t,n=e.getSession().getDocument(),i=new Uint8Array(S.buffer),r=function(e,a,r,o){for(var c=Math.min(e+a,r),s=new TextDecoder,l=[],u=e,d=e;d<c;d++)i[d]===dc&&(d-1>=0&&i[d-1]===pc?l.push(s.decode(new Uint8Array(S.buffer,u,d-u-1))):l.push(s.decode(new Uint8Array(S.buffer,u,d-u))),u=d+1);o?t=setTimeout((function(){n.insertFullLines(n.getLength()-1,l),C(Object(ce.a)(S,(function(e){e.fileDataIndex=u})))}),1):(n.insertFullLines(n.getLength()-1,l),C(Object(ce.a)(S,(function(e){e.fileDataIndex=u}))))};if(S.fileDataIndex<o.bytesLoaded)return 0===S.fileDataIndex?(e.setValue(""),r(S.fileDataIndex,1e6,o.bytesLoaded,!1)):r(S.fileDataIndex,1e6,o.bytesLoaded,!0),function(){return clearTimeout(t)}}else cc.getItem(a).then((function(e){C(Object(ce.a)(S,(function(t){t.buffer=e})))}));else C(Object(ce.a)(S,(function(e){e.checksum=a,e.fileDataIndex=0,e.buffer=null})))}),[j,o,u,a,S,C,c]);var N=100*o.bytesLoaded/o.size,I=100*Math.min(S.fileDataIndex,o.size)/o.size,T=Math.min(N,I),M=N<100||I<100&&o.size>10485760,_=Math.floor(g.width||500).toString();return Object(ie.jsxs)(ie.Fragment,{children:[M?Object(ie.jsx)(ue.a,{placement:"top",title:T.toFixed(2)+"%",children:Object(ie.jsx)(Xo.a,{classes:{root:l.progress},variant:"determinate",size:15,thickness:4,value:T})}):null,Object(ie.jsxs)("div",{className:l.ace,ref:x,children:[Object(ie.jsx)(Yo.a,{mode:"gcode",theme:"chrome",name:"GCodeEditor",ref:u,width:_}),Object(ie.jsx)(h.a,{onClick:function(){return m(!j)},children:t(j?"retract":"expand")}),Object(ie.jsx)(ue.a,{placement:"top",title:t("downloadCurrentFile"),children:Object(ie.jsx)(h.a,{onClick:function(){s(E,k)},disabled:M,children:Object(ie.jsx)(Qo.a,{})})})]})]})},mc=n(44),fc=new function e(){var t=this;Object(ac.a)(this,e),this.channel=Object(mc.eventChannel)((function(e){return t.addDownload=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e({path:t,fileType:n,callback:a})},function(){}}))},hc=Object(s.connect)((function(e,t){return{programKey:gn(e),checksum:rn(e),progress:on(e),line:Yt(e)}}),(function(e,t){return{onDownloadProgram:function(e,t){fc.addDownload(e,t,sc)}}}))(jc),Oc=n(215),xc=n.n(Oc),gc=n(213),vc=n.n(gc),yc=n(214),Sc=n.n(yc),Cc=n(370),wc=n(336),kc=n(209),Ec=n.n(kc),Nc=n(212),Ic=n.n(Nc),Tc=n(210),Mc=n.n(Tc),_c=n(211),Ac=n.n(_c),Dc=Object(u.a)((function(e){return{fileButton:{width:"100%",justifyContent:"left"},homeRow:{"& button":{color:e.palette.primary.main},display:"flex",alignItems:"center",flexWrap:"wrap"}}})),Lc=function(e){var t=e.rootPath,n=e.filesMap,a=e.fileType,r=e.fileFilter,o=e.selectedFiles,c=e.onFileOpen,s=e.onSelectFile,l=te().t,u=Object(i.useState)([]),d=Object(p.a)(u,2),b=d[0],j=d[1];Object(i.useEffect)((function(){j([])}),[n]);var m,f=function(e){s&&s(e)},O=Dc(),x=(m=n,b.reduce((function(e,t){return e&&e[t]}),m)),g=x?Object.keys(x).filter((function(e){return null!==x[e]})):null,v=(x?Object.keys(x).filter((function(e){return null===x[e]})):[]).filter((function(e){return e.toLowerCase().includes(r.toLowerCase())}));return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(ne.a,{children:[Object(ie.jsxs)("div",{className:O.homeRow,children:[Object(ie.jsx)(ue.a,{title:l("tooltip_FileBrowserHome"),children:Object(ie.jsx)(Qi.a,{onClick:function(){j([])},color:"primary",children:Object(ie.jsx)(qi.a,{})})}),Object(ie.jsx)(ue.a,{title:l("tooltip_FileBrowserGoUp"),children:Object(ie.jsx)(Qi.a,{onClick:function(){b.length>0&&j(b.slice(0,-1))},color:"primary",children:Object(ie.jsx)(Ec.a,{})})}),Object(ie.jsx)(Mc.a,{}),b.join("/")]}),Object(ie.jsxs)(Cc.a,{children:[g&&g.map((function(e){return Object(ie.jsx)(wc.a,{children:Object(ie.jsxs)(h.a,{onClick:function(){j(b.concat(e))},children:[Object(ie.jsx)(Ac.a,{}),Object(ie.jsx)(Ic.a,{}),e]})},e)})),v&&v.map((function(e){var n=t?[t].concat(b).concat([e]).join("/"):b.concat([e]).join("/");return Object(ie.jsxs)(wc.a,{children:[Object(ie.jsx)(Sr.a,{value:n,checked:!!o[n],onClick:f}),Object(ie.jsx)(h.a,{classes:{root:O.fileButton},onClick:function(){var e;e=n,c&&c(e,a)},children:e})]},e)}))]})]})})},Pc=Object(s.connect)((function(e,t){return{programKey:gn(e),needsOverwritePermission:wn(e),queuedFiles:Cn(e),fileList:hn(e)}}),(function(e,t){return{}}))(Lc),Fc=Object(u.a)((function(e){return{filter:{width:"100%"},fileDialog:{height:"min(600px, 100%)",width:"min(500px, 100%)"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)}}})),Rc=function(e){var t=e.open,n=e.gcodeMap,a=e.onClose,r=e.onFileOpen,o=e.onFileDelete,c=e.onFileCopy,s=te().t,l=Object(i.useState)(!1),u=Object(p.a)(l,2),d=u[0],m=u[1],f=Object(i.useState)({}),O=Object(p.a)(f,2),x=O[0],g=O[1];Object(i.useEffect)((function(){g([])}),[t]);var v=Object(i.useState)(""),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useCallback)((function(e){C("")}),[C]),k=Object(i.useCallback)((function(e){C(e.target.value)}),[C]),E=Fc(),N=Object(i.useCallback)((function(){g({}),m(!d)}),[d,m,g]),I=function(){a&&a()},T=function(e,t){r&&(r(e,t),I())},M=Object(i.useCallback)((function(e){e.target.checked?g(Object(j.a)(Object(j.a)({},x),{},Object(b.a)({},e.target.value,!0))):g(Object(j.a)(Object(j.a)({},x),{},Object(b.a)({},e.target.value,!1)))}),[x,g]),_=Object(i.useCallback)((function(e){c&&(Object.keys(x).filter((function(e){return x[e]})).forEach((function(e){c(e,we,e.split("/").pop(),Ce,!1)})),g({}))}),[c,x,g]),A=Object(i.useCallback)((function(e){if(c){var t=n.usbPath;Object.keys(x).filter((function(e){return x[e]})).forEach((function(e){c(e,Ce,t+"/"+e.split("/").pop(),we,!1)})),g({})}}),[n,c,x,g]),D=Object(i.useCallback)((function(e){if(o){var t=d?we:Ce;Object.keys(x).filter((function(e){return x[e]})).forEach((function(e){o(e,t)})),g({})}}),[d,o,x,g]);return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(Ta.a,{open:t,onClose:I,classes:{paper:E.fileDialog},children:[Object(ie.jsxs)(Ma.a,{children:[Object(ie.jsx)("span",{children:s("openGCode")}),Object(ie.jsx)(Qi.a,{className:E.closeButton,onClick:I,size:"small",children:Object(ie.jsx)(Mr.a,{})})]}),Object(ie.jsxs)(_a.a,{children:[Object(ie.jsx)(pe.a,{placeholder:s("filter"),value:S,className:E.filter,onChange:k,InputProps:{endAdornment:S.length>0?Object(ie.jsx)(dr.a,{position:"end",children:Object(ie.jsx)(Qi.a,{size:"small",onClick:w,children:Object(ie.jsx)(Mr.a,{})})}):null}}),n&&n.usbPath&&Object(ie.jsx)(h.a,{classes:{root:E.usbButton},onClick:N,children:d?Object(ie.jsxs)(ie.Fragment,{children:[s("viewInternalFiles"),Object(ie.jsx)(vc.a,{})]}):Object(ie.jsxs)(ie.Fragment,{children:[s("viewUsbFiles"),Object(ie.jsx)(Sc.a,{})]})}),Object(ie.jsx)(Pc,{fileFilter:S,filesMap:n&&n.usbPath&&d?n[n.usbPath]:n?n.programs:{},fileType:n&&n.usbPath&&d?we:Ce,rootPath:n&&n.usbPath&&d?n.usbPath:"",onFileOpen:function(e,t){return T(e,t)},onSelectFile:M,selectedFiles:x})]}),Object(ie.jsxs)(Aa.a,{children:[!d&&Object(ie.jsx)(ue.a,{children:Object(ie.jsx)(h.a,{color:"primary",onClick:A,disabled:0===Object.keys(x).filter((function(e){return x[e]})).length,children:s("copyToUsb")})}),d&&Object(ie.jsx)(ue.a,{children:Object(ie.jsx)(h.a,{color:"primary",onClick:_,disabled:0===Object.keys(x).filter((function(e){return x[e]})).length,children:s("copyToDisk")})}),Object(ie.jsx)(ue.a,{children:Object(ie.jsx)(h.a,{color:"secondary",onClick:D,disabled:0===Object.keys(x).filter((function(e){return x[e]})).length,children:s("deleteSelected")})}),Object(ie.jsx)(h.a,{onClick:I,children:s("cancel")})]})]})})},Uc=Object(s.connect)((function(e,t){return{gcodeMap:Wt(e),programPrefix:sn(e)}}),(function(e,t){return{onFileCopy:function(t,n,a,i,r){e(Ft.put.fileCopy({data:[t,n,a,i,r]}))},onFileDelete:function(t,n){e(Ft.put.fileDelete({data:[t,n]}))},onFileOpen:function(t,n){e(Ft.put.programOpenCmd({data:[t,n]}))}}}))(Rc),Hc=Object(u.a)((function(e){return{realDropBox:{cursor:"pointer",zIndex:100,width:"100%",height:"100%",position:"absolute"},dropBox:{cursor:"pointer",borderWidth:"2px",borderStyle:"dashed",borderColor:e.palette.primary.main,margin:e.spacing(2),width:"calc(100% - "+e.spacing(4)+")",position:"relative"},dropBoxOver:{borderStyle:"solid",backgroundColor:e.palette.primary.light},fileList:{position:"relative",margin:e.spacing(2),width:"calc(100% - "+e.spacing(4)+")",overflow:"scroll"},fileItem:{position:"absolute"},fileContainer:{margin:e.spacing(2),width:"calc(100% - 32px)"},fileLabel:{fontWeight:"bold"},fileName:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fileButton:{width:"100%",justifyContent:"left"},filter:{width:"100%"},fileDialog:{height:"min(600px, 100%)",width:"min(500px, 100%)"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},percentage:{marginLeft:e.spacing(1)},usbButton:{color:e.palette.primary.main,width:"100%",justifyContent:"left"}}})),Bc=function(e){var t=te().t,n=e.programKey,a=e.onAddFile,r=e.onCancel,o=e.onCancelAll,c=e.onConfirm,s=e.onConfirmAll,l=e.onWatchGcodeMap,u=e.onUnwatchGcodeMap,d=e.queuedFiles,b=void 0===d?[]:d,m=e.needsOverwritePermission,f=uc(n).path,O=Object(i.useRef)(null),x=Object(i.useState)(!1),g=Object(p.a)(x,2),v=g[0],y=g[1],S=Object(i.useCallback)((function(e){y(!1),u()}),[y,u]),C=Object(i.useCallback)((function(e){y(!0),l()}),[y,l]),w=Object(i.useCallback)((function(e){O.current.click()}),[O]),k=Object(i.useCallback)((function(e){r&&r(m[0].path)}),[r,m]),E=Object(i.useCallback)((function(e){c&&c(m[0].path)}),[c,m]),N=Object.values(b).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{index:t})}));N.sort((function(e,t){return t.progress-e.progress}));var I=100*N.reduce((function(e,t){return e+1/N.length*t.progress}),0),T=Hc();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ue.a,{placement:"top",title:f||t("noFileLoaded"),children:Object(ie.jsx)(h.a,{onClick:C,children:Object(ie.jsx)("span",{className:T.fileName,children:f||t("noFileLoaded")})})}),Object(ie.jsx)(Uc,{open:v,onClose:S}),Object(ie.jsx)(ue.a,{placement:"top",title:"Upload Files",children:Object(ie.jsx)(h.a,{onClick:w,children:Object(ie.jsx)(xc.a,{})})}),Object(ie.jsx)(Xo.a,{value:I,variant:"determinate",size:"1em"}),I>0?Object(ie.jsx)("span",{className:T.percentage,children:I.toFixed(2)+"%"}):null,Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("input",{onChange:function(e){var t,n=Object(Rt.a)(e.target.files);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.name;a(r,i)}}catch(o){n.e(o)}finally{n.f()}e.target.value=""},type:"file",multiple:!0,ref:O})}),Object(ie.jsxs)(Ta.a,{open:m.length>0,children:[Object(ie.jsx)(Ma.a,{children:"Overwrite existing files?"}),Object(ie.jsxs)(_a.a,{children:[Object(ie.jsxs)(ur.a,{children:[m.length>0?m[0].path:""," exists on the server",m.length>1?" (and "+m.length+" other file"+(m.length>2?"s":"")+")":"",". Overwrite?"]}),Object(ie.jsxs)(Aa.a,{children:[Object(ie.jsx)(h.a,{onClick:k,color:"secondary",children:"Cancel"}),N.length>1?Object(ie.jsx)(h.a,{onClick:o,color:"secondary",children:"Cancel All"}):null,Object(ie.jsx)(h.a,{onClick:E,color:"primary",children:"Overwrite"}),N.length>1?Object(ie.jsx)(h.a,{onClick:s,color:"primary",children:"Overwrite All"}):null]})]})]})]})},Gc=new function e(){var t=this;Object(ac.a)(this,e),this.channel=Object(mc.eventChannel)((function(e){return t.addFile=function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e({path:t,fileType:n,data:a,overwrite:i})},function(){}}))},Jc=Object(s.connect)((function(e,t){return{programKey:gn(e),needsOverwritePermission:wn(e),queuedFiles:Cn(e),fileList:hn(e)}}),(function(e,t){return{onWatchGcodeMap:function(){return e(Ft.watch.gcodeMap())},onUnwatchGcodeMap:function(){return e(Ft.unwatch.gcodeMap())},onCancelAll:function(){return e(Ft.fileUpload.cancelAll(Ce))},onCancel:function(t){return e(Ft.fileUpload.cancel({path:t,fileType:Ce}))},onConfirm:function(t){return e(Ft.fileUpload.confirmOverwrite({path:t,fileType:Ce}))},onConfirmAll:function(){return e(Ft.fileUpload.confirmOverwriteAll(Ce))},onAddFile:function(e,t){return Gc.addFile(e,Ce,t)},onFileOpen:function(t,n){e(Ft.put.programOpenCmd({data:[t,n]}))},onFileDelete:function(t,n){return e(Ft.put.programDelete({data:[t,n]}))},onFileCopy:function(t,n){return e(Ft.put.fileCopy({data:[t,n,"~/ncfiles/"]}))}}}))(Bc),Wc=function(e){var t=Object(q.a)().t;return Object(ie.jsxs)(oe,{label:t("gCodeProgram"),children:[Object(ie.jsx)(Jc,{}),Object(ie.jsx)(hc,{})]})},Vc=Object(ae.a)((function(e){return{axisRow:{marginBottom:e.spacing(1),whiteSpace:"nowrap"},axisLabel:Object(j.a)(Object(j.a)({},e.typography.axisLabel),{},{display:"inline-block",width:40,height:40,borderTopLeftRadius:4,lineHeight:"40px",verticalAlign:"middle",textAlign:"center",backgroundColor:e.palette.grey[200],border:"1px solid "+e.palette.grey[200]}),axisLabelNoBar:{borderBottomLeftRadius:4},axisUnit:Object(j.a)(Object(j.a)({},e.typography.axisValue),{},{display:"inline-block",height:40,width:40,verticalAlign:"middle",borderTopRightRadius:4,borderRight:"1px solid "+e.palette.grey[200],borderTop:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],lineHeight:"40px"}),axisUnitFraction:{margin:"0 auto",fontSize:"18px",display:"inline-block",position:"relative",textAlign:"center",lineHeight:1,width:"fit-content"},axisUnitFractionSuper:{display:"block",textAlign:"center",verticalAlign:"super"},axisUnitFractionSub:{borderTop:"1px solid black",display:"block",position:"relative",verticalAlign:"sub"},axisUnitWhole:{fontSize:"22px"},axisValue:Object(j.a)(Object(j.a)({},e.typography.axisValue),{},{display:"inline-block",height:40,width:"calc(100% - 83px - "+e.spacing(1)+"px)",lineHeight:"40px",verticalAlign:"middle",textAlign:"right",borderTop:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],paddingRight:e.spacing(1)}),axisValueNoBar:{borderBottomRightRadius:4},bar:{position:"relative",width:"calc(100% - 2px)",height:15,borderBottomLeftRadius:4,borderBottomRightRadius:4,borderRight:"1px solid "+e.palette.grey[200],borderLeft:"1px solid "+e.palette.grey[200],borderBottom:"1px solid "+e.palette.grey[200],textAlign:"right",overflow:"none",zIndex:200},filledBar:{position:"absolute",height:15,width:"100%",borderBottomLeftRadius:3,borderBottomRightRadius:3,backgroundImage:"linear-gradient(to right, "+e.palette.primary.main+","+e.palette.secondary.main+")",zIndex:0},menuSpan:{width:"100%"},whiteBar:{position:"absolute",height:15,right:0,width:"90%",borderBottomRightRadius:3,backgroundColor:"white",zIndex:1},barText:{position:"absolute",right:0,fontSize:"smaller",lineHeight:"14px",verticalAlign:"top",paddingRight:2,zIndex:100},button:{marginRight:e.spacing(1)},select:{height:"30px"},homeAllButton:{marginLeft:e.spacing(1)},extras:{display:"flex",marginBottom:e.spacing(1)}}})),zc=function(e){var t=e.display,n=e.positions,a=(e.workOffsets,e.g5xIndex,e.onSetDisplay),i=te().t,r=rt(),o=r.toDisplayUnits,c=r.getDisplayUnitStringFromUnit,s=Object(Ri.a)(),l=Vc(),u=Fi(t,n),d=u&&n.map((function(e,t){var n,a,i=e.axis,r=(e.jointIndex,e.torque),d=(Object(Pi.a)(e,["axis","jointIndex","torque"]),o(u[t])),p=c(d.unit),j=Xe.DECIMALS(d.unit),m=p.indexOf("/"),f=Math.min(100*r*5,100),h="undefined"!==typeof r&&null!==r,O=uo()([s.palette.primary.main,s.palette.secondary.main]);return Object(ie.jsxs)("div",{className:l.axisRow,id:"DRO_"+i,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:me()((n={},Object(b.a)(n,l.axisLabel,!0),Object(b.a)(n,l.axisLabelNoBar,!h),n)),children:i}),Object(ie.jsx)("span",{className:me()((a={},Object(b.a)(a,l.axisValue,!0),Object(b.a)(a,l.axisValueNoBar,!h),a)),children:Object(ie.jsx)("span",{children:d.value.toFixed(j)})}),Object(ie.jsx)("span",{className:l.axisUnit,children:m>0?Object(ie.jsxs)("span",{className:l.axisUnitFraction,children:[Object(ie.jsx)("span",{className:me()(Object(b.a)({},l.axisUnitFractionSuper,!0)),children:c(d.unit).slice(0,m)}),Object(ie.jsx)("span",{className:me()(Object(b.a)({},l.axisUnitFractionSub,!0)),children:c(d.unit).slice(m+1)})]}):Object(ie.jsx)("span",{className:l.axisUnitWhole,children:c(d.unit)})})]}),h?Object(ie.jsxs)("div",{className:l.bar,children:[Object(ie.jsx)("div",{className:l.filledBar,style:{width:f+"%",backgroundImage:"linear-gradient(to right, "+s.palette.primary.main+","+O(f/100)+")"}}),Object(ie.jsxs)("span",{className:l.barText,children:[Math.round(f),"%"]})]}):null]},i)}));return Object(ie.jsxs)(oe,{id:"DRO",label:i("dro"),children:[Object(ie.jsxs)("div",{className:l.extras,children:[Object(ie.jsxs)(Za.a,{variant:"outlined",value:t,onChange:function(e){a(e.target.value)},className:l.select,children:[Object(ie.jsx)(v.a,{value:"position",children:Object(ie.jsx)(ue.a,{title:i("tooltip_OffsetPosition"),children:Object(ie.jsx)("span",{className:l.menuSpan,children:i("position")})})}),Object(ie.jsx)(v.a,{value:"actualPosition",children:Object(ie.jsx)(ue.a,{title:i("tooltip_ActualPosition"),children:Object(ie.jsx)("span",{className:l.menuSpan,children:i("actualPosition")})})}),Object(ie.jsx)(v.a,{value:"dtg",children:Object(ie.jsx)(ue.a,{title:i("tooltip_DTG"),children:Object(ie.jsx)("span",{className:l.menuSpan,children:i("dtg")})})}),Object(ie.jsx)(v.a,{value:"velocity",children:i("velocity")})]}),Object(ie.jsx)(ti,{classes:{button:l.homeAllButton}})]}),d]})},Kc=Object(s.connect)((function(e,t){return{positions:Tn(e),isHomed:En(e),g5xIndex:qt(e),workOffsets:xa(e),display:ki(e)}}),(function(e,t){return{onSetDisplay:function(t){return e(Ka.dro.setDisplay(t))},onSetCoordSys:function(t){return e(Ka.dro.setCoordSys(t))},onHomeAll:function(){return e(Ft.put.homeCmd())}}}))(zc),Zc=n(150),Yc=Object(ae.a)((function(e){return{hidden:{display:"none"}}})),Xc=function(e){var t=Object(Zc.f)(),n=Yc();return Object(ie.jsxs)(x.a,{container:!0,classes:{root:"/production"===t.pathname?null:n.hidden},children:[Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,lg:6,children:Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(ie.jsx)(Mo,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,md:12,lg:6,children:Object(ie.jsx)(Ao,{})})]})}),Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:8,lg:6,children:Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(ie.jsx)(Kc,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(ie.jsx)(zo,{})})]})}),Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(Wc,{})})]})},qc=n(101),Qc=n.n(qc),$c=n(82),es=n.n($c),ts=function(e){var t=Date.now(),n=(t-e)/1e3,a=new Date(t),i=new Date(e);if(n>0){if(n<10)return"Just now";if(n<60)return"Less than a minute ago";if(n<3600){var r=Math.round(n/60),o=r>1?"s":"";return"".concat(r," minute").concat(o," ago")}if(Math.round(n/86400)<6){var c=(a.getDay()-i.getDay()+7)%7;if(0===c){var s=Math.round(n/3600),l=s>1?"s":"";return"".concat(s," hour").concat(l," ago")}return 1===c?"Yesterday":i.toLocaleDateString("en-US",{weekday:"long"})}return 0===a.getFullYear()-i.getFullYear()?i.toLocaleDateString("en-US",{month:"long",day:"numeric"}):i.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}return i.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},ns=function(e){var t=e.timestamp,n=e.className,a=Object(i.useState)(ts(t)),r=Object(p.a)(a,2),o=r[0],c=r[1];return Object(i.useEffect)((function(){var e=setInterval((function(){c(ts(t))}),1e3);return function(){return clearInterval(e)}})),Object(ie.jsx)(ue.a,{placement:"top",title:new Date(t).toLocaleString(),children:Object(ie.jsx)("span",{className:n,children:o})})},as=Object(u.a)((function(e){return{timestamp:{fontWeight:"bold",fontSize:".7em"},key:{fontWeight:"bold",fontSize:".7em"},ul:{listStyleType:"none",paddingLeft:e.spacing(1)},value:{fontSize:".7em",fontStyle:"italic"}}})),is=function(e){var t=e.msg,n=as();return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:n.timestamp,children:new Date(t.timestamp).toLocaleString()}),function e(t){return"object"===typeof t&&null!==t?Array.isArray(t)?Object(ie.jsx)("ul",{className:n.ul,children:t.map((function(a,i){return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("span",{className:n.key,children:i})," ",e(t[i])]},i)}))}):Object(ie.jsx)("ul",{className:n.ul,children:Object.keys(t).map((function(a){return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("span",{className:n.key,children:a})," ",e(t[a])]},a)}))}):Object(ie.jsx)("span",{className:n.value,children:t})}(t.details)]})},rs=Object(u.a)((function(e){return{moreLessLink:{fontSize:".7em",fontStyle:"italic",cursor:"pointer",verticalAlign:"text-top"},message:{verticalAlign:"top"},timestamp:{display:"block",fontStyle:"italic",marginRight:e.spacing(2),float:"right",fontSize:".7em",textAlign:"right"},list:{listStyleType:"none",paddingLeft:0,marginTop:0,marginBottom:0,maxHeight:400,overflow:"scroll"},listItem:{padding:e.spacing(1)},error:{backgroundColor:e.palette.error.verylight},warning:{backgroundColor:e.palette.secondary.verylight},info:{backgroundColor:e.palette.primary.verylight},errorIcon:{color:e.palette.error.main},warningIcon:{color:e.palette.secondary.main},infoIcon:{color:e.palette.primary.main},avatar:{backgroundColor:"rgba(0,0,0,0)",padding:0}}})),os=[{id:1,type:Le,message:"This is a very long info message that should be longer than we can see, but it wasn't so I'll keep typing.",timestamp:Date.now()-200448e5,details:{hello:"world"}},{id:2,type:Pe,message:"This is a warning message",timestamp:Date.now()-1728e6,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}},{id:3,type:Fe,message:"This is an error message",timestamp:Date.now()-864e6,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}},{id:4,type:De,message:"This is a debug message",timestamp:Date.now()-7776e5,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}}],cs=100,ss=0;ss<=cs;ss++){var ls=[Le,Pe,Fe,De][Math.floor(4*Math.random())];os.push({id:ss+5,type:ls,message:"This is a "+ls+" message",timestamp:Date.now()-(cs-ss)/cs*(cs-ss)/cs*6048e5,details:{meta:{actionEmitters:["@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC"]},code:"?Contains python comment",data:{message:"Contains python comment: /home/pocketnc/ncfiles/python.ngc",filename:"/home/pocketnc/ncfiles/python.ngc"},id:"FILE_UPLOAD_CHUNK_0_PYTHON.NGC"}})}var us=function(e){var t=e.messages,n=Object(i.useState)(50),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)({}),s=Object(p.a)(c,2),l=s[0],u=s[1],d=Object(q.a)().t,b=rs(),j=function(e){return function(t){u(Object(ce.a)(l,(function(t){t[e.id]=!t[e.id]})))}},m=Object(i.useCallback)((function(){o(r+50)}),[r,o]);return Object(ie.jsxs)(oe,{label:d("messageLog"),children:[Object(ie.jsx)("ul",{className:b.list,children:(r<t.length?t.slice(0,r):t).map((function(e){var t;switch(e.type){case Fe:t=Object(ie.jsx)(es.a,{className:me()(b.errorIcon,b.avatar)});break;case Pe:t=Object(ie.jsx)(Qa.a,{className:me()(b.warningIcon,b.avatar)});break;case Le:t=Object(ie.jsx)(Qc.a,{className:me()(b.infoIcon,b.avatar)});break;default:t=null}return Object(ie.jsxs)("li",{className:me()(b.listItem,b[e.type]),children:[t,Object(ie.jsx)(ns,{className:b.timestamp,timestamp:e.timestamp})," ",Object(ie.jsx)("span",{className:b.message,children:e.message}),e.details?Object(ie.jsx)("span",{className:b.moreLessLink,onClick:j(e),children:l[e.id]?" << "+d("less"):d("more")+" >>"}):null,l[e.id]?Object(ie.jsx)(is,{msg:e}):null]},e.id)}))}),r<t.length?Object(ie.jsx)(h.a,{onClick:m,children:d("showOlderMessages")}):null]})},ds=Object(s.connect)((function(e,t){return{messages:bi(e)}}),(function(e,t){return{}}))(us),ps=function(e){return Object(ie.jsx)(x.a,{container:!0,children:Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(ds,{})})})},bs=function(e){var t=Object(q.a)().t;return Object(ie.jsx)(oe,{label:t("mobileDisplay"),children:[{label:"Auto Width",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},{label:"Max Width",content:"width=1024"},{label:"Max Height",content:"height=1366"}].map((function(e){var t=e.label,n=e.content;return Object(ie.jsx)("div",{children:Object(ie.jsx)(h.a,{onClick:function(){return document.getElementById("viewport").content=n},children:t})},t)}))})},js=n(393),ms=n(394),fs=Object(ae.a)((function(e){return{buttonContainer:{textAlign:"right"},button:{marginLeft:e.spacing(2)},gapUnder:{marginBottom:e.spacing(2)},input:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),hs=function(e){var t=e.host,n=e.port,a=e.user,r=e.password,o=e.encrypted,c=e.onUpdate,s=fs(),l=Object(q.a)().t,u=Object(i.useRef)(null),d=Object(i.useRef)(null),b=Object(i.useRef)(null),j=Object(i.useRef)(null),m=Object(i.useState)(o),f=Object(p.a)(m,2),O=f[0],x=f[1],g=Object(i.useCallback)((function(){u.current.value=t,d.current.value=n,b.current.value=a,j.current.value=r,x(o)}),[t,n,a,r,o,u,d,b,j,x]),v=Object(i.useCallback)((function(){c&&c(u.current.value,d.current.value,b.current.value,j.current.value,O)}),[c,u,d,b,j,O]),y=Object(i.useCallback)((function(e,t){x(t)}),[x]);return Object(ie.jsx)(oe,{label:"Rockhopper",children:Object(ie.jsxs)("form",{children:[Object(ie.jsx)(pe.a,{autoComplete:"rockhopper host",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("host"),defaultValue:t,variant:"outlined",fullWidth:!0,inputRef:u}),Object(ie.jsx)("br",{}),Object(ie.jsx)(pe.a,{autoComplete:"rockhopper port",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("port"),defaultValue:n,variant:"outlined",fullWidth:!0,inputRef:d}),Object(ie.jsx)("br",{}),Object(ie.jsx)(pe.a,{autoComplete:"rockhopper user",classes:{root:s.gapUnder},InputProps:{classes:{input:s.input}},label:l("username"),defaultValue:a,variant:"outlined",fullWidth:!0,inputRef:b}),Object(ie.jsx)("br",{}),Object(ie.jsx)(pe.a,{autoComplete:"rockhopper password",InputProps:{classes:{root:s.gapUnder,input:s.input}},type:"password",label:l("password"),defaultValue:r,variant:"outlined",fullWidth:!0,inputRef:j}),Object(ie.jsx)(js.a,{row:!0,children:Object(ie.jsx)(ms.a,{control:Object(ie.jsx)(ar.a,{checked:O,onChange:y}),label:l("useSecureWebSocket")})}),Object(ie.jsxs)("div",{className:s.buttonContainer,children:[Object(ie.jsx)(h.a,{color:"secondary",variant:"contained",classes:{root:s.button},onClick:g,children:l("reset")}),Object(ie.jsx)(h.a,{color:"primary",variant:"contained",classes:{root:s.button},onClick:v,children:l("update")})]})]})})},Os=Object(s.connect)((function(e,t){var n=Bt(e);return{host:n.host,port:n.port,user:n.user,password:n.password,encrypted:n.encrypted}}),(function(e,t){return{onUpdate:function(t,n,a,i,r){e(Ft.setConnectionDetails(t,n,a,i,r))}}}))(hs),xs=Object(ae.a)((function(e){return{buttonContainer:{textAlign:"right"},button:{marginLeft:e.spacing(2)},gapUnder:{marginBottom:e.spacing(2)},input:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),gs=function(e){var t=e.host,n=e.port,a=e.onUpdate,r=xs(),o=Object(q.a)().t,c=Object(i.useRef)(null),s=Object(i.useRef)(null),l=Object(i.useCallback)((function(){c.current.value=t,s.current.value=n}),[t,n,c,s]),u=Object(i.useCallback)((function(){a&&a(c.current.value,s.current.value)}),[a,c,s]);return Object(ie.jsx)(oe,{label:"Kinetic Control",children:Object(ie.jsxs)("form",{children:[Object(ie.jsx)(pe.a,{autoComplete:"kinetic host",classes:{root:r.gapUnder},InputProps:{classes:{input:r.input}},label:o("host"),defaultValue:t,variant:"outlined",fullWidth:!0,inputRef:c}),Object(ie.jsx)("br",{}),Object(ie.jsx)(pe.a,{autoComplete:"kinetic port",classes:{root:r.gapUnder},InputProps:{classes:{input:r.input}},label:o("port"),defaultValue:n,variant:"outlined",fullWidth:!0,inputRef:s}),Object(ie.jsx)("br",{}),Object(ie.jsxs)("div",{className:r.buttonContainer,children:[Object(ie.jsx)(h.a,{color:"secondary",variant:"contained",classes:{root:r.button},onClick:l,children:o("reset")}),Object(ie.jsx)(h.a,{color:"primary",variant:"contained",classes:{root:r.button},onClick:u,children:o("update")})]})]})})},vs="@@kinetic",ys="kinetic",Ss="active",Cs=Object(lt.a)({RECEIVE_KINETIC_MESSAGE:void 0,SEND_KINETIC_MESSAGE:void 0,SET_CONNECTION_DETAILS:function(e,t){return{host:e,port:t}},SET_CONNECTED:void 0},{prefix:vs}),ws=function(e){return e.kinetic.connected},ks=function(e){return e.kinetic.getServiceStatus},Es=function(e){return e.kinetic.webSocket},Ns=function(e){return e.kinetic.getDeployments},Is=function(e){return e.kinetic.getLatest},Ts=function(e){return e.kinetic.deployCommit},Ms=function(e){return e.kinetic.upgradeToCommit},_s=function(e){return e.kinetic.shutdownServices},As=function(e){return e.kinetic.rebootMachine},Ds=function(e){return e.kinetic.shutdownMachine},Ls=Object(s.connect)((function(e,t){var n=Es(e);return{host:n.host,port:n.port}}),(function(e,t){return{onUpdate:function(t,n){e(Cs.setConnectionDetails(t,n))}}}))(gs),Ps=n(216),Fs=n.n(Ps),Rs=n(217),Us=n.n(Rs),Hs=function(e){var t=e.soundConfig,n=e.onSetSoundConfig,a=Li(),i=a.playTick,r=a.setVolume,o=a.setEnabled,c=te().t,s=function(e){n(e)};return Object(ie.jsxs)(oe,{label:c("Audio"),children:[Object(ie.jsx)(Pr.a,{id:"discrete-slider",gutterBottom:!0,children:c("volume")}),Object(ie.jsxs)(x.a,{container:!0,spacing:2,children:[Object(ie.jsx)(x.a,{item:!0,children:Object(ie.jsx)(Fs.a,{})}),Object(ie.jsx)(x.a,{item:!0,xs:!0,children:Object(ie.jsx)(Bo.a,{min:0,max:100,value:100*t.volume,onChange:function(e,n){var a=n/100;r(a),i();var o=Object(ce.a)(t,(function(e){e.volume=a}));s(o)},"aria-labelledby":"continuous-slider"})}),Object(ie.jsx)(x.a,{item:!0,children:Object(ie.jsx)(Us.a,{})})]}),Object(ie.jsx)(js.a,{row:!0,children:Object(ie.jsx)(ms.a,{control:Object(ie.jsx)(ar.a,{checked:t.enabled,onChange:function(e,n){o(n),i();var a=Object(ce.a)(t,(function(e){e.enabled=n}));s(a)}}),label:c("audioEnabled")})})]})},Bs=Object(s.connect)((function(e,t){return{soundConfig:Jn(e)}}),(function(e,t){return{onSetVolume:function(t){e(Ft.updateHelpers.sound.volume(t)),e(Ft.put.saveClientConfig({data:["soundConfig",t]}))},onSetSoundConfig:function(t){e(Ft.updateHelpers.soundConfig(t)),e(Ft.put.saveClientConfig({data:["soundConfig",t]}))}}}))(Hs),Gs=n(367),Js=n(415),Ws=Object(ae.a)((function(e){return{formControl:{},select:{marginTop:e.spacing(1),marginLeft:e.spacing(1)}}})),Vs={en:"English",es:"Espa\xf1ol",de:"Deutsche",jp:"\u65e5\u672c\u8a9e",sv:"Svenska"},zs=function(e){var t=e.dialect,n=e.onChangeDialect,a=Ws(),i=Object(q.a)(),r=i.t,o=i.i18n,c=function(e){n(e)},s=Object.keys(Vs).map((function(e){return Object(ie.jsx)(v.a,{value:Vs[e],onClick:function(){var t;t=e,o.changeLanguage(t)},children:Vs[e]},e)}));return Object(ie.jsxs)(oe,{label:r("language"),children:[Object(ie.jsxs)(Gs.a,{className:a.formControl,children:[Object(ie.jsx)(Js.a,{id:"current-language-label",children:r("language")}),Object(ie.jsx)(Za.a,{labelId:"current-language-label",value:Vs[o.language],className:a.select,children:s})]}),Object(ie.jsxs)(Gs.a,{className:a.formControl,children:[Object(ie.jsx)(Js.a,{id:"dialect-label",children:r("dialect")}),Object(ie.jsxs)(Za.a,{labelId:"dialect-label",value:t,className:a.select,children:[Object(ie.jsx)(v.a,{value:"industry",onClick:function(){c("industry")},children:r("industry")}),Object(ie.jsx)(v.a,{value:"intuitive",onClick:function(){c("intuitive")},children:r("intuitive")})]})]})]})},Ks=Object(s.connect)((function(e,t){return{language:mi(e),dialect:fi(e)}}),(function(e,t){return{onChangeLanguage:function(t){e(Ka.changeLanguage(t))},onChangeDialect:function(t){e(Ka.changeDialect(t))}}}))(zs),Zs=Object(ae.a)((function(e){return{formControl:{marginRight:e.spacing(1)}}})),Ys=function(e){var t=e.displayUnits,n=e.onSetDisplayUnits,a=Object(q.a)().t,i=Zs(),r=function(e,a){var i=Object(ce.a)(t,(function(t){t[a]=e.target.value}));n(i)};return Object(ie.jsxs)(oe,{label:a("units"),children:[Object(ie.jsxs)(Gs.a,{className:i.formControl,children:[Object(ie.jsx)(Js.a,{id:"length-label",children:a("lengthUnits")}),Object(ie.jsxs)(Za.a,{labelId:"length-label",id:"length-select",value:t.length,onChange:function(e){var a=Object(ce.a)(t,(function(n){n.length=e.target.value,n.linearVelocity=e.target.value+"/"+t.time}));n(a)},children:[Object(ie.jsx)(v.a,{value:"in",children:"in"}),Object(ie.jsx)(v.a,{value:"mm",children:"mm"}),Object(ie.jsx)(v.a,{value:"pu",children:a("programUnits")})]})]}),Object(ie.jsxs)(Gs.a,{className:i.formControl,children:[Object(ie.jsx)(Js.a,{id:"time-label",children:a("time")}),Object(ie.jsxs)(Za.a,{labelId:"time-label",id:"time-select",value:t.time,onChange:function(e){var a=t.length+"/"+e.target.value,i=t.angle+"/"+e.target.value,r=Object(ce.a)(t,(function(t){t.time=e.target.value,t.linearVelocity=a,t.angularVelocity=i}));n(r)},children:[Object(ie.jsx)(v.a,{value:"s",children:"s"}),Object(ie.jsx)(v.a,{value:"min",children:"min"})]})]}),Object(ie.jsxs)(Gs.a,{className:i.formControl,style:{minWidth:100},children:[Object(ie.jsx)(Js.a,{id:"surfaceSpeed-label",children:a("surfaceSpeed")}),Object(ie.jsxs)(Za.a,{labelId:"surfaceSpeed-label",id:"surfaceSpeed-select",value:t.surfaceSpeed,onChange:function(e){var a=Object(ce.a)(t,(function(t){t.surfaceSpeed=e.target.value}));n(a)},children:[Object(ie.jsx)(v.a,{value:"ft/min",children:"ft/min"}),Object(ie.jsx)(v.a,{value:"in/min",children:"in/min"}),Object(ie.jsx)(v.a,{value:"m/min",children:"m/min"}),Object(ie.jsx)(v.a,{value:"mm/min",children:"mm/min"})]})]}),Object(ie.jsxs)(Gs.a,{className:i.formControl,children:[Object(ie.jsx)(Js.a,{id:"pressure-label",children:a("pressure")}),Object(ie.jsxs)(Za.a,{labelId:"pressure-label",id:"pressure-select",value:t.pressure,onChange:function(e){r(e,"pressure")},children:[Object(ie.jsx)(v.a,{value:"psi",children:a("psi")}),Object(ie.jsx)(v.a,{value:"MPa",children:a("MPa")})]})]}),Object(ie.jsxs)(Gs.a,{className:i.formControl,children:[Object(ie.jsx)(Js.a,{id:"temperature-label",children:a("temperature")}),Object(ie.jsxs)(Za.a,{labelId:"temperature-label",id:"temperature-select",value:t.temperature,onChange:function(e){r(e,"temperature")},children:[Object(ie.jsx)(v.a,{value:"F",children:"F"}),Object(ie.jsx)(v.a,{value:"C",children:"C"})]})]})]})},Xs=Object(s.connect)((function(e,t){return{displayUnits:Wn(e)}}),(function(e,t){return{onSetDisplayUnits:function(t){e(Ft.updateHelpers.setDisplayUnits(t)),e(Ft.put.saveClientConfig({data:["displayUnits",t]}))}}}))(Ys),qs=Object(ae.a)((function(e){return{cell:{textAlign:"center",fontWeight:"bold",backgroundColor:e.palette.secondary.main,padding:8},row:{lineHeight:"16px"}}})),Qs=function(e){var t=e.text,n=qs();return Object(ie.jsx)(vr.a,{className:n.row,children:Object(ie.jsx)(Or.a,{className:n.cell,colSpan:3,children:t})})},$s=Object(ae.a)((function(e){return{bold:{fontWeight:"bold"},tableContainer:{maxHeight:680},sectionDivider:{lineHeight:"16px",height:16,width:14,textAlign:"center",fontWeight:"bold",padding:8}}})),el=function(e){var t=e.shortcuts,n=e.jogKeys,a=e.jogModifiers,r=e.axisSelectJogShortcuts,o=e.otherShortcuts,c=e.shortcutsMap,s=e.trajCoords,l=e.onSubmitShortcuts,u=$s(),d=Object(i.useState)({open:!1,category:null,key:"",value:"",modifiersOnly:!1,singleKeyOnly:!1}),b=Object(p.a)(d,2),f=b[0],O=b[1],x=te().t,g=function(e){O(Object(j.a)(Object(j.a)({},e),{},{open:!0}))},v=function(e,n){var a=Object(ce.a)(t,(function(t){t[e][n]=""}));l(a)};return Object(ie.jsxs)(oe,{label:"Keybindings",children:[Object(ie.jsx)(xr.a,{component:m.a,className:u.tableContainer,children:Object(ie.jsxs)(hr.a,{stickyHeader:!0,"aria-label":"simple table",children:[Object(ie.jsx)(gr.a,{children:Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:x("Command")}),Object(ie.jsx)(Or.a,{children:x("Keybinding")}),Object(ie.jsx)(Or.a,{})]})}),Object(ie.jsxs)(kr.a,{children:[Object(ie.jsx)(Qs,{text:x("Axis-select Jogging"),className:u.sectionDivider}),s&&Object.keys(qe.AXIS_SELECT_JOG).map((function(e){var t;if(e.startsWith("select")){if(!s.includes(e.slice(-1)))return null;t=x("selectAxis")+" "+x(e.slice(-1))}else t=e.startsWith("jog")?x("jog")+" "+e.slice(-1):x(e);return Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:t}),Object(ie.jsx)(Or.a,{className:u.bold,children:r[e]}),Object(ie.jsx)(Or.a,{children:Object(ie.jsxs)(Er.a,{children:[Object(ie.jsx)(ue.a,{title:x("tooltip_EditShortcut"),children:Object(ie.jsx)(h.a,{id:"edit_"+e,variant:"outlined",onClick:function(){return g({title:x(e),key:e,value:a[e],category:"axisSelectJog",modifiersOnly:!1,singleKeyOnly:!1})},children:Object(ie.jsx)(Ir.a,{})})}),r[e]&&Object(ie.jsx)(ue.a,{title:x("tooltip_DeleteShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return v("axisSelectJog",e)},children:Object(ie.jsx)(Rr.a,{})})})]})})]},e)})),Object(ie.jsx)(Qs,{text:x("jogging"),className:u.sectionDivider}),Object.keys(qe.JOG_MODIFIERS).map((function(e){return Object(ie.jsxs)(vr.a,{children:[Object(ie.jsxs)(Or.a,{children:[x(e+"JogModifier"),"continuous"===e&&Object(ie.jsx)(ue.a,{title:x("tooltip_ContinuousJog"),children:Object(ie.jsx)(Xa.a,{})})]}),Object(ie.jsx)(Or.a,{className:u.bold,children:a[e]}),Object(ie.jsx)(Or.a,{children:Object(ie.jsxs)(Er.a,{children:[Object(ie.jsx)(ue.a,{title:x("tooltip_EditShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x(e+"JogModifier"),key:e,value:a[e],category:"jogModifiers",modifiersOnly:!0,singleKeyOnly:!1})},children:Object(ie.jsx)(Ir.a,{})})}),a[e]&&Object(ie.jsx)(ue.a,{title:x("tooltip_DeleteShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return v("jogModifiers",e)},children:Object(ie.jsx)(Rr.a,{})})})]})})]},e)})),s&&Object.keys(qe.JOG).map((function(e){return-1!==s.indexOf(e[3])?Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:x("jog")+" "+e.slice(3)}),Object(ie.jsx)(Or.a,{className:u.bold,children:n[e]}),Object(ie.jsx)(Or.a,{children:Object(ie.jsxs)(Er.a,{children:[Object(ie.jsx)(ue.a,{title:x("tooltip_EditShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x("jog")+" "+e.slice(3),key:e,value:n[e],category:"jog",modifiersOnly:!1,singleKeyOnly:!0})},children:Object(ie.jsx)(Ir.a,{})})}),n[e]&&Object(ie.jsx)(ue.a,{title:x("tooltip_DeleteShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return v("jog",e)},children:Object(ie.jsx)(Rr.a,{})})})]})})]},e):null})),Object(ie.jsx)(Qs,{text:x("other"),className:u.sectionDivider}),Object.keys(qe.OTHER).map((function(e){return Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:x(e)}),Object(ie.jsx)(Or.a,{className:u.bold,children:o[e]}),Object(ie.jsx)(Or.a,{children:Object(ie.jsxs)(Er.a,{children:[Object(ie.jsx)(ue.a,{title:x("tooltip_EditShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return g({title:x(e),key:e,value:o[e],category:"other",modifierOnly:!1,singleKeyOnly:!1})},children:Object(ie.jsx)(Ir.a,{})})}),o[e]&&Object(ie.jsx)(ue.a,{title:x("tooltip_DeleteShortcut"),children:Object(ie.jsx)(h.a,{variant:"outlined",onClick:function(){return v("other",e)},children:Object(ie.jsx)(Rr.a,{})})})]})})]},e)}))]})]})}),Object(ie.jsx)(wr,{open:f.open,value:f.value,modifiersOnly:f.modifiersOnly,singleKeyOnly:f.singleKeyOnly,reservedKeys:new Set(Object.values(n)),reservedCombinations:new Set(Object.keys(c).concat(Object.values(a))),onSubmit:function(e){var n=Object(ce.a)(t,(function(t){t[f.category]=t[f.category]||{},t[f.category][f.key]=e}));l(n),O(Object(j.a)(Object(j.a)({},f),{},{open:!1}))},onClose:function(){O(Object(j.a)(Object(j.a)({},f),{},{open:!1}))},title:x("Keybinding")+": "+x(f.title),submitBtnLabel:x("Set"),cancelBtnLabel:x("Cancel")},f.key)]})},tl=Object(s.connect)((function(e,t){return{shortcuts:zn(e),axisSelectJogShortcuts:Yn(e),jogModifiers:Kn(e),jogKeys:Zn(e),otherShortcuts:Xn(e),shortcutsMap:oa(e),trajCoords:jn(e)}}),(function(e,t){return{onSubmitShortcuts:function(t){e(Ft.put.saveClientConfig({data:["KeyboardShortcuts",t]}))}}}))(el),nl=n(218),al=function(e){var t=-1!==Object(Zc.f)().search.indexOf("websocket=1");return Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:Object(ie.jsx)(tl,{})}),Object(ie.jsxs)(x.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:[Object(ie.jsx)(Xs,{}),Object(ie.jsx)(Bs,{}),Object(ie.jsx)(Ks,{}),nl.isMobile?Object(ie.jsx)(bs,{}):null]}),Object(ie.jsx)(x.a,{item:!0,xs:12,md:12,lg:4,children:t?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Os,{}),Object(ie.jsx)(Ls,{})]}):null})]})},il=n(168),rl=n.n(il),ol=Object(ae.a)((function(e){return{button:{marginBottom:e.spacing(1),marginRight:e.spacing(1)},iniRoot:Object(b.a)({height:400},e.breakpoints.up("sm"),{height:400,display:"flex"}),innerTabs:{overflow:"hidden",display:"flex",height:400},joinedButton:{borderTopRightRadius:0,borderBottomRightRadius:0,height:42,marginBottom:e.spacing(1),borderRight:0},joinedInput:{padding:11},joinedTextField:{borderWidth:"1px!important",borderTopLeftRadius:0,borderBottomLeftRadius:0,height:45,marginRight:e.spacing(1)},lowerRightButtonDiv:{display:"flex",float:"right",justifyContent:"center",margin:e.spacing(1)},table:{tableLayout:"fixed",overflow:"scroll"},tableAlternateRow:{backgroundColor:e.palette.action.hover},tableButtonCell:{width:40},tableCell:{overflow:"hidden",textOverflow:"ellipsis"},tableContainer:{maxHeight:400},tabContainer:{maxHeight:500,border:1,borderStyle:"solid",borderColor:e.palette.grey[200]},tabs:{borderRight:"1px solid ".concat(e.palette.divider),flexShrink:0},tabsBox:{border:1,borderStyle:"solid",borderColor:e.palette.grey[200]}}})),cl=function(e){var t=e.classes,n=e.isEditing,a=e.index,i=e.rowStyle,r=e.values,o=e.onChange,c=e.onDelete,s=Object(Pi.a)(e,["classes","isEditing","index","rowStyle","values","onChange","onDelete"]),l=function(e,t){if(o){var n=Object(ce.a)(r,(function(n){n[e]=t}));o(a,n)}};return Object(ie.jsxs)(vr.a,Object(j.a)(Object(j.a)({style:i},s),{},{children:[Object(ie.jsx)(Or.a,{className:t.tableCell,style:{flexGrow:2},children:Object(ie.jsx)(be,{disabled:!n,value:r.name,onChange:function(e){l("name",e)}})}),Object(ie.jsx)(Or.a,{className:t.tableCell,children:Object(ie.jsx)(be,{disabled:!n,value:r.value,onChange:function(e){l("value",e)}})}),Object(ie.jsx)(Or.a,{className:t.tableCell,children:Object(ie.jsx)(be,{disabled:!n,value:r.comment,onChange:function(e){l("comment",e)}})}),Object(ie.jsx)(Or.a,{className:t.tableCell,children:Object(ie.jsx)(be,{disabled:!n,value:r.help,onChange:function(e){l("help",e)}})}),n&&Object(ie.jsx)(Or.a,{style:{flexGrow:0},children:Object(ie.jsx)(Qi.a,{onClick:function(){c(r.key)},children:Object(ie.jsx)(Rr.a,{})})})]}),r.key)},sl=function(e){var t=e.value,n=e.index,a=e.isEditing,r=e.sectionName,o=e.params,c=e.onChange,s=te().t,l=ol(),u=Object(i.useRef)(),d=Object(i.useRef)(),p=Object(i.useRef)(),b=function(e){var t=Object(ce.a)(o,(function(t){delete t[e]}));c(r,t)},f=function(e,t){var n=Object(ce.a)(o,(function(e){e[t.key]=t}));c(r,n)};return Object(ie.jsx)(eo,{value:t,index:n,children:Object(ie.jsx)(xr.a,{component:m.a,className:l.tableContainer,ref:d,children:Object(ie.jsxs)(hr.a,{stickyHeader:!0,className:l.table,"aria-label":"simple table",id:"asdf",ref:u,children:[Object(ie.jsx)(gr.a,{children:Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{style:{flexGrow:2},children:s("Name")}),Object(ie.jsx)(Or.a,{children:s("Value")}),Object(ie.jsx)(Or.a,{children:s("Comment")}),Object(ie.jsx)(Or.a,{children:s("Help")}),a&&Object(ie.jsx)(Or.a,{className:l.tableButtonCell})]})}),Object(ie.jsxs)(kr.a,{ref:p,children:[Object.keys(o).sort().map((function(e,t){return Object(ie.jsx)(cl,{index:t,values:Object(j.a)(Object(j.a)({},o[e]),{},{key:e}),classes:l,isEditing:a,onChange:f,onDelete:b},e)})),a&&Object(ie.jsx)(vr.a,{children:Object(ie.jsx)(Or.a,{style:{height:0,padding:0,border:0},children:Object(ie.jsx)(Qi.a,{onClick:function(e,t){var n=Object(ce.a)(o,(function(e){e["new"+Date.now()]={name:"",comment:"",value:"",help:"",section:r}}));c(r,n)},children:Object(ie.jsx)(rl.a,{})})})},"add")]})]})})},r)},ll=function(e){var t=e.isEditing,n=e.clientOverlay,a=e.diskOverlay,r=(e.children,e.value),o=e.index,c=(e.p,e.xsLayout),s=e.onEnableEditing,l=e.onDeleteSection,u=e.onDisableEditing,d=e.onAddSection,b=e.onSave,m=e.onChange,f=Object(Pi.a)(e,["isEditing","clientOverlay","diskOverlay","children","value","index","p","xsLayout","onEnableEditing","onDeleteSection","onDisableEditing","onAddSection","onSave","onChange"]),O=Object(Ri.a)(),x=ol(),g=Object(i.useState)(0),v=Object(p.a)(g,2),y=v[0],S=v[1],C=Object(i.useState)(!1),w=Object(p.a)(C,2),k=w[0],E=w[1],N=t?n:a,I=Object(i.useCallback)((function(e,t){S(t)}),[S]),T=function(e,t){var a=Object(ce.a)(n,(function(n){return n[e]=t,n}));m(a)};return Object(ie.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:r!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},f),{},{children:r===o&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ne.a,{border:1,borderColor:O.palette.grey[200],className:x.iniRoot,children:[Object(ie.jsxs)("div",{className:x.tabs,children:[t?Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:O.spacing(1)},children:Object(ie.jsxs)(Er.a,{disabled:!t,children:[Object(ie.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){return E(!0)},label:"clicker",children:Object(ie.jsx)(ai.a,{})}),Object(ie.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){l(Object.keys(N).sort()[y])},label:"clicker",children:Object(ie.jsx)(Rr.a,{})})]})}):"",Object(ie.jsx)(br.a,{className:x.tabs,style:c?{}:{height:t?348:400},value:y<Object.keys(N).length?y:0,onChange:I,orientation:c?"horizontal":"vertical",variant:"scrollable",scrollButtons:"off",children:N?Object.keys(N).sort().map((function(e,t){return Object(ie.jsx)(pr.a,Object(j.a)({label:e},pl(t)),t)})):""})]}),N?Object.keys(N).sort().map((function(e,n){return Object(ie.jsx)(sl,{value:y,index:n,isEditing:t,sectionName:e,params:N[e],onChange:T},n)})):""]}),Object(ie.jsx)("div",{className:x.lowerRightButtonDiv,children:t?Object(ie.jsxs)(Er.a,{size:"large",children:[Object(ie.jsx)(ue.a,{title:"Send changes to server",children:Object(ie.jsx)(h.a,{onClick:function(){b(N)},children:"SAVE"})}),Object(ie.jsx)(ue.a,{title:"Discard changes",children:Object(ie.jsx)(h.a,{onClick:u,children:"DISCARD"})})]}):Object(ie.jsx)(Er.a,{size:"large",children:Object(ie.jsx)(ue.a,{title:"Enable overlay editing",children:Object(ie.jsx)(h.a,{onClick:function(){s(a)},children:"Edit Overlay"})})})}),Object(ie.jsx)(La,{open:k,value:"",onSubmit:function(e){d(n,e),E(!1)},onClose:function(){E(!1)},title:"Add Section",textFieldLabel:"SECTION_NAME",submitBtnLabel:"Add",cancelBtnLabel:"Cancel"})]})}))},ul=function(e){var t=e.ini,n=e.xsLayout,a=(e.children,e.value),r=e.index,o=(e.p,Object(Pi.a)(e,["ini","xsLayout","children","value","index","p"])),c=te().t,s=ol(),l=Object(i.useState)(0),u=Object(p.a)(l,2),d=u[0],b=u[1],f=Object(i.useCallback)((function(e,t){b(t)}),[b]),h=t;return Object(ie.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),{},{children:a===r&&Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(ne.a,{className:s.iniRoot,children:[Object(ie.jsx)(br.a,{value:d,onChange:f,orientation:n?"horizontal":"vertical",variant:"scrollable",scrollButtons:"off",className:s.tabs,children:h?Object.keys(h).map((function(e,t){return Object(ie.jsx)(pr.a,Object(j.a)({label:e},pl(t)),t)})):""}),h?Object.values(h).map((function(e,t){return Object(ie.jsx)(eo,{value:d,index:t,children:Object(ie.jsx)(xr.a,{component:m.a,className:s.tableContainer,children:Object(ie.jsxs)(hr.a,{stickyHeader:!0,className:s.table,"aria-label":"simple table",children:[Object(ie.jsx)(gr.a,{children:Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:c("Name")}),Object(ie.jsx)(Or.a,{children:c("Value")}),Object(ie.jsx)(Or.a,{children:c("Comment")}),Object(ie.jsx)(Or.a,{children:c("Help")})]})}),Object(ie.jsx)(kr.a,{children:Object.values(e).map((function(e,t){return Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{className:s.tableCell,children:e.name}),Object(ie.jsx)(Or.a,{className:s.tableCell,children:e.value}),Object(ie.jsx)(Or.a,{className:s.tableCell,children:e.comment}),Object(ie.jsx)(Or.a,{className:s.tableCell,children:e.help})]},t)}))})]})})},t)})):""]})})}))},dl=function(e){var t=e.isEditing,n=e.clientCompensation,a=e.diskCompensation,r=e.onDisableEditing,o=e.onEnableEditing,c=e.onChange,s=e.onSave,l=e.xsLayout,u=(e.children,e.value),d=e.index,b=(e.p,Object(Pi.a)(e,["isEditing","clientCompensation","diskCompensation","onDisableEditing","onEnableEditing","onChange","onSave","xsLayout","children","value","index","p"])),f=t?n:a,O=Object(Ri.a)(),x=ol(),g=te().t,v=Object(i.useState)(0),y=Object(p.a)(v,2),S=y[0],C=y[1],w=Object(i.useCallback)((function(e,t){C(t)}),[C]),k=function(e,t,a,i){var r=Object(ce.a)(n,(function(n){return n[e][t][a]=i,n}));c(r)};return Object(ie.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:u!==d,id:"simple-tabpanel-".concat(d),"aria-labelledby":"simple-tab-".concat(d)},b),{},{children:u===d&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ne.a,{border:1,borderColor:O.palette.grey[200],className:x.iniRoot,children:[Object(ie.jsx)(br.a,{value:S,onChange:w,orientation:l?"horizontal":"vertical",variant:"scrollable",scrollButtons:"on",className:x.tabs,children:f?Object.keys(f).sort().map((function(e,t){return Object(ie.jsx)(pr.a,Object(j.a)({label:e},pl(t)),t)})):""}),f?Object.keys(f).sort().map((function(e,a){return Object(ie.jsx)(eo,{value:S,index:a,children:Object(ie.jsx)(xr.a,{component:m.a,className:x.tableContainer,children:Object(ie.jsxs)(hr.a,{stickyHeader:!0,className:x.table,"aria-label":"simple table",children:[Object(ie.jsx)(gr.a,{children:Object(ie.jsxs)(vr.a,{children:[Object(ie.jsx)(Or.a,{children:g("Position")}),Object(ie.jsx)(Or.a,{children:g("Forward Trim")}),Object(ie.jsx)(Or.a,{children:g("Reverse Trim")}),t&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Or.a,{className:x.tableButtonCell}),Object(ie.jsx)(Or.a,{className:x.tableButtonCell})]})]})}),Object(ie.jsx)(kr.a,{children:f[e].map((function(a,i){return Object(ie.jsxs)(vr.a,{className:i%2===0?x.tableAlternateRow:"",children:[a.map((function(n,a){return Object(ie.jsx)(Or.a,{children:Object(ie.jsx)(be,{value:n,disabled:!t,onChange:function(t){return k(e,i,a,t)}})},a)})),t&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Or.a,{children:Object(ie.jsx)(Qi.a,{onClick:function(t){!function(e,t){var a=Object(ce.a)(n,(function(n){n[e].splice(t+1,0,["","",""])}));c(a)}(e,i)},children:Object(ie.jsx)(rl.a,{})})}),Object(ie.jsx)(Or.a,{children:Object(ie.jsx)(Qi.a,{onClick:function(t){!function(e,t){var a=Object(ce.a)(n,(function(n){n[e].splice(t,1)}));c(a)}(e,i)},children:Object(ie.jsx)(Rr.a,{})})})]})]},i)}))})]})})},a)})):""]}),Object(ie.jsx)("div",{className:x.lowerRightButtonDiv,children:t?Object(ie.jsxs)(Er.a,{size:"large",children:[Object(ie.jsx)(ue.a,{title:g("Send changes to server"),children:Object(ie.jsx)(h.a,{onClick:function(){s(n)},children:g("save")})}),Object(ie.jsx)(ue.a,{title:g("Discard changes"),children:Object(ie.jsx)(h.a,{onClick:function(){r()},children:g("cancel")})})]}):Object(ie.jsx)(Er.a,{size:"large",children:Object(ie.jsx)(ue.a,{title:g("Enable compensation editing"),children:Object(ie.jsx)(h.a,{onClick:function(){o(a)},children:g("Edit Compensation")})})})})]})}))};function pl(e,t){return{id:"".concat(e,"-simple-tab-").concat(t),"aria-controls":"".concat(e,"-simple-tabpanel-").concat(t)}}var bl=function(e){var t=e.ini,n=e.isEditingCompensation,a=e.clientCompensation,r=e.diskCompensation,o=e.onEnableEditingCompensation,c=e.onDisableEditingCompensation,s=e.onChangeCompensation,l=e.onSaveCompensation,u=e.isEditingOverlay,d=e.clientOverlay,b=e.diskOverlay,m=e.onAddOverlaySection,O=e.onDeleteOverlaySection,x=e.onEnableEditingOverlay,g=e.onDisableEditingOverlay,v=e.onChangeOverlay,y=e.onSaveOverlay,S=e.onUploadFiles,C=e.onDownloadFiles,w=e.onRestartServices,k=Object(f.a)((function(e){return e.breakpoints.down("xs")})),E=ol(),N=te().t,I=Object(i.useState)(""),T=Object(p.a)(I,2),M=T[0],_=T[1],A=Object(i.useState)(2),D=Object(p.a)(A,2),L=D[0],P=D[1],F=Object(i.useCallback)((function(e,t){P(t)}),[P]),R=Object(i.useRef)(null),U=Object(i.useCallback)((function(e){R.current.click()}),[R]);return Object(ie.jsxs)(oe,{id:"MachineConfig",label:N("Machine Config"),children:[Object(ie.jsx)("div",{style:{display:"none"},children:Object(ie.jsx)("input",{onChange:function(e){var t,n=Object(Rt.a)(e.target.files);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.name;S(i,a)}}catch(r){n.e(r)}finally{n.f()}e.target.value=""},type:"file",multiple:!0,ref:R})}),Object(ie.jsx)(ne.a,{children:Object(ie.jsxs)(ne.a,{children:[Object(ie.jsx)(ue.a,{placement:"bottom",title:N("downloadConfigurationFiles"),children:Object(ie.jsx)(h.a,{onClick:function(){C(M)},size:"large",variant:"outlined",className:E.joinedButton,children:"download"})}),Object(ie.jsx)(be,{InputProps:{classes:{notchedOutline:E.joinedTextField,input:E.joinedInput}},variant:"outlined",placeholder:N("serialNumber"),value:M||"",onChange:function(e){_(e)}}),Object(ie.jsx)(ue.a,{placement:"bottom",title:N("uploadConfigurationFiles"),children:Object(ie.jsx)(h.a,{onClick:U,size:"large",variant:"outlined",className:E.button,children:N("upload")})}),Object(ie.jsx)(h.a,{onClick:function(){w()},size:"large",variant:"outlined",className:E.button,children:N("restartServices")})]})}),Object(ie.jsxs)(ne.a,{children:[Object(ie.jsxs)(br.a,{value:L,onChange:F,orientation:"horizontal",className:E.tabsBox,children:[Object(ie.jsx)(pr.a,Object(j.a)({label:N("INI Overlay")},pl("overlay",0))),Object(ie.jsx)(pr.a,Object(j.a)({label:N("Active INI")},pl("ini",1))),Object(ie.jsx)(pr.a,Object(j.a)({label:N("Compensation Tables")},pl("compensation",2)))]}),Object(ie.jsxs)(ne.a,{className:E.tabContainer,children:[Object(ie.jsx)(ll,{value:L,index:0,xsLayout:k,clientOverlay:d,diskOverlay:b,isEditing:u,onAddSection:m,onChange:v,onDeleteSection:O,onDisableEditing:g,onEnableEditing:x,onSave:y}),Object(ie.jsx)(ul,{value:L,index:1,ini:t,xsLayout:k}),Object(ie.jsx)(dl,{value:L,index:2,xsLayout:k,isEditing:n,clientCompensation:a,diskCompensation:r,onEnableEditing:o,onDisableEditing:c,onChange:s,onSave:l})]})]})]})},jl=Object(s.connect)((function(e,t){return{ini:zt(e),isEditingOverlay:yi(e),diskOverlay:Kt(e),clientOverlay:Si(e),isEditingCompensation:gi(e),diskCompensation:Zt(e),clientCompensation:vi(e)}}),(function(e,t){return{onAddOverlaySection:function(t,n){if(t.hasOwnProperty(n))return!1;var a=Object(ce.a)(t,(function(e){e[n]={}}));e(Ka.overlay.set(a))},onChangeOverlay:function(t){e(Ka.overlay.set(t))},onDeleteOverlaySection:function(t){e(Ka.overlay.deleteSection(t))},onEnableEditingOverlay:function(t){e(Ka.overlay.enableEditing(t))},onDisableEditingOverlay:function(){e(Ka.overlay.disableEditing())},onSaveOverlay:function(t){var n={},a=[];Object.keys(t).forEach((function(e){n[e]={comment:"",help:""},Object.values(t[e]).forEach((function(e,t){e.key;var n=Object(Pi.a)(e,["key"]);a.push({id:t,values:n})}))})),e(Ka.overlay.disableEditing()),e(Ft.updateHelpers.configOverlay({data:{sections:n,parameters:a}})),e(Ft.put.config({data:{data:{sections:n,parameters:a}}}))},onEnableEditingCompensation:function(t){e(Ka.compensation.enableEditing(t))},onDisableEditingCompensation:function(){e(Ka.compensation.disableEditing())},onChangeCompensation:function(t){e(Ka.compensation.set(t))},onSaveCompensation:function(t){e(Ka.compensation.disableEditing()),e(Ft.updateHelpers.compensation({data:t})),e(Ft.put.setCompensation({data:{data:t}}))},onUploadFiles:function(e,t){Gc.addFile(e,ke,t)},onDownloadFiles:function(e){var t=(new Date).toISOString().split("T")[0];fc.addDownload("calibration"+e+"_"+t+".zip",ke,sc)},onRestartServices:function(){e(Ft.put.restart())}}}))(bl);var ml,fl,hl=function(e){var t=e.condition,n=e.children;return Object(ie.jsx)(ie.Fragment,{children:t?n:null})},Ol=Object(ae.a)((function(e){return{active:{fontWeight:"bold",fontSize:18,marginBottom:e.spacing(1)},latest:{marginBottom:e.spacing(1)},checkForLatest:{marginTop:e.spacing(1)},upToDate:{marginTop:e.spacing(1)},machineActions:{marginTop:e.spacing(1)},shutdownMachine:{marginLeft:e.spacing(1)},shutdownServices:{marginTop:e.spacing(1)},latestError:{marginLeft:e.spacing(1)},deployCommitError:{marginLeft:e.spacing(1)},upgradeToCommitError:{marginLeft:e.spacing(1)}}})),xl=function(e){var t=e.connected,n=e.onDeploy,a=e.onUpgrade,r=e.onCheckLatest,o=e.onShutdownServices,c=e.onRebootMachine,s=e.onShutdownMachine,l=e.getServiceStatus,u=void 0===l?{}:l,d=e.getDeployments,p=void 0===d?{}:d,b=e.getLatest,j=void 0===b?{}:b,m=e.deployCommit,f=void 0===m?{}:m,O=e.upgradeToCommit,x=void 0===O?{}:O,g=e.shutdownMachine,v=void 0===g?{}:g,y=e.rebootMachine,S=void 0===y?{}:y,C=e.shutdownServices,w=void 0===C?{}:C,k=u.pocketnc,E=u.rockhopper,N=p.deployments,I=void 0===N?[]:N,T=p.error,M=j.latest,_=void 0===M?{}:M,A=j.loading,D=j.error,L=f.loading,P=f.error,F=x.loading,R=x.error,U=w.loading,H=v.loading,B=S.loading,G=Object(i.useCallback)((function(){n&&I.length>1&&I[1].commit&&n(I[1].commit)}),[n,I]),J=Object(i.useCallback)((function(){a&&_.commit&&a(_.commit)}),[a,_]),W=te().t,V=Ol(),z=I.find((function(e){return e.commit===_.commit})),K=I.find((function(e){return e.pending}));return Object(ie.jsxs)(oe,{label:W("software"),children:[Object(ie.jsx)(hl,{condition:!t,children:W("notConnectedToUpdateServer")}),Object(ie.jsxs)(hl,{condition:t,children:[Object(ie.jsx)(hl,{condition:T,children:Object(ie.jsx)("div",{children:T})}),Object(ie.jsx)(hl,{condition:K,children:Object(ie.jsx)("div",{className:V.hasPending,children:W("rebootToTakeEffect")})}),Object(ie.jsxs)(hl,{condition:k===Ss||E===Ss,children:[Object(ie.jsx)(hl,{condition:!T&&I.length>0,children:Object(ie.jsxs)("div",{className:V.active,children:[!I[0]||I[0].pending||I[0].active?null:W("currentVersion"),I[0]&&I[0].pending?W("pendingVersion"):null,I[0]&&I[0].active?W("activeVersion"):null,": ",I[0]&&I[0].version]})}),Object(ie.jsxs)(hl,{condition:!z&&_.commit,children:[Object(ie.jsxs)("div",{className:V.latest,children:[W("latestVersion"),": ",_.version]}),W("shutdownServicesToUpdate")]}),Object(ie.jsx)(hl,{condition:z,children:Object(ie.jsx)("div",{className:V.upToDate,children:W("upToDate")})}),Object(ie.jsx)("div",{className:V.shutdownServices,children:Object(ie.jsxs)(h.a,{variant:"contained",color:"primary",onClick:o,children:[U?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("shutdownServices")]})})]}),Object(ie.jsxs)(hl,{condition:!K&&k!==Ss&&E!==Ss,children:[Object(ie.jsx)(hl,{condition:!T&&I.length>0,children:Object(ie.jsxs)("div",{className:V.active,children:[!I[0]||I[0].pending||I[0].active?null:W("currentVersion"),I[0]&&I[0].pending?W("pendingVersion"):null,I[0]&&I[0].active?W("activeVersion"):null,": ",I[0]&&I[0].version]})}),Object(ie.jsx)(hl,{condition:!D&&_.commit&&!z,children:Object(ie.jsxs)("div",{className:V.latest,children:[Object(ie.jsxs)(h.a,{variant:"contained",color:"primary",onClick:J,children:[F?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("upgradeTo")," ",_.version]}),Object(ie.jsx)("span",{className:V.upgradeToCommitError,children:R})]})}),Object(ie.jsxs)(hl,{condition:!T&&I.length>1,children:[Object(ie.jsxs)(h.a,{variant:"contained",color:"secondary",onClick:G,children:[L?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("deploy")," ",I[1]&&I[1].version]}),Object(ie.jsx)("span",{className:V.deployCommitError,children:P})]}),Object(ie.jsx)(hl,{condition:D||A,children:Object(ie.jsxs)("div",{className:V.checkForLatest,children:[Object(ie.jsxs)(h.a,{variant:"contained",color:"secondary",onClick:r,children:[A?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("checkForUpdates")," "]}),Object(ie.jsx)("span",{className:V.latestError,children:D})]})}),Object(ie.jsx)(hl,{condition:z,children:Object(ie.jsx)("div",{className:V.upToDate,children:W("upToDate")})})]}),Object(ie.jsxs)("div",{className:V.machineActions,children:[Object(ie.jsxs)(h.a,{variant:"contained",color:K?"primary":"secondary",onClick:c,children:[B?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("rebootMachine")]}),Object(ie.jsxs)(h.a,{classes:{root:V.shutdownMachine},variant:"contained",color:"secondary",onClick:s,children:[H?Object(ie.jsx)(Xo.a,{size:20}):null," ",W("shutdownMachine")]})]})]})]})},gl=Object(s.connect)((function(e,t){return{connected:ws(e),getServiceStatus:ks(e),getDeployments:Ns(e),getLatest:Is(e),deployCommit:Ts(e),upgradeToCommit:Ms(e),shutdownMachine:Ds(e),rebootMachine:As(e),shutdownServices:_s(e)}}),(function(e,t){return{onDeploy:function(t){return e(Cs.sendKineticMessage(["deployCommit",t]))},onUpgrade:function(t){return e(Cs.sendKineticMessage(["upgradeToCommit",t]))},onCheckLatest:function(){return e(Cs.sendKineticMessage(["getLatest"]))},onShutdownServices:function(){return e(Cs.sendKineticMessage(["shutdownServices"]))},onRebootMachine:function(){return e(Cs.sendKineticMessage(["rebootMachine"]))},onShutdownMachine:function(){return e(Cs.sendKineticMessage(["shutdownMachine"]))}}}))(xl),vl=function(e){return Object(ie.jsxs)(x.a,{container:!0,children:[Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(gl,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,children:Object(ie.jsx)(jl,{})}),Object(ie.jsx)(x.a,{item:!0,xs:12,sm:6,md:4})]})},yl="/client",Sl="/server",Cl=(ml={},Object(b.a)(ml,yl,{id:yl,label:"Client",component:al}),Object(b.a)(ml,Sl,{id:Sl,label:"Server",component:vl}),ml),wl=[Cl["/client"],Cl["/server"]],kl=function(e){var t=Object(Zc.f)(),n=Object(Zc.e)(),a=t.pathname.replace(Al,""),i=Cl[a]?a:wl[0].id,r=Cl[i].component;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(br.a,{value:i,onChange:function(e,t){var a;a=t,n.push(Al+a)},children:wl.map((function(e){return Object(ie.jsx)(pr.a,{label:e.label,value:e.id},e.id)}))}),Object(ie.jsx)(r,{})]})},El=Object(u.a)((function(e){return{active:{color:e.palette.primary.main},tabButton:Object(j.a)({},e.typography.mainTab),tabItem:{textAlign:"center"},tabLabelContainer:{whiteSpace:"nowrap"},tabLabel:{lineHeight:"24px",height:24,verticalAlign:"middle"},tabText:{lineHeight:"24px",height:24,verticalAlign:"middle"},tabIcon:{lineHeight:"18px",height:18,width:18,marginRight:-e.spacing(1),verticalAlign:"middle"},tabLine:{borderWidth:"1px",borderStyle:"solid",borderRadius:"1px"},logoContainer:{position:"fixed",width:40,height:55,marginLeft:e.spacing(2),marginTop:e.spacing(2)},tabsContainer:{position:"fixed",left:40,width:"calc( 100% - 40px )",height:55,marginLeft:e.spacing(2),marginTop:e.spacing(2)},kineticLogo:{marginRight:e.spacing(10),maxHeight:50,minHeight:40}}})),Nl="/manual",Il="/setup",Tl="/manual",Ml="/production",_l="/history",Al="/config",Dl=(fl={},Object(b.a)(fl,Il,{id:Il,label:"setup",canHide:!1,component:lr}),Object(b.a)(fl,Tl,{id:Tl,label:"manual",canHide:!1,component:Ko}),Object(b.a)(fl,Ml,{id:Ml,label:"production",canHide:!1,component:Xc,alwaysMounted:!0}),Object(b.a)(fl,_l,{id:_l,label:"history",canHide:!0,component:ps}),Object(b.a)(fl,Al,{id:Al,label:"config",canHide:!0,component:kl}),fl),Ll=[Dl["/setup"],Dl["/manual"],Dl["/production"],Dl["/history"],Dl[Al]],Pl=function(e){var t=Object(q.a)().t,n=Object(Zc.e)(),a=Object(Zc.f)(),o=Object(O.a)(),c=Object(i.useState)(!1),s=Object(p.a)(c,2),l=s[0],u=s[1],d=Object(i.useRef)(null),j=Object(f.a)(o.breakpoints.down("xs")),S=a.pathname.split("/")[1],w=S?"/"+S:Nl,E=function(e){return function(){n.push(e),u(!1)}},N=El();return Object(ie.jsxs)(m.a,{elevation:0,square:!0,children:[Object(ie.jsx)("div",{className:N.logoContainer,children:Object(ie.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.pocketnc.com",children:Object(ie.jsx)(V,{width:"40",alt:"Pocket NC",fill:o.palette.primary.main})})}),Object(ie.jsx)("div",{className:N.tabsContainer,children:Object(ie.jsxs)(x.a,{container:!0,children:[Ll.map((function(e,n){var a=e.id,i=e.label,c=e.canHide,s=a===w;return Object(ie.jsx)(r.a.Fragment,{children:Object(ie.jsx)(y.a,{smDown:c,children:Object(ie.jsx)(x.a,{item:!0,md:2,sm:3,xs:3,className:N.tabItem,children:Object(ie.jsx)(h.a,{classes:{root:N.tabButton},onClick:E(a),color:s?"primary":"default",children:Object(ie.jsxs)("div",{className:N.tabLabelContainer,children:[Object(ie.jsx)("div",{className:N.tabLine,style:{borderColor:s?o.palette.primary.main:o.palette.text.main}}),Object(ie.jsxs)("div",{className:N.tabLabel,children:[s&&!j?Object(ie.jsx)(k.a,{className:N.tabIcon}):null," ",Object(ie.jsx)("span",{className:N.tabText,children:t(i)})]})]})})})})},e.id)})),Object(ie.jsx)(y.a,{smDown:!0,children:Object(ie.jsx)(x.a,{item:!0,md:2,sm:3,xs:3,className:N.tabItem,children:Object(ie.jsx)(X,{className:N.kineticLogo,alt:"Kinetic Control",fill:o.palette.primary.main})})}),Object(ie.jsx)(y.a,{mdUp:!0,children:Object(ie.jsxs)(x.a,{item:!0,sm:3,xs:3,className:N.tabItem,children:[Object(ie.jsx)(h.a,{classes:{root:N.tabButton},onClick:function(e){u(!l)},ref:d,children:Object(ie.jsx)(C.a,{})}),Object(ie.jsx)(g.a,{open:l,anchorEl:d.current,onClose:function(){u(!1)},children:Ll.filter((function(e){return e.canHide})).map((function(e){var n=e.id,a=e.label,i=n===w;return Object(ie.jsxs)(v.a,{onClick:E(n),classes:{root:me()(N.tabButton,Object(b.a)({},N.active,i))},children:[i?Object(ie.jsx)(k.a,{}):null," ",t(a)]},n)}))})]})})]})})]})},Fl=Object(u.a)((function(e){return{underlineSVG:{position:"fixed",top:78}}})),Rl=function(e){var t=Fl(),n=Object(i.useState)(window.innerWidth),a=Object(p.a)(n,2),r=a[0],o=a[1],c=Object(O.a)();Object(i.useEffect)((function(){var e=function(){o(window.innerWidth)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]);var s=20*Math.PI/180,l=.15*r,u=.85*r,d=6*Math.cos(s),b=6-6*Math.sin(s),j=[["M",0,7],["L",l,7],["a",6,6,0,0,0,d,-b],["L",l+d+(8-2*b-1)*Math.tan(s),0+b],["a",6,6,0,0,1,d,-b],["L",u-d-(8-2*b-1)*Math.tan(s)-d,0],["a",6,6,0,0,1,d,b],["L",u-d,8-b-1],["a",6,6,0,0,0,d,b],["L",r,7],["L",r,8],["L",0,8],["Z"]];return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Pl,{}),Object(ie.jsx)("svg",{width:r,height:8,className:t.underlineSVG,children:Object(ie.jsx)("path",{d:j.map((function(e){return e.join(" ")})).join(" "),fill:c.palette.text.primary})})]})},Ul=Object(s.connect)((function(e,t){return{isInEstop:Xt(e),isHomed:En(e)}}),(function(e,t){return{onHome:function(){return e(Ft.put.homeCmd())},onAbort:function(){return e(Ft.put.abortCmd())},onDisableEstop:function(){return e(Ft.put.estopCmd({data:[!1]}))}}}),(function(e,t,n){return{leftLabelKey:"homeAll",rightLabelKey:e.isInEstop?"estop":"reset",leftColor:"primary",rightColor:e.isInEstop?"error":"secondary",onLeftButtonClick:t.onHome,onRightButtonClick:e.isInEstop?t.onDisableEstop:t.onAbort,leftIcon:e.isHomed?null:Object(ie.jsx)(Qa.a,{fontSize:"large"}),rightIcon:e.isInEstop?Object(ie.jsx)(es.a,{fontSize:"large"}):null}}))(Rl),Hl=Object(ae.a)((function(e){return{focus:{display:"absolute",outline:"none"}}})),Bl=function(e){var t=e.enable,n=e.onKeyDown,a=e.onKeyUp,r=e.onFocus,o=e.onBlur,c=Li().playTick,s=Object(i.useState)(!1),l=Object(p.a)(s,2),u=l[0],d=l[1],b=Object(i.useCallback)((function(e){d(!0)}),[d]),j=Object(i.useCallback)((function(e){d(!1)}),[d]),m=Object(i.useRef)(null),f=Hl();Object(i.useEffect)((function(){if(t){var e=setInterval((function(){var e=document.activeElement;u||"A"!==e.tagName&&"BODY"!==e.tagName&&"BUTTON"!==e.tagName||m.current.focus()}),100);return document.addEventListener("mousedown",b),document.addEventListener("mouseup",j),function(){clearInterval(e),document.removeEventListener("mousedown",b),document.removeEventListener("mouseup",j)}}}),[t,u,b,j]);return Object(ie.jsx)("div",{className:f.focus,tabIndex:"0",onKeyDown:function(e){n(e,c)},onKeyUp:a,ref:m,onFocus:r,onBlur:o})},Gl=function(e){return e.router.location},Jl={estopDisable:function(){return Ft.put.estopCmd({data:[!1]})},estopEnable:function(){return Ft.put.estopCmd({data:[!0]})},feedrateDecrement1:function(){return Ft.put.incrementFeedrateCmd({data:[-.01]})},feedrateIncrement1:function(){return Ft.put.incrementFeedrateCmd({data:[.01]})},feedrateDecrement10:function(){return Ft.put.incrementFeedrateCmd({data:[-.1]})},feedrateIncrement10:function(){return Ft.put.incrementFeedrateCmd({data:[.1]})},spindlerateDecrement1:function(){return Ft.put.incrementSpindleOverrideCmd({data:[-.01]})},spindlerateIncrement1:function(){return Ft.put.incrementSpindleOverrideCmd({data:[.01]})},spindlerateDecrement10:function(){return Ft.put.incrementSpindleOverrideCmd({data:[-.1]})},spindlerateIncrement10:function(){return Ft.put.incrementSpindleOverrideCmd({data:[.1]})},homeAll:function(){return Ft.put.homeCmd()},feedHold:function(){return Ft.put.feedHoldCmd()},step:function(){return Ft.put.autoCmd({data:["AUTO_STEP"]})},cycleStart:function(){return Ft.put.cycleStartCmd()},reset:function(){return Ft.put.abortCmd()}},Wl={axisSelectJogSelectX:function(){return Ka.axisSelectJog.setAxis("X")},axisSelectJogSelectY:function(){return Ka.axisSelectJog.setAxis("Y")},axisSelectJogSelectZ:function(){return Ka.axisSelectJog.setAxis("Z")},axisSelectJogSelectA:function(){return Ka.axisSelectJog.setAxis("A")},axisSelectJogSelectB:function(){return Ka.axisSelectJog.setAxis("B")},axisSelectJogSelectC:function(){return Ka.axisSelectJog.setAxis("C")},axisSelectJogIncreaseStepSize:function(){return Ka.axisSelectJog.incrementDigitIndex(1)},axisSelectJogDecreaseStepSize:function(){return Ka.axisSelectJog.incrementDigitIndex(-1)},axisSelectJogNextAxis:function(e,t){return Ka.axisSelectJog.incrementAxis({inc:1,axisSelectJogAxis:e,trajCoords:t})},axisSelectJogPreviousAxis:function(e,t){return Ka.axisSelectJog.incrementAxis({inc:-1,axisSelectJogAxis:e,trajCoords:t})}},Vl=function(e){return!(!e.startsWith(Tl)&&!e.startsWith(Il))||("/"===e||void 0)},zl=Object(s.connect)((function(e,t){return{axes:kn(e),axisSelectJogAxis:Ci(e),axisSelectJogDigitIndex:wi(e),displayUnits:Wn(e),enable:!0,enableKeyboardJogging:di(e),feedrate:Hn(e),jogMode:na(e),location:Gl(e).pathname,machineStatus:cn(e),maxLinearVelocity:mn(e),maxRapid:Un(e),maxVel:Rn(e),mdiHistory:ea(e),positions:Tn(e),readyForMdi:Oa(e),shortcutsMap:oa(e),spindle:Bn(e),trajCoords:jn(e),unitsCode:xn(e),homed:En(e)}}),(function(e,t){return{onFocus:function(){},onBlur:function(){},onJogContinuous:function(t,n,a){e(Ft.putHelpers.jogContinuous({axis:t,speed:n,jogMode:a}))},onJogIncrement:function(t,n,a,i){e(Ft.putHelpers.jogIncrement({axis:t,speed:n,increment:a,jogMode:i}))},onJogStop:function(t,n){e(Ft.putHelpers.jogStop({axis:t,jogMode:n}))},onAction:e,onSendMdiCmd:function(t,n){e(Ft.put.mdiCmd({data:[t]}));var a={cmd:t,time:Date.now()},i=n?n.concat(a):[a];e(Ft.put.saveClientConfig({data:["MDIHistory",i]}))},onRejectMdiCmd:function(t,n){e(Ft.messages.warning('Cannot issue MDI command "'.concat(t,'": ')+n))}}}),(function(e,t,n){var a=e.axes,i=e.axisSelectJogAxis,r=e.axisSelectJogDigitIndex,o=e.displayUnits,c=e.enable,s=e.enableKeyboardJogging,l=e.jogMode,u=e.location,d=e.mdiHistory,p=e.readyForMdi,b=e.shortcutsMap,j=e.trajCoords,m=e.unitsCode,f=e.homed,h=t.onFocus,O=t.onBlur,x=t.onJogContinuous,g=t.onJogIncrement,v=t.onJogStop,y=t.onAction,S=t.onSendMdiCmd,C=t.onRejectMdiCmd;return{enable:c,onFocus:h,onBlur:O,onKeyDown:function(e,t){var n=e.nativeEvent,c=e.shiftKey,h=e.altKey,O=e.ctrlKey,v=e.metaKey,w=e.repeat,k=(O?"Ctrl+":"")+(c?"Shift+":"")+(h?"Alt+":"")+(v?"Meta+":""),E=n.code;E.startsWith("Digit")?E=E.slice(5):E.startsWith("Key")&&(E=E.slice(3));var N=k+E;if(!w&&b.hasOwnProperty(N)){var I=b[N];if(I.startsWith("jog")){if(Vl(u)&&s){var T=j.indexOf(I[3]);if(-1!==T){var M="+"===I[4]?1:-1,_=T>2?et:$e,A=a[T],D=f?A.index:T;if(I.includes("slow"))x(D,_*M*.1,l);else if(I.includes("incremental")){var L=T>2?o.angle:o.length,P=r||1,F=(T>2||"mm"===L?.001:1e-4)*Math.pow(10,P-1),R=it({value:F,unit:L},m).value;g(D,M*_,R,l)}else x(D,_*M,l);t()}}}else if(I.startsWith("axisSelectJog")){if(Wl.hasOwnProperty(I)){var U=Wl[I](i,j);y(U),t()}else if(Vl(u)&&s){var H=j.indexOf(i);if(-1!==H&&r>0&&r<5){var B=H>2?o.angle:o.length,G=(H>2||"mm"===B||"pu"===B&&"G21"===m?.001:1e-4)*Math.pow(10,r-1),J=it({value:G,unit:B},m).value,W=I.includes("+")?1:-1,V=H>2?et:$e,z=a[H],K=f?z.index:H;g(K,W*V,J,l),t()}}}else if(I.startsWith("mdi"))(u.startsWith(Tl)||u.startsWith(Il))&&(p.isReady?S(I.slice(3),d):C(I.slice(3),p.reason));else{var Z=Jl[I]();y(Z),t()}}},onKeyUp:function(e){var t=e.nativeEvent.code;if(t.startsWith("Digit")?t=t.slice(5):e.nativeEvent.code.startsWith("Key")&&(t=t.slice(3)),b.hasOwnProperty(t)&&b[t].startsWith("jog")){var n=b[t],i=j.indexOf(n[3]),r=a[i],o=f?r.index:i;v(o,l)}}}}))(Bl),Kl=n(116),Zl=n(236),Yl=n(221),Xl=n.n(Yl),ql=n(220),Ql=n.n(ql),$l=Object(u.a)((function(e){return{primary:{color:e.palette.primary.main,lineHeight:"63px"},secondary:{color:e.palette.secondary.main,lineHeight:"63px"},extra:Object(j.a)({marginBottom:e.spacing(1),marginLeft:e.spacing(1)},e.typography.statusItem)}})),eu=function(e){var t=e.color,n=e.children,a=$l(),i=Object(O.a)(),r={};return!!a[t]||(r.color=t||i.palette.common.white),Object(ie.jsx)("span",{className:me()(a[t],a.extra),style:r,children:n})},tu=Object(u.a)((function(e){return{primary:{color:e.palette.primary.main,lineHeight:"20px"},secondary:{color:e.palette.secondary.main,lineHeight:"20px"},extra:Object(j.a)({lineHeight:"20px",marginBottom:e.spacing(1),marginLeft:e.spacing(1)},e.typography.statusItem)}})),nu=function(e){var t=e.color,n=e.children,a=tu(),i=Object(O.a)(),r={};return!!a[t]||(r.color=t||i.palette.common.white),Object(ie.jsx)("span",{className:me()(a[t],a.extra),style:r,children:n})},au=["G0","G1","G2","G3","G17","G18","G19","G20","G21","G43","G49","G54","G55","G56","G57","G58","G59","G59.1","G59.2","G59.3","G90","G91","G93","G94","M3","M4","M5","M7","M8","M9","M428","M429","M430"],iu=function(e){var t=e.activeCodes,n=void 0===t?["G1","G17","G20"]:t,a=te().t,i=n.filter((function(e){return-1!==au.indexOf(e)}));return Object(ie.jsxs)(eu,{children:[Object(ie.jsx)(y.a,{mdDown:!0,children:Object(ie.jsx)(ue.a,{title:n.join(" "),arrow:!0,enterTouchDelay:0,children:Object(ie.jsx)("span",{children:i.join(" ")})})}),Object(ie.jsx)(y.a,{lgUp:!0,children:Object(ie.jsx)(ue.a,{title:n.join(" "),arrow:!0,enterTouchDelay:0,children:Object(ie.jsx)("span",{children:a("activeCodes")})})})]})},ru=Object(s.connect)((function(e,t){return{activeCodes:On(e)}}),(function(e,t){return{}}))(iu),ou=n(395),cu=Object(ae.a)((function(e){return{badge:{},info:{color:e.palette.text.primary,backgroundColor:e.palette.primary.light},warning:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.light},error:{color:e.palette.text.primary,backgroundColor:e.palette.error.light}}})),su=function(e){var t=e.messageBadges,n=e.onClear,a=Object(i.useState)(null),r=Object(p.a)(a,2),o=r[0],c=r[1],s=Object(i.useState)(null),l=Object(p.a)(s,2),u=l[0],d=l[1],b=te().t,j=cu(),m=function(e){return function(t){c(t.currentTarget),d(e)}};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(eu,{children:[t.info.length>0?Object(ie.jsx)(Qi.a,{color:"inherit",onClick:m("info"),children:Object(ie.jsx)(ou.a,{badgeContent:t.info.length,color:"primary",classes:{root:j.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(ie.jsx)(Qc.a,{})})}):null,t.warning.length>0?Object(ie.jsx)(Qi.a,{color:"inherit",onClick:m("warning"),children:Object(ie.jsx)(ou.a,{badgeContent:t.warning.length,color:"secondary",classes:{root:j.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(ie.jsx)(Qa.a,{})})}):null,t.error.length>0?Object(ie.jsx)(Qi.a,{color:"inherit",onClick:m("error"),children:Object(ie.jsx)(ou.a,{badgeContent:t.error.length,color:"error",classes:{root:j.badge},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(ie.jsx)(es.a,{})})}):null]}),Object(ie.jsxs)(g.a,{id:"message-badges-menu",anchorEl:o,open:Boolean(u),onClose:function(){c(null),d(null)},children:[u?t[u].map((function(e,t){return Object(ie.jsx)(v.a,{style:{opacity:1},disabled:!0,classes:{root:j[e.type]},children:e.message},t)})):null,Object(ie.jsx)(v.a,{onClick:function(){d(null),c(null),n&&n(u)},children:b("clear")})]})]})},lu=Object(s.connect)((function(e,t){return{messageBadges:xi(e)}}),(function(e,t){return{onClear:function(t){e(Ka.clearMessageBadge(t))}}}))(su),uu=Object(u.a)((function(e){return{bar:{},left:{zIndex:200,position:"fixed",bottom:0,left:0,height:63},right:{position:"fixed",bottom:0,right:0,lineHeight:"66px",paddingRight:e.spacing(1),verticalAlign:"middle",zIndex:200,height:63},paper:{backgroundColor:e.palette.text.primary,padding:e.spacing(1)},statusSpan:{textAlign:"center",verticalAlign:"middle",display:"inline-block",textTransform:"uppercase",whiteSpace:"nowrap",lineHeight:"63px"},statusItem:Object(j.a)({},e.typography.statusItem)}})),du=function(e){var t=e.connected,n=e.rtcSeconds,a=e.machineStatus,i=Object(q.a)().t,r=uu(),o=Object(O.a)(),c=Object(f.a)(o.breakpoints.down("sm")),s=Math.floor(n/60/60)||0,l=Math.floor(n/60-60*s)||0,u=n-60*s*60-60*l||0;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:r.left,children:[t?Object(ie.jsxs)(eu,{color:"primary",children:[Object(ie.jsx)(Ql.a,{className:r.statusSpan}),c?Object(ie.jsx)("span",{className:r.statusSpan}):Object(ie.jsx)("span",{className:r.statusSpan,children:i("connected")})]}):Object(ie.jsxs)(eu,{color:"secondary",children:[Object(ie.jsx)(Xl.a,{className:r.statusSpan}),c?Object(ie.jsx)("span",{className:r.statusSpan}):Object(ie.jsx)("span",{className:r.statusSpan,children:i("disconnected")})]}),Object(ie.jsx)(ru,{})]}),Object(ie.jsxs)("div",{className:r.right,children:[Object(ie.jsxs)(nu,{children:[i(a),Object(ie.jsx)("br",{}),("0"+s).slice(-2),":",("0"+l).slice(-2),":",("0"+u.toFixed(1)).slice(-4)]}),Object(ie.jsx)(lu,{})]})]})},pu=Object(s.connect)((function(e,t){return{connected:Gt(e),rtcSeconds:function(e){return e.rockhopper.status.rtcSeconds}(e),machineStatus:cn(e)}}),(function(e,t){return{}}))(du),bu=Object(u.a)((function(e){return{button:{},bottomBar:{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"rgba(0,0,0,0)"}}})),ju=function(e){var t=bu(),n=Object(q.a)().t,a=e.buttonLabel,i=e.buttonColor,r=e.onButtonClick,o=Object($o.a)(),c=Object(p.a)(o,2),s=c[0],l=c[1].width,u=63,d=Object(O.a)(),b=Object(f.a)(d.breakpoints.down("sm")),j=70*Math.PI/180,m=.3*l,h=6*Math.sin(j),x=6+6*Math.cos(j),g=6*Math.sin(j),v=6-6*Math.cos(j),y=d.spacing(1),S=Math.tan(j),C=63-x-v,w=C/S,k=x/S,E=v/S,N=[["M",0,0],["L",m,0],["a",6,6,0,0,1,h,x],["l",-w,C],["a",6,6,0,0,1,-g,v],["L",0,63],["Z"]],I=[["M",l,0],["L",l-m,0],["a",6,6,0,0,0,-h,x],["l",w,C],["a",6,6,0,0,0,g,v],["L",l,63],["Z"]],T=[["M",m+h+k+g-E+y,0],["a",6,6,0,0,0,-g,v],["l",-w,C],["a",6,6,0,0,0,h,x],["L",l-m-h+w+E-h-k-y,63],["a",6,6,0,0,0,h,-x],["l",-w,-C],["a",6,6,0,0,0,-g,-v],["Z"]],M=[T[0],T[1],T[2],T[3],["L",0,63],["L",0,0],["Z"]],_=[["M",l,63],T[4],T[5],T[6],T[7],["L",l,0],["Z"]],A=T[0][1]+T[1][6]+T[2][1]+T[3][6]-6,D=T[4][1]+6-A;return Object(ie.jsxs)("div",{ref:s,className:t.bottomBar,children:[Object(ie.jsx)(Kl.a,{focusRipple:!0,className:t.button,style:{left:A,height:62},onClick:r,children:Object(ie.jsxs)(Zl.a,{width:l,height:u,viewBox:A+" 0 "+D+" "+u,style:{width:D,height:u,left:A},children:[Object(ie.jsx)("path",{d:T.map((function(e){return e.join(" ")})).join(" "),fill:d.palette[i].main}),Object(ie.jsx)("text",{x:.5*l,y:31.5,style:b?d.typography.bottomButtonSm:d.typography.bottomButton,textAnchor:"middle",alignmentBaseline:"middle",children:n(a)})]})}),Object(ie.jsxs)("svg",{width:l,height:u,style:{display:"block",height:u,position:"fixed",bottom:0,zIndex:100},pointerEvents:"none",children:[Object(ie.jsx)("path",{d:M.map((function(e){return e.join(" ")})).join(" "),fill:d.palette.background.paper,pointerEvents:"visible"}),Object(ie.jsx)("path",{d:_.map((function(e){return e.join(" ")})).join(" "),fill:d.palette.background.paper,pointerEvents:"visible"}),Object(ie.jsx)("path",{d:N.map((function(e){return e.join(" ")})).join(" "),fill:d.palette.text.primary}),Object(ie.jsx)("path",{d:I.map((function(e){return e.join(" ")})).join(" "),fill:d.palette.text.primary})]}),Object(ie.jsx)(pu,{})]})},mu=Object(s.connect)((function(e,t){return{isInEstop:Xt(e)}}),(function(e,t){return{onAbort:function(){e(Ft.put.abortCmd()),e(Ft.put.resetClock())},onDisableEstop:function(){return e(Ft.put.estopCmd({data:[!1]}))}}}),(function(e,t,n){return{buttonLabel:e.isInEstop?"estop":"reset",buttonColor:e.isInEstop?"error":"secondary",onButtonClick:e.isInEstop?t.onDisableEstop:t.onAbort}}))(ju),fu=n(151),hu=n(69),Ou=Object(hu.a)({hashType:"noslash"}),xu=function(){return{id:"router",reducerMap:{router:Object(fu.b)(Ou)}}},gu=Object(Eo.a)(m.a),vu=Object(u.a)((function(e){return{container:{position:"fixed",right:0,bottom:64},item:{width:350,height:88,float:"right",clear:"right",margin:e.spacing(1),padding:e.spacing(1),backgroundColor:e.palette.common.white,borderRadius:4,position:"absolute",bottom:0,right:0},info:{backgroundColor:e.palette.primary.verylight},warning:{backgroundColor:e.palette.secondary.verylight},error:{backgroundColor:e.palette.error.verylight},infoIcon:{color:e.palette.primary.main,float:"left",paddingRight:e.spacing(1)},warningIcon:{color:e.palette.secondary.main,float:"left",paddingRight:e.spacing(1)},errorIcon:{color:e.palette.error.main,float:"left",paddingRight:e.spacing(1)},message:{}}})),yu=function(e){var t=e.messages,n=vu(),a=t.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{index:t})})),i=Object(Eo.c)(a,(function(e){return e.id}),{from:function(e){e.index;return{opacity:0,transform:"translate(0, -100%)"}},enter:function(e){e.index;return{opacity:1,transform:"translate(0, 0)"}},leave:function(e){e.index;return{opacity:0,transform:"translate(0, 100%)"}},update:function(e){var t=e.index;return{bottom:112*(a.length-t-1)}}});return Object(ie.jsx)("div",{className:n.container,children:i.map((function(e){var t,a=e.item,i=e.props;switch(a.type){case Fe:t=Object(ie.jsx)(es.a,{className:n.errorIcon});break;case Pe:t=Object(ie.jsx)(Qa.a,{className:n.warningIcon});break;case Le:t=Object(ie.jsx)(Qc.a,{className:n.infoIcon});break;default:t=null}return Object(ie.jsxs)(gu,{style:i,elevation:2,className:me()(n.item,n[a.type]),children:[t," ",Object(ie.jsx)("span",{className:n.message,children:a.message})]},a.id)}))})},Su=Object(s.connect)((function(e,t){return{messages:ji(e)}}),(function(e,t){return{}}))(yu),Cu=n.p+"static/media/logo.4778a996.svg",wu=Object(l.a)({palette:{primary:{verylight:"#edfcf7",light:"#59e4b8",main:"#03b188",dark:"#00805b",contrastText:"#ffffff"},secondary:{verylight:"#fffcee",main:"#ffb431",light:"#ffe665",dark:"#c78500",contrastText:"#2d2d2d"},text:{primary:"#333333",secondary:"#333333"}},typography:{button:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:2,textTransform:"uppercase",fontSize:".75rem"},mainTab:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:".875rem"},statusItem:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:12,display:"inline-block",verticalAlign:"middle",textTransform:"uppercase"},axisLabel:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:30,display:"inline-block",verticalAligner:"middle",textTransform:"uppercase"},axisValue:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,fontSize:30,display:"inline-block",verticalAligner:"middle"},dataText:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:1,textAlign:"center",fontWeight:"bold"},topButton:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:8,textTransform:"uppercase",fontSize:25},topButtonSm:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:18},bottomButton:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:8,textTransform:"uppercase",fontSize:25},bottomButtonSm:{fontFamily:'"Montserrat Black Italic", sans-serif',letterSpacing:3,textTransform:"uppercase",fontSize:18},panelHeader:{fontFamily:'"Titillium Web Bold", sans-serif',letterSpacing:0,fontSize:22,fontWeight:"bold",textTransform:"uppercase",whiteSpace:"nowrap"},sectionHeader:{fontFamily:'"Titillium Web Regular", sans-serif',letterSpacing:3,fontSize:14,fontWeight:"normal"},gaugeText:{fontFamily:'"Titillium Web Regular", sans-serif',fontWeight:"bold"},gaugeHeader:{fontFamily:'"Montserrat Bold", sans-serif',letterSpacing:.2,fontSize:4,fontWeight:"bold",textTransform:"uppercase"},rpmText:{fontFamily:'"Titillium Web Bold", sans-serif',fontSize:15,textTransform:"uppercase"}},overrides:{MuiInputBase:{root:{fontFamily:'"Titillium Web Regular", sans-serif'}},MuiFormLabel:{root:{fontFamily:'"Titillium Web Regular", sans-serif'}}}});wu.palette.error.verylight="#fcf0f0",window.theme=wu;var ku=Object(u.a)((function(e){return{mainContent:{position:"fixed",width:"100%",height:"calc( 100% - 86px - 51px )",top:86,left:0,overflow:"scroll"}}}));function Eu(){var e=ku();return Object(ie.jsx)(d.a,{theme:wu,children:Object(ie.jsxs)(fu.a,{history:Ou,children:[Object(ie.jsx)(Ul,{}),Object(ie.jsxs)("div",{className:e.mainContent,children:[Object(ie.jsxs)(Zc.c,{children:[Ll.filter((function(e){return!e.alwaysMounted})).map((function(e){var t=e.component,n=e.id,a=t;return Object(ie.jsx)(Zc.a,{path:n,children:Object(ie.jsx)(a,{})},n)})),Object(ie.jsx)(Zc.a,{exact:!0,path:"/",children:Dl["/manual"].component})]}),Ll.filter((function(e){return e.alwaysMounted})).map((function(e){var t=e.component,n=e.id,a=t;return Object(ie.jsx)(a,{},n)}))]}),Object(ie.jsx)(mu,{}),Object(ie.jsx)(zl,{}),Object(ie.jsx)(Su,{})]})})}var Nu=function(){return Object(ie.jsxs)("div",{className:"App",children:[Object(ie.jsx)("img",{src:Cu,className:"App-logo",alt:"logo"}),Object(ie.jsx)("div",{children:"loading..."})]})};var Iu=function(e){var t=e.dialect,n=e.displayUnits,a=e.activeCodes,r=e.soundConfig;return Object(ie.jsx)(Oe,{value:{displayUnits:n,activeCodes:a},children:Object(ie.jsx)(ee,{value:t,children:Object(ie.jsx)(Ai,{value:r,children:Object(ie.jsx)(i.Suspense,{fallback:Object(ie.jsx)(Nu,{}),children:Object(ie.jsx)(Eu,{})})})})})},Tu=Object(s.connect)((function(e,t){return{dialect:fi(e),displayUnits:Wn(e),activeCodes:On(e),soundConfig:Jn(e)}}))(Iu);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mu=n(223),_u=n(224),Au=n(225),Du=n(400),Lu=function(){return Object.values(Ft.get).map((function(e){return e({})})).reduce((function(e,t){var n=t.payload.name,a=t.type.split("/"),i=a[a.length-1],r=vt("UPDATE",i),o=yt(n);return e[r]=Object(ce.a)((function(e,t){e.status[o]=t.payload.data})),e}),{})},Pu=function(){return Object.values(Ft.get).map((function(e){return e({})})).reduce((function(e,t){var n=t.payload.name,a=t.type.split("/"),i=a[a.length-1],r=vt("DELAYED","UPDATE_IMMEDIATE",i),o=yt(n);return e[r]=Object(ce.a)((function(e,t){e.delayed.status[o]=t.payload.data})),e[vt("DELAYED","UPDATE",i)]=Object(ce.a)((function(e,t){e.delayed.status[o]=t.payload.data})),e[vt("DELAYED","REGISTER_UPDATE",i)]=Object(ce.a)((function(e,t){e.delayed.registered[o]=t.payload})),e}),{})},Fu=JSON.parse(localStorage.getItem(Ae)||"{}"),Ru={webSocket:{host:Fu.host||(-1===document.location.hostname.indexOf("localhost")?document.location.hostname:"192.168.6.2"),port:Fu.port||"8000",user:Fu.user||"default",password:Fu.password||"default",encrypted:"undefined"!==typeof Fu.encrypted&&Fu.encrypted},isLoggedIn:!1,actionEmitters:{},features:{},status:{},delayed:{registered:{},status:{}},fileDownload:{},fileUpload:{},fileCache:{fileKeys:{},paths:{},progress:{}}},Uu=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.includeStatusReducers,a=void 0===n||n,i=t.includeDelayedStatusReducers,r=void 0===i||i,o=a?Lu():{},c=r?Pu():{};return Object(Du.a)(Object(j.a)(Object(j.a)((e={},Object(b.a)(e,Ft.fileCache.initProgress,Object(ce.a)((function(e,t){var n=t.payload,a=n.checksum,i=n.size;e.fileCache.progress[a]={size:i,bytesLoaded:0}}))),Object(b.a)(e,Ft.fileCache.updateProgress,Object(ce.a)((function(e,t){var n=t.payload,a=n.checksum,i=n.bytesLoaded;e.fileCache.progress[a].bytesLoaded=i}))),Object(b.a)(e,Ft.fileCache.setPathChecksum,Object(ce.a)((function(e,t){var n=t.payload,a=n.path,i=n.checksum;e.fileCache.paths[a]=i}))),Object(b.a)(e,Ft.fileCache.setFileKeyChecksum,Object(ce.a)((function(e,t){var n=t.payload,a=n.fileKey,i=n.checksum;e.fileCache.fileKeys[a]=i}))),Object(b.a)(e,Ft.fileUpload.removeAll,Object(ce.a)((function(e,t){e.fileUpload={}}))),Object(b.a)(e,Ft.fileUpload.remove,Object(ce.a)((function(e,t){var n=t.payload;delete e.fileUpload[n]}))),Object(b.a)(e,Ft.fileUpload.cancel,Object(ce.a)((function(e,t){var n=t.payload;e.fileUpload[n]&&(e.fileUpload[n].state=Se)}))),Object(b.a)(e,Ft.fileUpload.cancelAll,Object(ce.a)((function(e,t){for(var n in e.fileUpload)e.fileUpload[n].state=Se}))),Object(b.a)(e,Ft.fileUpload.progress,Object(ce.a)((function(e,t){var n=t.payload,a=n.path,i=n.progress;e.fileUpload[a]&&(e.fileUpload[a].progress=i,e.fileUpload[a].state=ve)}))),Object(b.a)(e,Ft.fileUpload.finalize,Object(ce.a)((function(e,t){var n=t.payload.path;delete e.fileUpload[n]}))),Object(b.a)(e,Ft.fileUpload.askForOverwrite,Object(ce.a)((function(e,t){var n=t.payload.path;e.fileUpload[n].state=ye}))),Object(b.a)(e,Ft.fileUpload.confirmOverwrite,Object(ce.a)((function(e,t){var n=t.payload.path;e.fileUpload[n].overwrite=!0}))),Object(b.a)(e,Ft.fileUpload.confirmOverwriteAll,Object(ce.a)((function(e,t){for(var n in e.fileUpload)e.fileUpload[n].overwrite=!0}))),Object(b.a)(e,Ft.fileUpload.queued,Object(ce.a)((function(e,t){var n=t.payload,a=n.path,i=n.overwrite;e.fileUpload[a]={path:a,overwrite:i,progress:0,state:ge}}))),Object(b.a)(e,Ft.fileDownload.removeAll,Object(ce.a)((function(e,t){e.fileDownload={}}))),Object(b.a)(e,Ft.fileDownload.remove,Object(ce.a)((function(e,t){var n=t.payload;delete e.fileDownload[n]}))),Object(b.a)(e,Ft.fileDownload.cancel,Object(ce.a)((function(e,t){var n=t.payload;e.fileDownload[n]&&(e.fileDownload[n].state=Se)}))),Object(b.a)(e,Ft.fileDownload.cancelAll,Object(ce.a)((function(e,t){for(var n in e.fileDownload)e.fileDownload[n].state=Se}))),Object(b.a)(e,Ft.fileDownload.progress,Object(ce.a)((function(e,t){var n=t.payload,a=n.path,i=n.progress;e.fileDownload[a]&&(e.fileDownload[a].progress=i,e.fileDownload[a].state=ve)}))),Object(b.a)(e,Ft.fileDownload.queued,Object(ce.a)((function(e,t){var n=t.payload,a=n.path,i=n.overwrite;e.fileDownload[a]={path:a,overwrite:i,progress:0,state:ge}}))),Object(b.a)(e,Ft.setLoggedIn,Object(ce.a)((function(e,t){var n=t.payload;e.isLoggedIn=n,n||(e.fileUpload={})}))),Object(b.a)(e,Ft.setConnectionDetails,Object(ce.a)((function(e,t){var n=t.payload,a=n.host,i=n.port,r=n.user,o=n.password,c=n.encrypted;e.webSocket.user=r,e.webSocket.password=o,e.webSocket.host=a,e.webSocket.port=i,e.webSocket.encrypted=c}))),Object(b.a)(e,Ft.addActionEmitter,Object(ce.a)((function(e,t){var n=t.payload.id;e.actionEmitters[n]||(e.actionEmitters[n]=[]),e.actionEmitters[n].push(t.payload)}))),Object(b.a)(e,Ft.removeActionEmitter,Object(ce.a)((function(e,t){var n=t.payload,a=n.id,i=n.type;if(e.actionEmitters[a]){var r=e.actionEmitters[a].findIndex((function(e){return e.id===a&&e.type===i}));e.actionEmitters[a].splice(r,1)}}))),Object(b.a)(e,Ft.response.getHelpers.programPrefix,Object(ce.a)((function(e,t){e.status.programPrefix=t.payload.data.parameters[0].values.value}))),Object(b.a)(e,Ft.response.getHelpers.features,Object(ce.a)((function(e,t){var n={};if(t.payload.data.parameters){var a,i=Object(Rt.a)(t.payload.data.parameters);try{for(i.s();!(a=i.n()).done;){n[a.value.values.name]=!0}}catch(r){i.e(r)}finally{i.f()}}e.features=n}))),Object(b.a)(e,Ft.updateHelpers.soundConfig,Object(ce.a)((function(e,t){e.status.clientConfig||(e.status.clientConfig={}),e.status.clientConfig.soundConfig=t.payload}))),Object(b.a)(e,Ft.updateHelpers.setDisplayUnits,Object(ce.a)((function(e,t){e.status.clientConfig||(e.status.clientConfig={}),e.status.clientConfig.displayUnits=t.payload}))),Object(b.a)(e,Ft.updateHelpers.toolFlutes,Object(ce.a)((function(e,t){e.status.clientConfig.ToolFlutes=t.payload.data}))),Object(b.a)(e,Ft.updateHelpers.toolTableDescriptions,Object(ce.a)((function(e,t){e.status.clientConfig.ToolTableDescriptions=t.payload.data}))),Object(b.a)(e,Ft.updateHelpers.toolDiameter,Object(ce.a)((function(e,t){var n=Object(st.a)(t.payload.data),a=n[0],i=n[1];e.status.toolTable[a][Ye]=i}))),Object(b.a)(e,Ft.updateHelpers.toolLengthOffset,Object(ce.a)((function(e,t){var n=Object(st.a)(t.payload.data),a=n[0],i=n[1];e.status.toolTable[a][Ze]=i}))),Object(b.a)(e,Ft.updateHelpers.toolTableRow,Object(ce.a)((function(e,t){var n=Object(st.a)(t.payload.data)[0];e.status.toolTable[n]=[null].concat(Object(st.a)(t.payload.data))}))),Object(b.a)(e,Ft.updateHelpers.toolTable,Object(ce.a)((function(e,t){e.status.toolTable=[null].concat(Object(st.a)(t.payload.data))}))),Object(b.a)(e,Ft.updateHelpers.configOverlay,Object(ce.a)((function(e,t){e.status.configOverlay=t.payload.data}))),Object(b.a)(e,Ft.updateHelpers.compensation,Object(ce.a)((function(e,t){e.status.compensation=t.payload.data}))),Object(b.a)(e,Ft.updateHelpers.jogMode,Object(ce.a)((function(e,t){e.status.clientConfig.jogMode=t.payload.data}))),e),o),c),Ru)},Hu=n(3),Bu=n(226),Gu=n.n(Bu),Ju=tc.a.mark(wd),Wu=tc.a.mark(kd),Vu=tc.a.mark(Ed),zu=tc.a.mark(Nd),Ku=tc.a.mark(Id),Zu=tc.a.mark(Td),Yu=tc.a.mark(_d),Xu=tc.a.mark(Ad),qu=tc.a.mark(Dd),Qu=tc.a.mark(Ld),$u=tc.a.mark(Pd),ed=tc.a.mark(Fd),td=tc.a.mark(Rd),nd=tc.a.mark(Ud),ad=tc.a.mark(Hd),id=tc.a.mark(Bd),rd=tc.a.mark(Gd),od=tc.a.mark(Jd),cd=tc.a.mark(Wd),sd=tc.a.mark(Vd),ld=tc.a.mark(zd),ud=tc.a.mark(Kd),dd=tc.a.mark(Zd),pd=tc.a.mark(Yd),bd=tc.a.mark(Xd),jd=tc.a.mark(qd),md=tc.a.mark(Qd),fd=tc.a.mark($d),hd=tc.a.mark(ep),Od=tc.a.mark(tp),xd=tc.a.mark(np),gd=function(e,t,n){try{return new WebSocket("ws".concat(n?"s":"","://").concat(e,":").concat(t,"/websocket/"))}catch(a){return null}},vd=function(e,t){e.send(JSON.stringify(t))},yd=function(e,t,n){return new Promise((function(a,i){var r=Ne,o=function(){vd(e,function(e,t){return{id:Ne,user:e,password:t,date:(new Date).toISOString()}}(t,n))},c=function(e){a(!1)};e.addEventListener("open",o),e.addEventListener("close",c),e.addEventListener("message",(function t(n){var i=JSON.parse(n.data);i.code===_e&&i.id===r&&(a(!0),e.removeEventListener("open",o),e.removeEventListener("close",c),e.removeEventListener("message",t)),i.code!==_e&&i.id===r&&(console.log("Login Failed",i),a(!1))}))}))},Sd=function(e){e.readyState!==WebSocket.CLOSED&&e.readyState!==WebSocket.CLOSING&&e.close()},Cd=function(e){return Object(mc.eventChannel)((function(t){var n=!0,a=function(e){var a=JSON.parse(e.data);n=!0,a.id!==Ie&&t(a)},i=function(){t(new Error("WebSocket closed."))};e.addEventListener("message",a),e.addEventListener("close",i);var r=setInterval((function(){if(n){vd(e,pt("HEARTBEAT_ID","estop")),n=!1}else t(new Error("Heartbeat timed out."))}),3e3);return function(){e.removeEventListener("message",a),e.removeEventListener("close",i),clearInterval(r)}}))};function wd(e){var t,n,a,i,r,o,c,s,l,u,d,p,b;return tc.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=3,Object(Hu.j)(Ht);case 3:t=j.sent,n=t.actionEmitters,a=Object.keys(e),i=0,r=a;case 7:if(!(i<r.length)){j.next=50;break}if(o=r[i],c=e[o],!n[c.id]){j.next=28;break}s=Object(Rt.a)(n[c.id]),j.prev=12,s.s();case 14:if((l=s.n()).done){j.next=20;break}return u=l.value,j.next=18,Object(Hu.h)(xt(u.type,c));case 18:j.next=14;break;case 20:j.next=25;break;case 22:j.prev=22,j.t0=j.catch(12),s.e(j.t0);case 25:return j.prev=25,s.f(),j.finish(25);case 28:if(!c.meta||!c.meta.actionEmitters){j.next=46;break}d=Object(Rt.a)(c.meta.actionEmitters),j.prev=30,d.s();case 32:if((p=d.n()).done){j.next=38;break}return b=p.value,j.next=36,Object(Hu.h)(xt(b,c));case 36:j.next=32;break;case 38:j.next=43;break;case 40:j.prev=40,j.t1=j.catch(30),d.e(j.t1);case 43:return j.prev=43,d.f(),j.finish(43);case 46:delete e[o];case 47:i++,j.next=7;break;case 50:return j.next=52,Object(Hu.d)(50);case 52:j.next=0;break;case 54:case"end":return j.stop()}}),Ju,null,[[12,22,25,28],[30,40,43,46]])}function kd(e){var t,n,a,i,r,o,c,s,l,u,d,p,b,j;return tc.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(Hu.b)(Cd,e);case 2:return t=m.sent,n={},m.next=6,Object(Hu.f)(wd,n);case 6:a=m.sent;case 7:return m.prev=8,m.next=11,Object(Hu.k)(t);case 11:return i=m.sent,m.next=14,Object(Hu.j)(Ht);case 14:if(r=m.sent,o=r.actionEmitters,!i.id.startsWith("WATCH_")){m.next=20;break}n[i.id]=i,m.next=56;break;case 20:if(!o[i.id]){m.next=38;break}c=Object(Rt.a)(o[i.id]),m.prev=22,c.s();case 24:if((s=c.n()).done){m.next=30;break}return l=s.value,m.next=28,Object(Hu.h)(xt(l.type,i));case 28:m.next=24;break;case 30:m.next=35;break;case 32:m.prev=32,m.t0=m.catch(22),c.e(m.t0);case 35:return m.prev=35,c.f(),m.finish(35);case 38:if(!i.meta||!i.meta.actionEmitters){m.next=56;break}u=Object(Rt.a)(i.meta.actionEmitters),m.prev=40,u.s();case 42:if((d=u.n()).done){m.next=48;break}return p=d.value,m.next=46,Object(Hu.h)(xt(p,i));case 46:m.next=42;break;case 48:m.next=53;break;case 50:m.prev=50,m.t1=m.catch(40),u.e(m.t1);case 53:return m.prev=53,u.f(),m.finish(53);case 56:if("WATCH_ERROR"!==i.id||!i.data){m.next=66;break}if(!Ft.messages[i.data.type]){m.next=62;break}return m.next=60,Object(Hu.h)(Ft.messages[i.data.type](i.data.text,i));case 60:m.next=64;break;case 62:return m.next=64,Object(Hu.h)(Ft.messages.error(i.data.text,i));case 64:return m.next=66,Object(Hu.h)(Ft.put.clearError());case 66:if(!(i.code!==_e||i.data&&i.data.notify)){m.next=71;break}return b=i.data.notify&&i.data.notify.type||"error",j=i.data&&i.data.message||i.data&&i.data.notify&&i.data.notify.message||i.data&&i.data.notify&&i.data.notify.text||i.code.replace("?",""),m.next=71,Object(Hu.h)(Ft.messages[b](j,i));case 71:m.next=79;break;case 73:return m.prev=73,m.t2=m.catch(8),console.log("caught error",m.t2),m.next=78,Object(Hu.c)(a);case 78:t.close();case 79:m.next=7;break;case 81:case"end":return m.stop()}}),Wu,null,[[8,73],[22,32,35,38],[40,50,53,56]])}function Ed(e,t){return tc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Hu.b)(vd,e,t.payload);case 2:case"end":return n.stop()}}),Vu)}function Nd(e){return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Hu.l)([Ft.cmds.raw,Ft.cmds.get,Ft.cmds.watch,Ft.cmds.put,Ft.cmds.listGet,Ft.cmds.listPut].concat(Object(st.a)(Object.values(Ft.watch)),Object(st.a)(Object.values(Ft.unwatch)),Object(st.a)(Object.values(Ft.get)),Object(st.a)(Object.values(Ft.put)),Object(st.a)(Object.values(Ft.getHelpers)),Object(st.a)(Object.values(Ft.putHelpers))),Ed,e);case 2:case"end":return t.stop()}}),zu)}function Id(){var e,t,n,a,i,r,o,c,s;return tc.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(Hu.j)(Bt);case 2:return e=l.sent,t=e.host,n=e.port,a=e.user,i=e.password,r=e.encrypted,l.next=10,Object(Hu.b)(gd,t,n,r);case 10:if(!(o=l.sent)){l.next=34;break}return l.next=14,Object(Hu.b)(yd,o,a,i);case 14:if(!l.sent){l.next=32;break}return l.next=18,Object(Hu.h)(Ft.messages.info("Connected to machine."));case 18:return l.next=20,Object(Hu.f)(Nd,o);case 20:return c=l.sent,l.next=23,Object(Hu.f)(kd,o);case 23:return s=l.sent,l.next=26,Object(Hu.h)(Ft.setLoggedIn(!0));case 26:return l.next=28,Object(Hu.g)(s);case 28:return l.next=30,Object(Hu.c)(c);case 30:return l.next=32,Object(Hu.h)(Ft.messages.warning("Lost connection with machine."));case 32:return l.next=34,Object(Hu.b)(Sd,o);case 34:case"end":return l.stop()}}),Ku)}function Td(){var e;return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Hu.a)(Ft.setConnectionDetails);case 2:e=t.sent;case 3:return t.next=6,Object(Hu.i)({updateConnectionDetails:Object(Hu.k)(e),connection:Object(Hu.b)(Id)});case 6:if(!t.sent.updateConnectionDetails){t.next=12;break}return t.next=10,Object(Hu.b)(_d);case 10:t.next=14;break;case 12:return t.next=14,Object(Hu.d)(1e3);case 14:return t.next=16,Object(Hu.h)(Ft.setLoggedIn(!1));case 16:t.next=3;break;case 18:case"end":return t.stop()}}),Zu)}var Md=function(e,t,n,a,i){localStorage.setItem(Ae,JSON.stringify({host:e,port:t,user:n,password:a,encrypted:i}))};function _d(){var e,t,n,a,i,r;return tc.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Hu.j)(Bt);case 2:return e=o.sent,t=e.host,n=e.port,a=e.user,i=e.password,r=e.encrypted,o.next=10,Object(Hu.b)(Md,t,n,a,i,r);case 10:case"end":return o.stop()}}),Yu)}function Ad(){var e,t,n,a;return tc.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Hu.h)(Ft.getHelpers.features());case 2:return i.next=4,Object(Hu.k)(Ft.response.getHelpers.features);case 4:return i.next=6,Object(Hu.j)(an);case 6:e=i.sent,i.t0=tc.a.keys(Ft.watch);case 8:if((i.t1=i.t0()).done){i.next=17;break}if(t=i.t1.value,!(n=Pt[t])||!e[n]){i.next=15;break}return a=Ft.watch[t],i.next=15,Object(Hu.h)(a());case 15:i.next=8;break;case 17:case"end":return i.stop()}}),Xu)}function Dd(e){return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.payload){t.next=118;break}return t.next=4,Object(Hu.h)(Ft.watch.estop());case 4:return t.next=6,Object(Hu.h)(Ft.get.joints());case 6:return t.next=8,Object(Hu.h)(Ft.get.axisMask());case 8:return t.next=10,Object(Hu.h)(Ft.watch.axesData());case 10:return t.next=12,Object(Hu.h)(Ft.watch.g5xOffset());case 12:return t.next=14,Object(Hu.h)(Ft.watch.g5xIndex());case 14:return t.next=16,Object(Hu.h)(Ft.watch.g92Offset());case 16:return t.next=18,Object(Hu.h)(Ft.watch.toolOffset());case 18:return t.next=20,Object(Hu.h)(Ft.watch.halpinHaluiMaxVelocityValue());case 20:return t.next=22,Object(Hu.h)(Ft.getHelpers.programPrefix());case 22:return t.next=24,Object(Hu.h)(Ft.watch.program());case 24:return t.next=26,Object(Hu.f)(Ad);case 26:return t.next=28,Object(Hu.h)(Ft.watch.halpinMotionSwitchkinsType());case 28:return t.next=30,Object(Hu.h)(Ft.watch.rapidrate());case 30:return t.next=32,Object(Hu.h)(Ft.watch.command());case 32:return t.next=34,Object(Hu.h)(Ft.watch.homed());case 34:return t.next=36,Object(Hu.h)(Ft.watch.spindle());case 36:return t.next=38,Object(Hu.h)(Ft.watch.feedrate());case 38:return t.next=40,Object(Hu.h)(Ft.watch.gcodes());case 40:return t.next=42,Object(Hu.h)(Ft.watch.mcodes());case 42:return t.next=44,Object(Hu.h)(Ft.watch.halpinHaluiMaxVelocityValue());case 44:return t.next=46,Object(Hu.h)(Ft.watch.measuredSpindleCurrent());case 46:return t.next=48,Object(Hu.h)(Ft.watch.measuredSpindleVoltage());case 48:return t.next=50,Object(Hu.h)(Ft.watch.measuredSpindleSpeed());case 50:return t.next=52,Object(Hu.h)(Ft.get.spindleMaxSpeed());case 52:return t.next=54,Object(Hu.h)(Ft.watch.calculatedFeedrate());case 54:return t.next=56,Object(Hu.h)(Ft.watch.spindleTemperature());case 56:return t.next=58,Object(Hu.h)(Ft.watch.spindlePressure());case 58:return t.next=60,Object(Hu.h)(Ft.watch.toolReleased());case 60:return t.next=62,Object(Hu.h)(Ft.watch.viceReleased());case 62:return t.next=64,Object(Hu.h)(Ft.watch.linearUnits());case 64:return t.next=66,Object(Hu.h)(Ft.watch.programUnits());case 66:return t.next=68,Object(Hu.h)(Ft.watch.taskState());case 68:return t.next=70,Object(Hu.h)(Ft.watch.taskMode());case 70:return t.next=72,Object(Hu.h)(Ft.watch.interpState());case 72:return t.next=74,Object(Hu.h)(Ft.watch.queueFull());case 74:return t.next=76,Object(Hu.h)(Ft.watch.paused());case 76:return t.next=78,Object(Hu.h)(Ft.watch.mist());case 78:return t.next=80,Object(Hu.h)(Ft.watch.flood());case 80:return t.next=82,Object(Hu.h)(Ft.watch.toolInSpindle());case 82:return t.next=84,Object(Hu.h)(Ft.watch.settings());case 84:return t.next=86,Object(Hu.h)(Ft.watch.motionLine());case 86:return t.next=88,Object(Hu.h)(Ft.watch.optionalStop());case 88:return t.next=90,Object(Hu.h)(Ft.watch.error());case 90:return t.next=92,Object(Hu.h)(Ft.watch.clientConfig());case 92:return t.next=94,Object(Hu.h)(Ft.watch.ls());case 94:return t.next=96,Object(Hu.h)(Ft.watch.usbDetected());case 96:return t.next=98,Object(Hu.h)(Ft.watch.rtcSeconds());case 98:return t.next=100,Object(Hu.h)(Ft.watch.rotaryMotionOnly());case 100:return t.next=102,Object(Hu.h)(Ft.watch.toolTable());case 102:return t.next=104,Object(Hu.h)(Ft.get.boardRevision());case 104:return t.next=106,Object(Hu.h)(Ft.get.config());case 106:return t.next=108,Object(Hu.h)(Ft.get.configOverlay());case 108:return t.next=110,Object(Hu.h)(Ft.get.compensation());case 110:return t.next=112,Object(Hu.h)(Ft.delayed.registerUpdate.halpinHaluiMaxVelocityValue(200));case 112:return t.next=114,Object(Hu.h)(Ft.delayed.registerUpdate.feedrate(200));case 114:return t.next=116,Object(Hu.h)(Ft.delayed.registerUpdate.rapidrate(200));case 116:return t.next=118,Object(Hu.h)(Ft.delayed.registerUpdate.spindle(200));case 118:case"end":return t.stop()}}),qu)}function Ld(){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.m)([Ft.setLoggedIn],Dd);case 2:case"end":return e.stop()}}),Qu)}function Pd(e){var t,n,a,i,r,o;return tc.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.byteLength,n=Math.ceil(t/Te),a=0;case 3:if(!(a<n)){c.next=12;break}return i=0===a,r=a===n-1,o=new Uint8Array(e.slice(a*Te,(a+1)*Te)),c.next=9,{start:i,end:r,data:o,progress:(a+1)/n};case 9:a++,c.next=3;break;case 12:case"end":return c.stop()}}),$u)}function Fd(e){var t,n,a,i;return tc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.size,n=Math.ceil(t/Te),a=tc.a.mark((function t(a){var i,r;return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=0===a,r=a===n-1,t.next=4,new Promise((function(t,o){var c=new FileReader,s=e.slice(a*Te,(a+1)*Te);c.onload=function(e){null===e.target.error?t({start:i,end:r,data:new Uint8Array(e.target.result),progress:(a+1)/n}):o(e.target.error)},c.readAsArrayBuffer(s)}));case 4:case"end":return t.stop()}}),t)})),i=0;case 4:if(!(i<n)){r.next=9;break}return r.delegateYield(a(i),"t0",6);case 6:i++,r.next=4;break;case 9:case"end":return r.stop()}}),ed)}function Rd(e,t,n,a,i){var r,o,c,s,l,u,d,p,b,j,m,f,h,O,x,g,v,y,S,C,w,k,E,N,I,T,M,_,A,D;return tc.a.wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return r=lc(a,n),L.next=3,Object(Hu.j)(Sn,n);case 3:if(o=L.sent,c=0,s=null,"string"===typeof i?(l=new TextEncoder("utf-8"),i=l.encode(i),c=i.byteLength,s="arraybuffer"):"[object ArrayBuffer]"===Object.prototype.toString.call(i)?(c=i.byteLength,s="arraybuffer"):i instanceof Blob?(c=i.size,s="blob"):console.error("fileQueue can only upload object of type string, ArrayBuffer, File or Blob"),!o||!s){L.next=115;break}return u="FILE_UPLOAD_INIT_"+n.toUpperCase(),d=vt("RESPONSE","FILE_UPLOAD_INIT",n.toUpperCase()),L.next=12,Object(Hu.h)(Ft.cmds.put({id:u,meta:gt({},d),data:[n,a,c,o.overwrite],name:"file_upload_init"}));case 12:return L.next=14,Object(Hu.k)(d);case 14:if((p=L.sent).payload.code!==_e){L.next=95;break}return b=new ArrayBuffer(c),j=new Uint8Array(b),m=0,"arraybuffer"===s?f=Pd(i):"blob"===s&&(f=Fd(i)),L.next=22,Object(Hu.h)(Ft.fileUpload.progress({path:n,fileType:a,progress:0}));case 22:h=new Gu.a.ArrayBuffer,O=0,x=Object(Rt.a)(f),L.prev=25,x.s();case 27:if((g=x.n()).done){L.next=58;break}return v=g.value,L.next=31,Promise.resolve(v);case 31:for(y=L.sent,S=y.data,C=y.progress,w=new Array(S.byteLength),k=0;k<S.byteLength;k++)j[m+k]=S[k],w[k]=String.fromCharCode(S[k]);return m+=S.byteLength,E=btoa(w.join("")),h.append(S),N="FILE_UPLOAD_CHUNK_"+O+"_"+n.toUpperCase(),I=vt("RESPONSE","FILE_UPLOAD_CHUNK_"+O,n.toUpperCase()),L.next=42,Object(Hu.h)(Ft.cmds.put({id:N,name:"file_upload_chunk",data:[n,a,E],meta:gt({},I)}));case 42:return L.next=44,Object(Hu.k)(I);case 44:if((T=L.sent).payload.code!==_e){L.next=50;break}return L.next=48,Object(Hu.h)(Ft.fileUpload.progress({path:n,fileType:a,progress:C}));case 48:L.next=55;break;case 50:return console.error("File upload error",T),L.next=53,Object(Hu.h)(Ft.messages.error("Failed to upload file: ".concat(n),T.payload));case 53:return L.next=55,Object(Hu.h)(Ft.fileUpload.cancel({path:n,fileType:a}));case 55:O++;case 56:L.next=27;break;case 58:L.next=63;break;case 60:L.prev=60,L.t0=L.catch(25),x.e(L.t0);case 63:return L.prev=63,x.f(),L.finish(63);case 66:return M=h.end(),L.next=69,Object(Hu.h)(Ft.fileCache.initProgress(M,c));case 69:return cc.setPersistentItem(M,b),_="FILE_UPLOAD_FINALIZE_"+n.toUpperCase(),A=vt("RESPONSE","FILE_UPLOAD_FINALIZE",n.toUpperCase()),L.next=74,Object(Hu.h)(Ft.cmds.put({id:_,meta:gt({},A),name:"file_upload_finalize",data:[n,a,M]}));case 74:return L.next=76,Object(Hu.k)(A);case 76:if((D=L.sent).payload.code!==_e){L.next=88;break}return L.next=80,Object(Hu.h)(Ft.fileUpload.finalize({path:n,fileType:a}));case 80:return L.next=82,Object(Hu.h)(Ft.fileCache.setFileKeyChecksum(r,M));case 82:return L.next=84,Object(Hu.h)(Ft.updateHelpers.currentFileChecksum(M));case 84:return L.next=86,Object(Hu.h)(Ft.fileCache.updateProgress(M,c));case 86:L.next=93;break;case 88:return L.next=90,Object(Hu.h)(Ft.messages.error("Failed to finalize upload: ".concat(n),D.payload));case 90:return L.next=92,Object(Hu.h)(Ft.fileUpload.cancel({path:n,fileType:a}));case 92:console.error("File upload error",D);case 93:L.next=115;break;case 95:if("?File exists"!==p.payload.code){L.next=110;break}return L.next=98,Object(Hu.j)(Sn,n);case 98:if(!L.sent.overwrite){L.next=104;break}return L.next=102,Object(Hu.h)(e,{path:n,fileType:a,data:i});case 102:L.next=108;break;case 104:return L.next=106,Object(Hu.h)(Ft.fileUpload.askForOverwrite({path:n,fileType:a}));case 106:return L.next=108,Object(Hu.h)(t,{path:n,fileType:a,data:i});case 108:L.next=115;break;case 110:return console.error("fileUploadInit error",p),L.next=113,Object(Hu.h)(Ft.messages.error("Failed to initialize file upload: ".concat(n),p.payload));case 113:return L.next=115,Object(Hu.h)(Ft.fileUpload.cancel({path:n,fileType:a}));case 115:return L.abrupt("return",!0);case 116:case"end":return L.stop()}}),td,null,[[25,60,63,66]])}function Ud(e){var t,n,a;return tc.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.path,e.fileType,i.next=3,Object(Hu.a)([Ft.fileUpload.cancel,Ft.fileUpload.cancelAll]);case 3:n=i.sent;case 4:return i.next=7,Object(Hu.k)(n);case 7:return i.next=9,Object(Hu.j)(Sn,t);case 9:if((a=i.sent)&&a.state!==Se){i.next=12;break}return i.abrupt("break",14);case 12:i.next=4;break;case 14:return i.abrupt("return",!0);case 15:case"end":return i.stop()}}),nd)}function Hd(e,t){var n,a,i,r;return tc.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(Hu.k)(e);case 3:return n=o.sent,a=n.path,i=n.fileType,r=n.data,o.next=9,Object(Hu.i)({error:Object(Hu.b)(Ud,{path:a,fileType:i}),complete:Object(Hu.b)(Rd,e,t,a,i,r)});case 9:o.next=0;break;case 11:case"end":return o.stop()}}),ad)}function Bd(e,t){var n,a,i,r,o,c,s,l,u,d,p,b,j,m,f,h,O,x,g,v,y,S,C,w,k,E,N;return tc.a.wrap((function(I){for(;;)switch(I.prev=I.next){case 0:return n={},I.next=3,Object(Hu.a)(Ft.fileUpload.cancel);case 3:return a=I.sent,I.next=6,Object(Hu.a)(Ft.fileUpload.cancelAll);case 6:return i=I.sent,I.next=9,Object(Hu.a)(Ft.fileUpload.confirmOverwrite);case 9:return r=I.sent,I.next=12,Object(Hu.a)(Ft.fileUpload.confirmOverwriteAll);case 12:o=I.sent;case 13:return I.next=16,Object(Hu.i)({newFileNeedsPermission:Object(Hu.k)(t),cancel:Object(Hu.k)(a),cancelAll:Object(Hu.k)(i),confirm:Object(Hu.k)(r),confirmAll:Object(Hu.k)(o)});case 16:if(c=I.sent,s=c.newFileNeedsPermission,l=c.cancel,u=c.cancelAll,d=c.confirm,p=c.confirmAll,!d){I.next=31;break}if(b=d.payload,j=b.path,m=b.fileType,!(f=n[j])){I.next=29;break}return delete n[j],I.next=29,Object(Hu.h)(e,{path:j,fileType:m,data:f});case 29:I.next=46;break;case 31:if(!p){I.next=45;break}h=Object.keys(n),O=0,x=h;case 34:if(!(O<x.length)){I.next=43;break}return g=x[O],v=n[g],delete n[g],I.next=40,Object(Hu.h)(e,{path:g,fileType:Ce,data:v});case 40:O++,I.next=34;break;case 43:I.next=46;break;case 45:if(l)y=l.payload.path,n[y]&&delete n[y];else if(u)for(S=Object.keys(n),C=0,w=S;C<w.length;C++)k=w[C],delete n[k];else s&&(E=s.path,N=s.data,n[E]=N);case 46:I.next=13;break;case 48:case"end":return I.stop()}}),id)}function Gd(e){var t,n,a,i,r;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.j)(Cn);case 2:t=e.sent,e.t0=tc.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,a=t[n],i=a.path,r=a.fileType,e.next=9,Object(Hu.h)(Ft.put.fileUploadCancel({data:[i,r]}));case 9:e.next=4;break;case 11:return e.next=13,Object(Hu.h)(Ft.fileUpload.removeAll());case 13:case"end":return e.stop()}}),rd)}function Jd(e){var t,n,a;return tc.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.path,a=t.fileType,i.next=3,Object(Hu.h)(Ft.put.fileUploadCancel({data:[n,a]}));case 3:return i.next=5,Object(Hu.h)(Ft.fileUpload.remove(n));case 5:case"end":return i.stop()}}),od)}function Wd(){var e,t,n,a,i,r,o,c,s,l;return tc.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e=Gc.channel,u.next=3,Object(Hu.b)(mc.channel);case 3:return t=u.sent,u.next=6,Object(Hu.b)(mc.channel);case 6:n=u.sent,a=10,i=0;case 9:if(!(i<a)){u.next=15;break}return u.next=12,Object(Hu.f)(Hd,t,n);case 12:i++,u.next=9;break;case 15:return u.next=17,Object(Hu.f)(Bd,t,n);case 17:return u.next=19,Object(Hu.l)(Ft.fileUpload.cancel,Jd);case 19:return u.next=21,Object(Hu.m)(Ft.fileUpload.cancelAll,Gd);case 21:return u.next=24,Object(Hu.k)(e);case 24:return r=u.sent,o=r.path,c=r.fileType,s=r.data,l=r.overwrite,u.next=31,Object(Hu.j)(Gt);case 31:if(!u.sent){u.next=43;break}return u.next=35,Object(Hu.j)(Cn);case 35:if(u.sent[o]){u.next=41;break}return u.next=39,Object(Hu.h)(Ft.fileUpload.queued({path:o,fileType:c,overwrite:l}));case 39:return u.next=41,Object(Hu.h)(t,{path:o,fileType:c,data:s});case 41:u.next=47;break;case 43:return u.next=45,Object(Hu.e)(t);case 45:return u.next=47,Object(Hu.e)(n);case 47:u.next=21;break;case 49:case"end":return u.stop()}}),cd)}function Vd(e){var t,n,a,i;return tc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload.data,n=uc(t),a=n.fileType,i=n.path,!a||!i){r.next=5;break}return r.next=5,fc.addDownload(i,a);case 5:case"end":return r.stop()}}),sd)}function zd(){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.m)(Ft.update.program,Vd);case 2:case"end":return e.stop()}}),ld)}function Kd(e,t,n){var a,i,r,o,c,s,l,u,d,p,b,j,m,f,h,O,x,g;return tc.a.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Object(Hu.j)(vn,e);case 2:if(a=v.sent,i=lc(t,e),!a){v.next=70;break}return r="FILE_DOWNLOAD_INIT_"+e.toUpperCase(),o=vt("RESPONSE","FILE_DOWNLOAD_INIT",e.toUpperCase()),v.next=9,Object(Hu.h)(Ft.cmds.put({id:r,meta:gt({},o),data:[e,t],name:"file_download_init"}));case 9:return v.next=11,Object(Hu.k)(o);case 11:if((c=v.sent).payload.code!==_e){v.next=65;break}return s=c.payload.data,l=s.size,u=s.checksum,v.next=16,Object(Hu.h)(Ft.fileCache.setFileKeyChecksum(i,u));case 16:return v.next=18,Object(Hu.h)(Ft.fileCache.initProgress(u,l));case 18:return v.next=20,Object(Hu.b)([cc,cc.getItem],u);case 20:if(!v.sent){v.next=28;break}return v.next=24,Object(Hu.h)(Ft.fileCache.updateProgress(u,l));case 24:return v.next=26,Object(Hu.h)(Ft.put.fileDownloadCancel({data:[e,t]}));case 26:v.next=62;break;case 28:d=new ArrayBuffer(l),cc.setMemoryItem(u,d),p=new Uint8Array(d),b=0,j=Math.ceil(l/Me),m=0;case 34:if(!(m<j)){v.next=59;break}return f="FILE_DOWNLOAD_CHUNK_"+m+"_"+e.toUpperCase(),h=vt("RESPONSE","FILE_DOWNLOAD_CHUNK_"+m,e.toUpperCase()),v.next=39,Object(Hu.h)(Ft.cmds.put({id:f,name:"file_download_chunk",data:[e,t,Me],meta:gt({},h)}));case 39:return v.next=41,Object(Hu.k)(h);case 41:if((O=v.sent).payload.code!==_e){v.next=50;break}for(x=atob(O.payload.data.chunk),g=0;g<x.length;g++)p[g+b]=x.charCodeAt(g);return b+=x.length,v.next=48,Object(Hu.h)(Ft.fileCache.updateProgress(u,b));case 48:v.next=56;break;case 50:return console.error("File download error",O),v.next=53,Object(Hu.h)(Ft.messages.error("Failed to download file: ".concat(e),O.payload));case 53:return v.next=55,Object(Hu.h)(Ft.put.fileDownloadCancel({data:[e,t]}));case 55:return v.abrupt("break",59);case 56:m++,v.next=34;break;case 59:return v.next=61,Object(Hu.h)(Ft.fileCache.updateProgress(u,l));case 61:cc.setPersistentItem(u,d);case 62:n&&n(cc,u,e),v.next=70;break;case 65:return console.error("fileDownloadInit error",c),v.next=68,Object(Hu.h)(Ft.messages.error("Failed to initialize file download: ".concat(e),c.payload));case 68:return v.next=70,Object(Hu.h)(Ft.fileDownload.cancel({path:e,fileType:t}));case 70:return v.abrupt("return",!0);case 71:case"end":return v.stop()}}),ud)}function Zd(e){var t,n,a;return tc.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.path,e.fileType,i.next=3,Object(Hu.a)([Ft.fileDownload.cancel,Ft.fileDownload.cancelAll]);case 3:n=i.sent;case 4:return i.next=7,Object(Hu.k)(n);case 7:return i.next=9,Object(Hu.j)(vn,t);case 9:if((a=i.sent)&&a.state!==Se){i.next=12;break}return i.abrupt("break",14);case 12:i.next=4;break;case 14:return i.abrupt("return",!0);case 15:case"end":return i.stop()}}),dd)}function Yd(e){var t,n,a,i;return tc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Hu.k)(e);case 3:return t=r.sent,n=t.path,a=t.fileType,i=t.callback,r.next=9,Object(Hu.i)({error:Object(Hu.b)(Zd,{path:n,fileType:a}),complete:Object(Hu.b)(Kd,n,a,i)});case 9:r.next=0;break;case 11:case"end":return r.stop()}}),pd)}function Xd(e){var t,n,a,i,r;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.j)(yn);case 2:t=e.sent,e.t0=tc.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=11;break}return n=e.t1.value,a=t[n],i=a.path,r=a.fileType,e.next=9,Object(Hu.h)(Ft.put.fileDownloadCancel({data:[i,r]}));case 9:e.next=4;break;case 11:return e.next=13,Object(Hu.h)(Ft.fileDownload.removeAll());case 13:case"end":return e.stop()}}),bd)}function qd(e){var t,n,a;return tc.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.path,a=t.fileType,i.next=3,Object(Hu.h)(Ft.put.fileDownloadCancel({data:[n,a]}));case 3:return i.next=5,Object(Hu.h)(Ft.fileDownload.remove(n));case 5:case"end":return i.stop()}}),jd)}function Qd(){var e,t,n,a,i,r,o,c;return tc.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e=fc.channel,s.next=3,Object(Hu.b)(mc.channel);case 3:t=s.sent,n=10,a=0;case 6:if(!(a<n)){s.next=12;break}return s.next=9,Object(Hu.f)(Yd,t);case 9:a++,s.next=6;break;case 12:return s.next=14,Object(Hu.l)(Ft.fileDownload.cancel,qd);case 14:return s.next=16,Object(Hu.m)(Ft.fileDownload.cancelAll,Xd);case 16:return s.next=19,Object(Hu.k)(e);case 19:return i=s.sent,r=i.path,o=i.fileType,c=i.callback,s.next=25,Object(Hu.j)(Gt);case 25:if(!s.sent){s.next=37;break}return s.next=29,Object(Hu.j)(yn);case 29:return s.sent,s.next=33,Object(Hu.h)(Ft.fileDownload.queued({path:r,fileType:o,callback:c}));case 33:return s.next=35,Object(Hu.h)(t,{path:r,fileType:o,callback:c});case 35:s.next=39;break;case 37:return s.next=39,Object(Hu.e)(t);case 39:s.next=16;break;case 41:case"end":return s.stop()}}),md)}function $d(e,t){return tc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Hu.d)(e);case 2:return n.next=4,Object(Hu.h)(t);case 4:case"end":return n.stop()}}),fd)}function ep(e,t){var n;return tc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Hu.d)(e);case 2:return a.next=4,Object(Hu.k)(t);case 4:return n=a.sent,a.next=7,Object(Hu.h)(n);case 7:case"end":return a.stop()}}),hd)}function tp(){var e,t,n,a,i,r,o,c,s,l,u;return tc.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(Hu.a)(Object.values(Ft.delayed.put));case 2:e=d.sent,t={},n={};case 5:return d.next=8,Object(Hu.k)(e);case 8:if(a=d.sent,i=a.type,r=a.payload,o=i.split("/"),c=o[o.length-1],s=yt(c),i in n){d.next=17;break}return d.next=16,Object(Hu.b)(mc.channel,mc.buffers.sliding(1));case 16:n[i]=d.sent;case 17:return r.id,r.name,l=r.meta,u=Object(Pi.a)(r,["id","name","meta"]),d.next=20,Object(Hu.h)(n[i],Ft.put[s]({data:u,meta:l}));case 20:if(i in t&&t[i].isRunning()){d.next=24;break}return d.next=23,Object(Hu.f)(ep,50,n[i]);case 23:t[i]=d.sent;case 24:d.next=5;break;case 26:case"end":return d.stop()}}),Od)}function np(){var e,t,n,a,i,r,o,c,s,l;return tc.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Hu.a)(Object.values(Ft.update).concat(Object.values(Ft.delayed.update)));case 2:e=u.sent,t={},n=vt("DELAYED","UPDATE");case 5:return u.next=8,Object(Hu.k)(e);case 8:return a=u.sent,u.next=11,Object(Hu.j)(ga);case 11:if(i=u.sent,r=a.type,o=a.payload,c=r.split("/"),s=c[c.length-1],!((l=yt(s))in i)){u.next=33;break}if(!(l in t)||!t[l].isRunning()){u.next=25;break}return u.next=20,Object(Hu.c)(t[l]);case 20:return u.next=22,Object(Hu.f)($d,i[l],Ft.delayed.updateImmediate[l](o));case 22:t[l]=u.sent,u.next=33;break;case 25:if(!r.startsWith(n)){u.next=31;break}return u.next=28,Object(Hu.f)($d,i[l],Ft.delayed.updateImmediate[l](o));case 28:t[l]=u.sent,u.next=33;break;case 31:return u.next=33,Object(Hu.h)(Ft.delayed.updateImmediate[l](o));case 33:u.next=5;break;case 35:case"end":return u.stop()}}),xd)}var ap,ip=function(){return{id:xe,reducerMap:{rockhopper:Uu()},sagas:[Td,Ld,Wd,Qd,zd,np,tp]}},rp=n(409),op=sessionStorage.getItem(Wa),cp={enableKeyboardJogging:!0,enableMouseWheelJogging:!1,dialect:"industry",language:"en",mdiSortKey:"time",mdiText:"",mdiShowUniqueHistoryOnly:!1,messages:op?JSON.parse(op):[],messageBadges:{debug:[],info:[],warning:[],error:[]},popups:[],isEditingOverlay:!1,configOverlay:{},isEditingCompensation:!1,compensation:{},axisSelectJog:{axis:"X",digitIndex:1},dro:{display:"position"},jog:{display:"position"}},sp=Object(Du.a)((ap={},Object(b.a)(ap,Ka.enableKeyboardJogging,Object(ce.a)((function(e,t){e.enableKeyboardJogging=!0}))),Object(b.a)(ap,Ka.disableKeyboardJogging,Object(ce.a)((function(e,t){e.enableKeyboardJogging=!1}))),Object(b.a)(ap,Ka.enableMouseWheelJogging,Object(ce.a)((function(e,t){e.enableMouseWheelJogging=!0}))),Object(b.a)(ap,Ka.disableMouseWheelJogging,Object(ce.a)((function(e,t){e.enableMouseWheelJogging=!1}))),Object(b.a)(ap,Ka.changeLanguage,Object(ce.a)((function(e,t){e.language=t.payload}))),Object(b.a)(ap,Ka.changeDialect,Object(ce.a)((function(e,t){e.dialect=t.payload}))),Object(b.a)(ap,Ka.setMdiSortKey,Object(ce.a)((function(e,t){e.mdiSortKey=t.payload}))),Object(b.a)(ap,Ka.setMdiText,Object(ce.a)((function(e,t){e.mdiText=t.payload}))),Object(b.a)(ap,Ka.setMdiShowUniqueHistoryOnly,Object(ce.a)((function(e,t){e.mdiShowUniqueHistoryOnly=t.payload}))),Object(b.a)(ap,Ka.clearMessageBadge,Object(ce.a)((function(e,t){e.messageBadges[t.payload]=[]}))),Object(b.a)(ap,Object(rp.a)(Ft.messages.debug,Ft.messages.info,Ft.messages.warning,Ft.messages.error),Object(ce.a)((function(e,t){switch(e.messages.unshift(t.payload),t.type){case Ft.messages.debug.toString():e.messageBadges.debug.push(t.payload);break;case Ft.messages.info.toString():e.messageBadges.info.push(t.payload);break;case Ft.messages.warning.toString():e.messageBadges.warning.push(t.payload);break;case Ft.messages.error.toString():e.messageBadges.error.push(t.payload)}}))),Object(b.a)(ap,Ka.popup.show,Object(ce.a)((function(e,t){if(e.popups.splice(0,0,t.payload),e.popups.length>1)for(var n=e.popups.length-1,a=0,i=e.popups.length-1;i>=0&&a<n;i--)e.popups[i].dismiss===Re&&(e.popups.splice(i,1),a++)}))),Object(b.a)(ap,Ka.popup.hide,Object(ce.a)((function(e,t){var n=e.popups.findIndex((function(e){return e.id===t.payload.id}));n>-1&&e.popups.splice(n,1)}))),Object(b.a)(ap,Ka.overlay.enableEditing,Object(ce.a)((function(e,t){e.isEditingOverlay=!0,e.configOverlay=t.payload}))),Object(b.a)(ap,Ka.overlay.disableEditing,Object(ce.a)((function(e,t){e.isEditingOverlay=!1}))),Object(b.a)(ap,Ka.overlay.deleteSection,Object(ce.a)((function(e,t){delete e.configOverlay[t.payload]}))),Object(b.a)(ap,Ka.overlay.set,Object(ce.a)((function(e,t){e.configOverlay=t.payload}))),Object(b.a)(ap,Ka.compensation.enableEditing,Object(ce.a)((function(e,t){e.isEditingCompensation=!0,e.compensation=t.payload}))),Object(b.a)(ap,Ka.compensation.disableEditing,Object(ce.a)((function(e,t){e.isEditingCompensation=!1}))),Object(b.a)(ap,Ka.compensation.deleteSection,Object(ce.a)((function(e,t){delete e.compensation[t.payload]}))),Object(b.a)(ap,Ka.compensation.set,Object(ce.a)((function(e,t){e.compensation=t.payload}))),Object(b.a)(ap,Ka.axisSelectJog.setAxis,Object(ce.a)((function(e,t){e.axisSelectJog.axis=t.payload,["A","B","C"].includes(t.payload)?e.axisSelectJog.digitIndex=Math.max(1,Math.min(5,e.axisSelectJog.digitIndex)):e.axisSelectJog.digitIndex=Math.max(1,Math.min(4,e.axisSelectJog.digitIndex))}))),Object(b.a)(ap,Ka.axisSelectJog.incrementAxis,Object(ce.a)((function(e,t){var n=t.payload,a=n.inc,i=n.axisSelectJogAxis,r=n.trajCoords,o=r.indexOf(i),c=Math.max(0,Math.min(4,o+a));e.axisSelectJog.axis=r[c],["A","B","C"].includes(e.axisSelectJog.axis)?e.axisSelectJog.digitIndex=Math.max(1,Math.min(5,e.axisSelectJog.digitIndex)):e.axisSelectJog.digitIndex=Math.max(1,Math.min(4,e.axisSelectJog.digitIndex))}))),Object(b.a)(ap,Ka.axisSelectJog.setDigitIndex,Object(ce.a)((function(e,t){e.axisSelectJog.digitIndex=t.payload}))),Object(b.a)(ap,Ka.axisSelectJog.incrementDigitIndex,Object(ce.a)((function(e,t){null===e.axisSelectJog.digitIndex&&1===t.payload?e.axisSelectJog.digitIndex=1:["A","B","C"].includes(e.axisSelectJog.axis)?e.axisSelectJog.digitIndex=Math.max(1,Math.min(5,e.axisSelectJog.digitIndex+t.payload)):e.axisSelectJog.digitIndex=Math.max(1,Math.min(4,e.axisSelectJog.digitIndex+t.payload))}))),Object(b.a)(ap,Ka.dro.setDisplay,Object(ce.a)((function(e,t){e.dro.display=t.payload}))),Object(b.a)(ap,Ka.jog.setDisplay,Object(ce.a)((function(e,t){e.jog.display=t.payload}))),ap),cp),lp=tc.a.mark(bp),up=tc.a.mark(jp),dp=tc.a.mark(mp),pp=function(e,t){window.sessionStorage.setItem(e,t)};function bp(e){var t;return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.j)(bi);case 2:return t=e.sent,e.next=5,Object(Hu.b)(pp,Wa,JSON.stringify(t));case 5:case"end":return e.stop()}}),lp)}function jp(e){var t;return tc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(Hu.f)(bp);case 3:return n.next=5,Object(Hu.h)(Ka.popup.show(t));case 5:if(t.dismiss!==Re){n.next=10;break}return n.next=8,Object(Hu.d)(3e3);case 8:return n.next=10,Object(Hu.h)(Ka.popup.hide(t));case 10:case"end":return n.stop()}}),up)}function mp(){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hu.l)([Ft.messages.debug,Ft.messages.info,Ft.messages.warning,Ft.messages.error],jp);case 2:case"end":return e.stop()}}),dp)}var fp,hp=function(){return{id:Ja,reducerMap:{pentaui:sp},sagas:[mp]}},Op=JSON.parse(localStorage.getItem(ys)||"{}"),xp={connected:!1,webSocket:{host:Op.host||(-1===document.location.hostname.indexOf("localhost")?document.location.hostname:"192.168.6.2"),port:Op.port||"8080"}},gp=Object(Du.a)((fp={},Object(b.a)(fp,Cs.setConnected,Object(ce.a)((function(e,t){e.connected=t.payload}))),Object(b.a)(fp,Cs.receiveKineticMessage,(function(e,t){return Object(j.a)(Object(j.a)({},e),t.payload)})),Object(b.a)(fp,Cs.sendKineticMessage,Object(ce.a)((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.payload[0],{loading:!0}))}))),Object(b.a)(fp,Cs.setConnectionDetails,Object(ce.a)((function(e,t){var n=t.payload,a=n.host,i=n.port;e.webSocket.host=a,e.webSocket.port=i}))),fp),xp),vp=tc.a.mark(_p),yp=tc.a.mark(Ap),Sp=tc.a.mark(Dp),Cp=tc.a.mark(Lp),wp=tc.a.mark(Pp),kp=tc.a.mark(Rp),Ep=function(e,t,n){try{return new WebSocket("ws".concat(n?"s":"","://").concat(e,":").concat(t,"/"))}catch(a){return console.log("in catch"),null}},Np=function(){var e=Object(nc.a)(tc.a.mark((function e(t){return tc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n=setTimeout((function(){t.removeEventListener("open",a),t.close(),e()}),5e3),a=function a(){clearTimeout(n),t.removeEventListener("open",a),e()};t.addEventListener("open",a)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ip=function(e,t){console.log(JSON.stringify(t)),e.send(JSON.stringify(t))},Tp=function(e){e.readyState!==WebSocket.CLOSED&&e.readyState!==WebSocket.CLOSING&&e.close()},Mp=function(e){return Object(mc.eventChannel)((function(t){var n=function(e){var n=JSON.parse(e.data);console.log("in onMessage %s",e.data),t(n)},a=function(){t(new Error("Kinetic websocket closed."))};return e.addEventListener("message",n),e.addEventListener("close",a),function(){e.removeEventListener("message",n),e.removeEventListener("close",a)}}))};function _p(e,t){return tc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Hu.b)(Ip,e,t.payload);case 2:case"end":return n.stop()}}),vp)}function Ap(e){return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Hu.l)([Cs.sendKineticMessage],_p,e);case 2:case"end":return t.stop()}}),yp)}function Dp(e){var t,n;return tc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Hu.b)(Mp,e);case 2:return t=a.sent,a.next=5,Object(Hu.h)(Cs.sendKineticMessage(["getDeployments"]));case 5:return a.next=7,Object(Hu.h)(Cs.sendKineticMessage(["getLatest"]));case 7:return a.next=9,Object(Hu.h)(Cs.sendKineticMessage(["getServiceStatus"]));case 9:return a.prev=10,a.next=13,Object(Hu.k)(t);case 13:return n=a.sent,console.log(n),a.next=17,Object(Hu.h)(Cs.receiveKineticMessage(n));case 17:if(!n.deployCommit){a.next=26;break}if(!n.deployCommit.deployed){a.next=24;break}return a.next=22,Object(Hu.h)(Cs.sendKineticMessage(["getDeployments"]));case 22:return a.next=24,Object(Hu.h)(Cs.sendKineticMessage(["getLatest"]));case 24:a.next=38;break;case 26:if(!n.upgradeToCommit){a.next=35;break}if(!n.upgradeToCommit.upgraded){a.next=33;break}return a.next=31,Object(Hu.h)(Cs.sendKineticMessage(["getDeployments"]));case 31:return a.next=33,Object(Hu.h)(Cs.sendKineticMessage(["getLatest"]));case 33:a.next=38;break;case 35:if(!n.shutdownServices){a.next=38;break}return a.next=38,Object(Hu.h)(Cs.sendKineticMessage(["getServiceStatus"]));case 38:a.next=44;break;case 40:a.prev=40,a.t0=a.catch(10),console.log("caught error",a.t0),t.close();case 44:a.next=9;break;case 46:case"end":return a.stop()}}),Sp,null,[[10,40]])}function Lp(){var e,t,n,a,i,r;return tc.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Hu.j)(Es);case 2:return e=o.sent,t=e.host,n=e.port,o.next=7,Object(Hu.b)(Ep,t,n);case 7:return a=o.sent,o.next=10,Object(Hu.b)(Np,a);case 10:if(!a||a.readyState!==WebSocket.OPEN){o.next=27;break}return o.next=13,Object(Hu.h)(Cs.setConnected(!0));case 13:return o.next=15,Object(Hu.f)(Ap,a);case 15:return i=o.sent,o.next=18,Object(Hu.f)(Dp,a);case 18:return r=o.sent,o.next=21,Object(Hu.g)(r);case 21:return o.next=23,Object(Hu.c)(i);case 23:return o.next=25,Object(Hu.h)(Cs.setConnected(!1));case 25:return o.next=27,Object(Hu.b)(Tp,a);case 27:case"end":return o.stop()}}),Cp)}function Pp(){var e;return tc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Hu.a)(Cs.setConnectionDetails);case 2:e=t.sent;case 3:return t.next=6,Object(Hu.i)({updateConnectionDetails:Object(Hu.k)(e),connection:Object(Hu.b)(Lp)});case 6:if(!t.sent.updateConnectionDetails){t.next=12;break}return t.next=10,Object(Hu.b)(Rp);case 10:t.next=14;break;case 12:return t.next=14,Object(Hu.d)(1e3);case 14:t.next=3;break;case 16:case"end":return t.stop()}}),wp)}var Fp=function(e,t){localStorage.setItem(ys,JSON.stringify({host:e,port:t}))};function Rp(){var e,t,n;return tc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Hu.j)(Es);case 2:return e=a.sent,t=e.host,n=e.port,a.next=7,Object(Hu.b)(Fp,t,n);case 7:case"end":return a.stop()}}),kp)}var Up=function(){return{id:vs,reducerMap:{kinetic:gp},sagas:[Pp]}},Hp=n(106),Bp=n(113),Gp=n(228),Jp=n(230),Wp=n(231),Vp={en:{common:Jp,intuitive:n(232),industry:Wp}};Hp.a.use(Gp.a).use(Bp.e).init({lng:"en",fallbackLng:"en",preload:["en"],supportedLngs:["en","de","es","sv","jp"],ns:["common","industry","intuitive"],defaultNS:"common",debug:!1}),Hp.a.addResourceBundle("en","common",Vp.en.common),Hp.a.addResourceBundle("en","industry",Vp.en.industry),Hp.a.addResourceBundle("en","intuitive",Vp.en.intuitive);Hp.a;var zp=Object(Mu.createStore)({initialState:Object(ce.a)({},(function(){})),enhancers:[],extensions:[Object(_u.getSagaExtension)()],compose:Au.composeWithDevTools},ip(),hp(),xu(),Up());c.a.render(Object(ie.jsx)(r.a.StrictMode,{children:Object(ie.jsx)(s.Provider,{store:zp,children:Object(ie.jsx)(Tu,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[332,1,2]]]);
//# sourceMappingURL=main.6ab08cee.chunk.js.map