{"version":3,"sources":["webpack:///./src/logo.svg?515f","modules/rockhopper/selectors.js","components/DialectProvider.js","hooks/useTranslation.js","components/Panel.js","components/SubmittableTextField.js","components/UnitsProvider.js","modules/rockhopper/constants.js","hooks/useUnits.js","components/ToolTable.js","modules/rockhopper/api.js","modules/rockhopper/commands.js","modules/rockhopper/actions.js","containers/ToolTable.js","components/ToolOffsets.js","components/SubmittableDialog.js","components/ModalSubmittableTextField.js","components/WorkOffsets.js","containers/WorkOffsets.js","modules/pentaui/constants.js","modules/pentaui/actions.js","components/HomeAllButton.js","containers/HomeAllButton.js","modules/pentaui/selectors.js","components/Gauges/util/path.js","hooks/useFilter.js","components/IncrementalSpinner.js","components/IncrementalFloatingPointSpinner.js","util/functions.js","components/JogSpinners.js","util/sounds.js","containers/JogSpinners.js","containers/KeyboardJoggingSwitch.js","components/Jog.js","containers/Jog.js","components/SetupTab.js","components/KeyboardCaptureDialog.js","components/MdiFavoritesTableBody.js","components/MdiFavoritesTableToolbar.js","components/MdiFavoritesTable.js","components/MdiHistoryList.js","components/MdiQuickAccessButton.js","components/MdiQuickAccessGrid.js","components/TabPanel.js","components/Mdi.js","containers/Mdi.js","components/Gauges/index.js","components/Gauges/util/math.js","components/Gauges/SegmentedArcGauge.js","components/Gauges/ArcText.js","components/Gauges/ArcHeader.js","components/ThreeBarGauge.js","components/Spindle.js","containers/Spindle.js","components/Feed.js","containers/Feed.js","components/Control.js","containers/Control.js","components/ManualTab.js","modules/rockhopper/file-cache.js","components/MessageLog.js","components/GCodeEditor.js","modules/rockhopper/download-queue.js","containers/GCodeEditor.js","components/FileBrowser.js","containers/FileBrowser.js","components/GCodeFileBrowserDialog.js","containers/GCodeFileBrowserDialog.js","components/FileHeaderActions.js","modules/rockhopper/file-queue.js","containers/FileHeaderActions.js","components/GCodeProgram.js","components/DRO.js","containers/DRO.js","components/ProductionTab.js","components/Timestamp.js","components/MessageDetails.js","containers/MessageLog.js","components/HistoryTab.js","components/Display.js","components/ConnectionDetails.js","containers/ConnectionDetails.js","components/Language.js","containers/Language.js","components/Units.js","containers/Units.js","components/KeyboardShortcutsConfig.js","containers/KeyboardShortcutsConfig.js","components/ClientTab.js","components/MachineConfig.js","containers/MachineConfig.js","components/ServerTab.js","components/ConfigTab.js","components/Tabs.js","components/TopBar.js","containers/TopBar.js","components/KeyboardShortcuts.js","modules/router/selectors.js","containers/KeyboardShortcuts.js","components/StatusItem.js","components/TwoLineStatusItem.js","components/ActiveCodesStatusItem.js","containers/ActiveCodesStatusItem.js","components/MessageBadgesStatusItem.js","containers/MessageBadgesStatusItem.js","components/StatusBar.js","containers/StatusBar.js","components/BottomBar.js","containers/BottomBar.js","modules/router/index.js","components/Popups.js","containers/Popups.js","logo.svg","components/App.js","containers/App.js","serviceWorker.js","modules/rockhopper/reducers.js","modules/rockhopper/sagas.js","modules/rockhopper/index.js","modules/pentaui/reducers.js","modules/pentaui/sagas.js","modules/pentaui/index.js","i18n.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","id","xmlns","viewBox","ref","d","section","ForwardRef","DialectContext","React","createContext","DialectProvider","Provider","useTranslationHook","useTranslation","t","i18n","ready","dialect","useContext","dialectTranslation","useStyles","makeStyles","theme","paper","panelHeader","typography","headerBox","position","height","marginBottom","spacing","display","line","borderBottom","palette","text","primary","marginLeft","width","svg","verticalAlign","bottom","left","Panel","label","children","classes","angle","Math","PI","curveX","cos","curveY","sin","pts","tan","Box","m","className","map","cmd","join","fill","Paper","elevation","root","SubmittableTextField","value","onChange","onSubmit","useState","tmpValue","setTmpValue","editing","setEditing","displayValue","handleFocus","useCallback","e","handleChange","preventDefault","handleBlur","handleKeyDown","blur","TextField","onFocus","onBlur","onKeyDown","UnitsContext","UnitsProvider","MODULE_ID","FILE_UPLOAD_QUEUED","FILE_UPLOAD_UPLOADING","FILE_UPLOAD_ASK_FOR_OVERWRITE","FILE_UPLOAD_CANCELED","FILE_TYPES","WATCH_CMD","LOGIN_ID","HEARTBEAT_ID","FILE_UPLOAD_CHUNK_SIZE","FILE_DOWNLOAD_CHUNK_SIZE","OK_CODE","LOCALSTORAGE_KEY","DEBUG","INFO","WARNING","ERROR","BASIC","MACHINE_STATUS","TASK_MODE","INTERP_STATE","TOOL_ENTRY_INDICES","UNITS","MACHINE_UNITS","ANGLE","ANGULAR_VELOCITY","LENGTH","LINEAR_VELOCITY","POWER","PRESSURE","SPINDLE_SPEED","SURFACE_SPEED","TEMPERATURE","AXES","X","Y","Z","A","B","C","TYPE_MAP","DECIMALS","unit","lengthOptions","Set","angleOptions","pressureOptions","temperatureOptions","linearVelocityOptions","angularVelocityOptions","SHORTCUTS","AXIS_SELECT_JOG","OTHER","JOG_MODIFIERS","JOG","toProgramUnits","unitObject","unitSystemModalCode","unitType","convert","from","to","constantsKey","split","keyPiece","toUpperCase","machineUnit","toMachineUnits","startsWith","substr","useUnits","displayUnits","activeCodes","getDisplayUnitStringFromType","displayUnit","includes","getDisplayUnitStringFromUnit","toDisplayUnits","physicalQuantity","container","flexDirection","overflow","cell","flex","justifyContent","fixedSizeList","overflowX","overflowY","measureButton","row","boxSizing","headerRow","direction","headerCell","textAlign","textFieldInput","dataText","border","main","borderRadius","borderWidth","padding","marginRight","light","grey","numericalTextFieldInput","paddingTop","paddingBottom","textFieldNotchedOutline","toolNumButton","activeToolNumberBox","backgroundColor","color","ToolTable","toolInSpindle","toolTable","toolTableDescriptions","toolFlutes","readyForMdi","onMeasureTool","onLoadTool","onToolDescriptionChanged","onToolFlutesChanged","onSetToolLengthOffset","onSetToolDiameter","decimalPoints","scrollRef","useRef","listRef","useEffect","current","scrollTo","headerRef","pad","setPad","handleResize","offsetWidth","ROW_MIN_WIDTH","window","addEventListener","removeEventListener","handleMeasureTool","toolNumber","style","paddingRight","flexGrow","minWidth","itemCount","itemSize","onScroll","event","scrollOffset","scrollUpdateWasRequested","index","tool","Array","offsetQuantity","diameterQuantity","disabled","isReady","fullWidth","variant","description","InputProps","input","notchedOutline","flutes","produce","draft","splice","toFixed","oldDiameter","Number","isNaN","handleSetToolDiameter","oldOffset","handleSetToolOffset","Button","classnames","onClick","size","Tooltip","StatusItems","name","watchable","requiresFeature","CommandItems","paramTypes","get","data","meta","command","watch","unwatch","put","rockhopperMessage","type","payload","addActionEmitterToMeta","actionEmitter","actionEmitters","createRockhopperActionType","createFriendlyName","camelCase","watchableItems","filter","item","getActions","reduce","a","opt","cmds","watchActions","unwatchActions","updateActions","undefined","putActions","putResponseActions","getResponseActions","getHelpers","FEATURES","parameter","PROGRAM_PREFIX","putHelpers","JOG_INCREMENT","axis","jointFlag","speed","increment","JOG_CONTINUOUS","JOG_STOP","updateHelpers","COMPENSATION","CONFIG_OVERLAY","TOOL_TABLE_DESCRIPTIONS","TOOL_TABLE","TOOL_DIAMETER","TOOL_LENGTH_OFFSET","TOOL_FLUTES","SET_DISPLAY_UNITS","getHelperResponses","responses","helperName","putHelperResponses","statusItemToRequiresFeature","all","createActions","CMDS","RAW","GET","WATCH","UNWATCH","PUT","LIST_GET","LIST_PUT","SET_CONNECTION_DETAILS","server","port","user","password","encrypted","SET_LOGGED_IN","ADD_ACTION_EMITTER","REMOVE_ACTION_EMITTER","FILE_UPLOAD","QUEUED","ASK_FOR_OVERWRITE","CONFIRM_OVERWRITE","CONFIRM_OVERWRITE_ALL","PROGRESS","FINALIZE","CANCEL","CANCEL_ALL","REMOVE","REMOVE_ALL","FILE_DOWNLOAD","FILE_CACHE","SET_PATH_CHECKSUM","path","checksum","INIT_PROGRESS","UPDATE_PROGRESS","bytesLoaded","GET_HELPERS","PUT_HELPERS","UPDATE_HELPERS","MESSAGES","message","details","dismiss","uuidv4","timestamp","Date","now","UPDATE","RESPONSE","DELAYED","REGISTER_UPDATE","UPDATE_IMMEDIATE","prefix","selectRockhopper","state","rockhopper","selectWebSocket","webSocket","selectIsLoggedIn","isLoggedIn","selectConfig","status","config","parameters","sections","selectGcodeMap","gcodeMap","mapIni","ini","forEach","param","idx","values","selectConfigMap","selectConfigOverlayMap","configOverlay","selectCompensation","compensation","selectCurrentLine","motionLine","selectEstop","estop","selectG5xIndex","g5xIndex","selectG5xOffset","g5xOffset","selectG92Offset","g92Offset","selectToolInSpindle","selectToolOffset","toolOffset","selectFeatures","features","selectCurrentFileChecksum","fileCache","paths","program","selectCurrentFileProgress","progress","selectMachineStatus","interpState","taskMode","selectProgramPrefix","programPrefix","selectHasHss","createSelector","selectHssWarmUpNeeded","hasHss","halpinHssWarmupWarmupNeeded","selectHssPerformingWarmUp","halpinHssWarmupPerformingWarmup","selectHssFullWarmUpNeeded","halpinHssWarmupFullWarmupNeeded","makeConfigParameterSelector","accum","selectTrajCoordinates","selectMaxLinearVelocity","selectAxisToJointMap","coords","a2j","j","selectProgramList","ls","file","replace","sort","b","localeCompare","navigator","languages","language","numeric","ignorePunctuation","selectActiveCodes","gcodes","mcodes","settings","halpinMotionSwitchkinsType","toolReleased","viceReleased","kinsType","codes","slice","toString","code","push","selectUnitsCode","selectProgram","selectFileDownload","fileDownload","selectFileDownloads","selectFileUpload","fileUpload","selectFileUploads","selectFileUploadsThatNeedOverwritePermission","needsOverwritePermission","overwrite","selectAxes","axisMask","axes","axisNames","jointIndex","selectIsMachineHomed","joints","homed","selectAxesData","axesData","selectFeedPower","abs","velocity","torque","selectPositions","actualPosition","jointActualPosition","dtg","selectSpindleTemperature","spindleTemperature","selectSpindlePressure","spindlePressure","selectMaximumSpindleSpeed","spindleMaxSpeed","selectMeasuredSpindleSpeed","round","measuredSpindleSpeed","selectCalculatedFeedrate","calculatedFeedrate","selectSpindlePower","measuredSpindleCurrent","measuredSpindleVoltage","selectSpindleLoad","power","spindleSpeed","maxPowerAtRPM","selectDelayedMaxVelPercentage","maxLinearVel","maxVel","delayed","halpinHaluiMaxVelocityValue","selectDelayedRapidRatePercentage","maxLinearVelocity","rapidrate","selectDelayedFeedratePercentage","feedrate","selectDelayedSpindle","spindle","override","selectClientConfig","spindlerate","clientConfig","selectDisplayUnits","angularVelocity","linearVelocity","pressure","surfaceSpeed","temperature","time","selectToolTable","rawToolTable","units","lengthUnit","angleUnit","unitsForTool","toolRow","toolDatum","selectKeyboardShortcuts","KeyboardShortcuts","selectKeyboardShortcutsJogModifiers","shortcuts","jogModifiers","selectKeyboardShortcutsJog","jog","selectKeyboardShortcutsAxisSelectJog","axisSelectJog","selectKeyboardShortcutsOther","other","selectKeyboardShortcutsMdi","mdi","selectKeyboardShortcutsAxisSelectJogMap","axisSelectJogShortcuts","charAt","selectKeyboardShortcutsOtherMap","otherShortcuts","selectMdiHistory","MDIHistory","selectMdiFavorites","MDIFavorites","selectKeyboardShortcutsMdiMap","mdiFavorites","fav","keybind","mdiCmdArrayToSet","mdiArr","mdiSet","mdiObj","add","selectMdiFavoritesMap","favsMap","Map","set","selectKeyboardShortcutsMap","jogKeys","axisSelectJogMap","otherShortcutsMap","mdiShortcutsMap","jogContinuousPrefix","continuous","incremental","slow","selectMdiHistoryInFavoritesMap","mdiHistory","histSet","favSet","histInFavsMap","histItem","isFav","has","selectMdiHistorySorted","selectMdiHistorySortedUnique","sorted","uniqueSet","uniqueArr","toLowerCase","selectToolFlutes","ToolFlutes","selectToolTableDescriptions","ToolTableDescriptions","selectActiveToolFlutes","activeTool","selectActiveToolDiameter","selectMaximumChipLoad","selectChipLoad","selectMaximumSurfaceFootage","diameter","selectSurfaceFootage","selectReadyForMdi","isMachineHomed","ret","reason","selectWorkOffsets","selectRegisteredDelayedUpdates","registered","connect","ownProps","unitsCode","dispatch","onDispatchMdiCmd","actions","mdiCmd","onDispatchUpdateHelper","updateHelper","onToolTableChanged","toolDiameter","toolTableRow","descriptions","newDescriptions","replacement","concat","saveClientConfig","newFlutes","stateProps","dispatchProps","tloDisplayUnits","tloMachineUnits","tloProgramUnits","diameterDisplayUnits","diameterMachineUnits","diameterProgramUnits","ToolOffsets","button","margin","SubmittableDialog","open","onClose","textFieldLabel","submitBtnLabel","cancelBtnLabel","handleClose","handleSubmit","textFieldRef","Dialog","DialogTitle","DialogContent","autoComplete","textFieldProps","defaultValue","val","DialogActions","openDialogButton","float","borderTopLeftRadius","borderBottomLeftRadius","paddingLeft","textField","ModalSubmittableTextField","modalValue","onSubmitTextField","onSubmitModal","buttonDom","buttonProps","containerProps","modalProps","modalOpen","setModalOpen","breakpoints","only","fontSize","up","fontWeight","menuOpenButton","offsetItemContainer","borderColor","borderStyle","offsetItemDropDown","offsetItemTextField","tableCell","whiteSpace","offsetItemTextFieldContainer","down","offsetItemButton","minHeight","offsetItemButtonContainer","overrideTextFieldInputInput","overrideTextFieldInputRoot","borderTopRightRadius","borderBottomRightRadius","spacer","g5xSystems","g5xLabel","WorkOffsets","workOffsets","onClearG92","onDisableG92","onRestoreG92","onSetG5xIndex","onSetG5xOffset","onSetG5xOffsetAll","onSetDroViaG5x","onSetDroAllViaG5x","onSetG92Offset","onSetDroViaG92","onSetDroAllViaG92","onSetTlo","onSetDroViaTlo","g5xMenuAnchor","setG5xMenuAnchor","g92MenuAnchor","setG92MenuAnchor","mobileMenuAnchor","setMobileMenuAnchor","handleSetG5xIndex","num","parseInt","handleSetG5xOffset","axisData","parseFloat","handleSetDroViaG5x","handleSetG92Offset","handleSetDroViaG92","handleSetTlo","handleSetDroViaTlo","openG5xMenu","currentTarget","openG92Menu","anchorRef","Menu","anchorEl","keepMounted","Boolean","MenuItem","newDroDisplayUnits","offset","handleSetDroAllViaG5x","newOffsetsDisplayUnits","handleSetG5xOffsetAll","system","handleSetDroAllViaG92","Grid","justify","alignItems","xs","md","sm","Hidden","mdDown","endIcon","align","lgUp","startIcon","positionDisplayUnits","disableUnderline","Accordion","AccordionSummary","expandIcon","AccordionDetails","newOffset","offsetProgramUnits","newDro","droProgramUnits","newOffsets","offsetsProgramUnits","String","dro","offsetMachineUnits","cmdValueMachineUnits","newTlo","newTloMachineUnits","newTloProgramUnits","newDroMachineUnits","newDroProgramUnits","MESSAGE_LOG_KEY","SORT_ORDER","ENABLE_KEYBOARD_JOGGING","DISABLE_KEYBOARD_JOGGING","CHANGE_LANGUAGE","CHANGE_DIALECT","INCREMENT_JOG_DIGIT_INDEX","DECREMENT_JOG_DIGIT_INDEX","SET_JOG_INCREMENT_INDEX","SET_JOG_AXIS","POPUP","SHOW","HIDE","CLEAR_MESSAGE_BADGE","SET_MDI_SHOW_UNIQUE_HISTORY_ONLY","SET_MDI_TEXT","OVERLAY","CHANGE","CLEAR","ENABLE_EDITING","DISABLE_EDITING","SET","DELETE_SECTION","ADD_SECTION","SET_AXIS","SET_DIGIT_INDEX","INCREMENT_AXIS","INCREMENT_DIGIT_INDEX","DRO","SET_DISPLAY","warningIcon","HomeAllButton","isHomed","onHomeAll","internalClasses","rockhopperActions","homeCmd","selectEnableKeyboardJogging","pentaui","enableKeyboardJogging","selectMessages","messages","selectPopups","popups","selectLanguage","selectDialect","selectMdiSortKey","mdiSortKey","selectMdiText","mdiText","selectMessageBadges","messageBadges","selectIsEditingCompensation","isEditingCompensation","selectClientCompensation","selectIsEditingOverlay","isEditingOverlay","selectClientConfigOverlay","selectAxisSelectJogAxis","selectAxisSelectJogDigitIndex","digitIndex","selectDroDisplay","selectJogDisplay","moveComponents","moveTo","x","y","arcComponents","arcTo","rx","ry","rot","largeArc","sweep","lineComponents","lineTo","useFilter","setValue","filteredValue","setFilteredValue","animation","requestAnimationFrame","newFilteredValue","cancelAnimationFrame","touchAction","HORIZONTAL","IncrementalSpinner","orientation","thickness","tickDist","reverse","enableWheel","enableDrag","useTheme","tickOffset","setTickOffset","animatedTickOffset","floor","wholeTickOffset","setWholeTickOffset","wheelTimeoutID","setWheelTimeoutID","curvature","min","max","opts","startX","startY","endX","endY","tickDirX","tickDirY","tValues","minValue","maxValue","tickValue","ceil","flatT","strokeWidth","lines","x1","y1","x2","y2","stroke","strokeOpacity","updateTickOffsetWithDelta","delta","newTickOffset","dOffset","handleDrag","getSelection","removeAllRanges","clearTimeout","handleDragEnd","handleWheel","wheeling","setTimeout","gestureCallbacks","onDrag","onDragEnd","onWheel","useGesture","domTarget","eventOptions","passive","indicatorPath","indicatorWidth","lineHeight","activeDigits","inactiveDigits","digits","activeLabel","contrastText","inactiveLabel","axisLabel","userSelect","homeButton","right","top","digit","axisValue","maxWidth","active","cursor","spinner","IncrementalFloatingPointSpinner","fractionalDigits","wholeDigits","highlighted","maxOpenIndex","openIndex","onSetOpenIndex","onHome","whole","fractional","wholeChars","unshift","fractionalChars","chars","c","charIndex","char","pow","elements","ticks","axisUnitDegree","IconButton","getDroDisplayData","positions","JogSpinners","openDigitIndex","openAxis","onSetOpenAxis","onSetOpenDigitIndex","onJogIncrement","displayData","spinners","speedMagnitude","jogAxis","currentOpenIndex","v","inc","sign","handleHome","Howler","autoSuspend","tick","Howl","src","axisToJointMap","onDispatchPutHelper","putHelper","joint","feedRate","axisPosition","axisNumber","pentaActions","setAxis","setDigitIndex","incrementMachineUnits","play","checked","onEnable","onDisable","disableKeyboardJogging","onJogStop","jogStop","Switch","extras","menuSpan","homeAllButton","select","statusItem","Jog","onSetDisplay","Select","placement","KeyboardJoggingSwitch","setDisplay","SetupTab","lg","displayDiv","KeyboardCaptureDialog","modifiersOnly","singleKeyOnly","reservedKeys","reservedCombinations","setKeys","reservedKeyAlert","setReservedKeyAlert","reservedCombinationAlert","setReservedCombinationAlert","modifiersOnlyAlert","setModifiersOnlyAlert","singleKeyOnlyAlert","setSingleKeyOnlyAlert","nonModifierNeededAlert","setNonModifierNeededAlert","submitDisabled","setSubmitDisabled","disableSubmit","ctrlKey","shiftKey","altKey","metaKey","newKeys","nativeEvent","severity","descendingComparator","orderBy","MdiFavoritesTableBody","favorites","filterKey","placeholderText","sortOrder","sortKey","onSelectItem","onNameItem","onClickItem","onClickEditKeybind","onClickDeleteKeybind","selected","sortedFavorites","array","comparator","stabilizedThis","el","order","stableSort","handleClickItem","TableBody","isItemSelected","isSelected","labelId","TableRow","hover","role","aria-checked","tabIndex","TableCell","Checkbox","inputProps","placeholder","ButtonGroup","toLocaleString","useToolbarStyles","highlight","secondary","lighten","dark","MdiFavoritesTableToolbar","onDelete","onOpenFilterModal","numSelected","Toolbar","clsx","Typography","component","aria-label","table","visuallyHidden","clip","rootToolbar","MdiFavoritesTable","favoritesMap","headCells","onNameFavorite","shortcutsMap","onModifyFavorite","setSelected","setSortOrder","setSortKey","dialogOpen","setDialogOpen","setFilter","category","captureDialogState","setCaptureDialogState","handleDelete","TableContainer","Table","aria-labelledby","stickyHeader","TableHead","newSet","favorite","headCell","disablePadding","sortDirection","TableSortLabel","tooltip","delete","mdiFav","newDialogState","oldFav","newShortcut","memo","oddListItem","action","starButton","submitButton","MdiHistoryList","mdiHistoryInFavoritesMap","onPopulate","onAddFavorite","onRemoveFavorite","newStyle","handlePopulateCommand","cmdSet","handleRemoveMdiFavorite","handleAddMdiFavorite","MdiQuickAccessButton","isNameCutoff","displayName","substring","Fragment","MdiQuickAccessGrid","quickAccessCount","count","TabPanel","p","hidden","a11yProps","inputBox","background","inputButton","tabContainer","maxHeight","listItem","mdiInput","noPadding","tabPanel","Mdi","onSendMdiCmd","onAddMdiFavorite","onRemoveMdiFavorites","onNameMdiFavorite","mdiFavoritesMap","mdiHistorySorted","mdiHistorySortedUnique","mdiShortcuts","commandRef","setMdiText","isCommandFocused","setIsCommandFocused","setTabIndex","isRemoveFavoriteDialogOpen","setIsRemoveFavoriteDialogOpen","cmdOnRemoveFavoriteDialog","setCmdOnRemoveFavoriteDialog","handleRemoveMdiFavorites","next","handleSubmitRemoveFavoriteDialog","handleNameMdiFavorite","handleTextFieldSubmit","handleSendMdiCommand","focus","handleChangeTabs","newValue","handleCloseRemoveDialog","inputRef","endAdornment","InputAdornment","Tab","updatedFav","DialogContentText","noWrap","onSetMdiText","history","newHistoryItem","newHistory","newFavCmd","currFavs","newFav","newFavs","currFavsMap","newName","itemIndex","findIndex","onSubmitShortcuts","Gauges","preserveAspectRatio","ccwAngleBetween","angle1","angle2","arcDetails","x3","y3","mx1","my1","mx2","my2","x4","y4","lineLineIntersection","centerOfCircle","localX1","localY1","localX2","localY2","localX3","localY3","r","sqrt","atan2","angle3","relativeAngle2","relativeAngle3","cwAngleBetween","startAngle","endAngle","segment","SegmentedArcGauge","totalSegments","segmentRatio","segments","segmentWidth","paddingStart","paddingEnd","every","segmentAngle","tickAngle","paddingStartAngle","allAngles","colorMap","colorInterpolate","segmentElements","colorFunc","fraction","tickAngle1","tickAngle2","fill1","fill2","largeArc1","sweepFlag1","largeArc2","sweepFlag2","smallR","cosTickAngle1","sinTickAngle1","tickX1_1","tickY1_1","tickX2_1","tickY2_1","cosTickAngle2","sinTickAngle2","tickX1_2","tickY1_2","tickX2_2","tickY2_2","pathInstructions1","pathInstructions2","transform","sweepFlag","cosTickAngle","sinTickAngle","tickX1","tickY1","tickX2","tickY2","pathInstructions","angleToElement","gaugeText","ArcText","textAnchor","alignmentBaseline","paddingEndAngle","letterSpacing","gaugeHeader","ArcHeader","dy","pathId","arcPathInstructions","href","startOffset","centerText","rpmText","ThreeBarGauge","value0","min0","max0","units0","decimalPoints0","label0","hideValue0","value1","min1","max1","units1","decimalPoints1","label1","hideValue1","value2","min2","max2","units2","decimalPoints2","label2","hideValue2","centerValue","centerLabel","max_min0","max_min1","max_min2","AnimatedSegmentedArcGauge","animated","pressureHeader","warningText","warmUpButton","Spindle","rpm","load","showWarmUpButton","needsWarmUp","onWarmUp","disableWarmUpButton","pressureDisplayUnits","maxPressure","rpmDisplayUnits","powerDisplayUnits","temperatureDisplayUnits","temperatureArcMin","temperatureArcMax","pressureSpring","useSpring","hidePressure","interpolate","maxRPM","needsLongWarmUp","needsLong","Feed","chipLoad","maxChipLoad","surfaceFootage","maxSurfaceFootage","chipLoadDisplayUnits","feedrateDisplayUnits","surfaceFootageDisplayUnits","maxChipLoadDisplay","maxSurfaceFootageDisplay","sliderContainer","resetContainer","labelContainer","valueContainer","slider","marginTop","Control","onFeedHold","onCycleStart","onStep","maxRapid","onSetMaxVelocity","onSetFeedrate","onSetSpindlerate","machineStatus","onSetMaxRapid","handleChangeMaxVelocity","handleResetMaxVel","handleChangeMaxRapid","handleResetMaxRapid","handleChangeFeedrate","handleResetFeedrate","handleChangeSpindlerate","handleResetSpindlerate","Slider","step","valueLabelDisplay","cycleStartCmd","autoCmd","feedHoldCmd","newMaxVel","dv","update","maxvel","newFeedrate","newMaxRapid","onSetSpindle","spindleoverride","newSpindlerate","freeze","ManualTab","singletonFileCache","maxPersistentCacheSize","maxMemoryCacheSize","memoryStore","memoryMetadata","store","localforage","createInstance","driver","INDEXEDDB","storeName","metadata","keyString","crypto","subtle","hmacKeyData","Uint8Array","aesKeyData","hmacKeyPromise","importKey","hash","then","hmacKey","aesKeyPromise","aesKey","Promise","totalSize","byteLength","totalMemorySize","getTotalMemorySize","removeOldestMemoryData","reduceByAmount","allFiles","totalRemoved","iterate","iterationNumber","catch","err","console","error","getMemoryItem","resolve","getPersistentItem","setMemoryItem","getTotalPersistentSize","totalPersistentSize","iv","getRandomValues","encrypt","encryptedData","signature","setItem","removeOldestPersistentData","removeItem","getItem","verify","decrypt","dropInstance","log","downloadToDisk","element","document","createElement","blob","Blob","setAttribute","URL","createObjectURL","click","newLineCharacter","charCodeAt","carriageReturnCharacter","ace","downloadingProgress","GCodeEditor","onDownloadProgram","aceRef","expanded","setExpanded","useMeasure","bounds","fileDataIndex","buffer","loadingState","setLoadingState","editor","setOption","setShowPrintMargin","setReadOnly","resize","gotoLine","Infinity","timeoutID","doc","getSession","getDocument","dataView","insertData","bytesOfData","loaded","doTimeout","maxIndex","textDecoder","TextDecoder","newLines","lineBeginning","decode","insertFullLines","getLength","aceProgress","loadingProgress","showLoadingProgress","CircularProgress","mode","singletonDownloadQueue","channel","eventChannel","emit","addDownload","fileType","callback","downloadQueue","fileButton","homeRow","flexWrap","FileBrowser","rootPath","filesMap","fileFilter","selectedFiles","onFileOpen","onSelectFile","setPath","handleSelectFile","currentLevel","o","currentLevelDirs","filteredFileList","List","dir","ListItem","fileFullPath","fullPath","queuedFiles","fileList","fileDialog","closeButton","GCodeFileBrowserDialog","onFileDelete","inUsb","setInUsb","setFileFilter","handleClearFilter","handleFilterChange","handleToggleLocation","handleFileOpen","handleSelect","handleDeleteSelected","usbPath","usbButton","fileDelete","programOpenCmd","realDropBox","zIndex","dropBox","dropBoxOver","fileItem","fileContainer","fileLabel","fileName","textOverflow","percentage","FileHeaderActions","onAddFile","onCancel","onCancelAll","onConfirm","onConfirmAll","onWatchGcodeMap","onUnwatchGcodeMap","fileDialogOpen","setFileDialogOpen","handleCloseFileDialog","handleOpenFileDialog","handleClick","handleCancel","handleConfirm","queuedFileList","fileUploadProgress","files","multiple","singletonFileQueue","addFile","cancelAll","cancel","confirmOverwrite","confirmOverwriteAll","fileQueue","programDelete","onFileCopy","fileCopy","GCodeProgram","axisRow","axisLabelNoBar","axisUnit","borderRight","borderTop","axisUnitFraction","axisUnitFractionSuper","axisUnitFractionSub","axisUnitWhole","axisValueNoBar","bar","borderLeft","filledBar","backgroundImage","whiteBar","barText","valueDisplayUnits","displayUnitString","slashIndex","hasPercentage","onSetCoordSys","setCoordSys","ProductionTab","location","useLocation","pathname","humanReadableTime","dt","nowDate","thenDate","minutes","s","daysAgo","getDay","hours","toLocaleDateString","weekday","getFullYear","month","day","year","Timestamp","dateString","setDateString","interval","setInterval","clearInterval","ul","listStyleType","fontStyle","MessageDetails","msg","displayObjectRecurse","obj","isArray","_","moreLessLink","list","verylight","warning","info","errorIcon","infoIcon","avatar","hello","numItems","random","MessageLog","numMessages","setNumMessages","setOpen","showMoreMessages","icon","HistoryTab","Display","content","getElementById","buttonContainer","gapUnder","ConnectionDetails","onUpdate","serverRef","portRef","userRef","passwordRef","useEncryption","setUseEncryption","handleReset","handleUpdate","handleSSLChange","FormGroup","FormControlLabel","control","setConnectionDetails","formControl","Language","onChangeDialect","changeDialect","newDialect","languageMenuItems","newLanguageCode","changeLanguage","FormControl","InputLabel","onChangeLanguage","Units","onSetDisplayUnits","newDisplayUnits","newLinearVelocityUnits","newAngularVelocityUnits","setDisplayUnits","dividerStyles","DividerRow","colSpan","bold","tableContainer","sectionDivider","KeyboardShortcutsConfig","trajCoords","handleOpenCaptureDialog","handleRemoveKeybinding","newShortcuts","modifierOnly","ClientTab","isMobile","iniRoot","innerTabs","joinedButton","joinedInput","joinedTextField","lowerRightButtonDiv","tableLayout","tableAlternateRow","tableButtonCell","tabs","divider","flexShrink","tabsBox","OverlayRow","isEditing","rowStyle","handleChangeField","field","newValues","newText","comment","help","OverlaySectionPanel","sectionName","params","tableRef","containerRef","bodyRef","handleDeleteParameter","paramKey","newParams","handleChangeParam","paramsArrIdx","changedParam","changedParams","addIdx","newParam","OverlayPanel","clientOverlay","diskOverlay","xsLayout","onEnableEditing","onDeleteSection","onDisableEditing","onAddSection","onSave","addSectionDialogOpen","setAddSectionDialogOpen","displayOverlay","newTabIndex","handleChangeSection","sectionParams","newOverlay","scrollButtons","newSectionName","IniPanel","iniMap","paramIdx","CompensationPanel","clientCompensation","diskCompensation","rowIdx","newCompensation","axisName","dataRow","handleAddRow","handleDeleteRow","MachineConfig","onEnableEditingCompensation","onDisableEditingCompensation","onChangeCompensation","onSaveCompensation","onAddOverlaySection","onDeleteOverlaySection","onEnableEditingOverlay","onDisableEditingOverlay","onChangeOverlay","onSaveOverlay","onUploadFiles","onDownloadFiles","onRestartServices","useMediaQuery","downloadTag","setDownloadTag","overlay","newSection","deleteSection","currentDiskOverlay","enableEditing","disableEditing","sectionKey","diskValues","currentDiskCompensation","setCompensation","dateStr","toISOString","restart","ServerTab","CLIENT_TAB","SERVER_TAB","tabOrder","ConfigTab","useHistory","urlTab","CONFIG_TAB","subTab","TabComponent","tab","tabButton","mainTab","tabItem","tabLabelContainer","tabLabel","tabText","tabIcon","tabLine","logoContainer","tabsContainer","DEFAULT_TAB","SETUP_TAB","MANUAL_TAB","PRODUCTION_TAB","HISTORY_TAB","canHide","alwaysMounted","Tabs","menuOpen","setMenuOpen","buttonRef","isSmall","tabLocation","activeTab","setTab","square","rel","alt","isActive","smDown","mdUp","underlineSVG","TopBar","innerWidth","setWidth","onResize","beginCurve","endCurve","curvePts","curveBottom","isInEstop","onAbort","abortCmd","onDisableEstop","estopCmd","leftLabelKey","rightLabelKey","leftColor","rightColor","onLeftButtonClick","onRightButtonClick","leftIcon","rightIcon","outline","enable","onKeyUp","mouseDown","setMouseDown","onMouseDown","onMouseUp","focusRef","intervalId","currentFocus","activeElement","tagName","selectLocation","router","stringToActionMap","incrementFeedrateCmd","incrementSpindleOverrideCmd","stringToAxisSelectJogMap","incrementDigitIndex","axisSelectJogAxis","incrementAxis","isLocationJoggable","axisSelectJogDigitIndex","onJogContinuous","jogContinuous","jogIncrement","onAction","onRejectMdiCmd","repeat","modifierString","keyCombination","magnitude","machineUnitIncrement","actionKey","extra","StatusItem","styleObj","common","white","TwoLineStatusItem","importantCodes","ActiveCodesStatusItem","onlyImportantActiveCodes","arrow","enterTouchDelay","ActiveCodes","badge","MessageBadgesStatusItem","onClear","setAnchorEl","activeType","setActiveType","Badge","badgeContent","anchorOrigin","horizontal","vertical","opacity","clearMessageBadge","statusSpan","textTransform","StatusBar","connected","rtcSeconds","isSM","seconds","selectRtcSeconds","bottomBar","BottomBar","buttonLabel","buttonColor","onButtonClick","divRef","xt","yt","xb","yb","gap","tanAngle","midY","midX","gt","gb","leftPath","rightPath","centerPath","leftCover","rightCover","buttonLeft","buttonWidth","ButtonBase","focusRipple","SvgIcon","bottomButtonSm","bottomButton","pointerEvents","createHashHistory","hashType","reducerMap","connectRouter","AnimatedPaper","clear","Popups","indexedMessages","transitions","useTransition","enter","leave","createMuiTheme","fontFamily","verticalAligner","topButton","topButtonSm","sectionHeader","overrides","MuiInputBase","MuiFormLabel","mainContent","AppPage","ThemeProvider","TabContent","exact","Loader","logo","App","fallback","hostname","match","createStatusReducers","actionCreator","exampleAction","typePath","typeSuffix","friendlyName","createDelayedStatusReducers","localStorageData","JSON","parse","localStorage","defaultState","reducerCreator","includeStatusReducers","includeDelayedStatusReducers","statusReducers","delayedStatusReducers","handleActions","initProgress","updateProgress","setPathChecksum","removeAll","remove","finalize","askForOverwrite","queued","setLoggedIn","addActionEmitter","removeActionEmitter","curActionEmitter","response","toolIndex","toolLengthOffset","toolLength","updateWatchedData","receiveRockhopperMessages","sendRockhopperMessage","sendRockhopperMessages","connectToRockhopper","alwaysReconnect","storeConnectionDetailsToLocalStorageSaga","watchFeatureDependentStatusItems","watchDefaultStatusItems","watchDefaultStatusItemsOnLogin","fileUploadArrayBufferChunkGenerator","fileUploadBlobChunkGenerator","performFileUpload","monitorFileUploadStatus","fileUploadWorker","fileUploadNeedsPermissionWorker","fileUploadCancelAllWorker","fileUploadCancelWorker","fileUploadQueue","handleDownloadCurrentProgram","downloadCurrentProgram","performFileDownload","monitorFileDownloadStatus","fileDownloadWorker","fileDownloadCancelAllWorker","fileDownloadCancelWorker","fileDownloadQueue","delayAction","delayActionWithChannel","delayedPuts","delayedUpdates","createWebSocket","WebSocket","sendWebSocketMessage","socket","send","stringify","loginToRockhopper","reject","onOpen","date","onMessage","closeWebSocket","readyState","CLOSED","CLOSING","close","createRockhopperEventChannel","responseReceived","Error","ids","f","delay","rockhopperChannel","queuedWatchMessages","fork","take","clearError","notify","takeEvery","raw","listGet","listPut","sendTask","receiveTask","actionChannel","connectionDetailsChannel","race","updateConnectionDetails","connection","storeConnectionDetailsToLocalStorage","linearUnits","programUnits","taskState","queueFull","paused","mist","flood","optionalStop","usbDetected","rotaryMotionOnly","boardRevision","registerUpdate","takeLatest","numChunks","start","end","chunkData","reader","FileReader","onload","result","readAsArrayBuffer","needsPermissionChannel","dataType","textEncoder","TextEncoder","encode","initID","responseType","initResponse","ArrayBuffer","currentIndex","chunkGenerator","spark","SparkMD5","chunkNumber","chunkPromise","chunk","arrayOfStrings","fromCharCode","base64EncodedChunkData","btoa","append","chunkID","chunkResponseType","setPersistentItem","finalizeID","finalizeResponseType","finalizeResponse","cancelActionChannel","complete","waitingForPermission","cancelAllActionChannel","confirmOverwriteActionChannel","confirmOverwriteAllActionChannel","newFileNeedsPermission","confirm","confirmAll","fileUploads","upload","fileUploadCancel","fileQueueChannel","fileUploadWorkerChannel","fileUploadNeedsPermissionChannel","numWorkers","flush","ftype","fileDownloadCancel","fileBuffer","decodedString","atob","fileDownloads","download","downloadQueueChannel","fileDownloadWorkerChannel","putChannel","timerTasks","timerChannels","putAction","buffers","sliding","isRunning","updateChannel","delayedUpdateTypePrefix","updateAction","updateImmediate","sagas","storedMessages","sessionStorage","mdiShowUniqueHistoryOnly","debug","setMdiSortKey","setMdiShowUniqueHistoryOnly","combineActions","popup","show","numToRemove","removed","hide","currIdx","newIdx","persistMessageLog","handleMessage","messageSaga","persistToSessionStorage","rootReducer","resources","en","enCommon","intuitive","industry","enIndustry","use","Backend","initReactI18next","init","lng","fallbackLng","preload","supportedLngs","ns","defaultNS","addResourceBundle","createStore","initialState","enhancers","extensions","getSagaExtension","compose","composeWithDevTools","getRockhopperModule","getPentaUIModule","getRouterModule","ReactDOM","render","StrictMode","serviceWorker","registration","unregister"],"mappings":"68MAAI,E,wNAEJ,SAASA,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAQC,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOxB,EAAS,CACtD6B,GAAI,UACJ,YAAa,UACbC,MAAO,6BACPC,QAAS,mBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,g+NAIP,ICsF0CC,EDtFtCC,EAA0B,aAAiBZ,G,GAChC,I,QE5BFa,EAAiBC,IAAMC,cAAc,IAE5CC,EAAkBH,EAAeI,SAExBD,ICcAE,EAhBY,WAAO,IAAD,EACJC,cAAnBC,EADuB,EACvBA,EAAGC,EADoB,EACpBA,KAAMC,EADc,EACdA,MACXC,EAAUC,qBAAWX,GAY3B,MAAO,CAAEO,EAVQ,SAACnC,GAChB,IACMwC,EAAqBL,EADRG,EAAU,IAAMtC,GAEnC,OAAGwC,IAAuBxC,EACjBwC,EAGFL,EAAEnC,IAGWoC,OAAMC,U,yBCZxBI,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,GAGPC,YAAY,eACPF,EAAMG,WAAWD,aAEtBE,UAAW,CACTC,SAAU,WACVC,OAAQ,GACRC,aAAcP,EAAMQ,QAAQ,GAC5BC,QAAS,QAEXC,KAAM,CACJC,aAAc,aAAeX,EAAMY,QAAQC,KAAKC,QAChDC,WAAYf,EAAMQ,QAAQ,GAC1BQ,MAAO,OACPV,OAAQ,GACRG,QAAS,SAEXQ,IAAK,CACHC,cAAe,SACfb,SAAU,WACVc,QAAS,EACTC,MAAO,OAgDIC,EA5CD,SAAC5C,GAAW,IAEtB6C,EAEE7C,EAFF6C,MACAC,EACE9C,EADF8C,SAGIC,EAAU1B,IAEV2B,EAAQ,GAAGC,KAAKC,GAAG,IAKnBC,EAFI,EAEOF,KAAKG,IAAIJ,GACpBK,EAHI,IAGSJ,KAAKK,IAAIN,GAEtBO,EAAM,CACV,CAAE,IAAK,EALO,GAMd,CAAE,IANY,IAMW,EAAG,EAAG,EANjB,MAOd,CAAE,IAAK,GAAI,GACX,CAAE,IATM,IASK,EAAG,EAAG,EAAGJ,EAAQE,GAC9B,CAAE,KAXW,EAWE,EAAEA,EAAO,GAAGJ,KAAKO,IAAIR,GAXvB,EAWuC,EAAEK,EAAO,GAC7D,CAAE,IAXM,IAWK,EAAG,EAAG,EAAGF,EAAQE,GAC9B,CAAE,IAXY,EAFD,GAcb,CAAE,IAZY,IAYW,EAAG,EAAG,GAZjB,MAad,CAAE,MAGJ,OAAO,eAACI,EAAA,EAAD,CAAKC,EAAG,EAAR,UACL,sBAAKC,UAAWZ,EAAQpB,UAAxB,UACE,sBAAMgC,UAAYZ,EAAQtB,YAA1B,SAAyCoB,IACzC,sBAAMc,UAAWZ,EAAQd,KAAzB,SACC,qBAAKM,MAvBI,GAuBUV,OAtBT,EAsByB8B,UAAWZ,EAAQP,IAAtD,SACE,sBAAMnC,EAAGkD,EAAIK,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAAMC,KAAK,iBAI9D,cAACC,EAAA,EAAD,CAAOC,UAAW,EAAGlB,QAAU,CAAEmB,KAAMnB,EAAQvB,OAA/C,SACE,cAACiC,EAAA,EAAD,CAAKC,EAAG,EAAR,SACGZ,U,qDCrBMqB,EAjDc,SAACnE,GAAW,IAErCoE,EAGEpE,EAHFoE,MACAC,EAEErE,EAFFqE,SACAC,EACEtE,EADFsE,SAJoC,EAOJC,mBAASH,GAPL,mBAO9BI,EAP8B,KAOpBC,EAPoB,OAQNF,oBAAS,GARH,mBAQ9BG,EAR8B,KAQrBC,EARqB,KAShCC,EAAeF,EAAUF,EAAWJ,EAEpCS,EAAcC,uBAAY,SAACC,GAC/BN,EAAYL,GACZO,GAAW,KACV,CAAEA,EAAYF,EAAaL,IAExBY,EAAeF,uBAAY,SAACC,GAC7BV,GACDA,EAASU,EAAExG,OAAO6F,OAClBK,EAAYM,EAAExG,OAAO6F,OACrBW,EAAEE,kBAEFR,EAAYM,EAAExG,OAAO6F,SAEtB,CAAEC,EAAUI,IAETS,EAAaJ,uBAAY,SAACC,GAC9BJ,GAAW,GACXF,EAAYL,KACX,CAAEO,EAAYP,EAAOK,IAElBU,EAAgBL,uBAAY,SAACC,GACpB,UAAVA,EAAEnG,MACA0F,GACDA,EAASS,GAEXA,EAAExG,OAAO6G,UAEV,CAAEd,IAGL,OAAO,cAACe,EAAA,EAAD,2BAAerF,GAAf,IACWoE,MAAOQ,EACPU,QAAST,EACTU,OAAQL,EACRb,SAAUW,EACVQ,UAAWL,M,iBC/ClBM,EAAehF,IAAMC,cAAc,IAE1CgF,EAAgBD,EAAa7E,SAEpB8E,ICNFC,GAAY,eAEZC,GAAqB,SACrBC,GAAwB,YACxBC,GAAgC,kBAChCC,GAAuB,WAEvBC,GACF,UADEA,GAEE,cAFFA,GAGI,gBAYJC,GAAY,QAMZC,GAAW,WAEXC,GAAe,eAKfC,GAAyB,OACzBC,GAA2B,OAE3BC,GAAU,MAMVC,GAAmB,YACnBC,GAAQ,QACRC,GAAO,OACPC,GAAU,UACVC,GAAQ,QAGRC,GAAQ,QAORC,GACN,MADMA,GAEF,UAFEA,GAGL,OAHKA,GAIH,SAGGC,GAEL,EAFKA,GAGN,EAGMC,GACL,EADKA,GAGH,EAaGC,GACO,EADPA,GAED,EAFCA,GAGD,GAGCC,GAAQ,CACnBC,cAAgB,CACdC,MAAO,MACPC,iBAAkB,QAClBC,OAAQ,KACRC,gBAAiB,OACjBC,MAAO,IACPC,SAAU,MACVC,cAAe,MACfC,cAAe,SACfC,YAAa,KAEfC,KAAM,CACJC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,MACHC,EAAG,MACHC,EAAG,OAELC,SAAU,CACR,GAAM,SACN,GAAM,SACN,GAAM,SACN,GAAM,SACN,OAAQ,iBACR,SAAU,iBACV,OAAQ,iBACR,SAAU,iBACV,OAAQ,iBACR,SAAU,iBACV,MAAO,iBACP,QAAS,iBACT,OAAQ,iBACR,SAAU,iBACV,IAAO,QACP,QAAS,kBACT,UAAW,kBACX,IAAO,WACP,IAAO,WACP,EAAK,cACL,EAAK,cACL,IAAO,eACP,EAAK,SAEPC,SAAU,SAACC,GACT,OAAOA,GACL,IAAK,KAEL,IAAK,OAEL,IAAK,SAEL,IAAK,MAEL,IAAK,UAEL,IAAK,QACH,OAAO,EACT,QACE,OAAO,IAIbC,cAAe,IAAIC,IAAI,CAAC,KAAM,KAAM,KAAM,OAC1CC,aAAc,IAAID,IAAI,CAAC,QACvBE,gBAAiB,IAAIF,IAAI,CAAC,MAAO,QACjCG,mBAAoB,IAAIH,IAAI,CAAC,IAAK,MAClCI,sBAAuB,IAAIJ,IAAI,CAAC,OAAQ,SAAU,OAAQ,WAC1DK,uBAAwB,IAAIL,IAAI,CAAC,QAAS,aAG/BM,GAAY,CACvBC,gBAAiB,CAAE,OAAQ,GAAI,OAAO,GAAI,SAAW,GAAI,aAAe,GAAI,iBAAmB,GAAI,iBAAmB,GAAI,QAAU,GAAI,QAAU,GAAI,QAAU,GAAI,QAAU,GAAI,QAAU,GAAI,QAAU,IAC1MC,MAAO,CACL,WAAa,GAAI,aAAe,GAAK,YAAc,GAAI,SAAW,GAAI,mBAAqB,GAAI,oBAAsB,GAAI,mBAAqB,GAAI,oBAAsB,GACxK,QAAU,GAAI,MAAQ,GAAI,sBAAwB,GAAI,uBAAyB,GAAI,sBAAwB,GAAI,uBAAyB,GAAI,KAAO,IAErJC,cAAe,CAAC,WAAa,GAAI,YAAc,MAAO,KAAO,SAC7DC,IAAK,CAAC,QAAQ,aAAc,QAAQ,YAAa,QAAQ,UAAW,QAAQ,YAAa,QAAQ,IAAK,QAAQ,IAAK,QAAQ,IAAK,QAAQ,IAAK,QAAQ,IAAK,QAAQ,IAAK,QAAQ,IAAK,QAAQ,M,oBCjKjLC,GAAiB,SAACC,EAAYC,GAAyB,IAC3Df,EAAec,EAAfd,KAAMjE,EAAS+E,EAAT/E,MACPiF,EAAWpC,GAAMkB,SAASE,GAChC,GAAgB,WAAbgB,EAAsB,CACvB,GAA2B,QAAxBD,EACD,MAAO,CACLhF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAG,MACpCnB,KAAM,MAGL,GAA2B,QAAxBe,EACN,MAAO,CACLhF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAG,MACpCnB,KAAM,UAIP,IAAgB,mBAAbgB,EAcJ,CACF,IAAMI,EAAeJ,EAASK,MAAM,aAAa9F,KAAI,SAAA+F,GAAQ,OAAIA,EAASC,iBAAe9F,KAAK,KACxF+F,EAAc5C,GAAMC,cAAcuC,GACxC,MAAO,CACLrF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAGK,GACpCxB,KAAMwB,GAlBR,GAA2B,QAAxBT,EACD,MAAO,CACLhF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAG,UACpCnB,KAAM,UAGL,GAA2B,QAAxBe,EACN,MAAO,CACLhF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAG,UACpCnB,KAAM,YAcDyB,GAAiB,SAACX,EAAYC,GAAyB,IAC7Df,EAAec,EAAfd,KAAMjE,EAAS+E,EAAT/E,MACRiE,EAAK0B,WAAW,QACU,QAAxBX,EACDf,EAAO,KAAOA,EAAK2B,OAAO,GAEI,QAAxBZ,IACNf,EAAO,KAAOA,EAAK2B,OAAO,KAG9B,IACMP,EADWxC,GAAMkB,SAASE,GACFqB,MAAM,aAAa9F,KAAI,SAAA+F,GAAQ,OAAIA,EAASC,iBAAe9F,KAAK,KACxF+F,EAAc5C,GAAMC,cAAcuC,GACxC,MAAO,CACLrF,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAGK,GACpCxB,KAAMwB,IAuDKI,GAnDE,WAAO,IAAD,EACc9I,qBAAWsE,GAAvCyE,EADc,EACdA,aAAaC,EADC,EACDA,YAgDpB,MAAO,CAAED,eAAcE,6BA9Cc,SAACf,GACpC,IAAIgB,EAAcH,EAAab,GAS/B,OARGgB,EAAYN,WAAW,QACrBI,EAAYG,SAAS,OACtBD,EAAc,KAAOA,EAAYL,OAAO,GAElCG,EAAYG,SAAS,SAC3BD,EAAc,KAAOA,EAAYL,OAAO,KAGrCK,GAoC4CE,6BAjChB,SAAClC,GACpC,OAAGA,EAAK0B,WAAW,OACV,MAAQ1B,EAAK2B,OAAO,GAEhB3B,GA6BoEmC,eA1B5D,SAACC,GAAqC,IAEvDJ,EAFoChB,EAAkB,uDAAT,KAC1ChB,EAAeoC,EAAfpC,KAAMjE,EAASqG,EAATrG,MAmBb,OAhBEiG,EADChB,EACaa,EAAab,GAGba,EAAajD,GAAMkB,SAASE,KAE7B0B,WAAW,QAEtBM,EADCF,EAAYG,SAAS,OACR,KAAOD,EAAYL,OAAO,IAElCG,EAAYG,SAAS,OACb,KAAOD,EAAYL,OAAO,KAMrC,CACL5F,MAAOkF,KAAQlF,GAAOmF,KAAKlB,GAAMmB,GAAGa,GACpChC,KAAMgC,MCtFNhJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACT1I,QAAS,OACT2I,cAAe,SACfC,SAAU,UAEZC,KAAM,CACJ7I,QAAS,OACT8I,KAAK,OAAD,OAnBW,IAmBX,MACJC,eAAgB,SAChBtI,cAAe,OAEjBuI,cAAe,CACbhJ,QAAS,OACTO,MAAO,OACP0I,UAAW,UACXC,UAAW,UAEbC,cAAe,CACbtJ,OAAQ,IAEVuJ,IAAK,CACHC,UAAW,aACXrJ,QAAS,OACT2I,cAAe,MACfI,eAAgB,WAChBxI,MAAO,QAET+I,UAAW,CACTtJ,QAAS,OACTuJ,UAAW,MACXR,eAAgB,WAChBxI,MAAO,QAETiJ,WAAY,CACVxJ,QAAS,OACT8I,KAAK,OAAD,OA/CW,IA+CX,MACJC,eAAgB,SAChBU,UAAW,SACXhJ,cAAe,OAEjBiJ,eAAe,2BACVnK,EAAMG,WAAWiK,UADR,IAEZC,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,KAC7CC,aAAc,EACdC,YAAa,EACbR,UAAW,MACXS,QAASzK,EAAMQ,QAAQ,GACvBO,WAAYf,EAAMQ,QAAQ,IAC1BkK,YAAa1K,EAAMQ,QAAQ,IAC3B0J,UAAW,OACX,UAAW,CACTG,OAAQ,YAAcrK,EAAMY,QAAQE,QAAQ6J,OAE9C,aAAc,CACZN,OAAQ,YAAcrK,EAAMY,QAAQgK,KAAK,QAG7CC,wBAAwB,2BACnB7K,EAAMG,WAAWiK,UADC,IAErBC,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,KAC7CC,aAAc,EACdC,YAAa,EACbR,UAAW,MACXjJ,WAAYf,EAAMQ,QAAQ,IAC1BkK,YAAa1K,EAAMQ,QAAQ,IAC3BsK,WAAY9K,EAAMQ,QAAQ,GAC1BuK,cAAe/K,EAAMQ,QAAQ,GAC7B,UAAW,CACT6J,OAAQ,YAAcrK,EAAMY,QAAQE,QAAQ6J,OAE9C,aAAc,CACZN,OAAQ,YAAcrK,EAAMY,QAAQgK,KAAK,QAG7CI,wBAAyB,CACvBX,OAAQ,QAEVY,cAAc,2BACTjL,EAAMG,WAAWiK,UADT,IAEXC,OAAQ,aAAerK,EAAMY,QAAQC,KAAKC,QAC1CC,WAAYf,EAAMQ,QAAQ,GAC1BkK,YAAa1K,EAAMQ,QAAQ,IAC3BF,OAAQ,KAEV4K,oBAAqB,CACnBC,gBAAiBnL,EAAMY,QAAQC,KAAKC,QACpCsK,MAAOpL,EAAMY,QAAQE,QAAQwJ,UA0QlBe,GArQG,SAAC5M,GAAW,IAE1B6M,EAWE7M,EAXF6M,cACAC,EAUE9M,EAVF8M,UACAC,EASE/M,EATF+M,sBACAC,EAQEhN,EARFgN,WACAC,EAOEjN,EAPFiN,YACAC,EAMElN,EANFkN,cACAC,EAKEnN,EALFmN,WACAC,EAIEpN,EAJFoN,yBACAC,EAGErN,EAHFqN,oBACAC,EAEEtN,EAFFsN,sBACAC,EACEvN,EADFuN,kBAGIxK,EAAU1B,KACRN,EAAMD,IAANC,EAhBmB,EAiB8BkJ,KAAjDG,EAjBmB,EAiBnBA,6BAA8BI,EAjBX,EAiBWA,eAChCgD,EAAgBV,EAAY7F,GAAMmB,SAASoC,EAAesC,EAAU,GAAG9F,KAA8BqB,MAAQ,EAG7GoF,EAAYC,iBAAO,GACnBC,EAAUD,mBAChBE,qBAAU,WACLD,EAAQE,SAAiC,IAAtBJ,EAAUI,SAC9BF,EAAQE,QAAQC,SAASL,EAAUI,YAOvC,IAAME,EAAYL,mBAhCS,EAiCLnJ,mBAAS,GAjCJ,mBAiCpByJ,EAjCoB,KAiCfC,EAjCe,KAmC3BL,qBAAU,WACR,SAASM,IACPD,EAAOF,EAAUF,QAAQM,YA1IT,IA0IwCC,IAAoCL,EAAUF,QAAQM,YAAe,GAO/H,OAJAD,IAEAG,OAAOC,iBAAiB,SAAUJ,GAE3B,kBAAMG,OAAOE,oBAAoB,SAAUL,MACjD,IAGH,IAAMM,EAAoB,SAACC,GACtBvB,GACDA,EAAcuB,IAgLlB,OACE,sBAAK9K,UAAWZ,EAAQ2H,UAAxB,UACE,qBAAKgE,MAAO,CAACnM,MAAO,OAAQoM,aAAcX,GAA1C,SACI,sBAAKrK,UAAWZ,EAAQuI,UAAWlL,IAAK2N,EAAxC,UACE,sBAAMpK,UAAWZ,EAAQyI,WAAYkD,MAAO,CAAEE,SAAU,EAAEC,SA9UxC,KA8UlB,SAA6F9N,EAAE,iBAC/F,sBAAM4C,UAAWZ,EAAQyI,WAAzB,SAAsCzK,EAAE,YACxC,sBAAM4C,UAAWZ,EAAQyI,WAAzB,SAAsCzK,EAAE,YAAc,KAAOqJ,EAA6B,UAAY,MACtG,sBAAMzG,UAAWZ,EAAQyI,WAAzB,SAAsCzK,EAAE,OAAS,KAAOqJ,EAA6B,UAAY,MACjG,sBAAMzG,UAAWZ,EAAQyI,WAAYkD,MAAO,CAAC5D,KAAK,OAAD,OA3UvC,GA2UuC,SACjD,sBAAMnH,UAAWZ,EAAQyI,WAAYkD,MAAO,CAAEpM,WA/UlC,GA+U+DwI,KAAK,OAAD,OAjV9D,GAiV8D,cAGtFgC,EACC,cAAC,IAAD,CACE1M,IAAKuN,EACL9L,OApVa,IAqVbiN,UAAWhC,EAAYA,EAAUpO,OAjVtB,GAkVXqQ,SArVW,GAsVXpL,UAAWZ,EAAQiI,cACnBO,UAAU,MACVmD,MAAO,CACLC,aAAcX,GAEhBgB,SAAU,SAACC,GACNA,EAAMC,eAAiBzB,EAAUI,SAAYoB,EAAME,2BACpD1B,EAAUI,QAAUoB,EAAMC,eAZhC,SA9JQ,SAAC,GAAsB,IAApBE,EAAmB,EAAnBA,MAAOV,EAAY,EAAZA,MACdW,EAAOvC,GAAaA,EAAUsC,GAAStC,EAAUsC,GAASE,MAhL5C,IAgLmEvL,KAAK,CAACK,MAAO,EAAGiE,KAAM,KACvGkH,EAAiB/E,EAAe6E,EAAKrI,KACrCwI,EAAmBhF,EAAe6E,EAAKrI,KAE7C,OACE,sBAAKrD,UAAWZ,EAAQqI,IAAKsD,MAAOA,EAApC,UACE,sBACE/K,UAAWZ,EAAQ8H,KACnB6D,MAAO,CACLE,SAAU,EACVC,SApMkB,KAgMtB,SAOE,cAAC,EAAD,CACEY,UAAWxC,EAAYyC,QACvBC,WAAW,EACXC,QAAQ,WACRP,KAAMA,EACNjL,MACE2I,GAAyBA,EAAsBsC,EAAKrI,IAAuC,GACzF+F,EAAsBsC,EAAKrI,IAAsC,GAC9D,GAEP1C,SACE,SAACS,GApCoB,IAAC0J,EAAYoB,EAAZpB,EAqCKY,EAAKrI,IArCE6I,EAqCoC9K,EAAExG,OAAO6F,MApCtFgJ,GACDA,EAAyBqB,EAAYoB,EAAa9C,IAsC5C+C,WAAY,CACV/M,QAAS,CACPgN,MAAOhN,EAAQ2I,eACfsE,eAAgBjN,EAAQwJ,8BAKhC,sBAAM5I,UAAWZ,EAAQ8H,KAAzB,SACE,cAAC,EAAD,CACE4E,UAAWxC,EAAYyC,QACvBC,WAAW,EACXC,QAAQ,WACRxL,MACE4I,GAAcA,EAAWqC,EAAKrI,IAAuC,GACnEgG,EAAWqC,EAAKrI,IAAsC,GACnD,IAEP1C,SACE,SAACS,GAtDe,IAAC0J,EAAYwB,EAAZxB,EAuDKY,EAAKrI,IAvDEiJ,EAuDoClL,EAAExG,OAAO6F,MAtDjFiJ,GACDA,EAAoB6C,YAAQlD,GAA0B,IAAIsC,MAAMxC,EAAUpO,QAAQkF,KAAI,kBAAM,MAAI,SAACuM,GAAYA,EAAMC,OAAO3B,EAAa,EAAG,EAAGwB,MAAYA,IAwDnJH,WAAY,CACV/M,QAAS,CACPgN,MAAOhN,EAAQqJ,wBACf4D,eAAgBjN,EAAQwJ,8BAKhC,sBAAM5I,UAAWZ,EAAQ8H,KAAzB,SACE,cAAC,EAAD,CACE4E,UAAWxC,EAAYyC,QACvBC,WAAW,EACXC,QAAQ,WACRP,KAAMA,EACNjL,MAAOoL,EAAiBpL,MAAMiM,QAAQ7C,GACtClJ,SACE,SAACS,IArFiB,SAACA,EAAGuL,EAAa7B,GAC7C,IAAMrK,EAAQmM,OAAOxL,EAAExG,OAAO6F,OAC3BmJ,IAAuBiD,MAAMpM,IAC9BmJ,EAAkBkB,EAAY,CAAErK,MAAOA,EAAOiE,KAAMmC,EAAe8F,GAAajI,OAmFtEoI,CAAsB1L,EAAGyK,EAAkBH,EAAKrI,MAGpD8I,WAAY,CACV/M,QAAS,CACPgN,MAAOhN,EAAQqJ,wBACf4D,eAAgBjN,EAAQwJ,8BAKhC,sBAAM5I,UAAWZ,EAAQ8H,KAAzB,SACE,cAAC,EAAD,CACE4E,UAAWxC,EAAYyC,QACvBC,WAAW,EACXC,QAAQ,WAERP,KAAMA,EACNjL,MAAOmL,EAAenL,MAAMiM,QAAQ7C,GACpClJ,SACE,SAACS,IAhHe,SAACA,EAAG2L,EAAWjC,GACzC,IAAMrK,EAAQmM,OAAOxL,EAAExG,OAAO6F,OAC3BkJ,IAA2BkD,MAAMpM,IAClCkJ,EAAsBmB,EAAY,CAAErK,MAAOA,EAAOiE,KAAMmC,EAAekG,GAAWrI,OA8GxEsI,CAAoB5L,EAAGwK,EAAgBF,EAAKrI,MAGhD8I,WAAY,CACV/M,QAAS,CACPgN,MAAOhN,EAAQqJ,wBACf4D,eAAgBjN,EAAQwJ,8BAKhC,sBAAM5I,UAAWZ,EAAQ8H,KAAM6D,MAAO,CAAE5D,KAAK,OAAD,OAvR9B,GAuR8B,OAA5C,SACE,cAAC8F,EAAA,EAAD,CACEjN,UAAWkN,IAAW9N,EAAQyJ,cAAT,eAA2BzJ,EAAQ0J,oBAAsB2C,EAAM,IAAMmB,OAAO1D,KACjGiE,QAAS,WApII,IAACrC,IAoIiBY,EAAKrI,IAnIzCmG,GACDA,EAAWsB,IAmILmB,QAAQ,WACRmB,KAAK,QAJP,SAME,+BACG,KAAO1B,EAAKrI,UAKnB,sBAAMrD,UAAWZ,EAAQ8H,KAAM6D,MAAO,CAAC5D,KAAK,OAAD,OAzStB,GAySsB,OAA3C,SACEmC,EAAYyC,QACd,cAACsB,EAAA,EAAD,CAASlR,MAAOiB,EAAE,gBAAlB,SACE,cAAC6P,EAAA,EAAD,CACEjN,UAAWZ,EAAQoI,cACnBwB,MAAM,UACNiD,QAAS,YACTH,UAAWxC,EAAYyC,QACvBoB,QAAS,WAAOtC,EAAkBa,EAAKrI,MACvC+J,KAAK,QANP,SAQE,cAAC,IAAD,QAIF,cAACH,EAAA,EAAD,CACEjN,UAAWZ,EAAQoI,cACnBwB,MAAM,UACNiD,QAAS,YACTH,UAAWxC,EAAYyC,QACvBoB,QAAS,WAAOtC,EAAkBa,EAAKrI,MACvC+J,KAAK,QANP,SAQE,cAAC,IAAD,cAuCF,S,mBCnXGE,GAAc,CACzB,CAAEC,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,kBAAmBC,WAAW,GACtC,CAAED,KAAM,wBAAyBC,WAAW,GAC5C,CAAED,KAAM,MAAOC,WAAW,GAC1B,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,iBAAkBC,WAAW,GACrC,CAAED,KAAM,sBAAuBC,WAAW,GAC1C,CAAED,KAAM,mBAAoBC,WAAW,GACvC,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,iBAAkBC,WAAW,GACrC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,kBAAmBC,WAAW,GACtC,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,MAAOC,WAAW,GAC1B,CAAED,KAAM,iBAAkBC,WAAW,GACrC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,MAAOC,WAAW,GAC1B,CAAED,KAAM,qBAAsBC,WAAW,GACzC,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,oBAAqBC,WAAW,GACxC,CAAED,KAAM,wBAAyBC,WAAW,GAC5C,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,kCAAmCC,WAAW,GACtD,CAAED,KAAM,uCAAwCC,WAAW,EAAMC,gBAAiB,sBAClF,CAAEF,KAAM,sCAAuCC,WAAW,EAAMC,gBAAiB,sBACjF,CAAEF,KAAM,kCAAmCC,WAAW,EAAMC,gBAAiB,sBAC7E,CAAEF,KAAM,+CAAgDC,WAAW,EAAMC,gBAAiB,aAC1F,CAAEF,KAAM,gCAAiCC,WAAW,GACpD,CAAED,KAAM,yBAA0BC,WAAW,EAAMC,gBAAiB,aACpE,CAAEF,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,KAAMC,WAAW,GACzB,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,sBAAuBC,WAAW,GAC1C,CAAED,KAAM,wBAAyBC,WAAW,GAC5C,CAAED,KAAM,iBAAkBC,WAAW,GACrC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,kBAAmBC,WAAW,GACtC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,KAAMC,WAAW,GACzB,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,mBAAoBC,WAAW,GACvC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,2BAA4BC,WAAW,GAC/C,CAAED,KAAM,yBAA0BC,WAAW,GAC7C,CAAED,KAAM,2BAA4BC,WAAW,GAC/C,CAAED,KAAM,OAAQC,WAAW,GAC3B,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,SAAUC,WAAW,GAC7B,CAAED,KAAM,iBAAkBC,WAAW,GACrC,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,gBAAiBC,WAAW,EAAMC,gBAAiB,sBAC3D,CAAEF,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,kBAAmBC,WAAW,GACtC,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,qBAAsBC,WAAW,GACzC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,oBAAqBC,WAAW,GACxC,CAAED,KAAM,mBAAoBC,WAAW,GACvC,CAAED,KAAM,sBAAuBC,WAAW,GAC1C,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,YAAaC,WAAW,GAChC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,mBAAoBC,WAAW,EAAMC,gBAAiB,sBAC9D,CAAEF,KAAM,kBAAmBC,WAAW,GACtC,CAAED,KAAM,cAAeC,WAAW,GAClC,CAAED,KAAM,gBAAiBC,WAAW,GACpC,CAAED,KAAM,aAAcC,WAAW,GACjC,CAAED,KAAM,eAAgBC,WAAW,GACnC,CAAED,KAAM,UAAWC,WAAW,GAC9B,CAAED,KAAM,qBAAsBC,WAAW,GACzC,CAAED,KAAM,QAASC,WAAW,GAC5B,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,WAAYC,WAAW,GAC/B,CAAED,KAAM,gBAAiBC,WAAW,IAGzBE,GAAe,CAC1B,CAAEH,KAAM,YAAaI,WAAY,IACjC,CAAEJ,KAAM,WAAYI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YAChL,CAAEJ,KAAM,OAAQI,WAAY,CAAC,CAAC,cAAe,CAAC,WAAY,YAAa,cAAe,cAAe,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAAW,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,WAAY,MAAS,SAC9O,CAAEJ,KAAM,WAAYI,WAAY,CAAC,CAAC,cAAe,CAAC,WAAY,YAAa,cAAe,cAAe,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAAW,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,WAAY,MAAS,SAClP,CAAEJ,KAAM,QAASI,WAAY,CAAC,CAAC,cAAe,CAAC,eAAgB,iBAAkB,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,YAC/I,CAAEJ,KAAM,oBAAqBI,WAAY,IACzC,CAAEJ,KAAM,6BAA8BI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,0BAA2B,MAAS,UAC7M,CAAEJ,KAAM,cAAeI,WAAY,IACnC,CAAEJ,KAAM,aAAcI,WAAY,IAClC,CAAEJ,KAAM,gBAAiBI,WAAY,IACrC,CAAEJ,KAAM,SAAUI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAC7F,CAAEJ,KAAM,cAAeI,WAAY,IACnC,CAAEJ,KAAM,kBAAmBI,WAAY,IACvC,CAAEJ,KAAM,QAASI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SAC7F,CAAEJ,KAAM,cAAeI,WAAY,IACnC,CAAEJ,KAAM,eAAgBI,WAAY,IACpC,CAAEJ,KAAM,YAAaI,WAAY,IACjC,CAAEJ,KAAM,cAAeI,WAAY,IACnC,CAAEJ,KAAM,YAAaI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,UACjG,CAAEJ,KAAM,gBAAiBI,WAAY,IACrC,CAAEJ,KAAM,WAAYI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,WAC/F,CAAEJ,KAAM,YAAaI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YAC/P,CAAEJ,KAAM,cAAeI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,YACpL,CAAEJ,KAAM,uBAAwBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,YAC7L,CAAEJ,KAAM,sBAAuBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,SACrQ,CAAEJ,KAAM,qBAAsBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,YAC3L,CAAEJ,KAAM,qBAAsBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,YAC3L,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,YACnQ,CAAEJ,KAAM,uBAAwBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YAC1Q,CAAEJ,KAAM,mBAAoBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,UAC7U,CAAEJ,KAAM,QAASI,WAAY,CAAC,CAAC,cAAe,CAAC,WAAY,aAAc,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,YACvI,CAAEJ,KAAM,OAAQI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,SAC3F,CAAEJ,KAAM,WAAYI,WAAY,CAAC,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,OAAQ,MAAS,WAC9F,CAAEJ,KAAM,yBAA0BI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,WAClH,CAAEJ,KAAM,iCAAkCI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,WAC1H,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,gBAAiB,MAAS,YAC7G,CAAEJ,KAAM,oBAAqBI,WAAY,IACzC,CAAEJ,KAAM,UAAWI,WAAY,CAAC,CAAC,cAAe,CAAC,WAAY,iBAAkB,iBAAkB,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,aAAc,MAAS,QAAS,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,OAAQ,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,WAAY,MAAS,SAAU,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,WAAY,MAAS,WACvc,CAAEJ,KAAM,kBAAmBI,WAAY,IACvC,CAAEJ,KAAM,SAAUI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,WAC7F,CAAEJ,KAAM,UAAWI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,YAC7F,CAAEJ,KAAM,OAAQI,WAAY,CAAC,CAAC,cAAe,CAAC,UAAW,YAAa,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,YACpI,CAAEJ,KAAM,OAAQI,WAAY,CAAC,CAAC,cAAe,CAAC,YAAa,cAAe,YAAa,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,YACpJ,CAAEJ,KAAM,kBAAmBI,WAAY,IACvC,CAAEJ,KAAM,iBAAkBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YACzG,CAAEJ,KAAM,yBAA0BI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,SAClL,CAAEJ,KAAM,mBAAoBI,WAAY,IACxC,CAAEJ,KAAM,eAAgBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YACvG,CAAEJ,KAAM,mBAAoBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,YAC3G,CAAEJ,KAAM,iBAAkBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,YAClL,CAAEJ,KAAM,uBAAwBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,QAAS,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,QAAS,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,UAC9Y,CAAEJ,KAAM,YAAaI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,WAChG,CAAEJ,KAAM,cAAeI,WAAY,IACnC,CAAEJ,KAAM,oBAAqBI,WAAY,IACzC,CAAEJ,KAAM,UAAWI,WAAY,IAC/B,CAAEJ,KAAM,qBAAsBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,MAAO,MAAS,UAAW,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,YAClL,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACzG,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,WAChL,CAAEJ,KAAM,mBAAoBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACxG,CAAEJ,KAAM,mBAAoBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UACvG,CAAEJ,KAAM,WAAYI,WAAY,IAChC,CAAEJ,KAAM,qBAAsBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACjL,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACrG,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACzG,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACzG,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,WAC3K,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,WAC3K,CAAEJ,KAAM,oBAAqBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACzG,CAAEJ,KAAM,uBAAwBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SAC5G,CAAEJ,KAAM,cAAeI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,UAAW,MAAS,YACrG,CAAEJ,KAAM,WAAYI,WAAY,IAChC,CAAEJ,KAAM,oBAAqBI,WAAY,IACzC,CAAEJ,KAAM,UAAWI,WAAY,CAAC,CAAC,cAAe,CAAC,kBAAmB,kBAAmB,cAAe,mBAAoB,mBAAoB,oBAAqB,UAAY,EAAO,QAAW,IAAK,MAAS,UAAW,MAAS,YACnO,CAAEJ,KAAM,kBAAmBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,SAAU,MAAS,WACxG,CAAEJ,KAAM,QAASI,WAAY,CAAC,CAAC,cAAe,CAAC,cAAe,oBAAqB,WAAY,aAAc,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,YAC3K,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,QAAS,MAAS,SACrG,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,KAAM,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,KAAM,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,KAAM,MAAS,SAAU,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,KAAM,MAAS,SAAU,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,KAAM,MAAS,SAAU,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,KAAM,MAAS,WAC7b,CAAEJ,KAAM,uBAAwBI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,UAC3G,CAAEJ,KAAM,mBAAoBI,WAAY,IACxC,CAAEJ,KAAM,cAAeI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,aAAc,MAAS,OAAQ,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,WAAY,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,aAAc,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,YAAa,MAAS,SAAU,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,cAAe,MAAS,WACpjB,CAAEJ,KAAM,YAAaI,WAAY,CAAC,CAAC,cAAe,CAAC,iBAAkB,kBAAmB,oBAAqB,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,YAC1K,CAAEJ,KAAM,SAAUI,WAAY,CAAC,CAAC,UAAY,EAAO,QAAW,IAAK,MAAS,OAAQ,MAAS,SAC7F,CAAEJ,KAAM,gBAAiBI,WAAY,CAAC,CAAC,UAAY,EAAM,QAAW,IAAK,MAAS,UAAW,MAAS,YChN3FC,GAAM,SAACtR,EAAIiR,GAAL,IAAWM,EAAX,uDAAgB,GAAIC,EAApB,0DAAC,aAA+BxR,KAAIiR,OAAMQ,QJYtC,OIZ2DF,GAA/D,IAAqEC,UAC3EE,GAAQ,SAAC1R,EAAIiR,GAAL,IAAWM,EAAX,uDAAgB,GAAIC,EAApB,0DAAC,aAA+BxR,KAAIiR,OAAMQ,QAASzL,IAAcuL,GAAjE,IAAuEC,UAC/EG,GAAU,SAAC3R,EAAIiR,EAAMO,GAAX,MAAqB,CAAExR,KAAIiR,OAAMQ,QJY7B,UIZmDD,SACjEI,GAAM,SAAC5R,EAAIiR,EAAMM,EAAMC,GAAjB,mBAAC,aAA4BxR,KAAIiR,OAAMQ,QJYnC,OIZwDF,GAA5D,IAAkEC,U,+BCHxEK,GAAoB,SAACC,EAAMC,GAAP,MAAoB,CAAED,OAAMC,YAChDC,GAAyB,eAACR,EAAD,uDAAM,GAAIS,EAAV,0DAAC,eAAiCT,GAAlC,IAAwCU,eAAe,GAAD,oBAAQV,EAAKS,cAAgBT,EAAKS,cAAgB,IAAlD,CAAuDA,OAItIE,GAA6B,WAAa,MAAO,CAAEzM,IAAF,kCAAgBlH,YAAYqF,KAAK,MAGlFuO,GAAqB,SAACnB,GAAD,OAAUoB,KAAUpB,IAEhDqB,GAAiBtB,GAAYuB,QAAO,SAACC,GAAD,OAAUA,EAAKtB,aAEnDuB,GAAazB,GAAY0B,QAAO,SAACC,EAAGH,GAAU,IAEhDvB,EACEuB,EADFvB,KAEIa,EAAOb,EAAKtH,cACZ3J,EAAK,OAAS8R,EAWpB,OAFAa,EAAEb,GARoB,WAAa,IAAZc,EAAW,uDAAP,GAAO,EAI5BA,EAFFpB,YAF8B,MAEvB,GAFuB,IAI5BoB,EADFrB,YAH8B,MAGvB,GAHuB,EAKhC,OAAOsB,GAAS7S,EAAIiR,EAAMM,EAAMS,GAAuBR,EAAMW,GAA2B,SAAUL,MAK7Fa,IACN,IAEGG,GAAeR,GAAeI,QAAO,SAACC,EAAGH,GAAU,IAErDvB,EACEuB,EADFvB,KAEIa,EAAOb,EAAKtH,cACZ3J,EAAK,SAAW8R,EAQtB,OAPAa,EAAEb,GAAQ,WAAa,IAAZc,EAAW,uDAAP,GAAO,EAIhBA,EAFFrB,YAFkB,MAEb,GAFa,IAIhBqB,EADFpB,YAHkB,MAGb,GAHa,EAKpB,OAAOqB,GAAW7S,EAAIiR,EAAMM,EAAMS,GAAuBR,EAAMW,GAA2B,SAAUL,MAE/Fa,IACN,IAEGI,GAAiBT,GAAeI,QAAO,SAACC,EAAGH,GAAU,IAEvDvB,EACEuB,EADFvB,KAEIa,EAAOb,EAAKtH,cACZ3J,EAAK,WAAa8R,EAOxB,OANAa,EAAEb,GAAQ,WAAa,IAAZc,EAAW,uDAAP,GAAO,EAGhBA,EADFpB,YAFkB,MAEb,GAFa,EAIpB,OAAOqB,GAAa7S,EAAIiR,EAAMe,GAAuBR,EAAMW,GAA2B,WAAY,UAAWL,MAExGa,IACN,IAMGK,GAAgBV,GAAeI,QAAO,SAACC,EAAGH,GAM9C,OADAG,EAFIH,EADFvB,KAEgBtH,oBACRsJ,EACHN,IACN,IACGO,GAAa9B,GAAasB,QAAO,SAACC,EAAGH,GAAU,IAEjDvB,EACEuB,EADFvB,KAEIa,EAAOb,EAAKtH,cACZ3J,EAAK,OAAS8R,EAQpB,OAPAa,EAAEb,GAAQ,WAAa,IAAZc,EAAW,uDAAP,GAAO,EAIhBA,EAFFrB,YAFkB,MAEX,GAFW,IAIhBqB,EADFpB,YAHkB,MAGX,GAHW,EAKpB,OAAOqB,GAAS7S,EAAIiR,EAAMM,EAAMS,GAAuBR,EAAMW,GAA2B,WAAY,MAAOL,MAEtGa,IACN,IAGGQ,GAAqB/B,GAAasB,QAAO,SAACC,EAAGH,GAMjD,OADAG,EAFIH,EADFvB,KAEgBtH,oBACRsJ,EACHN,IACN,IAGGS,GAAqBpC,GAAY0B,QAAO,SAACC,EAAGH,GAMhD,OADAG,EAFIH,EADFvB,KAEgBtH,oBACRsJ,EACHN,IACN,IAMGU,GAAa,CACjBC,SAAU,WAAa,IAAZV,EAAW,uDAAP,GACLpB,EAA2BoB,EAA3BpB,KADY,EACeoB,EAArB5S,UADM,MACH,cADG,EAEpB,OAAO6S,GAAS7S,EACA,cACA,CAAEK,QAAS,oBAAqBkT,UAAW,IAC3CvB,GAAuBR,EAAMW,GAA2B,WAAY,cAAe,eAErGqB,eAAgB,WAAa,IAAZZ,EAAW,uDAAP,GACXpB,EAAgCoB,EAAhCpB,KADkB,EACcoB,EAA1B5S,UADY,MACT,mBADS,EAE1B,OAAO6S,GAAS7S,EACA,cACA,CAAEK,QAAS,UAAWkT,UAAW,kBACjCvB,GAAuBR,EAAMW,GAA2B,WAAY,cAAe,sBAUjGsB,GAAa,CACjBC,cAAe,gBAAGC,EAAH,EAAGA,KAAH,IAASC,iBAAT,SAAyBC,EAAzB,EAAyBA,MAAOC,EAAhC,EAAgCA,UAAhC,IAA2C9T,UAA3C,MAA8C,eAA9C,EAA8DwR,EAA9D,EAA8DA,KAA9D,OAAyEqB,GAAS7S,EAAI,UAAW,CAAE,gBAAiB4T,EAAWD,EAAME,EAAOC,GAAa9B,GAAuBR,EAAMW,GAA2B,WAAY,cAAe,oBAC3P4B,eAAgB,gBAAGJ,EAAH,EAAGA,KAAH,IAASC,iBAAT,SAAyBC,EAAzB,EAAyBA,MAAzB,IAAgC7T,UAAhC,MAAmC,gBAAnC,EAAoDwR,EAApD,EAAoDA,KAApD,OAA+DqB,GAAS7S,EAAI,UAAW,CAAE,iBAAkB4T,EAAWD,EAAME,GAAS7B,GAAuBR,EAAMW,GAA2B,WAAY,cAAe,qBACxO6B,SAAU,gBAAGL,EAAH,EAAGA,KAAH,IAASC,iBAAT,aAAyB5T,UAAzB,MAA4B,UAA5B,EAAuCwR,EAAvC,EAAuCA,KAAvC,OAAkDqB,GAAS7S,EAAI,UAAW,CAAE,WAAY4T,EAAWD,GAAQ3B,GAAuBR,EAAMW,GAA2B,WAAY,cAAe,gBAGpM8B,GAAgB,CACpBC,kBAAcjB,EACdkB,oBAAgBlB,EAChBmB,6BAAyBnB,EACzBoB,gBAAYpB,EACZqB,mBAAerB,EACfsB,wBAAoBtB,EACpBuB,iBAAavB,EACbwB,uBAAmBxB,GAMfyB,GAAqBtW,OAAOgB,KAAKiU,IAAYX,QAAO,SAACiC,EAAWC,GAAoD,OAAnCD,EAAUC,QAAc3B,EAAkB0B,IAAc,IACzIE,GAAqBzW,OAAOgB,KAAKqU,IAAYf,QAAO,SAACiC,EAAWC,GAAoD,OAAnCD,EAAUC,QAAc3B,EAAkB0B,IAAc,IAElIG,GAA8B9D,GAAY0B,QAAO,SAACqC,EAAIvC,GAAU,IAEzEvB,EAEEuB,EAFFvB,KACAE,EACEqB,EADFrB,gBAIF,OADA4D,EAAI3C,GAAmBnB,IAASE,EACzB4D,IACN,IAEYC,gBAAc,CAC3BC,KAAM,CACJC,SAAKjC,EACLkC,IAAK,gBAAGlE,EAAH,EAAGA,KAAH,IAASM,YAAT,MAAc,GAAd,EAAkBC,EAAlB,EAAkBA,KAAlB,IAAwBxR,GAAxB,OAAiD6S,QAAjD,MAA2B,gBAA3B,EAA8D5B,EAAMM,EAAMC,IAC/E4D,MAAO,gBAAGnE,EAAH,EAAGA,KAAH,IAASM,YAAT,MAAc,GAAd,EAAkBC,EAAlB,EAAkBA,KAAlB,IAAwBxR,GAAxB,OAAmD6S,QAAnD,MAA2B,kBAA3B,EAAkE5B,EAAMM,EAAMC,IACrF6D,QAAS,WAAa,IAAZzC,EAAW,uDAAP,GACJpB,EAA+BoB,EAA/BpB,KADW,EACoBoB,EAAzB5S,UADK,MACF,kBADE,EAEnB,OAAO6S,GAAW7S,EAAIwR,IAExB8D,IAAK,gBAAGrE,EAAH,EAAGA,KAAMM,EAAT,EAASA,KAAMC,EAAf,EAAeA,KAAf,IAAqBxR,GAArB,OAA8C6S,QAA9C,MAAwB,gBAAxB,EAA2D5B,EAAMM,EAAMC,IAC5E+D,SAAU,gBAAG/D,EAAH,EAAGA,KAAH,IAASxR,GAAT,ODhLS,SAACA,EAAIwR,GAAL,MAAe,CAAExR,KAAIyR,QJYhB,WIZuCD,QCgLfqB,MAAtC,MAAY,oBAAZ,EAAuDrB,IACjEgE,SAAU,gBAAGhE,EAAH,EAAGA,KAAH,IAASxR,GAAT,ODhLS,SAACA,EAAIwR,GAAL,MAAe,CAAExR,KAAIyR,QJYhB,WIZuCD,QCgLfqB,MAAtC,MAAY,oBAAZ,EAAuDrB,KAEnEiE,uBAAwB,SAACC,EAAQC,EAAMC,EAAMC,EAAUC,GAA/B,MAA8C,CAAEJ,SAAQC,OAAMC,OAAMC,WAAUC,cACtGC,mBAAe9C,EACf+C,wBAAoB/C,EACpBgD,2BAAuBhD,EAEvBiD,YAAa,CACXC,YAAQlD,EACRmD,uBAAmBnD,EACnBoD,uBAAmBpD,EACnBqD,2BAAuBrD,EACvBsD,cAAUtD,EACVuD,cAAUvD,EACVwD,YAAQxD,EACRyD,gBAAYzD,EACZ0D,YAAQ1D,EACR2D,gBAAY3D,GAEd4D,cAAe,CACbV,YAAQlD,EACRsD,cAAUtD,EACVuD,cAAUvD,EACVwD,YAAQxD,EACRyD,gBAAYzD,EACZ0D,YAAQ1D,EACR2D,gBAAY3D,GAId6D,WAAY,CACVC,kBAAmB,SAACC,EAAMC,GAAP,MAAqB,CAAED,OAAMC,aAChDC,cAAe,SAACD,EAAUnG,GAAX,MAAqB,CAAEmG,WAAUnG,SAChDqG,gBAAiB,SAACF,EAAUG,GAAX,MAA4B,CAAEH,WAAUG,iBAK3DC,YAAahE,GACbiE,YAAa7D,GACb8D,eAAgBtD,GAEhBuD,SAAU,CAERjR,MAAO,SAACkR,EAASC,GAAV,IAAmBC,EAAnB,uDAA2BhR,GAA3B,MAAsC,CAAE3G,GAAI4X,eAAUH,UAASC,UAAS5F,KAAMvL,GAAOsR,UAAWC,KAAKC,MAAOJ,YACnHlR,QAAS,SAACgR,EAASC,GAAV,IAAmBC,EAAnB,uDAA2BhR,GAA3B,MAAsC,CAAE3G,GAAI4X,eAAUH,UAASC,UAAS5F,KAAMrL,GAASoR,UAAWC,KAAKC,MAAOJ,YACvHnR,KAAM,SAACiR,EAASC,GAAV,IAAmBC,EAAnB,uDAA2BhR,GAA3B,MAAsC,CAAE3G,GAAI4X,eAAUH,UAASC,UAAS5F,KAAMtL,GAAMqR,UAAWC,KAAKC,MAAOJ,YACjHjR,MAAO,SAAC+Q,EAASC,GAAV,IAAmBC,EAAnB,uDAA2BhR,GAA3B,MAAsC,CAAE3G,GAAI4X,eAAUH,UAASC,UAAS5F,KAAMpL,GAAOmR,UAAWC,KAAKC,MAAOJ,aAGrHvC,MAAOtC,GACPuC,QAAStC,GACTiF,OAAQhF,GACRmC,IAAK1C,GACL6C,IAAKpC,GACL+E,SAAU,CACR3C,IAAKnC,GACLgC,IAAK/B,GACLiE,YAAa3C,GACb4C,YAAazC,IAGfqD,QAAS,CACPC,gBAAiBnF,GACjBgF,OAAQhF,GACRoF,iBAAkBpF,GAClBsC,IAAKpC,KAEN,CAAEmF,OAAQ3S,K,kBX/PA4S,GAAmB,SAACC,GAAD,OAAWA,EAAMC,YACpCC,GAAkB,SAACF,GAAD,OAAWA,EAAMC,WAAWE,WAC9CC,GAAmB,SAACJ,GAAD,OAAWA,EAAMC,WAAWI,YAW/CC,GAAe,SAACN,GAAD,OAAWA,EAAMC,WAAWM,OAAOC,QAAU,CAAEC,WAAY,GAAIC,SAAU,KAExFC,GAAiB,SAACX,GAAD,OAAWA,EAAMC,WAAWM,OAAOK,UAG3DC,GAAS,SAACC,GACd,IAAI1V,EAAM,GAKV,OAJG0V,EAAIL,WAAWva,OAAS,IACzBL,OAAOgB,KAAKia,EAAIJ,UAAUK,SAAQ,SAACjZ,GAAcsD,EAAItD,GAAW,MAChEgZ,EAAIL,WAAWM,SAAQ,SAACC,EAAOC,GAAU7V,EAAI4V,EAAME,OAAOpZ,SAASmZ,GAA1B,2BAAqCD,EAAME,QAA3C,IAAmD9a,IAAK4a,EAAME,OAAOxI,WAEzGtN,GAEI+V,GAAkB,SAACnB,GAC9B,IAAMQ,EAASR,EAAMC,WAAWM,OAAOC,QAAU,CAAEC,WAAY,GAAIC,SAAU,IAC7E,OAAOG,GAAOL,IAEHY,GAAyB,SAACpB,GACrC,IAAMqB,EAAgBrB,EAAMC,WAAWM,OAAOc,eAAiB,CAAEZ,WAAY,GAAIC,SAAU,IAC3F,OAAOG,GAAOQ,IAEHC,GAAqB,SAACtB,GAAD,OAAWA,EAAMC,WAAWM,OAAOgB,cACxDC,GAAoB,SAACxB,GAAD,OAAWA,EAAMC,WAAWM,OAAOkB,WAAazB,EAAMC,WAAWM,OAAOkB,WAAW,EAAI,GAM3GC,GAAc,SAAC1B,GAAD,OAAWA,EAAMC,WAAWM,OAAOoB,OACjDC,GAAiB,SAAC5B,GAAD,OAAWA,EAAMC,WAAWM,OAAOsB,UACpDC,GAAkB,SAAC9B,GAAD,OAAWA,EAAMC,WAAWM,OAAOwB,WACrDC,GAAkB,SAAChC,GAAD,OAAWA,EAAMC,WAAWM,OAAO0B,WAKrDC,GAAsB,SAAClC,GAAD,OAAWA,EAAMC,WAAWM,OAAOlM,eACzD8N,GAAmB,SAACnC,GAAD,OAAWA,EAAMC,WAAWM,OAAO6B,YAMtDC,GAAiB,SAACrC,GAAD,OAAWA,EAAMC,WAAWqC,UAM7CC,GAA4B,SAACvC,GAAD,OAAWA,EAAMC,WAAWuC,UAAUC,MAAMzC,EAAMC,WAAWM,OAAOmC,UAChGC,GAA4B,SAAC3C,GACxC,IAAMtB,EAAW6D,GAA0BvC,GAC3C,OAAOA,EAAMC,WAAWuC,UAAUI,SAASlE,IAGhCmE,GAAsB,SAAC7C,GAAW,IAAD,EAIxCA,EAAMC,WAAWM,OAFnBuC,EAF0C,EAE1CA,YACAC,EAH0C,EAG1CA,SAGF,OAAGD,IAAgBvU,GACVF,GAENyU,IAAgBvU,IAAqBwU,IAAazU,GAC5CD,GAGNyU,IAAgBvU,GACVF,GAGN0U,IAAazU,GACPD,GAGF,WAGI2U,GAAsB,SAAChD,GAClC,OAAOA,EAAMC,WAAWM,OAAO0C,eAMpBC,GAAeC,aAAe,CAAEd,KAAkB,SAACC,GAC9D,OAAOA,EAAQ,sBAEJc,GAAwBD,aAAe,CAAED,GAAcnD,KAAoB,SAACsD,EAAQpD,GAC/F,OAAOoD,GAAUpD,EAAWM,OAAO+C,+BAExBC,GAA4BJ,aAAe,CAAED,GAAcnD,KAAoB,SAACsD,EAAQpD,GACnG,OAAOoD,GAAUpD,EAAWM,OAAOiD,mCAExBC,GAA4BN,aAAe,CAAED,GAAcnD,KAAoB,SAACsD,EAAQpD,GACnG,OAAOoD,GAAUpD,EAAWM,OAAOmD,mCAYxBC,GAA8B,SAAC7b,EAASkZ,GAAV,OAAoBmC,aAAe,CAAE7C,KAAgB,SAACE,GAC/F,OAAOA,EAAOC,WAAWtG,QAAO,SAACyJ,EAAOvO,GACtC,OAAGA,EAAQ6L,OAAOpZ,UAAYA,GAAWuN,EAAQ6L,OAAOxI,OAASsI,EACxD3L,EAAQ6L,OAAOtV,MAEjBgY,IACN,UAIQC,IAnB6B/b,EAkBU,OAlBEqb,aAAe,CAAE7C,KAAgB,SAACE,GACtF,OAAOA,EAAOC,WAAWtG,QAAO,SAACyJ,EAAOvO,GAKtC,OAJGA,EAAQ6L,OAAOpZ,UAAYA,IAC5B8b,EAAMvO,EAAQ6L,OAAOxI,MAAQrD,EAAQ6L,OAAOtV,OAGvCgY,IACN,OAYgCD,GAA4B,OAAQ,gBAC5DG,GAA0BH,GAA4B,OAAQ,uBAC9DI,GAAuBZ,aAAe,CAAEU,KAAyB,WAAgB,IAAfG,EAAc,uDAAP,GACpF,GAAGA,EAAQ,CAET,IADA,IAAMC,EAAM,GACJC,EAAI,EAAGA,EAAIF,EAAO9d,OAAQge,IAChCD,EAAID,EAAOE,GAAG9S,eAAiB8S,EAEjC,OAAOD,EAET,MAAO,MAGIE,GAAoBhB,aAAe,CAAEH,GAjD1B,SAAChD,GACvB,OAAOA,EAAMC,WAAWM,OAAO6D,MAgDkD,SAACtE,EAAQsE,GAC1F,OAAGA,GAAMtE,EACAsE,EAAGhZ,KAAI,SAACqT,GAAD,MAAW,CAAE4F,KAAM5F,EAAK6F,QAAQxE,EAAS,IAAK,IAAKrB,WAAS8F,MAExE,SAACnK,EAAGoK,GAAJ,OAAUpK,EAAEiK,KAAKI,cAAcD,EAAEH,KAAMK,UAAUC,UAAU,IAAMD,UAAUE,SAAU,CAACC,SAAS,EAAMC,mBAAmB,OAIrH,MAKIC,GAAoB5B,aAAe,CA1GpB,SAACnD,GAAD,OAAWA,EAAMC,WAAWM,OAAOyE,QACnC,SAAChF,GAAD,OAAWA,EAAMC,WAAWM,OAAO0E,QACjC,SAACjF,GAAD,OAAWA,EAAMC,WAAWM,OAAO2E,UAsGnC,SAAClF,GAAD,OAAWA,EAAMC,WAAWM,OAAO4E,4BAjG/B,SAACnF,GAAD,OAAoD,IAAzCA,EAAMC,WAAWM,OAAO6E,cACnC,SAACpF,GAAD,OAAoD,IAAzCA,EAAMC,WAAWM,OAAO8E,gBAkGmF,SAACL,EAAQC,EAAQC,EAAUI,EAAUF,EAAcC,GACzM,IAAME,EAAQ,GAEXP,GACqBA,EAAOQ,MAAM,GAAGjB,MAAK,SAACnK,EAAEoK,GAAH,OAASpK,EAAEqL,WAAWhB,cAAcD,EAAEiB,WAAYf,UAAUC,UAAU,IAAMD,UAAUE,SAAU,CAAEC,SAAS,EAAMC,mBAAmB,OACjK/D,SAAQ,SAAC2E,EAAM1f,GACxB0f,EAAO,GACRH,EAAMI,KAAK,IAAOD,EAAK,OAK1BT,GACqBA,EAAOO,MAAM,GAAGjB,MAAK,SAACnK,EAAEoK,GAAH,OAASpK,EAAEqL,WAAWhB,cAAcD,EAAEiB,WAAYf,UAAUC,UAAU,IAAMD,UAAUE,SAAU,CAAEC,SAAS,EAAMC,mBAAmB,OACjK/D,SAAQ,SAAC2E,EAAM1f,GACxB0f,EAAO,GACRH,EAAMI,KAAK,IAAMD,MAiBvB,OAZGN,EACDG,EAAMI,KAAK,QAEXJ,EAAMI,KAAK,QAGVN,EACDE,EAAMI,KAAK,QAEXJ,EAAMI,KAAK,QAGNL,GACL,KAAK,EACHC,EAAMI,KAAK,QACX,MACF,KAAK,EACHJ,EAAMI,KAAK,QACX,MACF,KAAK,EACHJ,EAAMI,KAAK,QAWf,OALGT,IACDK,EAAMI,KAAK,IAAMT,EAAS,GAAGrN,QAAQ,IACrC0N,EAAMI,KAAK,IAAMT,EAAS,KAGrBK,KAGIK,GAAkBzC,aAAe,CAAE4B,KAAqB,SAACpT,GACpE,GAAGA,EACD,OAAGA,EAAYG,SAAS,OACf,QAEDH,EAAYG,SAAS,QACpB,SAMA+T,GAAgB,SAAC7F,GAC5B,IAAMqE,EAAOrE,EAAMC,WAAWM,OAAOmC,QAC/B5C,EAASE,EAAMC,WAAWM,OAAO0C,cACvC,OAAGoB,GAAQA,EAAK9S,WAAWuO,GAClBuE,EAAKC,QAAQxE,EAAS,IAAK,IAE7BuE,GAIIyB,GAAqB,SAAC9F,EAAOvB,GAAR,OAAiBuB,EAAMC,WAAW8F,aAAatH,IACpEuH,GAAsB,SAAChG,GAAD,OAAWA,EAAMC,WAAW8F,cAIlDE,GAAmB,SAACjG,EAAOvB,GAAR,OAAiBuB,EAAMC,WAAWiG,WAAWzH,IAChE0H,GAAoB,SAACnG,GAAD,OAAWA,EAAMC,WAAWiG,YAEhDE,GAA+C,SAACpG,GAC3D,IAAMqG,EAA2B,GACjC,IAAI,IAAIjgB,KAAO4Z,EAAMC,WAAWiG,WAC3BlG,EAAMC,WAAWiG,WAAW9f,GAAK4Z,QAAU1S,IAAkC0S,EAAMC,WAAWiG,WAAW9f,GAAKkgB,WAC/GD,EAAyBV,KAAK3F,EAAMC,WAAWiG,WAAW9f,IAG9D,OAAOigB,GAGIE,GAAapD,aAAe,CAxPX,SAACnD,GAAD,OAAWA,EAAMC,WAAWM,OAAOiG,UAwPN3C,KAAyB,WAGlF,IAHgH,IAA7B2C,EAA4B,uDAAjB,EAAGxC,EAAc,uDAAP,GAClGyC,EAAO,GACPC,EAAY,YACV9P,EAAQ,EAAGA,EAAQ,EAAGA,IAC5B,GAAG4P,EAAY,GAAK5P,EAAQ,CAC1B,IAAMwE,EAAOsL,EAAU9P,GACjB+P,EAAa3C,EAASA,EAAOld,QAAQsU,IAAS,EACpDqL,EAAKd,KAAK,CAAEvK,OAAMxE,QAAO+P,eAI7B,OAAOF,KAGIG,GAAuBzD,aAClC,CArO0B,SAACnD,GAAD,OAAWA,EAAMC,WAAWM,OAAOsG,QAOpC,SAAC7G,GAAD,OAAWA,EAAMC,WAAWM,OAAOuG,SA+N5D,SAACD,EAAQC,GACP,GAAGD,GAAUC,EACX,IAAI,IAAI9gB,EAAI,EAAGA,EAAI6gB,EAAQ7gB,IACzB,IAAI8gB,EAAM9gB,GACR,OAAO,EAIb,OAAO,KAIE+gB,GAAiB,SAAC/G,GAAD,OAAWA,EAAMC,WAAWM,OAAOyG,UAEpDC,GAAkB9D,aAAe,CAAE4D,KAAkB,SAACN,GACjE,OAAGA,EACM,CACL7a,MAAO,KAAWnB,KAAKyc,IAAIT,EAAK,GAAGU,UAAU1c,KAAKC,GAAG,EAAE+b,EAAK,GAAGW,OAAO,EAC9D,KAAW3c,KAAKyc,IAAIT,EAAK,GAAGU,UAAU1c,KAAKC,GAAG,EAAE+b,EAAK,GAAGW,OAAO,EAC/D,KAAW3c,KAAKyc,IAAIT,EAAK,GAAGU,UAAU1c,KAAKC,GAAG,EAAE+b,EAAK,GAAGW,OAAO,IACpC,KAA3B3c,KAAKyc,IAAIT,EAAK,GAAGU,UAAe,GAAG1c,KAAKC,GAAG,IAAI+b,EAAK,GAAGW,OAAO,IACnC,KAA3B3c,KAAKyc,IAAIT,EAAK,GAAGU,UAAe,GAAG1c,KAAKC,GAAG,IAAI+b,EAAK,GAAGW,OAAO,EACtEvX,KAAMpB,GAAMC,cAAcK,OAGvB,CAAEnD,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcK,UAIlCsY,GAAkBlE,aAAe,CAAErB,GACAE,GACAG,GACAyE,GACAG,KACF,SAAEhF,EACAE,EACAG,EACA0E,EACAE,GAC9C,OAAGA,GACAjF,GACAE,GACAG,EAES4E,EAAS5b,KAAI,gBAAG+b,EAAH,EAAGA,SAAU/L,EAAb,EAAaA,KAAMxE,EAAnB,EAAmBA,MAAO+P,EAA1B,EAA0BA,WAAYW,EAAtC,EAAsCA,eAAgBC,EAAtD,EAAsDA,oBAAqBC,EAA3E,EAA2EA,IAAKJ,EAAhF,EAAgFA,OAAhF,MAA8F,CACjHhM,OACAxE,QACA+P,aACAW,eAAgB,CAAE1b,MAAO0b,EAAgBzX,KAAMpB,GAAMW,KAAKgM,IAC1DmM,oBAAqB,CAAE3b,MAAO2b,EAAqB1X,KAAMpB,GAAMW,KAAKgM,IACpE+L,SAAU,CACRvb,MAAOub,EACPtX,KAAOpB,GAAMW,KAAKgM,GAAQ,MAE5BhS,SAAU,CACRwC,MAAOkb,EAAQQ,EAAevF,EAAUnL,GAAOqL,EAAUrL,GAAOwL,EAAWxL,GAAU+P,GAAc,EAAIY,EAAsB,EAC7H1X,KAAMpB,GAAMW,KAAKgM,IAEnBgM,SACAI,IAAK,CACH5b,MAAOkb,EAAQU,EAAM,EACrB3X,KAAMpB,GAAMW,KAAKgM,QAId,MAIAqM,GAA2B,SAACzH,GAAY,MAAO,CAAEpU,MAAQoU,EAAMC,WAAWM,OAAOmH,qBAAuB,IAAK7X,KAAMpB,GAAMC,cAAcS,cACvIwY,GAAwB,SAAC3H,GAAY,MAAO,CAAEpU,MAAQoU,EAAMC,WAAWM,OAAOqH,kBAAoB,IAAK/X,KAAMpB,GAAMC,cAAcM,WACjI6Y,GAA4B,SAAC7H,GACxC,MAAO,CACLpU,MAAOoU,EAAMC,WAAWM,OAAOuH,iBAAmB,EAClDjY,KAAMpB,GAAMC,cAAcO,gBAGjB8Y,GAA6B,SAAC/H,GACzC,MAAO,CACLpU,MAAOnB,KAAKud,MAAMhI,EAAMC,WAAWM,OAAO0H,uBAAyB,EACnEpY,KAAMpB,GAAMC,cAAcO,gBAGjBiZ,GAA2B,SAAClI,GACvC,MAAO,CACLpU,MAAQoU,EAAMC,WAAWM,OAAO4H,oBAAsB,EACtDtY,KAAMpB,GAAMC,cAAcI,kBAIjBsZ,GAAqBjF,aAAe,CAAEpD,KAAoB,SAACC,GAAW,IAAD,EAI5EA,EAAMO,OAJsE,IAE9E8H,8BAF8E,MAErD,EAFqD,MAG9EC,uBAMF,MAAO,CAAC1c,OAHQyc,GAA0B,UANsC,MAGrD,EAHqD,IAOtC,GAEVxY,KAAMpB,GAAMC,cAAcK,UAG/CwZ,GAAoBpF,aAAe,CAAEiF,GAAoBL,KAA8B,SAACS,EAAOC,GAC1G,IAEMC,EAAgBD,EAAa7c,MADpB,IADE,KAIjB,OAAG8c,EAAgB,EACVF,EAAM5c,MAAM8c,EAEd,KAGIC,GAAgCxF,aAAe,CAAEpD,GAAkB+D,KAA2B,SAAC9D,EAAO4I,GACjH,IAAMC,EAAS7I,EAAM8I,QAAQvI,OAAOwI,4BACpC,MAAsB,qBAAZF,EACD,IAGFpe,KAAKud,MAAMa,EAAOD,EAAe,QAW7BI,IARyB7F,aAAe,CAAEpD,GAAkB+D,KAA2B,SAAC9D,EAAOiJ,GAAuB,IAElGJ,EAC3B7I,EAAMO,OADRwI,4BAGF,OAAOte,KAAKud,MAAMa,EAAOI,EAAoB,QAGC9F,aAAe,CAAEpD,KAAoB,SAACC,GAAW,IAE7FkJ,EACElJ,EAAM8I,QAAQvI,OADhB2I,UAGF,MAAyB,qBAAfA,EACDze,KAAKud,MAAkB,IAAZkB,GAEb,QAaIC,IAX4BhG,aAAe,CAAEpD,KAAoB,SAACC,GAAW,IAEtFkJ,EACElJ,EAAMO,OADR2I,UAGF,MAAyB,qBAAfA,EACDze,KAAKud,MAAkB,IAAZkB,GAEb,OAGsC/F,aAAe,CAAEpD,KAAoB,SAACC,GAAW,IAE5FoJ,EACEpJ,EAAM8I,QAAQvI,OADhB6I,SAGF,MAAwB,qBAAdA,EACD3e,KAAKud,MAAiB,IAAXoB,GAGb,QAUIC,IAR2BlG,aAAe,CAAEpD,KAAoB,SAACC,GAAW,IAErFoJ,EACEpJ,EAAMO,OADR6I,SAGF,OAAO3e,KAAKud,MAAiB,IAAXoB,MAGgBjG,aAAe,CAAEpD,KAAoB,SAACC,GACxE,OAAGA,EAAM8I,QAAQvI,OAAO+I,QACftJ,EAAM8I,QAAQvI,OAAO+I,QAGvB,CAAE,CAAEC,SAAU,QAeVC,IAZ8BrG,aAAe,CAAEpD,KAAoB,SAACC,GAC/E,GAAGA,EAAMO,OAAO+I,QAAS,CACvB,IAAMG,EAAczJ,EAAMO,OAAO+I,QAAQ,GAAGC,SAE5C,OAAO9e,KAAKud,MAAoB,IAAdyB,GAElB,OAAO,OAMwBtG,aAAe,CAAEpD,KAAoB,SAACC,GAKvE,OAFIA,EAAMO,OADRmJ,iBAOSC,GAAqBxG,aAAe,CAAEqG,KAAsB,SAACE,GACxE,OAAGA,GAAgBA,EAAahY,aACvBgY,EAAahY,aAEf,CACLlH,MAAO,MACPof,gBAAiB,UACjB1jB,OAAQ,KACR2jB,eAAgB,SAChBrB,MAAO,IACPsB,SAAU,MACVrB,aAAc,MACdsB,aAAc,SACdC,YAAa,IACbC,KAAM,UAIGC,GAAkB/G,aAAe,CA7BZ,SAACnD,GAAD,OAAWA,EAAMC,WAAWM,OAAOjM,WA6BDqV,KAAsB,SAACQ,EAAcC,GACvG,IAAMC,EAAa5b,GAAMC,cAAcG,OACjCyb,EAAY7b,GAAMC,cAAcC,MAIhC4b,EAAe,CAAC,KAAMF,EAAYA,EAAYA,EAAYC,EAAWA,EAAWA,EAAW,KAAM,KAAM,KAAMD,EAAYC,EAAWA,EAAW,MAQrJ,OAPmBH,EACjBA,EAAa3E,MAAM,EAAE,IAAIpa,KAAI,SAAAof,GAAa,OAAOA,EAAQpf,KAAK,SAACqf,EAAU7T,GAAX,OAC5D2T,EAAa3T,GACX,CAAChL,MAAO6e,EAAW5a,KAAM0a,EAAa3T,IACpC6T,QAJ0B,QAWvBC,GAA0BvH,aAAe,CAAEqG,KAAsB,SAACE,GAE7E,OAD0BA,GAAgBA,EAAaiB,kBAAoBjB,EAAaiB,kBAAoBta,MAGjGua,GAAsCzH,aAAe,CAAEuH,KAA2B,SAACG,GAE9F,OADqBA,GAAaA,EAAUC,aAAeD,EAAUC,aAAeza,GAAUG,iBAGnFua,GAA6B5H,aAAe,CAAEuH,KAA2B,SAACG,GAErF,OADqBA,GAAaA,EAAUG,IAAMH,EAAUG,IAAM3a,GAAUI,OAGjEwa,GAAuC9H,aAAe,CAAEuH,KAA2B,SAACG,GAE/F,OAD+BA,GAAaA,EAAUK,cAAgBL,EAAUK,cAAgB7a,GAAUC,mBAG/F6a,GAA+BhI,aAAe,CAAEuH,KAA2B,SAACG,GAEvF,OADuBA,GAAaA,EAAUO,MAAQP,EAAUO,MAAQ/a,GAAUE,SAGvE8a,GAA6BlI,aAAe,CAAEuH,KAA2B,SAACG,GAErF,OADqBA,GAAaA,EAAUS,IAAMT,EAAUS,IAAM,MAI9DC,GAA0CpI,aAAe,CAAE8H,KAAwC,SAACO,GACxG,IAAIpgB,EAAM,GAMV,OALAvF,OAAOgB,KAAK2kB,GAAwBzK,SAAQ,SAAC3a,GACR,KAAhColB,EAAuBplB,KACxBgF,EAAIogB,EAAuBplB,IAAQ,gBAAkBA,EAAIqlB,OAAO,GAAGra,cAAgBhL,EAAIof,MAAM,OAG1Fpa,KAEHsgB,GAAkCvI,aAAe,CAAEgI,KAAgC,SAACQ,GACxF,IAAIvgB,EAAM,GAMV,OALAvF,OAAOgB,KAAK8kB,GAAgB5K,SAAQ,SAAC3a,GACR,KAAxBulB,EAAevlB,KAChBgF,EAAIugB,EAAevlB,IAAQA,MAGxBgF,KAGIwgB,GAAmBzI,aAAe,CAAEqG,KAAsB,SAACE,GAEtE,OADmBA,GAAgBA,EAAamC,WAAanC,EAAamC,WAAa,MAG5EC,GAAqB3I,aAAe,CAAEqG,KAAsB,SAACE,GAExE,OADgBA,GAAgBA,EAAaqC,aAAerC,EAAaqC,aAAe,MAIpFC,GAAgC7I,aAAe,CAAE2I,KAAsB,SAACG,GAC5E,IAAI7gB,EAAM,GAMV,OALA6gB,EAAalL,SAAQ,SAACmL,GACjBA,EAAIC,SAA2B,KAAhBD,EAAIC,UACpB/gB,EAAI8gB,EAAIC,SAAW,MAAQD,EAAI7gB,QAG5BD,KAMT,SAASghB,GAAiBC,GACxB,IAAMC,EAAS,IAAIvc,IAKnB,OAJAsc,EAAOtL,SAAQ,SAACwL,GAEd,OADAD,EAAOE,IAAID,EAAM,KACV,QAEFD,EAKF,IAAMG,GAAwBtJ,aAAe,CAAC2I,KAAqB,SAACG,GACzE,IAD0F,EACpFS,EAAU,IAAIC,IADsE,eAE3EV,GAF2E,IAE1F,IAAI,EAAJ,qBAA4B,CAAC,IAArBC,EAAoB,QAC1BQ,EAAQE,IAAKV,EAAI7gB,IAAK,CAAEqN,KAAMwT,EAAIxT,KAAMuR,KAAKiC,EAAIjC,KAAMkC,QAASD,EAAIC,WAHoB,8BAK1F,OAAOO,KAGIG,GAA8B1J,aACzC,CACEyH,GACAG,GACAQ,GACAG,GACAM,KAEF,SACElB,EACAgC,EAEAC,EACAC,EACAC,GAEA,IAAKnC,IAAiBgC,IAAYC,IAAqBC,EACrD,OAAO,KAET,IAAI5hB,EAAM,GACJ8hB,EAAsBpC,EAAaqC,WAAarC,EAAaqC,WAAa,IAAM,GAYtF,OAXAtnB,OAAOgB,KAAKimB,GAAS/L,SAAQ,SAAC3a,GACR,KAAjB0mB,EAAQ1mB,KACTgF,EAAI8hB,EAAsBJ,EAAQ1mB,IAAQA,EACV,KAA7B0kB,EAAasC,cACdhiB,EAAI0f,EAAasC,YAAc,IAAMN,EAAQ1mB,IAAQA,EAAM,eAEpC,KAAtB0kB,EAAauC,OACdjiB,EAAI0f,EAAauC,KAAO,IAAMP,EAAQ1mB,IAAQA,EAAM,YAInD,mDAAIgF,GAAQ2hB,GAAqBC,GAAsBC,MAOrDK,GAAiCnK,aAAe,CAACyI,GAAkBE,KAAqB,SAACyB,EAAYtB,GAChH,IADiI,EAC3HuB,EAAUpB,GAAiBmB,GAC3BE,EAASrB,GAAiBH,GAC1ByB,EAAgB,IAAIf,IAHuG,eAI7Ga,GAJ6G,IAIjI,IAAI,EAAJ,qBAA4B,CAAC,IAArBG,EAAoB,QAC1BD,EAAcd,IAAKe,EAAU,CAAEC,MAAOH,EAAOI,IAAIF,MAL8E,8BAOjI,OAAOD,KAGII,GAAyB3K,aAAe,CAACyI,KAAmB,SAAC2B,GACxE,OAAO1nB,OAAOqb,OAAOqM,GAAYhJ,MAAK,SAACnK,EAAEoK,GAAH,OAASA,EAAEyF,KAAO7P,EAAE6P,WAG/C8D,GAA+B5K,aAAe,CAAC2K,KAAyB,SAACE,GACpF,IAD+F,EAC3FC,EAAY,IAAIle,IAChBme,EAAY,GAF+E,eAG3EF,GAH2E,IAG/F,IAAI,EAAJ,qBAA2B,CAAC,IAApBL,EAAmB,QACnBtiB,EAAMsiB,EAAStiB,IAAI8iB,cACnBF,EAAUJ,IAAIxiB,KAClB4iB,EAAUzB,IAAInhB,GACd6iB,EAAUvI,KAAKgI,KAP4E,8BAU/F,OAAOO,KAGIE,GAAmBjL,aAAe,CAAEqG,KAAsB,SAACE,GAItE,OAFeA,GAAgBA,EAAa2E,WAAa3E,EAAa2E,WAAa,QAMxEC,GAA8BnL,aAAe,CAAEqG,KAAsB,SAACE,GAIjF,OAFqBA,GAAgBA,EAAa6E,sBAAwB7E,EAAa6E,sBAAwB,MAKpGC,GAAyBrL,aAAe,CAAEiL,GAAkBlM,KAAuB,SAAC1N,EAAYia,GAC3G,OAAGja,GAAcia,EAAa,GACrBja,EAAWia,EAAW,IAExB,KAEIC,GAA2BvL,aAAe,CAAE+G,GAAiBhI,KAAuB,SAAC5N,EAAWma,GAC3G,OAAGna,GAAama,EACPna,EAAUma,EAAW,GAAG,IAE1B,CAAC7iB,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcG,WAEjC8f,GAAwBxL,aAAe,CAAEW,GAAyB0K,KAA0B,SAACpF,EAAU3R,GAClH,OAAGA,GAAU2R,EAEJ,CAAExd,MAAgB,GAATwd,GAAa,IAAK3R,GAAS5H,KAAMpB,GAAMC,cAAcG,QAEhE,CAAEjD,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcG,WAElC+f,GAAiBzL,aAAe,CAAE+E,GAA0BsG,GAAwBzG,KAA8B,SAACqB,EAAU3R,EAAQgR,GAChJ,OAAGA,EAAa7c,OAAS6L,EAKhB,CAAE7L,MAAsB,GAAfwd,EAASxd,OAAU6c,EAAa7c,MAAM6L,GAAS5H,KAAMpB,GAAMC,cAAcG,QAEpF,CAAEjD,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcG,WAGlCggB,GAA8B1L,aAAe,CAAE0E,GAA2B6G,KAA4B,SAACjG,EAAcqG,GAChI,OAAGrG,EAAa7c,OAASkjB,EAASljB,MACzB,CAAEA,MAAO6c,EAAa7c,MAAMkjB,EAASljB,MAAMnB,KAAKC,GAAG,GAAImF,KAAMpB,GAAMC,cAAcQ,eAEnF,CAAEtD,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcQ,kBAGlC6f,GAAuB5L,aAAe,CAAE4E,GAA4B2G,KAA4B,SAACjG,EAAcqG,GAC1H,OAAGrG,EAAa7c,OAASkjB,EAASljB,MACzB,CAAEA,MAAO6c,EAAa7c,MAAMkjB,EAASljB,MAAMnB,KAAKC,GAAG,GAAImF,KAAMpB,GAAMC,cAAcQ,eAEnF,CAAEtD,MAAO,EAAGiE,KAAMpB,GAAMC,cAAcQ,kBAKlC8f,GAAoB7L,aAC/B,CAACyD,GAAsBlF,GA7pBK,SAAC1B,GAAD,OAAWA,EAAMC,WAAWM,OAAOwC,UADhC,SAAC/C,GAAD,OAAWA,EAAMC,WAAWM,OAAOuC,eA+pBlE,SAACmM,EAAgBtN,EAAOoB,EAAUD,GAChC,IAAMoM,EAAM,CAAEhY,SAAU,EAAOiY,OAAQ,MAcvC,OAbIxN,EACFuN,EAAIC,OAAS,wBAEJF,EAGFlM,IAAazU,IAAkBwU,IAAgBvU,GACtD2gB,EAAIC,OAAS,gCAGbD,EAAIhY,SAAU,EANdgY,EAAIC,OAAS,wBASRD,KAIEE,GAAoBjM,aAC/B,CACErB,GACAE,GACAG,GACAyE,GACAG,KAEF,SACEhF,EACAE,EACAG,EACA0E,EACAE,GAEA,OAAGA,GAAYjF,GAAaE,GAAaG,EAChC4E,EAAS5b,KACd,gBAAGgQ,EAAH,EAAGA,KAAMxE,EAAT,EAASA,MAAO+P,EAAhB,EAAgBA,WAAYW,EAA5B,EAA4BA,eAAgBC,EAA5C,EAA4CA,oBAA5C,MAAuE,CACrEnM,OACAxE,QACA+P,aACAW,eAAgB,CACd1b,MAAO0b,EACPzX,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,OAE3E4Y,oBAAqB,CACnB3b,MAAO2b,EACP1X,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,OAE3EvF,SAAU,CACRwC,MAAOkb,EAAQQ,EAAevF,EAAUnL,GAAOqL,EAAUrL,GAAOwL,EAAWxL,GAAU+P,GAAc,EAAIY,EAAsB,EAC7H1X,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,OAE3EyT,WAAY,CACVxW,MAAOwW,EAAWxL,GAClB/G,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,OAE3EoT,UAAW,CACTnW,MAAOmW,EAAUnL,GACjB/G,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,OAE3EsT,UAAW,CACTrW,MAAOqW,EAAUrL,GACjB/G,KAAM8W,GAAc,EAAIlY,GAAMC,cAAcG,OAASJ,GAAMC,cAAcC,WAI1E,MAIE0gB,GAAiC,SAACrP,GAAD,OAAWA,EAAMC,WAAW6I,QAAQwG,YY/wBnEC,sBACb,SAACvP,EAAOwP,GACN,MAAO,CACLnb,cAAe6N,GAAoBlC,GACnC1L,UAAW4V,GAAgBlK,GAC3BzL,sBAAuB+Z,GAA4BtO,GACnDxL,WAAY4Z,GAAiBpO,GAC7BvL,YAAaua,GAAkBhP,GAC/ByP,UAAW7J,GAAgB5F,OAG/B,SAAC0P,EAAUF,GAAX,MAAyB,CACvBG,iBAAkB,SAACtkB,GACjBqkB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC3N,OAEvCykB,uBAAwB,SAACC,EAAc/W,GACrC0W,EAAUE,GAAQlU,cAAcqU,GAAc/W,KAEhDrE,WAAY,SAACsB,GACXyZ,EAAUE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,OAAD,OAAS/C,QAEhDvB,cAAe,SAACuB,GACdyZ,EAAUE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,SAAD,OAAW/C,QAElD+Z,mBAAoB,SAAC1b,EAAW2B,EAAYmM,EAAY6N,GACtDP,EAAUE,GAAQlU,cAAcwU,aAAa,CAAElX,KAAM,CAAC/C,EAAYmM,EAAY6N,MAC9EP,EAAUE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,WAAD,OAAa/C,EAAb,aAA4BmM,EAA5B,gBAA8C,GAAI6N,EAAlD,kBAEvCrb,yBAA0B,SAACqB,EAAYoB,EAAa8Y,GAClD,IAAMC,EAAkB1Y,YAAQyY,GAAc,SAACxY,GAC7C,KAAG1B,GAAcka,EAAajqB,QAG1B,CACF,IAAImqB,EAAc1Y,EAAM2Y,OAAO,IAAIxZ,MAAMb,EAAa,EAAIka,EAAajqB,QAAQqF,KAAK,OAEpF,OADA8kB,EAAY1K,KAAKtO,GACVgZ,EALP1Y,EAAMC,OAAO3B,EAAa,EAAG,EAAGoB,MAQpCqY,EAAUE,GAAQlU,cAAcnH,sBAAsB,CAAEyE,KAAMoX,KAC9DV,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,wBAAyBoX,OAE5Evb,oBAAqB,SAAC2b,GACpBd,EAAUE,GAAQlU,cAAclH,WAAW,CAAEwE,KAAMwX,KACnDd,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,aAAcwX,WAGnE,SAACC,EAAYC,EAAelB,GAAc,IAEtCC,EACEgB,EADFhB,UAIAE,EAEEe,EAFFf,iBACAG,EACEY,EADFZ,uBAmBF,OAAO,qCACLhb,sBAjB4B,SAACmB,EAAY0a,GACzC,IAAMC,EAAkBtf,GAAeqf,EAAiBlB,GACxDK,EAAuB,mBAAoB,CAAE9W,KAAM,CAAC/C,EAAY2a,EAAgBhlB,SAChF,IAAMilB,EAAkBngB,GAAeigB,EAAiBlB,GAClDpkB,EAAG,kBAAc4K,EAAd,aAA6B4a,EAAgBjlB,MAAMiM,QAAQ,IACpE8X,EAAiBtkB,IAajB0J,kBAVwB,SAACkB,EAAY6a,GACrC,IAAMC,EAAuBzf,GAAewf,EAAsBrB,GAClEK,EAAuB,eAAgB,CAAE9W,KAAM,CAAC/C,EAAY8a,EAAqBnlB,SACjF,IAAMolB,EAAuBtgB,GAAeogB,EAAsBrB,GAC5DpkB,EAAG,kBAAc4K,EAAd,aAA6B,GAAI+a,EAAqBplB,MAAMiM,QAAQ,IAC7E8X,EAAiBtkB,KAMdolB,GACAC,GACAlB,KA9EMD,CAiFbnb,ICzEa6c,GATK,SAACzpB,GAAW,IACtBe,EAAMD,IAANC,EAER,OACE,cAAC,EAAD,CAAO8B,MAAO9B,EAAE,QAAU,IAAMA,EAAE,iBAAlC,SACE,cAAC,GAAD,O,+GCCAM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,CACNC,OAAQpoB,EAAMQ,QAAQ,QA6EX6nB,GAzEW,SAAC5pB,GAAW,IAElC6pB,EAQE7pB,EARF6pB,KACAzlB,EAOEpE,EAPFoE,MACAE,EAMEtE,EANFsE,SACAwlB,EAKE9pB,EALF8pB,QACAhqB,EAIEE,EAJFF,MACAiqB,EAGE/pB,EAHF+pB,eACAC,EAEEhqB,EAFFgqB,eACAC,EACEjqB,EADFiqB,eAGIlnB,EAAU1B,GAAUrB,GAEpBkqB,EAAc,WACfJ,GACDA,KAIEK,EAAe,SAACplB,GACpB,GAAGT,EAAU,CACXS,EAAEE,iBACF,IACM7C,EADYgoB,EAAavc,QACR,KAASzJ,MAChCE,EAASlC,KAIPgoB,EAAe3pB,IAAMiN,OAAO,MAElC,OACE,mCACA,eAAC2c,GAAA,EAAD,CAAQR,KAAMA,EAAMC,QAASI,EAA7B,UACE,cAACI,GAAA,EAAD,UAAexqB,IACf,cAACyqB,GAAA,EAAD,UACE,cAAC9mB,EAAA,EAAD,UACE,sBAAMrD,IAAKgqB,EAAcI,aAAa,MAAMlmB,SAAU,SAACS,GAAD,OAAOA,EAAEE,kBAA/D,SACE,cAAC,EAAD,2BACMjF,EAAMyqB,gBADZ,IAEEC,aAActmB,EACdE,SAAU,SAACqmB,EAAI5lB,GAAQolB,EAAaQ,IACpC9nB,MAAOknB,EACPna,QAAQ,WACRsB,KAAM,gBAKd,cAAC0Z,GAAA,EAAD,UACE,eAACnnB,EAAA,EAAD,WACE,cAACmN,EAAA,EAAD,CACEE,QAAS,SAAC/L,GAAQolB,EAAaplB,IAC/B6K,QAAQ,YACRjD,MAAM,UACNhJ,UAAWZ,EAAQ2mB,OAJrB,SAMGM,IAEH,cAACpZ,EAAA,EAAD,CACEE,QAASoZ,EACTta,QAAQ,YACRjD,MAAM,UACNhJ,UAAWZ,EAAQ2mB,OAJrB,SAMGO,eCzEP5oB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACT7I,OAAQ,IAEVgpB,iBAAkB,CAChBjf,OAAQ,OACR/J,OAAQ,OACRipB,MAAO,QACPrf,UAAW,SACXO,QAAS,EACT+e,oBAAqB,EACrBC,uBAAwB,EACxBnc,SAAU,GACVoc,YAAa,EACbtc,aAAc,GAEhBuc,UAAW,CACTlpB,QAAS,OACTH,OAAQ,YA2EGspB,GAvEmB,SAACnrB,GAAW,IAE1CoE,EAUEpE,EAVFoE,MACAgnB,EASEprB,EATForB,WACAC,EAQErrB,EARFqrB,kBACAC,EAOEtrB,EAPFsrB,cACA7b,EAMEzP,EANFyP,SACA8b,EAKEvrB,EALFurB,UACAC,EAIExrB,EAJFwrB,YACAC,EAGEzrB,EAHFyrB,eACAC,EAEE1rB,EAFF0rB,WACAjB,EACEzqB,EADFyqB,eAGI1nB,EAAU1B,GAAUrB,GAdiB,EAgBTS,IAAM8D,UAAS,GAhBN,mBAgBpConB,EAhBoC,KAgBzBC,EAhByB,KAmC3C,OACE,qCACA,cAAC,GAAD,aACE/B,KAAM8B,EACNvnB,MAAOgnB,EACP9mB,SAlBsB,SAACF,GACtBknB,GACDA,EAAclnB,GAEhBwnB,GAAa,IAeX9B,QAvBqB,WACvB8B,GAAa,KAuBPF,IAEN,eAACjoB,EAAA,EAAD,yBACEE,UAAWZ,EAAQ2H,WACf+gB,GAFN,cAIE,cAAC7a,EAAA,EAAD,yBACIjN,UAAWZ,EAAQ8nB,kBACfW,GAFR,IAGI/b,SAAUA,EACVqB,QAAS,WACHrB,GACFmc,GAAa,IANrB,SAUGL,KAED,cAAC,EAAD,aACE5nB,UAAWZ,EAAQmoB,UACnBzb,SAAUA,EACVrL,MAAOA,EACPE,SAnCsB,SAACS,GAC1BsmB,GACDA,EAAkBtmB,EAAExG,OAAO6F,SAkCnBqmB,YCzERppB,GAAYC,aAAW,SAACC,GAAD,cAAY,CACvC+J,WAAS,mBACN/J,EAAMsqB,YAAYC,KAAK,MAAS,CAC/BC,SAAU,WAFL,cAINxqB,EAAMsqB,YAAYG,GAAG,MAAS,CAC7BD,SAAU,UALL,cAONxqB,EAAMsqB,YAAYG,GAAG,MAAS,CAC7BD,SAAU,WARL,GAWTrhB,UAAW,CACTmE,SAAU,QACVpD,UAAW,SAEXsgB,SAAU,SACVE,WAAY,QAiBdC,eAAgB,CACdngB,YAAa,GAEfogB,oBAAqB,CACnBC,YAAa7qB,EAAMY,QAAQE,QAAQwJ,KACnCC,aAAc,EACdugB,YAAa,QACbtgB,YAAa,EACblK,OAAQ,IAEVyqB,mBAAoB,CAClB3f,MAAOpL,EAAMY,QAAQE,QAAQwJ,MAE/B0gB,oBAAoB,uCACfhrB,EAAMG,WAAWiK,UACjBpK,EAAMG,WAAW8qB,WAFH,IAGjB/pB,cAAe,SACfgqB,WAAY,WAEdC,6BAA6B,aAC3B1qB,QAAS,OACTO,MAAO,OACNhB,EAAMsqB,YAAYc,KAAK,MAAS,CAC/BpqB,MAAO,QAGXqqB,kBAAgB,GACdR,YAAa7qB,EAAMY,QAAQE,QAAQwJ,KACnCkf,oBAAqB,EACrBC,uBAAwB,EACxBpf,OAAQ,OACRG,YAAa,EACb8gB,UAAW,QANG,cAQbtrB,EAAMsqB,YAAYC,KAAK,MAAS,CAC/BC,SAAU,WATE,cAWbxqB,EAAMsqB,YAAYG,GAAG,MAAS,CAC7Bnd,SAAU,GACVkd,SAAU,WAbE,cAebxqB,EAAMsqB,YAAYG,GAAG,MAAS,CAC7BD,SAAU,WAhBE,cAkBbxqB,EAAMsqB,YAAYG,GAAG,MAAS,CAC7BD,SAAU,WAnBE,GAsBhBe,0BAAyB,aACvB9qB,QAAS,eACTH,OAAQ,OACRU,MAAO,OACNhB,EAAMsqB,YAAYc,KAAK,MAAS,CAC/BpqB,MAAO,QAGXwqB,4BAA4B,eACvBxrB,EAAMG,WAAWiK,UAEtBqhB,2BAA4B,CAC1BC,qBAAsB,EACtBC,wBAAyB,EACzBjC,YAAa,EACbtc,aAAc,GAEhBzK,KAAM,CACJrC,OAAQ,OACRU,MAAO,QAETH,KAAK,eACAb,EAAMG,WAAW8qB,WAEtBW,OAAQ,CACNxgB,MAAOpL,EAAMY,QAAQE,QAAQwJ,KAC7BtJ,MAAO,YAIL6qB,GAAa,CACjB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAAS,QAAS,SAGxDC,GAAW,SAACje,GAChB,OAAGA,EAAQ,EACFge,GAAWhe,EAAM,GAGnB,OAijBMke,GA9iBK,SAACttB,GAAW,IAE5Bqa,EAqBEra,EArBFqa,SACAkT,EAoBEvtB,EApBFutB,YACA1gB,EAmBE7M,EAnBF6M,cACAC,EAkBE9M,EAlBF8M,UACAG,EAiBEjN,EAjBFiN,YAEAugB,EAeExtB,EAfFwtB,WACAC,EAcEztB,EAdFytB,aACAC,EAaE1tB,EAbF0tB,aAEAC,EAWE3tB,EAXF2tB,cAEAC,EASE5tB,EATF4tB,eACAC,EAQE7tB,EARF6tB,kBACAC,EAOE9tB,EAPF8tB,eACAC,EAME/tB,EANF+tB,kBACAC,EAKEhuB,EALFguB,eACAC,EAIEjuB,EAJFiuB,eACAC,EAGEluB,EAHFkuB,kBACAC,EAEEnuB,EAFFmuB,SACAC,EACEpuB,EADFouB,eAGMrtB,EAAMD,IAANC,EACAyJ,EAAmBP,KAAnBO,eACFzH,EAAU1B,KA3Ba,EA6BaZ,IAAM8D,SAAS,MA7B5B,mBA6BtB8pB,EA7BsB,KA6BPC,EA7BO,OA8Ba7tB,IAAM8D,SAAS,MA9B5B,mBA8BtBgqB,EA9BsB,KA8BPC,EA9BO,OA+BmB/tB,IAAM8D,SAAS,MA/BlC,mBA+BtBkqB,EA/BsB,KA+BJC,EA/BI,KAkCvBC,EAAoB,SAAC1f,GACzB,IAAM2f,EAAMC,SAAS5f,EAAM1Q,OAAO6F,OAC/BupB,IAAmBnd,MAAMoe,IAC1BjB,EAAeP,GAAWwB,IAE5BN,EAAiB,OAEbQ,EAAqB,SAAC1qB,EAAO2qB,GACjC,IAAMH,EAAMI,WAAW5qB,GACnBwpB,IAAoBpd,MAAMoe,IAC5BhB,EAAe,CAACxpB,MAAOwqB,EAAMvmB,KAAMmC,EAAeukB,EAASxU,WAAWlS,MAAQ0mB,IAG5EE,EAAqB,SAAC7qB,EAAO2qB,GACjC,IAAMH,EAAMI,WAAW5qB,GACpB0pB,IAAoBtd,MAAMoe,IAC3Bd,EAAe,CAAC1pB,MAAOwqB,EAAKvmB,KAAMmC,EAAeukB,EAASxU,WAAWlS,MAAO0mB,IAqC1EG,EAAqB,SAAC9qB,EAAO2qB,GACjC,IAAMH,EAAMI,WAAW5qB,GACpB4pB,IAAoBxd,MAAMoe,IAC3BZ,EAAe,CAAC5pB,MAAOwqB,EAAKvmB,KAAMmC,EAAeukB,EAAStU,WAAWpS,MAAQ0mB,IAG3EI,EAAqB,SAAC/qB,EAAO2qB,GACjC,IAAMH,EAAMI,WAAW5qB,GACpB6pB,IAAoBzd,MAAMoe,IAC3BX,EAAe,CAAC7pB,MAAOwqB,EAAKvmB,KAAMmC,EAAeukB,EAAStU,WAAWpS,MAAQ0mB,IAW3EK,EAAe,SAAChrB,GACpB,IAAMwqB,EAAMI,WAAW5qB,GACpB+pB,IAAc3d,MAAMoe,IACrBT,EAAU,CAAC/pB,MAAOwqB,EAAKvmB,KAAMmC,EAAesC,EAAUD,GAAe,IAAIxE,QAGvEgnB,EAAqB,SAACjrB,EAAO2qB,GACjC,IAAMH,EAAMI,WAAW5qB,GACpBgqB,IAAoB5d,MAAMoe,IAC3BR,EAAgB,CAAChqB,MAAOwqB,EAAKvmB,KAAMmC,EAAesC,EAAUD,GAAe,IAAIxE,MAAO0mB,IAKpFO,EAAc,SAACrgB,GACnBqf,EAAiBrf,EAAMsgB,eACvBb,EAAoB,OAEhBc,EAAc,SAACvgB,GACnBuf,EAAiBvf,EAAMsgB,eACvBb,EAAoB,OAQhBe,EAAYhvB,IAAMiN,OAAO,MAE/B,OAAO,eAAC,EAAD,CAAO7K,MAAO9B,EAAE,eAAhB,UACL,eAAC2uB,EAAA,EAAD,CACEzvB,GAAG,WACH0vB,SAAUtB,EACVuB,aAAW,EACX/F,KAAMgG,QAAQxB,GACdvE,QAAS,WAAOwE,EAAiB,OALnC,UAOE,cAACwB,EAAA,EAAD,CAEEhf,QAAS,YAvFe,SAAC1M,GAC7B,IAAMwqB,EAAMI,WAAW5qB,GACvB,GAAG2pB,IAAuBvd,MAAMoe,GAAK,CACnC,IAAMmB,EAAqBxC,EAAY3pB,KAAI,SAACosB,GAAD,MAAa,CAAC5rB,MAAOwqB,EAAKvmB,KAAMmC,EAAewlB,EAAOzV,WAAWlS,SAC5G0lB,EAAkBgC,IAmFCE,CAAsB,GAAI3B,EAAiB,OAF9D,SAIGvtB,EAAE,YAHC,YAKN,cAAC+uB,EAAA,EAAD,CAEEhf,QAAS,YApGe,SAAC1M,GAC7B,IAAMwqB,EAAMI,WAAW5qB,GACvB,GAAGypB,IAAuBrd,MAAMoe,GAAK,CACnC,IAAMsB,EAAyB3C,EAAY3pB,KAAI,SAACosB,GAAD,MAAa,CAAC5rB,MAAOwqB,EAAKvmB,KAAMmC,EAAewlB,EAAOzV,WAAWlS,SAChHwlB,EAAkBqC,IAgGCC,CAAsB,GAAI7B,EAAiB,OAF9D,SAIGvtB,EAAE,uBAHC,aAKLqsB,GAAWxpB,KAAI,SAACwsB,EAAQhhB,GAAT,OACd,cAAC0gB,EAAA,EAAD,CAEEhf,QAAS6d,EACTvqB,MAAOgL,EAHT,SAKGrO,EAAE,OAAS,IAAMqsB,GAAWhe,IAJxB,WAAaghB,SASxB,eAACV,EAAA,EAAD,CACEzvB,GAAG,WACH0vB,SAAUpB,EACVqB,aAAW,EACX/F,KAAMgG,QAAQtB,GACdzE,QAAS,WAAO0E,EAAiB,OALnC,UAOE,cAACsB,EAAA,EAAD,CAEEhf,QAAS,YA9Ee,SAAC1M,GAC7B,IAAMwqB,EAAMI,WAAW5qB,GACvB,GAAG8pB,IAAuB1d,MAAMoe,GAAK,CACnC,IAAMmB,EAAqBxC,EAAY3pB,KAAI,SAACosB,GAAD,OAAYxlB,EAAe,CAACpG,MAAOwqB,EAAKvmB,KAAM2nB,EAAOvV,UAAUpS,UAC1G6lB,EAAkB6B,IA0ECM,CAAsB,GAAI7B,EAAiB,OAF9D,SAGEztB,EAAE,YAFE,YAGN,cAAC+uB,EAAA,EAAD,CAEEhf,QAhHiB,SAAC7B,GACnBue,GACDA,IAEFgB,EAAiB,OA0Gf,SAGEztB,EAAE,aAFE,aAGN,cAAC+uB,EAAA,EAAD,CAEEhf,QA9GmB,SAAC7B,GACrBwe,GACDA,IAEFe,EAAiB,OAwGf,SAGEztB,EAAE,eAFE,eAGN,cAAC+uB,EAAA,EAAD,CAEEhf,QA5GmB,SAAC7B,GACrBye,GACDA,IAEFc,EAAiB,OAsGf,SAGEztB,EAAE,eAFE,kBAKR,eAAC2uB,EAAA,EAAD,CACEzvB,GAAG,cACH0vB,SAAUlB,EACVmB,aAAW,EACX/F,KAAMgG,QAAQpB,GACd3E,QAAS,WAAO4E,EAAoB,OALtC,UAOE,cAACoB,EAAA,EAAD,CAEEhf,QAAS0e,EAFX,gBACM,iBAGN,cAACM,EAAA,EAAD,CAEEhf,QAASwe,EAFX,SAGEjC,GAAShT,IAFL,oBAKR,eAACiW,EAAA,EAAD,CAAM5lB,WAAS,EAAC3I,QAAS,EAAG4B,UAAWZ,EAAQ2H,UAA/C,UACE,eAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAaC,WAAW,SAASjlB,UAAU,MAAMxJ,QAAS,EAAG4B,UAAWZ,EAAQuI,UAA7G,UACE,eAACglB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,gBAAgBhlB,UAAU,MAAMklB,GAAI,EAAGC,GAAI,EAAxE,UACE,cAACJ,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAGC,GAAI,EAAG/sB,UAAWZ,EAAQoqB,SAC5C,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAGC,GAAI,EAAtB,SAA0B3vB,EAAE,SAC5B,cAACuvB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAGC,GAAI,EAAG/sB,UAAWZ,EAAQoqB,SAC5C,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAGC,GAAI,EAAtB,SAA0B3vB,EAAE,yBAE9B,cAACuvB,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAAGE,GAAI,IACjD,eAACC,EAAA,EAAD,CAAQC,QAAM,EAAd,UACE,cAACP,EAAA,EAAD,CAAM7d,MAAI,EAACke,GAAI,EAAf,SACE,cAAC/f,EAAA,EAAD,CACEjN,UAAWZ,EAAQmpB,eACnBvf,MAAM,UACNmkB,QAAS,cAAC,KAAD,IACTrhB,UAAWxC,EAAYyC,QACvBE,QAAQ,WACRxP,IAAKqvB,EACL3e,QAASwe,EAPX,SASGjC,GAAShT,OAGd,cAACiW,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,SAC9B,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAACke,GAAI,EAAf,SACE,cAAC/f,EAAA,EAAD,CACEjN,UAAWZ,EAAQmpB,eACnBvf,MAAM,UACNmkB,QAAS,cAAC,KAAD,IACTrhB,UAAWxC,EAAYyC,QACvBE,QAAQ,WACRkB,QAAS0e,EANX,mBAWF,cAACc,EAAA,EAAD,CAAM7d,MAAI,EAACse,MAAM,SAASptB,UAAWZ,EAAQoqB,SAC7C,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAAEke,GAAI,EAAhB,SACG9jB,EAAkB9L,EAAE,OAAS,KAAOA,EAAE,QAAU8L,EAAiB9L,EAAE,qBAGxE,cAAC6vB,EAAA,EAAD,CAAQI,MAAI,EAAZ,SACE,cAACV,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAf,SACE,cAAC7f,EAAA,EAAD,CACEjN,UAAWZ,EAAQmpB,eACnBvf,MAAM,UACNskB,UAAW,cAAC,KAAD,IACXxhB,UAAWxC,EAAYyC,QACvBE,QAAQ,WACRxP,IAAKqvB,EACL3e,QAnIW,SAAC7B,GACtByf,EAAoBzf,EAAMsgB,eAC1Bf,EAAiB,MACjBF,EAAiB,OAyHT,SASGvtB,EAAE,0BAKTwsB,EAAY3pB,KAAI,SAACmrB,GACjB,IAAMmC,EAAuB1mB,EAAeukB,EAASntB,UAC/C4L,EAAgBvG,GAAMmB,SAAS8oB,EAAqB7oB,MAC1D,OACA,eAACioB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAaC,WAAW,SAASjlB,UAAU,MAAMxJ,QAAS,EAAvF,UACE,eAAC6uB,EAAA,EAAD,CAAQC,QAAM,EAAd,UACE,eAACP,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,gBAAgBhlB,UAAU,MAAMklB,GAAI,EAAGE,GAAI,EAAxE,UACE,cAACL,EAAA,EAAD,CAAO7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAAGE,GAAI,EAAlD,SAAuD5B,EAASnb,OAChE,cAAC0c,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQX,KAAMquB,GAAI,EAAGE,GAAI,EAA/C,SACIO,EAAqB9sB,MAAMiM,QAAQ7C,GAAiB,IAAM0jB,EAAqB7oB,OAEnF,cAACioB,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAAGE,GAAI,EAAjD,eACA,cAACL,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQX,KAAMquB,GAAI,EAAGE,GAAI,EAA/C,SACInmB,EAAeukB,EAASjP,gBAAgB1b,MAAMiM,QAAQ7C,QAG5D,cAAC8iB,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAAGE,IAAE,EAACD,GAAI,EAApD,eACA,cAACJ,EAAA,EAAD,CAAM7d,MAAI,EAACke,GAAI,EAAf,SACE,cAAC,GAAD,CACEvsB,MAAOoG,EAAeukB,EAASxU,WAAWnW,MAAMiM,QAAQ7C,GACxD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAY0qB,EAAmB1qB,EAAO2qB,IACzDzD,cAAe,SAAClnB,GAAD,OAAW6qB,EAAmB7qB,EAAO2qB,IACpDtf,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,YAA0EssB,GAAShT,IACxF0P,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,YAMxB,cAACosB,EAAA,EAAD,CAAM7d,MAAI,EAACse,MAAM,SAAQptB,UAAWZ,EAAQoqB,OAA5C,eACA,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,SAAShlB,UAAU,MAAMolB,GAAI,EAA1D,SACE,cAAC,GAAD,CACEvsB,MAAQoG,EAAeukB,EAAStU,WAAWrW,MAAMiM,QAAQ7C,GACzD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAW8qB,EAAmB9qB,EAAO2qB,IACxDzD,cAAe,SAAClnB,GAAD,OAAW+qB,EAAmB/qB,EAAO2qB,IACpDtf,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,QACLgpB,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,YAMxB,cAACosB,EAAA,EAAD,CAAM7d,MAAI,EAACse,MAAM,SAASptB,UAAWZ,EAAQoqB,OAA7C,SACwB,IAAnB4B,EAAS3f,MAAe,IAAM,KAEnC,cAACkhB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAahlB,UAAU,MAAMolB,GAAI,EAA9D,SACE,cAACL,EAAA,EAAD,CAAM7d,MAAI,EAAV,SAEsB,IAAnBsc,EAAS3f,MAAe,GAEvB,cAAC,GAAD,CACEhL,MAAOoG,EAAeukB,EAASnU,YAAYxW,MAAMiM,QAAQ7C,GACzD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAWgrB,EAAahrB,IAC3CknB,cAAe,SAAClnB,GAAD,OAAWirB,EAAmBjrB,EAAM2qB,IACnDtf,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,QACLgpB,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,iBAU9B,cAAC0sB,EAAA,EAAD,CAAQI,MAAI,EAAZ,SACE,cAACV,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,eAACW,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACEC,WAAY,cAAC,KAAD,CAAgB3kB,MAAM,YADpC,SAGE,eAAC2jB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,gBAAgBhlB,UAAU,MAAMklB,GAAI,GAAjE,UACE,cAACH,EAAA,EAAD,CAAO7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAA3C,SAAgD1B,EAASnb,OACzD,cAAC0c,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQX,KAAMquB,GAAI,EAAxC,SACIjmB,EAAeukB,EAASntB,UAAUwC,MAAMiM,QAAQ7C,GAAiB,IAAOhD,EAAeukB,EAASntB,UAAUyG,OAE9G,cAACioB,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAA1C,eACA,cAACH,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQX,KAAMquB,GAAI,EAAxC,SACIjmB,EAAeukB,EAASjP,gBAAgB1b,MAAMiM,QAAQ7C,KAE1D,cAAC8iB,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQoqB,OAAQsD,GAAI,EAA1C,eACA,cAACH,EAAA,EAAD,CAAM7d,MAAI,EAAC9O,UAAWZ,EAAQX,KAAMquB,GAAI,EAAxC,SACIjmB,EAAe,CAAEpG,MAAO2qB,EAASjP,eAAe1b,MAAQ2qB,EAASntB,SAASwC,MAAOiE,KAAM0mB,EAASntB,SAASyG,OAAQjE,MAAMiM,QAAQ7C,UAIvI,cAAC+jB,GAAA,EAAD,UACE,eAACjB,EAAA,EAAD,CAAM5lB,WAAS,EAACa,UAAU,SAASilB,WAAW,WAAWzuB,QAAS,EAAlE,UACE,eAACuuB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAACa,UAAU,MAAMglB,QAAQ,SAA7C,UACE,cAACD,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAG9sB,UAAWZ,EAAQoqB,OAArC,SAA8CE,GAAShT,KACvD,cAACiW,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAahlB,UAAU,MAAMklB,GAAI,EAA9D,SACE,cAAC,GAAD,CACErsB,MAAQoG,EAAeukB,EAASxU,WAAWnW,MAAMiM,QAAQ7C,GACzD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAW0qB,EAAmB1qB,EAAO2qB,IACxDzD,cAAe,SAAClnB,GAAD,OAAW6qB,EAAmB7qB,EAAOoG,EAAeukB,EAASxU,aAC5E9K,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,YAA0EssB,GAAShT,IACxF0P,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,eAO1B,eAACosB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAACa,UAAU,MAAMglB,QAAQ,SAA7C,UACE,cAACD,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAG9sB,UAAWZ,EAAQoqB,OAArC,iBACA,cAACmD,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAahlB,UAAU,MAAMklB,GAAI,EAA9D,SACE,cAAC,GAAD,CACErsB,MAAOoG,EAAeukB,EAAStU,WAAWrW,MAAMiM,QAAQ7C,GACxD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAW8qB,EAAmB9qB,EAAO2qB,IACxDzD,cAAe,SAAClnB,GAAD,OAAW+qB,EAAmB/qB,EAAO2qB,IACpDtf,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,QACLgpB,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,eAO1B,cAACosB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAACa,UAAU,MAAMglB,QAAQ,SAA7C,SACqB,IAAnBxB,EAAS3f,MACT,qCACA,cAACkhB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAG9sB,UAAWZ,EAAQoqB,OAArC,SAA8CpsB,EAAE,SAChD,cAACuvB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,aAAahlB,UAAU,MAAMklB,GAAI,EAA9D,SACE,cAAC,GAAD,CACErsB,MAAOoG,EAAeukB,EAASnU,YAAYxW,MAAMiM,QAAQ7C,GACzD4d,WAAY,SACZC,kBAAmB,SAACjnB,GAAD,OAAWgrB,EAAahrB,IAC3CknB,cAAe,SAAClnB,GAAD,OAAWirB,EAAmBjrB,EAAM2qB,IACnDtf,UAAWxC,EAAYyC,QACvB6b,UACE,qCACE,qBAAK7c,MAAO,CAACqd,SAAU,GAAvB,iBACA,cAAC,KAAD,OAGJP,YAAa,CACX7e,MAAO,WAET8e,eAAgB,CACd9nB,UAAWZ,EAAQopB,qBAErBT,WAAY,CACV5rB,MAAM,GAAD,OAAKiB,EAAE,OAAP,YAAkBguB,EAASnb,KAAMhK,cAAjC,YAAkD7I,EAAE,OAApD,YAA8DA,EAAE,OAAhE,QACLgpB,eAAgBhpB,EAAE,eAClBipB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAEpB0pB,eAAgB,CACd3a,WAAY,CACVqhB,kBAAkB,EAClBpuB,QAAS,CACPgN,MAAOhN,EAAQgqB,4BACf7oB,KAAMnB,EAAQmB,eAOtB,mBAnR+E6qB,EAASnb,gBCrZjGmU,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CAClB3N,SAAUD,GAAe5B,GACzB+U,YAAa3F,GAAkBpP,GAC/B3L,cAAe6N,GAAoBlC,GACnC1L,UAAW4V,GAAgBlK,GAC3BvL,YAAaua,GAAkBhP,GAC/ByP,UAAW7J,GAAgB5F,OAE/B,SAAC0P,EAAUF,GAAX,MAAyB,CAEvBG,iBAAkB,SAACtkB,GACjBqkB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC3N,OAEvC8pB,cAAe,SAAC9pB,GACdqkB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC3N,OAEvC2pB,WAAY,WACVtF,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,aAEvCic,aAAc,WACZvF,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,aAEvCkc,aAAc,WACZxF,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,aAEvC8W,uBAAwB,SAACC,EAAc/W,GACrC0W,EAAUE,GAAQlU,cAAcqU,GAAc/W,SAIlD,SAACyX,EAAYC,EAAelB,GAAc,IAGtCuF,EAIEtE,EAJFsE,YACAlT,EAGE4O,EAHF5O,SACAxN,EAEEoc,EAFFpc,cACAob,EACEgB,EADFhB,UAIAE,EAEEe,EAFFf,iBACAG,EACEY,EADFZ,uBAgEF,OAAO,qCACLsF,eA7DqB,SAAC4D,EAAWzC,GACjC,IAAM0C,EAAqBvoB,GAAesoB,EAAWvJ,GAC/CpkB,EAAG,kBAAcwW,GAAd,OAAyB0U,EAASnb,MAAlC,OAAyC6d,EAAmBrtB,MAAMiM,QAAQ,IACnF8X,EAAiBtkB,IA2DjBiqB,eAzDqB,SAAC4D,EAAQ3C,GAC9B,IAAM4C,EAAkBzoB,GAAewoB,EAAQzJ,GACzCpkB,EAAG,mBAAewW,GAAf,OAA0B0U,EAASnb,MAAnC,OAA0C+d,EAAgBvtB,MAAMiM,QAAQ,IACjF8X,EAAiBtkB,IAuDjBgqB,kBArDwB,SAAC+D,GACzB,IAAMC,EAAsBD,EAAWhuB,KAAI,SAACosB,GAAD,OAAY9mB,GAAe8mB,EAAO/H,MACzEpkB,EAAG,kBAAcwW,GACrBkT,EAAY3pB,KAAI,SAACmrB,EAAS3f,GAAV,OAAoBvL,GAAOkrB,EAASnb,KAAOke,OAAOD,EAAoBziB,GAAOhL,MAAMiM,QAAQ,OAC3G8X,EAAiBtkB,IAkDjBkqB,kBAhDwB,SAAC2D,GACzB,IAAMC,EAAkBD,EAAO9tB,KAAI,SAACmuB,GAAD,OAAS7oB,GAAe6oB,EAAI9J,MAC3DpkB,EAAG,mBAAewW,EAAf,KACPkT,EAAY3pB,KAAI,SAACmrB,EAAS3f,GAAV,OAAoBvL,GAAOkrB,EAASnb,KAAOke,OAAOH,EAAgBviB,GAAOhL,MAAMiM,QAAQ,OACvG8X,EAAiBtkB,IA6CjBmqB,eA3CqB,SAACwD,EAAWzC,GACjC,IAAMiD,EAAqBloB,GAAe0nB,EAAUvJ,GAC9CgK,EAAuB1hB,OAASwe,EAASntB,SAASwC,MAAQ2qB,EAAStU,UAAUrW,MAAQ4tB,EAAmB5tB,OACxGqtB,EAAqBvoB,GAAe,CAAC9E,MAAO6tB,EAAsB5pB,KAAM2pB,EAAmB3pB,MAAM4f,GACjGpkB,EAAG,cAAUkrB,EAASnb,MAAnB,OAA0B6d,EAAmBrtB,MAAMiM,QAAQ,IACpE8X,EAAiBtkB,IAuCjBoqB,eArCqB,SAACyD,EAAQ3C,GAC9B,IAAM4C,EAAkBzoB,GAAewoB,EAAQzJ,GACzCpkB,EAAG,cAAUkrB,EAASnb,MAAnB,OAA0B+d,EAAgBvtB,MAAMiM,QAAQ,IACjE8X,EAAiBtkB,IAmCjBqqB,kBAjCwB,SAACwD,GACzB,IAAMC,EAAkBD,EAAO9tB,KAAI,SAACmuB,GAAD,OAAS7oB,GAAe6oB,EAAI9J,MAC3DpkB,EAAM,OACV0pB,EAAY3pB,KAAI,SAACmrB,EAAS3f,GAAV,OAAoBvL,GAAOkrB,EAASnb,KAAOke,OAAOH,EAAgBviB,GAAOhL,MAAMiM,QAAQ,OACvG8X,EAAiBtkB,IA8BjBsqB,SA5Be,SAAC+D,GAChB,IAAMC,EAAqBroB,GAAeooB,EAAQjK,GAClDK,EAAuB,mBAAoB,CAAE9W,KAAM,CAAC3E,EAAeslB,EAAmB/tB,SACtF,IAAMguB,EAAqBlpB,GAAegpB,EAAQjK,GAC5CpkB,EAAG,kBAAcgJ,EAAd,aAAgCulB,EAAmBhuB,MAAMiM,QAAQ,IAC1E8X,EAAiBtkB,GACjBskB,EAAiB,QAuBjBiG,eArBqB,SAACsD,EAAO3C,GAC7B,IAAMsD,EAAqBvoB,GAAe4nB,EAAQzJ,GAC5CkK,EAAqB,CACzB/tB,MAAO2qB,EAASjP,eAAe1b,MAAQ2qB,EAASxU,UAAUnW,MAAQ2qB,EAAStU,UAAUrW,MAAQiuB,EAAmBjuB,MAChHiE,KAAMgqB,EAAmBhqB,MAE3BigB,EAAuB,mBAAoB,CAAE9W,KAAM,CAAC3E,EAAeslB,EAAmB/tB,SACtF,IAAMkuB,EAAqBppB,GAAewoB,EAAQzJ,GAC5CpkB,EAAG,mBAAegJ,EAAf,aAAiCylB,EAAmBluB,MAAMiM,QAAQ,IAC3E8X,EAAiBtkB,GACjBskB,EAAiB,SAYdc,GACAC,GACAlB,KAtHQD,CAwHZuF,ICtIU3nB,GAAY,aACZ4sB,GAAkB,WAElBC,GACA,MADAA,GAEC,OCFCvd,gBAAc,CAC3Bwd,6BAAyBvf,EACzBwf,8BAA0Bxf,EAC1Byf,qBAAiBzf,EACjB0f,oBAAgB1f,EAEhB2f,+BAA2B3f,EAC3B4f,+BAA2B5f,EAC3B6f,6BAAyB7f,EAEzB8f,kBAAc9f,EAEd+f,MAAO,CACLC,UAAMhgB,EACNigB,UAAMjgB,GAERkgB,yBAAqBlgB,EAErBmgB,sCAAkCngB,EAClCogB,kBAAcpgB,EACdqgB,QAAS,CACPC,YAAQtgB,EACRugB,WAAOvgB,EACPwgB,oBAAgBxgB,EAChBygB,qBAAiBzgB,EACjB0gB,SAAK1gB,EACL2gB,oBAAgB3gB,EAChB4gB,iBAAa5gB,GAEfiB,aAAc,CACZqf,YAAQtgB,EACRugB,WAAOvgB,EACPwgB,oBAAgBxgB,EAChBygB,qBAAiBzgB,EACjB0gB,SAAK1gB,EACL2gB,oBAAgB3gB,EAChB4gB,iBAAa5gB,GAEfpK,gBAAiB,CACfirB,cAAU7gB,EACV8gB,qBAAiB9gB,EACjB+gB,oBAAgB/gB,EAChBghB,2BAAuBhhB,GAEzBihB,IAAK,CACHC,iBAAalhB,GAEfjK,IAAK,CACHmrB,iBAAalhB,IAEd,CAAEoF,OAAQ3S,K,kDC/CPtE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8yB,YAAa,CACXpoB,YAAa1K,EAAMQ,QAAQ,QAiBhBuyB,OAbf,SAAuBt0B,GAAQ,IAE3Bu0B,EAGEv0B,EAHFu0B,QACAC,EAEEx0B,EAFFw0B,UACAzxB,EACE/C,EADF+C,QAGMhC,EAAMD,IAANC,EAEF0zB,EAAkBpzB,KACxB,OAAO,eAACuP,EAAA,EAAD,CAAQhB,QAAQ,YAAYjD,MAAM,UAAUoE,KAAK,QAAQhO,QAAU,CAAEmB,KAAMnB,EAAQ2mB,QAAW5Y,QAAS0jB,EAAvG,UAAoHD,EAAU,KAAO,cAAC,KAAD,CAAa5wB,UAAW8wB,EAAgBJ,cAAiBtzB,EAAE,eCjB1LgnB,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACLuM,QAASnV,GAAqB5G,OAGlC,SAAC0P,EAAUF,GAAX,MAAyB,CACvBwM,UAAW,kBAAMtM,EAASwM,GAAkB7iB,IAAI8iB,eAPnC5M,CAQXuM,ICZSM,GAA8B,SAACpc,GAAD,OAAWA,EAAMqc,QAAQC,uBACvDC,GAAiB,SAACvc,GAAD,OAAWA,EAAMqc,QAAQG,UAC1CC,GAAe,SAACzc,GAAD,OAAWA,EAAMqc,QAAQK,QACxCC,GAAiB,SAAC3c,GAAD,OAAWA,EAAMqc,QAAQzX,UAC1CgY,GAAgB,SAAC5c,GAAD,OAAWA,EAAMqc,QAAQ3zB,SACzCm0B,GAAmB,SAAC7c,GAAD,OAAWA,EAAMqc,QAAQS,YAC5CC,GAAgB,SAAC/c,GAAD,OAAWA,EAAMqc,QAAQW,SACzCC,GAAsB,SAACjd,GAAD,OAAWA,EAAMqc,QAAQa,eAC/CC,GAA8B,SAACnd,GAAD,OAAWA,EAAMqc,QAAQe,uBACvDC,GAA2B,SAACrd,GAAD,OAAWA,EAAMqc,QAAQ9a,cACpD+b,GAAyB,SAACtd,GAAD,OAAWA,EAAMqc,QAAQkB,kBAClDC,GAA4B,SAACxd,GAAD,OAAWA,EAAMqc,QAAQhb,eACrDoc,GAA0B,SAACzd,GAAD,OAAWA,EAAMqc,QAAQnR,cAAc9P,MACjEsiB,GAAgC,SAAC1d,GAAD,OAAWA,EAAMqc,QAAQnR,cAAcyS,YACvEC,GAAmB,SAAC5d,GAAD,OAAWA,EAAMqc,QAAQ9C,IAAI/vB,SAChDq0B,GAAmB,SAAC7d,GAAD,OAAWA,EAAMqc,QAAQrR,IAAIxhB,S,6BChBvDs0B,GAAiB,CAAE,IAAK,EAAG,GACpBC,GAAS,SAACC,EAAEC,GAGvB,OAFAH,GAAe,GAAKE,EACpBF,GAAe,GAAKG,EACbH,GAAexyB,KAAK,MAGvB4yB,GAAgB,CAAE,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAClCC,GAAQ,SAACC,EAAIC,EAAIC,EAAKC,EAAUC,EAAOR,EAAGC,GAQrD,OAPAC,GAAc,GAAKE,EACnBF,GAAc,GAAKG,EACnBH,GAAc,GAAKI,EACnBJ,GAAc,GAAKK,EACnBL,GAAc,GAAKM,EACnBN,GAAc,GAAKF,EACnBE,GAAc,GAAKD,EACZC,GAAc5yB,KAAK,MAGtBmzB,GAAiB,CAAE,IAAK,EAAG,GACpBC,GAAS,SAACV,EAAEC,GAGvB,OAFAQ,GAAe,GAAKT,EACpBS,GAAe,GAAKR,EACbQ,GAAenzB,KAAK,MCJdqzB,GAjBG,SAACzM,GAA6B,IAAflY,EAAc,uDAAP,GAAO,EACjBjO,mBAASmmB,GADQ,mBACrCtmB,EADqC,KAC9BgzB,EAD8B,OAED7yB,mBAASmmB,GAFR,mBAErC2M,EAFqC,KAEtBC,EAFsB,KAe7C,OAXA1pB,qBAAU,WACR,IAMM2pB,EAAYlpB,OAAOmpB,uBANI,WAC3B,IAAMC,EAAmBjlB,EAAO6kB,GAAe,EAAE7kB,GAAQpO,EACtDnB,KAAKyc,IAAI+X,EAAiBJ,GAAiB,MAC5CC,EAAiBG,MAIrB,OAAO,kBAAMppB,OAAOqpB,qBAAqBH,MACxC,CAAEnzB,EAAOizB,EAAeC,EAAkB9kB,IAEtC,CAAEpO,EAAOgzB,EAAUC,ICTtBh2B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6C,MAAO,GAEP5B,IAAK,CACHm1B,YAAa,YAIJC,GAAa,aA8KXC,GA3KY,SAAC73B,GAAW,IAAD,EAWhCA,EATF0qB,oBAFkC,MAEnB,EAFmB,IAWhC1qB,EARF83B,mBAHkC,MAGpBF,GAHoB,IAWhC53B,EAPFsnB,gBAJkC,MAIvB,IAJuB,IAWhCtnB,EANF+3B,iBALkC,MAKtB,GALsB,IAWhC/3B,EALFg4B,gBANkC,MAMvB,GANuB,EAOlC3zB,EAIErE,EAJFqE,SAPkC,EAWhCrE,EAHFi4B,eARkC,WAWhCj4B,EAFFk4B,mBATkC,WAWhCl4B,EADFm4B,kBAVkC,SAa9B52B,EAAQ62B,eAbsB,EAcsBjB,GAAUzM,GAdhC,mBAc5B2N,EAd4B,KAchBC,EAdgB,KAcDC,EAdC,OAeYh0B,mBAAStB,KAAKu1B,MAAM9N,IAfhC,mBAe5B+N,EAf4B,KAeXC,EAfW,OAgBUn0B,mBAAS,MAhBnB,mBAgB5Bo0B,EAhB4B,KAgBZC,EAhBY,KAiB9B/4B,EAAS6N,iBAAO,MAEhBmrB,EAAY51B,KAAK61B,IAAI,EAAG71B,KAAK81B,IAAI,EAAG/4B,EAAM64B,WAAa,IAEzDG,EAAO,GACRlB,IAAgBF,IACjBoB,EAAKz2B,MAAQ+kB,EACb0R,EAAKn3B,OAASk2B,EACXE,GACDe,EAAKC,OAAS3R,EACd0R,EAAKE,OAAS,EACdF,EAAKG,KAAO,EACZH,EAAKI,KAAO,IAEZJ,EAAKC,OAAS,EACdD,EAAKE,OAAS,EACdF,EAAKG,KAAO7R,EACZ0R,EAAKI,KAAO,GAEdJ,EAAKK,SAAW,EAChBL,EAAKM,SAAW,IAEhBN,EAAKz2B,MAAQw1B,EACbiB,EAAKn3B,OAASylB,EACX2Q,GACDe,EAAKC,OAAS,EACdD,EAAKE,OAAS5R,EACd0R,EAAKG,KAAO,EACZH,EAAKI,KAAO,IAEZJ,EAAKC,OAAS,EACdD,EAAKE,OAAS,EACdF,EAAKG,KAAO,EACZH,EAAKI,KAAO9R,GAEd0R,EAAKK,SAAW,EAChBL,EAAKM,SAAW,GAsBlB,IA3EoC,IAyDlC/2B,EAQEy2B,EARFz2B,MACAV,EAOEm3B,EAPFn3B,OACAo3B,EAMED,EANFC,OACAC,EAKEF,EALFE,OACAC,EAIEH,EAJFG,KACAC,EAGEJ,EAHFI,KACAC,EAEEL,EAFFK,SACAC,EACEN,EADFM,SAGIv2B,EAAU1B,KAEVk4B,EAAU,GACVC,GAAYjB,EAA4B,GAATjR,EAAY0Q,EAC3CyB,EAAwC,GAATnS,EAAY0Q,EAA/BO,EAIVmB,EAAYz2B,KAAK02B,KAAKH,GAAWE,EAAYD,EAHzC,KAGuDC,GAAa,EAAG,CACjF,IAAME,GAASF,EAAUF,IAAWC,EAASD,GAEvCz4B,GAAK,EAAE83B,GAAWe,EAAMf,IADb51B,KAAKG,IAAIH,KAAKC,GAAGD,KAAK81B,IAAI,EAAE91B,KAAK61B,IAAI,EAAGc,KAAS,IAAK,GAKjEC,EARc,GAQC,EAAEhB,GAA2BA,GADxB51B,KAAKG,IAAIH,KAAKC,GAAGD,KAAK81B,IAAI,EAAE91B,KAAK61B,IAAI,EAAGc,IAAQ,IAAkB32B,KAAKG,IAAIH,KAAKC,GAAGD,KAAK81B,IAAI,EAAE91B,KAAK61B,IAAI,EAAGc,IAAQ,KAE5IL,EAAQpb,KAAK,CAAEub,YAAW34B,IAAG84B,gBAG/B,IAAMC,GAAQP,EAAQ31B,KAAI,YAAoC,IAAjC81B,EAAgC,EAAhCA,UAAW34B,EAAqB,EAArBA,EAAG84B,EAAkB,EAAlBA,YAGnCE,EAAKd,GAAQ,EAAEl4B,GAAGo4B,EAAKp4B,EACvBi5B,EAAKd,GAAQ,EAAEn4B,GAAGq4B,EAAKr4B,EACvBk5B,EAAKF,EAAGV,EAAStB,EAAU,IAHrB,EAINmC,EAAKF,EAAGV,EAASvB,EAAU,IAJrB,EAMZ,OAAO,sBAAsBgC,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,EAAIC,OAAO,QAAQC,cAAe,GAAIP,YAAaA,GAA1FH,MAGdW,GAA4Bv1B,uBAAY,SAACw1B,GAC7C,IAAMC,EAAgBlC,GAAYJ,GAAW,EAAI,GAAGqC,EAAMtC,EAC1DM,EAAciC,GAEd,IAAMC,EAAUD,EAAc9B,EAAkB,GAAKx1B,KAAKu1B,MAAMC,EAAgB8B,GAAiBt3B,KAAKu1B,MAAM+B,EAAc9B,GACvHx1B,KAAKyc,IAAI8a,GAAW,IACrB9B,EAAmBD,EAAgB+B,GACnCn2B,EAASm2B,MAEV,CAAElC,EAAeD,EAAYL,EAAU3zB,EAAU4zB,EAASS,EAAoBD,IAE3EgC,GAAa31B,uBAAY,YAA+B,EAA5BmK,MAA6B,IAAtBqrB,EAAqB,EAArBA,MAAqB,kCAC5DjsB,OAAOqsB,eAAeC,kBACtB,IAAMt6B,EAAIy3B,IAAgBF,GAAa0C,EAAM,GAAIA,EAAM,GACpD3B,GACDiC,aAAajC,GAEZ11B,KAAKyc,IAAIrf,GAAK,GACfg6B,GAA0Bh6B,KAE3B,CAAEg6B,GAA2BvC,EAAaa,IAEvCkC,GAAgB/1B,uBAAY,YAAe,EAAZmK,MACnCqpB,EAAcG,KACb,CAAEH,EAAeG,IAEdqC,GAAch2B,uBAAY,SAAC0T,GAAW,IAExCvJ,EAGEuJ,EAHFvJ,MACA8rB,EAEEviB,EAFFuiB,SACAT,EACE9hB,EADF8hB,MAECS,GACD9rB,EAAMhK,iBAER,IAAM5E,EAAIi6B,EAAM,GAChBD,GAA0B,IAAIh6B,GAC3Bs4B,GACDiC,aAAajC,GAEfC,EAAkBoC,YAAW,WAC3B1C,EAAcG,KACb,QACF,CAAEH,EAAeG,EAAiB4B,GAA2BzB,EAAmBD,IAE7EsC,GAAmB,GACtB9C,IACD8C,GAAiBC,OAAST,GAC1BQ,GAAiBE,UAAYN,IAG5B3C,IACD+C,GAAiBG,QAAUN,IAG7BO,aAAWJ,GAAkB,CAAEK,UAAWz7B,EAAQ07B,aAAc,CAAEC,SAAS,KAE3E5tB,qBAAU,WACR,OAAO,WACLgtB,aAAajC,MAEd,CAAEA,IAEL,IAEM8C,GAAgB3D,IAAgBF,GACpC,CAAErB,GAAa,GAANh0B,EAASm5B,EAAkB75B,GAASq1B,GAAa,GAAN30B,EAAUV,EAFxC,GAEiEq1B,GAAa,GAAN30B,EAASm5B,EAAmB75B,GAAS,KAEnI,CAAE00B,GAAO,EAAU,GAAP10B,EAAU65B,GAAoBxE,GAJpB,EAImD,GAAPr1B,GAAYq1B,GAAO,EAAU,GAAPr1B,EAAU65B,GAAoB,KACxH,OAAO,sBAAKt7B,IAAKP,EAAQ0C,MAAOA,EAAOV,OAAQA,EAAQ1B,QAAS,OAASoC,EAAQ,IAAMV,EAAQ8B,UAAWZ,EAAQP,IAA3G,UACNs3B,GACD,sBAAMz5B,EAAGo7B,GAAc33B,KAAK,KAAMC,KAAMxC,EAAMY,QAAQE,QAAQwJ,W,+BChL1DxK,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACT9I,SAAU,WASV6qB,WAAY,SACZkP,WAAY,OACZ75B,aAAcP,EAAMQ,QAAQ,IAE9B6V,QAAS,CACPnV,cAAe,YAEjBm5B,aAAc,CACZhwB,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,MAE/CgwB,eAAgB,CACdjwB,OAAQ,aAAerK,EAAMY,QAAQgK,KAAK,MAE5C2vB,OAAQ,CACN95B,QAAS,eACTH,OAAQ,GACRU,MAAO,6BAA+BhB,EAAMQ,QAAQ,GAAK,MACzD45B,WAAY,OACZl5B,cAAe,SACfwqB,qBAAsB,EACtBC,wBAAyB,EACzBzhB,UAAW,QACXkD,aAAcpN,EAAMQ,QAAQ,GAAK,IAEnCg6B,YAAa,CACXpvB,MAAOpL,EAAMY,QAAQE,QAAQ25B,aAC7BtvB,gBAAiBnL,EAAMY,QAAQE,QAAQwJ,KACvCD,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,MAE/CowB,cAAe,CACbvvB,gBAAiBnL,EAAMY,QAAQgK,KAAK,KACpCP,OAAQ,aAAerK,EAAMY,QAAQgK,KAAK,MAE5CtJ,MAAM,2BACDtB,EAAMG,WAAWw6B,WADjB,IAEHl6B,QAAS,eACTyJ,UAAW,SACXhJ,cAAe,SACfF,MAAO,GACPV,OAAQ,GACR85B,WAAY,OACZ5Q,oBAAqB,EACrBC,uBAAwB,EACxBmR,WAAY,SAEdC,WAAW,2BACN76B,EAAMG,WAAWw6B,WADZ,IAIRl6B,QAAS,eACTyJ,UAAW,SACXhJ,cAAe,SACfF,MAAO,GACPV,OAAQ,GACR85B,WAAY,OACZ1O,qBAAsB,EACtBC,wBAAyB,EACzBiP,WAAY,OACZv6B,SAAU,WACVy6B,MAAO,EACPC,IAAK,IAEPC,MAAM,2BACDh7B,EAAMG,WAAW86B,WADjB,IAEH5wB,OAAQ,0BACRE,aAAc,EACd9J,QAAS,eACTyJ,UAAW,SACXhJ,cAAe,SACfb,SAAU,WACV66B,SAAU,kBAAoBl7B,EAAMQ,QAAQ,GAAK,YACjDo6B,WAAY,SAEdO,OAAQ,CACNC,OAAQ,UACR,UAAW,CACT/wB,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,OAGjDge,KAAM,CACJje,OAAQ,aAAerK,EAAMY,QAAQE,QAAQwJ,MAE/C+wB,QAAS,CACPh7B,SAAU,WACV06B,IAAK,EACL35B,KAAM,GAERigB,MAAM,2BACDrhB,EAAMG,WAAW86B,WADjB,IAEHx6B,QAAS,eACT+pB,SAAU,OACV4P,WAAY,OACZr5B,WAAY,EACZC,MAAO,GAEPX,SAAU,WACV6J,UAAW,SACXhJ,cAAe,eA6FJo6B,GAzFyB,SAAC78B,GA+BvC,IA/BkD,IAAD,IAE/CoE,EAWEpE,EAXFoE,MACAC,EAUErE,EAVFqE,SACAy4B,EASE98B,EATF88B,iBACAj6B,EAQE7C,EARF6C,MACAk6B,EAOE/8B,EAPF+8B,YACAC,EAMEh9B,EANFg9B,YACAC,EAKEj9B,EALFi9B,aAR+C,EAa7Cj9B,EAJFk9B,iBAT+C,OASlC,EATkC,EAU/CC,EAGEn9B,EAHFm9B,eACA90B,EAEErI,EAFFqI,KACA+0B,EACEp9B,EADFo9B,OAGM7yB,EAAiCN,KAAjCM,6BAEFwG,EAAO,GAEPhO,EAAU1B,KAnBiC,EA2BrC+C,EAAMiM,QAAQysB,GACQpzB,MAAM,KA5BS,mBA4BzC2zB,EA5ByC,KA4BlCC,EA5BkC,KA8B3CC,EAAaF,EAAM3zB,MAAM,IACzB6zB,EAAW7+B,OAASq+B,GACxBQ,EAAWC,QAAQ,IAGrB,IAAMC,EAAkBH,EAAW5zB,MAAM,IAEnCg0B,EAAQ,GACdH,EAAWhkB,SAAQ,SAACokB,EAAGn/B,GACrB,IAAM+9B,EAAQgB,EAAW7+B,OAAO,EAAEF,EAC5Bo/B,EAAYH,EAAgB/+B,OAAO69B,EAAM,EAC/CmB,EAAMvf,KAAK,CAAE0f,KAAMF,EAAGjB,OAAQkB,GAAaX,EAAclpB,UAAW9Q,KAAK66B,IAAI,GAAIvB,GAAQvE,SAAUjnB,GAAS6sB,iBAG9GF,EAAMvf,KAAK,CAAE0f,KAAM,IAAKnB,QAAQ,EAAO3oB,UAAW,EAAGikB,SAAUjnB,KAE/D0sB,EAAgBlkB,SAAQ,SAACokB,EAAGpB,GAC1B,IAAMqB,EAAYH,EAAgB/+B,OAAO69B,EACzCmB,EAAMvf,KAAK,CAAE0f,KAAMF,EAAGjB,OAAQkB,GAAaX,EAAclpB,UAAW9Q,KAAK66B,IAAI,KAAMvB,EAAM,IAAKvE,SAAUjnB,GAAS6sB,iBAGnH,IAAMG,EAAWL,EAAM95B,KAAI,WAAkDpF,GAAO,IAAD,EAArDq/B,EAAqD,EAArDA,KAAMnB,EAA+C,EAA/CA,OAAQ3oB,EAAuC,EAAvCA,UAAWikB,EAA4B,EAA5BA,SAAU4F,EAAkB,EAAlBA,UAMzDhB,EAAUgB,IAAcV,EAC5B,cAAC,GAAD,CAAoBjF,SAAS,EAAMvN,aAAcmE,SAASgP,GAAO9F,UAAWhnB,EAAMuW,SAAUvW,EAAMinB,SAAUA,EAAUa,UAAW,EAAGf,YAAY,WAAWzzB,SANxI,SAAC25B,GACjB35B,GACDA,EAAS25B,EAAMjqB,MAKf,KACJ,OAAO,uBACMpQ,UAAWkN,KAAU,mBAAI9N,EAAQw5B,OAAQ,GAApB,cAA2Bx5B,EAAQ25B,OAASA,GAA5C,cAAqD35B,EAAQ8mB,KAAOqT,IAAcU,GAAlF,IACrB9sB,QAAS,SAAC/L,GAAW23B,GAAaS,GAAkBA,EAAeS,IACnElvB,MAAO,CAAEqd,SAAUhb,EAAM4qB,WAAY5qB,OAAaxO,MAAOwO,EAAMlP,OAAQkP,GAH7E,UAIJ8sB,EACD,qBAAKl6B,UAAWZ,EAAQ65B,QAAxB,SACCA,MANep+B,MAWpB,OAAO,sBAAKmF,UAAWZ,EAAQ2H,UAAxB,UACP,sBAAM/G,UAAWkN,IAAW9N,EAAQF,OAAT,mBAAmBE,EAAQg5B,YAAciB,GAAzC,cAAuDj6B,EAAQk5B,eAAiBe,GAAhF,IAA3B,SAA4Hn6B,IAC5H,uBAAMc,UAAWkN,IAAW9N,EAAQ+4B,QAAT,mBAAoB/4B,EAAQ64B,aAAeoB,GAA3C,cAAyDj6B,EAAQ84B,gBAAkBmB,GAAnF,IAA3B,UACGe,EACD,sBAAMp6B,UAAWkN,IAAW9N,EAAQ6f,OAApC,SACE,sBAAMjf,UAAWZ,EAAQk7B,eAAzB,SACG1zB,EAA6BlC,UAOpC,sBAAM1E,UAAWZ,EAAQq5B,WAAzB,SACE,cAAC8B,GAAA,EAAD,CAAYptB,QAASssB,EAAQrsB,KAAK,QAAlC,SAA0C,cAAC,KAAD,YChNjCotB,GAAoB,SAACn8B,EAASo8B,GACzC,OAAOp8B,GACL,IAAK,WACH,OAAOo8B,EAAUx6B,KAAI,YAA0B,IAAxB+b,EAAuB,EAAvBA,SAAuB,6BAC5C,OAAOA,KAEX,IAAK,MACH,OAAOye,EAAUx6B,KAAI,YAAqB,IAAnBoc,EAAkB,EAAlBA,IAAkB,wBACvC,OAAOA,KAEX,IAAK,WACH,OAAOoe,EAAUx6B,KAAI,YAA0B,IAAxBhC,EAAuB,EAAvBA,SAAuB,6BAC5C,OAAOA,KAEX,IAAK,iBACH,OAAOw8B,EAAUx6B,KAAI,YAAgC,IAA9Bkc,EAA6B,EAA7BA,eAA6B,mCAClD,OAAOA,KAEX,QACE,OAAOse,EAAUx6B,KAAI,YAA0B,IAAxBhC,EAAuB,EAAvBA,SAAuB,6BAC5C,OAAOA,OCwCAy8B,GAvDK,SAACr+B,GAAW,IAE5Bsf,EAUEtf,EAVFsf,MACA8e,EASEp+B,EATFo+B,UACAE,EAQEt+B,EARFs+B,eACAC,EAOEv+B,EAPFu+B,SACAv8B,EAMEhC,EANFgC,QAEAw8B,EAIEx+B,EAJFw+B,cACAC,EAGEz+B,EAHFy+B,oBACAC,EAEE1+B,EAFF0+B,eACAtB,EACEp9B,EADFo9B,OAGM5yB,EAAmBP,KAAnBO,eAEFm0B,EAAcR,GAAkBn8B,EAASo8B,GACzCQ,EAAWR,EAAUx6B,KAAI,YAA8C,IAA3CgQ,EAA0C,EAA1CA,KAAMhS,EAAoC,EAApCA,SAAUud,EAA0B,EAA1BA,WAAY/P,EAAc,EAAdA,MACtDyvB,EAAiB1f,EAAa,EAAI,GAAK,EACvCtL,GAAayL,EACbwf,EAAUxf,EAAQlQ,EAAQ+P,EAS1B2d,EAAmB3d,EAAa,GAA4C,OAAlC3U,EAAe5I,GAAUyG,KAA/B,EAAmD,EACvF00B,EAAc5d,EAAa,GAA4C,OAAlC3U,EAAe5I,GAAUyG,KAA/B,EAAmD,EAClF40B,GAAe9d,EAAa,GAAU3U,EAAe5I,GAAUyG,KAA/B,GAChC02B,EAAmBR,IAAa3qB,EAAO0qB,GAAkB,EAK/D,OAAO,cAAC,GAAD,CACiCz7B,MAAO+Q,EACPxP,MAAOoG,EAAem0B,EAAYxf,IAAa/a,MAC/CiE,KAAMmC,EAAe5I,GAAUyG,KAC/BhE,SApBnB,SAAC26B,GACpB,IAAMC,EAAM,CAAC76B,MAAOnB,KAAKyc,IAAIsf,GAAI32B,KAAMmC,EAAe5I,GAAUyG,MAC1DyL,EAAQ+qB,EAAiB57B,KAAKi8B,KAAKF,GACzCN,EAAe,CAAE9qB,KAAMkrB,EAASjrB,YAAWC,QAAOC,UAAWkrB,KAkBvBnC,iBAAkBA,EAClBC,YAAaA,EACbE,aAAcA,EACdD,YAAappB,IAAS2qB,EACtBrB,UAAW6B,EACX5B,eAdb,SAAC/tB,GAC1BovB,EAAc5qB,GACd6qB,EAAoBrvB,IAakBguB,OAtBrB,SAACxpB,GAAD,OAAU,WAC3BwpB,EAAOxpB,IAqBuCurB,CAAWvrB,IAXdA,MAc/C,OAAO,8BACNgrB,K,UCvDHQ,UAAOC,aAAc,EACd,IAAMC,GAAO,IAAIC,QAAK,CAAEC,IAA8B,qBCQ9CzX,sBACf,SAACvP,EAAOwP,GACN,IAAMoW,EAAYve,GAAgBrH,GAC5B8G,EAAQF,GAAqB5G,GAC7ByP,EAAY7J,GAAgB5F,GAC5BinB,EAAiBljB,GAAqB/D,GACtC8lB,EAAiBpI,GAA8B1d,GAC/C+lB,EAAWtI,GAAwBzd,GAGzC,MAAO,CACLxW,QAHcq0B,GAAiB7d,GAI/B8G,QACA8e,YACAnW,YACAqW,iBACAC,WACAkB,qBAGJ,SAACvX,EAAUF,GAAX,MAAyB,CACvB0X,oBAAqB,SAACC,EAAWnuB,GAC/B0W,EAAUE,GAAQ1U,WAAWisB,GAAWnuB,KAE1C4rB,OAAQ,SAACxpB,EAAMgsB,GACb,GAAoB,qBAAVhsB,GAA2C,qBAAXgsB,EAAwB,CAChE,IAAMC,EAAQ,4BAAwBD,EAAxB,4BACRE,EAAY,wBAAoBF,EAApB,WACZG,EAAa,SAASzgC,QAAQsU,GACpCsU,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAC,yBAAD,OAA2BuuB,EAA3B,gBAA6CF,EAA7C,gBAA6DC,EAA7D,YAGxCtB,cAAe,SAAC5qB,GACdsU,EAAS8X,GAAatc,cAAcuc,QAAQrsB,KAE9C6qB,oBAAqB,SAAC7qB,GACpBsU,EAAS8X,GAAatc,cAAcwc,cAActsB,SAGtD,SAACqV,EAAYC,EAAelB,GAAc,IAEtCC,EAEEgB,EAFFhB,UACAwX,EACExW,EADFwW,eAGAC,EAEExW,EAFFwW,oBACAtC,EACElU,EADFkU,OAUF,OAAO,mDACFnU,GACAC,GACAlB,GAHL,IAIE0W,eAXqB,SAAC,GAA2C,IAAzC9qB,EAAwC,EAAxCA,KAAME,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,UAAWF,EAAgB,EAAhBA,UAC1CssB,EAAwBr2B,GAAeiK,EAAUkU,GACvDyX,EAAoB,eAAgB,CAAE9rB,OAAME,QAAOC,UAAWosB,EAAsB/7B,MAAOyP,cAE3FyrB,GAAKc,QAQLhD,OAAQ,SAACxpB,GACP,IAAMgsB,EAAQH,EAAe7rB,GAC7BwpB,EAAOxpB,EAAMgsB,QA/DJ7X,CAkEZsW,I,UCtEYtW,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBqY,QAASzL,GAA4Bpc,GACrCyG,KAAMF,GAAWvG,OAEnB,SAAC0P,EAAUF,GAAX,MAAyB,CACvBsY,SAAU,WACRpY,EAAS8X,GAAalL,0BAExByL,UAAW,WACTrY,EAAS8X,GAAaQ,2BAExBC,UAAW,SAAC7sB,GACVsU,EAASwM,GAAkBhhB,WAAWgtB,QAAQ,CAAE9sB,eAGpD,SAACqV,EAAYC,EAAelB,GAAc,IAEtCqY,EAEEpX,EAFFoX,QACAphB,EACEgK,EADFhK,KAIAqhB,EAGEpX,EAHFoX,SACAC,EAEErX,EAFFqX,UACAE,EACEvX,EADFuX,UAcF,OAAO,2BACFzY,GADL,IAEEqY,UACAh8B,SAde,SAACU,GAChB,GAAGA,EAAExG,OAAO8hC,QACVC,QACK,CACLC,IADK,qBAEgBthB,GAFhB,IAEL,IAAI,EAAJ,qBAA2B,CAAC,IAAlB7P,EAAiB,QAAjBA,MACRqxB,EAAUrxB,IAHP,qCA/BI2Y,CA6Cb4Y,MCpCIt/B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCq/B,OAAQ,CACN5+B,QAAS,OACTF,aAAcP,EAAMQ,QAAQ,IAE9B8+B,SAAU,CACRt+B,MAAO,QAETu+B,cAAe,CACbx+B,WAAYf,EAAMQ,QAAQ,IAE5Bg/B,OAAQ,CACNl/B,OAAQ,QAEVgB,MAAM,2BACDtB,EAAMG,WAAWs/B,YADjB,IAEHjV,SAAU,SAkCCkV,GA9BH,SAACjhC,GAAW,IAEpBgC,EAEEhC,EAFFgC,QACAk/B,EACElhC,EADFkhC,aAEMngC,EAAMD,IAANC,EACFgC,EAAU1B,KAMhB,OAAO,eAAC,EAAD,CAAOwB,MAAO9B,EAAE,OAAhB,UACL,sBAAK4C,UAAWZ,EAAQ69B,OAAxB,UACA,eAACO,GAAA,EAAD,CAAQvxB,QAAQ,WAAWxL,MAAOpC,EAASqC,SANjB,SAAC4K,GAC3BiyB,EAAajyB,EAAM1Q,OAAO6F,QAKgDT,UAAWZ,EAAQg+B,OAA7F,UACE,cAACjR,EAAA,EAAD,CAAU1rB,MAAM,WAAhB,SAA2B,cAAC4M,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SAA6C,sBAAM4C,UAAWZ,EAAQ89B,SAAzB,SAAqC9/B,EAAE,kBAC/G,cAAC+uB,EAAA,EAAD,CAAU1rB,MAAM,iBAAhB,SAAiC,cAAC4M,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SAA6C,sBAAM4C,UAAWZ,EAAQ89B,SAAzB,SAAqC9/B,EAAE,2BAOvH,cAAC,GAAD,CAAegC,QAAS,CAAE2mB,OAAQ3mB,EAAQ+9B,iBAC1C,cAAC9vB,EAAA,EAAD,CAASowB,UAAU,MAAM1yB,MAAO,CAAC1M,QAAQ,OAAQ8oB,MAAO,QAASxoB,WAAY,QAASxC,MAAO,+BAAOiB,EAAE,sBAAtG,SAAmI,cAAC,KAAD,SAEnI,cAAC,GAAD,IACA,wBAAO4C,UAAWZ,EAAQF,MAA1B,UAAkC9B,EAAE,mBAApC,IAAwD,cAACsgC,GAAD,CAAuB10B,MAAM,mBCzD1Eob,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACLhmB,QAASq0B,GAAiB7d,OAG9B,SAAC0P,EAAUF,GAAX,MAAyB,CACvBkZ,aAAc,SAACvW,GAAD,OAASzC,EAAS8X,GAAaxc,IAAI8d,WAAW3W,QAP/C5C,CAQXkZ,ICOWM,GAbE,SAACvhC,GAChB,OAAO,eAACswB,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACL,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,cAAC,GAAD,MAEF,cAACH,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,EAAG8Q,GAAI,EAA9B,SACE,cAAC,GAAD,MAEF,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,EAAG8Q,GAAI,EAA9B,SACE,cAAC,GAAD,U,4ICLAngC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,CACNC,OAAQpoB,EAAMQ,QAAQ,IAExB0/B,WAAY,CACVz/B,QAAS,OACT+I,eAAgB,cAwJL22B,GApJe,SAAC1hC,GAAW,IAEtC6pB,EAWE7pB,EAXF6pB,KACAzlB,EAUEpE,EAVFoE,MACAE,EASEtE,EATFsE,SACAwlB,EAQE9pB,EARF8pB,QACAhqB,EAOEE,EAPFF,MACAkqB,EAMEhqB,EANFgqB,eACAC,EAKEjqB,EALFiqB,eACA0X,EAIE3hC,EAJF2hC,cACAC,EAGE5hC,EAHF4hC,cACAC,EAEE7hC,EAFF6hC,aACAC,EACE9hC,EADF8hC,qBAEI/+B,EAAU1B,GAAUrB,GAClBe,EAAMD,IAANC,EAf+B,EAgBfwD,mBAASH,EAAQA,EAAMsF,MAAM,KAAO,IAhBrB,mBAgBhCrK,EAhBgC,KAgB1B0iC,EAhB0B,OAiBSx9B,oBAAS,GAjBlB,mBAiBhCy9B,EAjBgC,KAiBdC,EAjBc,OAkByB19B,oBAAS,GAlBlC,mBAkBhC29B,EAlBgC,KAkBNC,EAlBM,OAmBa59B,oBAAS,GAnBtB,mBAmBhC69B,EAnBgC,KAmBZC,EAnBY,OAoBa99B,oBAAS,GApBtB,mBAoBhC+9B,EApBgC,KAoBZC,EApBY,OAqBqBh+B,oBAAS,GArB9B,mBAqBhCi+B,EArBgC,KAqBRC,EArBQ,OAsBKl+B,oBAAS,GAtBd,mBAsBhCm+B,EAtBgC,KAsBhBC,EAtBgB,KAwBjCx9B,EAAgB,SAACJ,GACrB,IAAI69B,GAAgB,EAEjBf,EAAaxb,IAAIthB,EAAEnG,MACpBqjC,GAAoB,GACpBW,GAAgB,GAEVZ,GAAmBC,GAAoB,GAE5CL,IAAkB78B,EAAE89B,SAAW99B,EAAE+9B,UAAY/9B,EAAEg+B,QAAUh+B,EAAEi+B,UAC5DT,GAAsB,GACtBK,GAAgB,GAEVN,GAAqBC,GAAsB,GAEhDZ,IAAoB,CAAC,MAAO,QAAS,UAAW,QAAQr3B,SAASvF,EAAEnG,MACpEyjC,GAAsB,GACtBO,GAAgB,GAEVR,GAAqBC,GAAsB,IAE/CV,GAAkB,CAAC,MAAO,QAAS,UAAW,QAAQr3B,SAASvF,EAAEnG,MACnE6jC,GAA0B,GAC1BG,GAAgB,GAEVJ,GAAyBC,GAA0B,GAE3D,IAAIQ,EAAU,GACXl+B,EAAE89B,SACHI,EAAQ9kB,KAAKpd,EAAE,SAEdgE,EAAE+9B,UACHG,EAAQ9kB,KAAKpd,EAAE,UAEdgE,EAAEg+B,QACHE,EAAQ9kB,KAAKpd,EAAE,QAEdgE,EAAEi+B,SACHC,EAAQ9kB,KAAKpd,EAAE,SAEV,CAAC,MAAO,QAAS,UAAW,QAAQuJ,SAASvF,EAAEnG,OACjDmG,EAAEm+B,YAAYhlB,KAAKnU,WAAW,SAC/Bk5B,EAAQ9kB,KAAKpZ,EAAEm+B,YAAYhlB,KAAKF,MAAM,IAEhCjZ,EAAEm+B,YAAYhlB,KAAKnU,WAAW,OACpCk5B,EAAQ9kB,KAAKpZ,EAAEm+B,YAAYhlB,KAAKF,MAAM,IAGtCilB,EAAQ9kB,KAAKpZ,EAAEm+B,YAAYhlB,OAG5B4jB,EAAqBzb,IAAI4c,EAAQn/B,KAAK,OACvCq+B,GAA4B,GAC5BS,GAAgB,GAEVV,GAA2BC,GAA4B,GAG7DQ,IADCC,GAOHb,EAAQkB,IAGJ/Y,EAAc,WACfJ,GACDA,KAWJ,OACE,mCACA,eAACO,GAAA,EAAD,CAAQpqB,GAAG,yBAAyB4pB,KAAMA,EAAMC,QAASI,EAAa1kB,UAAWL,EAAjF,UACE,cAACmlB,GAAA,EAAD,UAAexqB,IACf,eAACyqB,GAAA,EAAD,WACGyX,GAAoB,qBAAKtzB,MAAO,CAAChC,gBAAiB,OAAQy2B,SAAS,QAA/C,SAAwDpiC,EAAE,wCAC9EmhC,GAA4B,qBAAKxzB,MAAO,CAAChC,gBAAiB,OAAQy2B,SAAS,QAA/C,SAAwDpiC,EAAE,6CACtFqhC,GAAsB,qBAAK1zB,MAAO,CAAChC,gBAAiB,OAAQy2B,SAAS,QAA/C,SAAwDpiC,EAAE,yCAChFuhC,GAAsB,qBAAK5zB,MAAO,CAAChC,gBAAiB,OAAQy2B,SAAS,QAA/C,SAAwDpiC,EAAE,qDAChFyhC,GAA0B,qBAAK9zB,MAAO,CAAChC,gBAAiB,OAAQy2B,SAAS,QAA/C,SAAwDpiC,EAAE,mDACrF,qBACEyE,UAAWL,EACXxB,UAAWZ,EAAQ0+B,WAFrB,SAIGpiC,EAAKyE,KAAK,UAGf,cAAC8mB,GAAA,EAAD,UACE,eAACnnB,EAAA,EAAD,WACE,cAACmN,EAAA,EAAD,CACE3Q,GAAG,yBACH6Q,QAAS,SAAC/L,IA5BC,SAACA,GACjBT,IACDS,EAAEE,iBACFX,EAASjF,EAAKyE,KAAK,OAyBKqmB,CAAaplB,IAC/B6K,QAAQ,YACRjD,MAAM,UACNhJ,UAAWZ,EAAQ2mB,OACnBja,SAAUizB,EANZ,SAQG1Y,IAEH,cAACpZ,EAAA,EAAD,CACE3Q,GAAG,yBACH6Q,QAASoZ,EACTta,QAAQ,YACRjD,MAAM,UACNhJ,UAAWZ,EAAQ2mB,OALrB,SAOGO,e,6DClJb,SAASmZ,GAAqBxwB,EAAGoK,EAAGqmB,GAClC,OAAIrmB,EAAEqmB,GAAWzwB,EAAEywB,IACT,EAENrmB,EAAEqmB,GAAWzwB,EAAEywB,GACV,EAEF,EAmBT,IAiGeC,GAjGe,SAACtjC,GAAY,IAhBbpB,EAkB1B2kC,EAYEvjC,EAZFujC,UACA/wB,EAWExS,EAXFwS,OACAgxB,EAUExjC,EAVFwjC,UACAC,EASEzjC,EATFyjC,gBACAC,EAQE1jC,EARF0jC,UACAC,EAOE3jC,EAPF2jC,QACAC,EAME5jC,EANF4jC,aACAC,EAKE7jC,EALF6jC,WACAC,EAIE9jC,EAJF8jC,YACAC,EAGE/jC,EAHF+jC,mBACAC,EAEEhkC,EAFFgkC,qBACAC,EACEjkC,EADFikC,SAEMljC,EAAMD,IAANC,EAEFmjC,EA3BR,SAAoBC,EAAOC,GACzB,IAAMC,EAAiBF,EAAMvgC,KAAI,SAAC0gC,EAAIl1B,GAAL,MAAe,CAACk1B,EAAIl1B,MAMrD,OALAi1B,EAAetnB,MAAK,SAACnK,EAAGoK,GACtB,IAAMunB,EAAQH,EAAWxxB,EAAE,GAAIoK,EAAE,IACjC,OAAc,IAAVunB,EAAoBA,EACjB3xB,EAAE,GAAKoK,EAAE,MAEXqnB,EAAezgC,KAAI,SAAC0gC,GAAD,OAAQA,EAAG,MAoBbE,CAAWjB,GAjCP3kC,EAgCgB+kC,EAAXD,IA/BhBlR,GACb,SAAC5f,EAAGoK,GAAJ,OAAUomB,GAAqBxwB,EAAGoK,EAAGpe,IACrC,SAACgU,EAAGoK,GAAJ,OAAWomB,GAAqBxwB,EAAGoK,EAAGpe,MAwCpC6lC,EAAkB3/B,uBAAY,SAAC6lB,GAChCmZ,GACDA,EAAYnZ,KAEb,CAACmZ,IAEJ,OACE,cAACY,GAAA,EAAD,UAEIR,EAAgBtgC,KAAI,SAACwH,EAAKgE,GAExB,IAAMu1B,EAfK,SAAC/lC,GAAD,OAASqlC,EAAS5d,IAAIznB,GAeVgmC,CAAWx5B,EAAIvH,KAChCghC,EAAO,kCAA8Bz1B,GAE3C,OAAIhE,EAAIo4B,GAAYl5B,SAASkI,GAGzB,eAACsyB,GAAA,EAAD,CACEC,OAAK,EACLC,KAAK,WACLC,eAAcN,EACdO,UAAW,EAEXjB,SAAUU,EANZ,UAQE,cAACQ,GAAA,EAAD,CACEn5B,QAAQ,WACR8E,QAAS,SAAC7B,GAAD,OAAW20B,EAAa30B,EAAO7D,EAAIvH,MAF9C,SAIE,cAACuhC,GAAA,EAAD,CACE/E,QAASsE,EACTU,WAAY,CAAE,kBAAmBR,OAGrC,cAACM,GAAA,EAAD,UACE,cAACv0B,EAAA,EAAD,CAAQE,QAAS,SAAC/L,GAAO0/B,EAAgBr5B,EAAIvH,MAA7C,SACGuH,EAAIvH,QAGT,cAACshC,GAAA,EAAD,UACE,cAAC,EAAD,CAAsBG,YAAa7B,EAAiBr/B,MAAOgH,EAAI8F,KAAM5M,SAAU,SAACS,GAAD,OAAO8+B,EAAW9+B,EAAGqG,QAEtG,cAAC+5B,GAAA,EAAD,UACE,eAACI,GAAA,EAAD,WACE,cAACv0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,wBAAlB,SACE,eAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAMizB,EAAmB34B,IAA7D,UACGA,EAAIuZ,QACP,cAAC,KAAD,SAGF,cAAC3T,EAAA,EAAD,CAASlR,MAAOsL,EAAIuZ,QAAU5jB,EAAE,0BAA4B,GAA5D,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAMkzB,EAAsB54B,EAAIvH,MAAQ4L,UAAWrE,EAAIuZ,QAA3F,SACE,cAAC,KAAD,aAKR,cAACwgB,GAAA,EAAD,UAAY,IAAIptB,KAAK3M,EAAIqX,MAAM+iB,eAAe,aAnCzCp2B,GAsCG,W,qECpHlBq2B,GAAmBnkC,aAAW,SAACC,GAAD,MAAY,CAC9C2C,KAAM,CACJ+mB,YAAa1pB,EAAMQ,QAAQ,GAC3B4M,aAAcpN,EAAMQ,QAAQ,IAE9B2jC,UACyB,UAAvBnkC,EAAMY,QAAQ4P,KACV,CACEpF,MAAOpL,EAAMY,QAAQwjC,UAAU95B,KAC/Ba,gBAAiBk5B,aAAQrkC,EAAMY,QAAQwjC,UAAUz5B,MAAO,MAE1D,CACES,MAAOpL,EAAMY,QAAQC,KAAKC,QAC1BqK,gBAAiBnL,EAAMY,QAAQwjC,UAAUE,MAEjD/lC,MAAO,CACLgL,KAAM,gBA8FKg7B,GA1FkB,SAAC9lC,GAAW,IAEzC+lC,EAIE/lC,EAJF+lC,SACAC,EAGEhmC,EAHFgmC,kBACA/B,EAEEjkC,EAFFikC,SACAzxB,EACExS,EADFwS,OAEIyzB,EAAchC,EAAWA,EAASlzB,KAAO,EAEvChQ,EAAMD,IAANC,EACFgC,EAAU0iC,KAchB,OACE,eAACS,GAAA,EAAD,CACEviC,UAAWwiC,aAAKpjC,EAAQmB,KAAT,eACZnB,EAAQ2iC,UAAYO,EAAc,IAFvC,UAKGA,EAAc,EACb,eAACG,GAAA,EAAD,CACEziC,UAAWZ,EAAQjD,MACnB6M,MAAM,UACNiD,QAAQ,YACRy2B,UAAU,MAJZ,UAMGJ,EANH,eASA,cAACG,GAAA,EAAD,CACEziC,UAAWZ,EAAQjD,MACnB8P,QAAQ,KACR3P,GAAG,aACHomC,UAAU,QAKZ7zB,GAAUA,EAAO5T,IACf,cAACwnC,GAAA,EAAD,CACAziC,UAAWZ,EAAQjD,MACnB6M,MAAM,UACNiD,QAAQ,YACRy2B,UAAU,MAJV,SAMGtlC,EAAE,eAAiB,IAAMyR,EAAO5T,IAAM,IAAM4T,EAAOpO,QAGxD,cAACgiC,GAAA,EAAD,CACEziC,UAAWZ,EAAQjD,MACnB8P,QAAQ,KACR3P,GAAG,aACHomC,UAAU,QAMbJ,EAAc,EACb,cAACj1B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,UAAlB,SACE,cAACm9B,GAAA,EAAD,CAAYoI,aAAW,SACrBx1B,QA5DW,WAChBi1B,GACDA,KAyDI,SAGE,cAAC,KAAD,QAIJ,cAAC/0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,cAAlB,SACE,cAACm9B,GAAA,EAAD,CAAYoI,aAAW,cACrBx1B,QA9DoB,WACzBk1B,GACDA,KA2DI,SAGE,cAAC,KAAD,YC9FN3kC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2C,KAAM,CACJ3B,MAAO,QAETf,MAAO,CACLe,MAAO,OACPT,aAAcP,EAAMQ,QAAQ,IAE9BwkC,MAAO,GAGPC,eAAgB,CACd56B,OAAQ,EACR66B,KAAM,gBACN5kC,OAAQ,EACR8nB,QAAS,EACT/e,SAAU,SACVoB,QAAS,EACTpK,SAAU,WACV06B,IAAK,GACL/5B,MAAO,GAETmkC,YAAa,CACXzb,YAAa1pB,EAAMQ,QAAQ,GAC3B4M,aAAcpN,EAAMQ,QAAQ,IAE9B2jC,UACyB,UAAvBnkC,EAAMY,QAAQ4P,KACV,CACEpF,MAAOpL,EAAMY,QAAQwjC,UAAU95B,KAC/Ba,gBAAiBk5B,aAAQrkC,EAAMY,QAAQwjC,UAAUz5B,MAAO,MAE1D,CACES,MAAOpL,EAAMY,QAAQC,KAAKC,QAC1BqK,gBAAiBnL,EAAMY,QAAQwjC,UAAUE,MAEjD/lC,MAAO,CACLgL,KAAM,gBAKJ67B,GAAoB,SAAC3mC,GAAW,IAElCujC,EAYEvjC,EAZFujC,UACAqD,EAWE5mC,EAXF4mC,aACAC,EAUE7mC,EAVF6mC,UACApD,EASEzjC,EATFyjC,gBACAqD,EAQE9mC,EARF8mC,eACAf,EAOE/lC,EAPF+lC,SACAjC,EAME9jC,EANF8jC,YAEAxe,EAIEtlB,EAJFslB,QACAhC,EAGEtjB,EAHFsjB,aACAyjB,EAEE/mC,EAFF+mC,aACAC,EACEhnC,EADFgnC,iBAGMjmC,EAAMD,IAANC,EACFgC,EAAU1B,KAjBmB,EAkBHZ,IAAM8D,SAAS,IAAIgE,KAlBhB,mBAkB5B07B,EAlB4B,KAkBlBgD,EAlBkB,OAmBDxmC,IAAM8D,SAASiuB,IAnBd,mBAmB5BkR,EAnB4B,KAmBjBwD,EAnBiB,OAoBLzmC,IAAM8D,SAASsiC,EAAU,GAAG5mC,IApBvB,mBAoB5B0jC,EApB4B,KAoBnBwD,EApBmB,OAqBC1mC,IAAM8D,UAAS,GArBhB,mBAqB5B6iC,EArB4B,KAqBhBC,EArBgB,OAsBN5mC,IAAM8D,SAAS,IAtBT,mBAsB5BiO,EAtB4B,KAsBpB80B,EAtBoB,KAwB7B9D,EAAYqD,EAAU,GAAG5mC,GAxBI,EAyBmBsE,mBAAS,CAACslB,MAAM,EAAO0d,SAAU,KAAM3oC,IAAK,GAAIwF,MAAO,GAAIu9B,eAAe,EAAOC,eAAe,IAzBnH,mBAyB3B4F,EAzB2B,KAyBPC,EAzBO,KA4D7BC,EAAe,WACnB3B,EAAS9B,IA6BX,OACE,gCACA,cAAC0D,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CACEjkC,UAAWZ,EAAQwjC,MACnBsB,kBAAgB,aAChBvB,aAAW,kBACXwB,cAAY,EAJd,UAMA,cAACC,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,CAAWn5B,QAAQ,WAAnB,SACE,cAACo5B,GAAA,EAAD,CACEt0B,QA1DY,WACtB,GAAGmzB,EAASlzB,KAAOwyB,EAAU7kC,OAAO,CAClC,IAAIspC,EAAS,IAAIz/B,IAAI07B,GACrBV,EAAUhqB,SAAQ,SAAC0uB,GAAD,OAAcD,EAAOhjB,IAAIijB,EAASpkC,QACpDojC,EAAYe,QAGZf,EAAY,IAAI1+B,MAuDR88B,WAAY,CAAE,aAAc,4BAG/BwB,EAAUjjC,KAAI,SAACskC,GAEd,OACE,eAAC/C,GAAA,EAAD,CAEEpU,MAAO,OAEP/kB,QAASk8B,EAASC,eAAiB,OAAS,UAC5CC,cAAezE,IAAYuE,EAASjoC,IAAKyjC,EAL3C,UAQE,eAAC2E,GAAA,EAAD,CACE3L,OAAQiH,IAAYuE,EAASjoC,GAC7BsL,UAAWo4B,IAAYuE,EAASjoC,GAAKyjC,EAAY,MACjD5yB,QAAS,SAAC/L,GAAD,OAjGEnG,EAiGuBspC,EAASjoC,GA/FzDinC,EADoBtoC,IAAQ+kC,GAAWD,IAAclR,GAC1B,OAAS,YACpC2U,EAAWvoC,GAHa,IAACA,GA8Fb,UAKGspC,EAASrlC,MACT8gC,IAAYuE,EAASjoC,GACpB,sBAAM0D,UAAWZ,EAAQyjC,eAAzB,SACG9C,IAAclR,GAAwB,oBAAsB,qBAE7D,QAEL0V,EAASI,SAAW,cAACt3B,EAAA,EAAD,CAASowB,UAAU,QAAQthC,MAAO,+BAAOooC,EAASI,UAAlD,SAAmE,cAAC,KAAD,QAnBnFJ,EAASjoC,YA2BxB,cAAC,GAAD,CACEsjC,UAAWA,EACXG,UAAWA,EACXC,QAASA,EACTnxB,OAAQA,EACRgxB,UAAWA,EACXC,gBAAiBA,EACjBG,aAnH0B,SAAC30B,EAAOrQ,GACtC,IAAIopC,EAAS,IAAIz/B,IAAI07B,GAClBA,EAAS5d,IAAIznB,IACdopC,EAAOO,OAAO3pC,GACdqoC,EAAYe,KAGZA,EAAOhjB,IAAIpmB,GACXqoC,EAAYe,KA4GVnE,WA7FiB,SAAC9+B,EAAG0N,GACzBq0B,EAAer0B,EAAK5O,IAAKkB,EAAExG,OAAO6F,QA6F9B0/B,YAAaA,EACbC,mBA9E0B,SAACyE,GAC/B,IAAMC,EAAiB,CAAE5e,MAAM,EAAM/pB,MAAO0oC,EAAO3kC,IAAKjF,IAAI4pC,EAAO3kC,IAAKO,MAAOokC,EAAO7jB,SAAW,GAAI4iB,SAAU,MAAO5F,eAAe,EAAOC,eAAe,GAC3J6F,EAAsBgB,IA6ElBzE,qBA1EsB,SAACngC,GAC3B,IAAM6kC,EAAS9B,EAAar1B,IAAI1N,GAChCmjC,EAAiB,CAACnjC,IAAKA,EAAKqN,KAAMw3B,EAAOx3B,KAAMuR,KAAMimB,EAAOjmB,KAAMkC,QAAS,MAyEvEsf,SAAUA,SAIhB,cAAC,GAAD,CACE8B,SAAU,kBAAM2B,KAChB1B,kBAAmB,kBAAMqB,GAAc,IACvC70B,OAAQA,EACRyxB,SAAUA,EACVgC,YAAahC,EAASvlC,SAExB,cAAC,GAAD,CACEmrB,KAAMud,EACNhjC,MAAO,GACPE,SAnGyB,SAACF,GAC1BkjC,EAAUljC,GACVijC,GAAc,IAkGdvd,QAxGwB,WACxBud,GAAc,IAwGdvnC,MAAOiB,EAAE,mBACTgpB,eAAgBhpB,EAAE,WAClBipB,eAAgBjpB,EAAE,UAClBkpB,eAAgBlpB,EAAE,YAEpB,cAAC,GAAD,CACE8oB,KAAM2d,EAAmB3d,KAEzBzlB,MAAOojC,EAAmBpjC,MAC1Bu9B,cAAe6F,EAAmB7F,cAClCC,cAAe4F,EAAmB5F,cAClCC,aAAc,IAAIt5B,IAAIlK,OAAOqb,OAAO4L,IACpCwc,qBAAsB,IAAIv5B,IAAIlK,OAAOgB,KAAK0nC,GAAcje,OAAOzqB,OAAOqb,OAAO4J,KAC7Ehf,SAnGgC,SAACqkC,GACjC,IAAMD,EAAS9B,EAAar1B,IAAIi2B,EAAmB5oC,KACnDooC,EAAiB,CAACnjC,IAAK2jC,EAAmB5oC,IAAKsS,KAAMw3B,EAAOx3B,KAAMuR,KAAMimB,EAAOjmB,KAAMkC,QAASgkB,IAC9FlB,EAAsB,2BAAID,GAAL,IAAyB3d,MAAM,MAiGpDC,QAAS,WAAQ2d,EAAsB,2BAAID,GAAL,IAAyB3d,MAAM,MACrE/pB,MAAOiB,EAAE,cAAgB,KAAOA,EAAEymC,EAAmB1nC,OACrDkqB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAVbymC,EAAmB5oC,SAgBb6B,OAAMmoC,KAAKjC,I,qBClPpBtlC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACT7I,OAAQ,KAEVgnC,YAAa,CACXn8B,gBAAiBnL,EAAMY,QAAQ2mC,OAAO/D,OAExCgE,WAAY,CACV,UAAW,CACTr8B,gBAAiBnL,EAAMY,QAAQE,QAAQ6J,QAG3C88B,aAAc,CACZzmC,MAAO,OACPwI,eAAgB,OAChB,UAAW,CACT2B,gBAAiBnL,EAAMY,QAAQE,QAAQ6J,YA4F9B+8B,GAtFQ,SAACjpC,GAAW,IAE/B+lB,EAKE/lB,EALF+lB,WACAmjB,EAIElpC,EAJFkpC,yBACAC,EAGEnpC,EAHFmpC,WACAC,EAEEppC,EAFFopC,cACAC,EACErpC,EADFqpC,iBAGItmC,EAAU1B,KA8DhB,OAAO,mCACL,qBAAKsC,UAAWZ,EAAQ2H,UAAxB,SACE,cAAC,IAAD,CACE7I,OAAQ,IACRiN,UAAWiX,EAAWrnB,OACtBqQ,SAAU,GACVxM,MAAO,OAJT,SA1CQ,SAAC,GAAoB,IAAnB6M,EAAkB,EAAlBA,MAAOV,EAAW,EAAXA,MACb46B,EAAQ,2BACT56B,GADS,IAEZ9D,SAAU,SAHkB,EAKVmb,EAAW3W,GAAxBvL,EALuB,EAKvBA,IAAK4e,EALkB,EAKlBA,KACZ,OACE,eAAC6N,EAAA,EAAD,CAAM5lB,WAAS,EAACa,UAAU,MAAMglB,QAAQ,gBAAgBC,WAAW,UAAU5lB,SAAS,SAASjH,UAAYyL,EAAQ,IAAM,EAAK,KAAOrM,EAAQ8lC,YAAan6B,MAAO46B,EAAjK,UACE,cAAChZ,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAACE,SAAS,SAAS6lB,GAAI,EAAGC,GAAI,GAAlD,SACE,cAAC1f,EAAA,EAAD,CAASlR,MAAO,+BAAO,IAAIiY,KAAK0K,GAAM+iB,eAAe,WAArD,SACA,cAAC50B,EAAA,EAAD,CACEE,QAAS,SAAC/L,GAAD,OA/BW,SAAClB,GAC1BslC,GACDA,EAAWtlC,GA6BW0lC,CAAsB1lC,IACtCF,UAAWZ,EAAQimC,aACnBp+B,SAAS,SAHX,SAKI/G,QAIN,cAACysB,EAAA,EAAD,CAAM7d,MAAI,EAAC/H,WAAS,EAAC6lB,QAAQ,WAAWE,GAAI,EAAGC,GAAI,EAAnD,SAEGwY,EAAyB33B,IAAI1N,GAAMuiB,MAClC,cAACxV,EAAA,EAAD,CACEG,KAAK,QACLD,QAAS,SAAC/L,IAhCU,SAAClB,GAC/B,GAAGwlC,EAAiB,CAClB,IAAIG,EAAS,IAAIjhC,IACjBihC,EAAOxkB,IAAInhB,GACXwlC,EAAiBG,IA4BSC,CAAwB5lC,IAC1CF,UAAWZ,EAAQgmC,WAHrB,SAIC,cAAC,KAAD,MAED,cAACn4B,EAAA,EAAD,CACEG,KAAK,QACLD,QAAS,SAAC/L,IA5CO,SAAClB,GACzBulC,GACDA,EAAcvlC,GA0CY6lC,CAAqB7lC,IACvCF,UAAWZ,EAAQgmC,WAHrB,SAIC,cAAC,KAAD,mBC5FP1nC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,CACN7nB,OAAQ,QA6CG8nC,GAvCc,SAAC3pC,GAAW,IAErCkR,EAGElR,EAHFkR,KACArN,EAEE7D,EAFF6D,IACAiN,EACE9Q,EADF8Q,QAGI/N,EAAU1B,KAEVuoC,EAAe14B,GAASA,EAAKxS,OAXT,GAapBmrC,EAAcD,EAAgB14B,EAAK44B,UAAU,EAAE,IAAM,MAAS54B,EAE9Do3B,EAAUsB,EACd,eAAC,IAAMG,SAAP,WACE,cAAC3D,GAAA,EAAD,CAAYz5B,MAAM,UAAlB,SAA6BuE,IAC5BrN,KAGH,cAAC,IAAMkmC,SAAP,UACGlmC,IAKL,OACE,cAACmN,EAAA,EAAD,CAASlR,MAAOwoC,EAAhB,SACE,+BACA,cAAC13B,EAAA,EAAD,2BACK5Q,GADL,IAEC2D,UAAWZ,EAAQ2mB,OACnB5Y,QAAS,kBAAMA,EAAQjN,IAHxB,SAKGgmC,UC3CHG,GAAqB,SAAChqC,GAAW,IAEnCykB,EAEEzkB,EAFFykB,aACAqf,EACE9jC,EADF8jC,YAGImG,EAAmBxlB,EAAa9R,QAAO,SAACu3B,EAAOxlB,GAAR,OAAgBA,EAAIxT,OAASg5B,EAAQA,IAAO,GAEnFzF,EAAkB3/B,uBAAY,SAACjB,GAChCigC,GACDA,EAAYjgC,KAEb,CAACigC,IAEJ,OACE,eAACxT,EAAA,EAAD,CAAM5lB,WAAS,EAAC3I,QAAS,EAAzB,UACI0iB,GACEA,EAAa7gB,KACX,WAAc6V,GAAS,IAArB5V,EAAoB,EAApBA,IAAKqN,EAAe,EAAfA,KACL,OAAGA,GAAQA,EAAKxS,OAAS,EAGvB,cAAC4xB,EAAA,EAAD,CAAM7d,MAAI,EAAWge,GAAI,EAAzB,SACE,cAAC,GAAD,CACEvf,KAAMA,EACNrN,IAAKA,EACLiN,QAAS2zB,EACT1zB,KAAK,QACLpB,WAAW,EACXC,QAAQ,YACRjD,MAAM,eARM8M,GAYJ,QAKpB,aAAInK,MAAMrM,KAAK81B,IAAI,EAAG,GAAKkR,KAAoBrmC,KAAI,SAACpF,EAAGib,GAEnD,OACE,cAAC6W,EAAA,EAAD,CAAM7d,MAAI,EAAWge,GAAI,EAAzB,SACE,cAAC,GAAD,CACEhhB,UAAU,EACVyB,KAAM,GACNrN,IAAK,GACLiN,QAAS2zB,EACT1zB,KAAK,QACLpB,WAAW,EACXC,QAAQ,YACRjD,MAAM,eATM8M,UAoBfhZ,OAAMmoC,KAAKoB,ICpCXG,GA1BE,SAACnqC,GAAW,IAEzB8C,EAKE9C,EALF8C,SACAsB,EAIEpE,EAJFoE,MACAgL,EAGEpP,EAHFoP,MACAg7B,EAEEpqC,EAFFoqC,EACGxmB,EANqB,aAOtB5jB,EAPsB,kCAS1B,OACE,6CACEglC,KAAK,WACLqF,OAAQjmC,IAAUgL,EAClBnP,GAAE,0BAAqBmP,GACvBy4B,kBAAA,qBAA+Bz4B,IAC3BwU,GALN,aAOGxf,IAAUgL,GACT,cAAC3L,EAAA,EAAD,CAAK2mC,EAAGA,EAAR,SACE,+BAAOtnC,UCOjB,SAASwnC,GAAUl7B,GACjB,MAAO,CACLnP,GAAG,cAAD,OAAgBmP,GAClB,gBAAgB,mBAAhB,OAAoCA,IAKxC,IAAM/N,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACToB,aAAc,GAEhBy+B,SAAU,CACR37B,SAAU,EACV5M,QAAS,OACT0K,gBAAiBnL,EAAMY,QAAQqoC,WAAWhpC,OAE5CipC,YAAa,CACXxd,qBAAsB,EACtBC,wBAAyB,GAE3Bwd,aAAc,CACZ7d,UAAW,IACX8d,UAAW,IACX//B,SAAU,QAEZggC,SAAU,CACN,qBAAsB,CACpBl+B,gBAAiBnL,EAAMY,QAAQ2mC,OAAO/D,QAG5CjhB,IAAK,CACHvhB,MAAO,QAETsoC,SAAU,CACR7f,uBAAwB,EACxBkC,wBAAyB,GAE3B4d,UAAW,CACT9+B,QAAS,GAEX9H,KAAM,CACJ0K,SAAU,EACV5M,QAAS,OACT0K,gBAAiBnL,EAAMY,QAAQqoC,WAAWhpC,OAE5CwnC,aAAc,CACZzmC,MAAO,OACPwI,eAAgB,QAElBggC,SAAU,CACR/+B,QAAS,EACTnK,OAAQ,SA4RGmpC,GAxRH,SAAChrC,GAAW,IAEpBiN,EAqBEjN,EArBFiN,YAIAg+B,EAiBEjrC,EAjBFirC,aACAC,EAgBElrC,EAhBFkrC,iBACAC,EAeEnrC,EAfFmrC,qBACAC,EAcEprC,EAdForC,kBACArlB,EAaE/lB,EAbF+lB,WACAtB,EAYEzkB,EAZFykB,aACA4mB,EAWErrC,EAXFqrC,gBACAnC,EAUElpC,EAVFkpC,yBACAoC,EASEtrC,EATFsrC,iBACAC,EAQEvrC,EARFurC,uBAEAjoB,EAMEtjB,EANFsjB,aACAgC,EAKEtlB,EALFslB,QACAkmB,EAIExrC,EAJFwrC,aACAnoB,EAGErjB,EAHFqjB,UACA0jB,EAEE/mC,EAFF+mC,aACAC,EACEhnC,EADFgnC,iBAEMjmC,EAAMD,IAANC,EACFgC,EAAU1B,KACVE,EAAQ62B,cAERqT,EAAa/9B,iBAAO,MA5BL,EA8BSnJ,mBAAS,IA9BlB,mBA8BdixB,EA9Bc,KA8BLkW,EA9BK,OA+B2BnnC,oBAAS,GA/BpC,mBA+BdonC,EA/Bc,KA+BIC,EA/BJ,OAgCWrnC,mBAAS,GAhCpB,mBAgCd2gC,EAhCc,KAgCJ2G,EAhCI,OAiC+CtnC,oBAAS,GAjCxD,mBAiCdunC,EAjCc,KAiCcC,EAjCd,OAkC6CxnC,mBAAS,IAlCtD,mBAkCdynC,EAlCc,KAkCaC,EAlCb,KAoCfvC,EAAuB5kC,uBAAY,SAACjB,GACrCqnC,GACDA,EAAiBrnC,EAAK4gB,KAEvB,CAACymB,EAAkBzmB,IAEhBynB,GAA2BpnC,uBAAY,SAAC0kC,GAC5C,GAAG2B,EAAsB,CAGvB,GAAmB,IAAhB3B,EAAOz4B,KAAW,CACnB,IAAMlN,EAAM2lC,EAAO9vB,SAASyyB,OAAO/nC,MAC7B8M,EAAOm6B,EAAgB95B,IAAI1N,GAAKqN,KACtC,GAAGA,GAAQA,EAAKxS,OAAS,EAGvB,OAFAutC,EAA6BpoC,QAC7BkoC,GAA8B,GAIlCZ,EAAqB3B,EAAQ6B,MAE9B,CAACF,EAAsBE,IAEpBe,GAAmCtnC,uBAAY,WACnD,IAAI0kC,EAAS,IAAIjhC,IACjBihC,EAAOxkB,IAAIgnB,GACXC,EAA6B,IAC7BF,GAA8B,GAC3BZ,GACDA,EAAqB3B,EAAQ6B,KAE9B,CAACW,EAA2BD,EAA+BZ,EAAsBE,IAE9EgB,GAAwBvnC,uBAAY,SAACjB,EAAKqN,GAC3Ck6B,GACDA,EAAkBvnC,EAAKqN,EAAMuT,KAE9B,CAAC2mB,EAAmB3mB,IAEjB6nB,GAAwBxnC,uBAAY,SAACC,GACzC,IAAMi6B,EAAIj6B,EAAExG,OAAO6F,MAChB6mC,GACDA,EAAajM,EAAGjZ,KAEjB,CAAEklB,EAAcllB,IAEbwmB,GAAuBznC,uBAAY,SAACk6B,GACrCiM,GACDA,EAAajM,EAAGjZ,KAEjB,CAAEklB,EAAcllB,IAEbwjB,GAAwBzkC,uBAAY,SAACjB,GAEzC6nC,EAAW7nC,GAGX+nC,GAAoB,GACpB5Q,YAAW,WACTyQ,EAAW59B,QAAQ2+B,UAClB,OACF,CAACd,EAAYE,EAAqBH,IAE/BgB,GAAmB3nC,uBAAY,SAACmK,EAAOy9B,GAC3Cb,EAAYa,KACZ,CAACb,IAEG7mC,GAAeF,uBAAY,SAACC,GAChC2mC,EAAW3mC,EAAExG,OAAO6F,SAIpB,IAEIe,GAAgBL,uBAAY,SAACC,GACpB,UAAVA,EAAEnG,MACAqsC,GACDA,EAAalmC,EAAExG,OAAO6F,MAAO2hB,GAE/BhhB,EAAExG,OAAO6G,UAEV,CAAC6lC,EAAcllB,IAEZ4mB,GAA0B,WAC9BZ,GAA8B,IAQhC,OAAO,eAAC,EAAD,CAAOlpC,MAAM,MAAb,UACH,cAACY,EAAA,EAAD,CAAKE,UAAWZ,EAAQwnC,SAAxB,SA4BE,cAACllC,EAAA,EAAD,CACEoK,UAAWxC,EAAYyC,QACvBk9B,SAAUnB,EACVnnC,SAAUgoC,GACV9mC,UAAWL,GACXd,SAAU,SAACU,GAAD,OAAOC,GAAaD,IAC9B6K,QAAQ,WACR7M,QAAS,CACPmB,KAAMnB,EAAQ+gB,KAEhBhU,WAAY,CACVnM,UAAU,GAAD,OAAKZ,EAAQ8nC,SAAb,YAAyBc,EAAmB,mBAAgBz4B,GACrE25B,aACEpB,EAAWltC,QAAUktC,EAAWltC,OAAO6F,MAAM1F,OAAS,EACtD,cAACouC,GAAA,EAAD,CAAgBlrC,SAAS,MAAzB,SACE,cAACs8B,GAAA,EAAD,CACEptB,QAAS,SAAC/L,GAAQ2kC,EAAqB+B,EAAWltC,OAAO6F,QAD3D,SAGE,cAAC,KAAD,QAGA,MAGRvB,MAAO9B,EAAE,gBACTqD,MAAOoxB,MAGX,eAAClF,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACE,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,EAAGE,GAAI,EAAGD,GAAI,EAA7B,SACE,cAACjtB,EAAA,EAAD,CAAKmI,OAAQ,EAAGwgB,YAAa7qB,EAAMY,QAAQgK,KAAK,KAAhD,SACE,eAAC,KAAD,CACE/H,MAAO8gC,EACP7gC,SAAUooC,GACVnG,aAAW,sBACXxO,YAAY,WAJd,UAME,cAACiV,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,WAAeupC,GAAU,KACvC,cAACyC,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,QAAYupC,GAAU,KACpC,cAACyC,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,cAAkBupC,GAAU,KAC1C,cAACyC,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,iBAAqBupC,GAAU,YAInD,eAACha,EAAA,EAAD,CAAM7d,MAAI,EAACge,IAAE,EAAC9sB,UAAWZ,EAAQ2nC,aAAjC,UACE,cAAC,GAAD,CAAUtmC,MAAO8gC,EAAU91B,MAAO,EAAGzL,UAAWZ,EAAQgoC,SAAUhoC,QAAS,CAACmB,KAAMnB,EAAQ+nC,WAA1F,SACE,cAAC,GAAD,CACE/kB,WAAYwlB,EACZrC,yBAA0BA,EAC1BC,WAAYI,GACZH,cAAeM,EACfL,iBAAkB6C,OAGtB,cAAC,GAAD,CAAU9nC,MAAO8gC,EAAU91B,MAAO,EAAGzL,UAAWZ,EAAQgoC,SAAUhoC,QAAS,CAACmB,KAAMnB,EAAQ+nC,WAA1F,SACE,cAAC,GAAD,CACE/kB,WAAYulB,EACZpC,yBAA0BA,EAC1BC,WAAYI,GACZH,cAAeM,EACfL,iBAAkB6C,OAGtB,cAAC,GAAD,CAAU9nC,MAAO8gC,EAAU91B,MAAO,EAAGzL,UAAWZ,EAAQgoC,SAAxD,SACE,cAAC,GAAD,CACEzlB,QAASA,EACThC,aAAcA,EACdkoB,aAAcA,EACdnoB,UAAWA,EACX0jB,aAAcA,EACdC,iBAxGiB,SAACgG,GAC5BhG,EAAiBgG,EAAY3B,IAyGnB9H,UAAW9e,GAA8B,GACzCmiB,aAAcyE,GAAoC,GAClDxE,UAAW,CACP,CAAE5mC,GAAI,MAAOod,SAAS,EAAM8qB,gBAAgB,EAAOtlC,MAAO9B,EAAE,YAC5D,CAAEd,GAAI,OAAQod,SAAS,EAAM8qB,gBAAgB,EAAOtlC,MAAO9B,EAAE,QAASunC,QAASvnC,EAAE,6BACjF,CAAEd,GAAI,UAAWod,SAAS,EAAM8qB,gBAAgB,EAAOtlC,MAAO9B,EAAE,eAChE,CAAEd,GAAI,OAAQod,SAAS,EAAM8qB,gBAAgB,EAAOtlC,MAAO9B,EAAE,gBAEjE0iC,gBAAiB1iC,EAAE,iCACnB+lC,eAAgBuF,GAChBtG,SAAUmG,GACVpI,YAAayF,OAGjB,cAAC,GAAD,CAAUnlC,MAAO8gC,EAAU91B,MAAO,EAAGzL,UAAWZ,EAAQgoC,SAAUX,EAAG,EAArE,SACE,cAAC9Z,EAAA,EAAD,CAAM5lB,WAAS,EAAC3I,QAAS,EAAzB,SACE,cAAC,GAAD,CACE0iB,aAAcA,EACdqf,YAAayI,eAMvB,eAACliB,GAAA,EAAD,CAAQR,KAAMiiB,EAA4BhiB,QAAS6iB,GAAyB9E,kBAAgB,oBAA5F,UACE,cAACvd,GAAA,EAAD,CAAarqB,GAAG,oBAAhB,SAAqCc,EAAE,6BACvC,eAACwpB,GAAA,EAAD,WACE,eAAC0iB,GAAA,EAAD,CAAmBC,QAAM,EAAzB,UACE,cAACzpC,EAAA,EAAD,CAAK4iC,UAAU,OAAf,SAAwBtlC,EAAE,UAAY,MACtC,cAAC0C,EAAA,EAAD,CAAK4iC,UAAU,OAAQpa,WAAW,iBAAlC,SAAoD+f,OAEtD,eAACiB,GAAA,EAAD,CAAmBC,QAAM,EAAzB,UACE,cAACzpC,EAAA,EAAD,CAAK4iC,UAAU,OAAf,SAAwBtlC,EAAE,QAAU,MACpC,cAAC0C,EAAA,EAAD,CAAK4iC,UAAU,OAAQpa,WAAW,iBAAlC,SAAoDxH,GAAgBunB,EAA4BX,EAAgB95B,IAAIy6B,GAA2B96B,KAAO,QAExJ,eAAC+7B,GAAA,EAAD,CAAmBC,QAAM,EAAzB,UACE,eAACzpC,EAAA,EAAD,CAAK4iC,UAAU,OAAf,UAAwBtlC,EAAE,SAAW,IAArC,OACA,cAAC0C,EAAA,EAAD,CAAK4iC,UAAU,OAAQpa,WAAW,iBAAlC,SAAoDxH,GAAgBunB,EAA4B,IAAIj0B,KAAKszB,EAAgB95B,IAAIy6B,GAA2BvpB,MAAM+iB,eAAe,SAAW,WAG5L,eAAC5a,GAAA,EAAD,WACE,cAACha,EAAA,EAAD,CAAQE,QAAS67B,GAAyBhgC,MAAM,UAAhD,SACG5L,EAAE,YAEL,cAAC6P,EAAA,EAAD,CAAQE,QAASs7B,GAAkCz/B,MAAM,UAAzD,SACG5L,EAAE,sBChWAgnB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpB/a,YAAaua,GAAkBhP,GAC/B8c,WAAYD,GAAiB7c,GAC7Bgd,QAASD,GAAc/c,GACvBuN,WAAY3B,GAAiB5L,GAC7BiM,aAAcH,GAAmB9L,GACjC6yB,gBAAiBpmB,GAAsBzM,GACvC0wB,yBAA0BpjB,GAA+BtN,GACzD8yB,iBAAkBhlB,GAAuB9N,GACzC+yB,uBAAwBhlB,GAA6B/N,GAErD8K,aAAcF,GAAoC5K,GAClD8M,QAAS/B,GAA2B/K,GACpCgzB,aAAc3nB,GAA2BrL,GACzC2L,eAAgBR,GAA6BnL,GAC7C6K,UAAWH,GAAwB1K,GACnCuuB,aAAc1hB,GAA2B7M,OAE3C,SAAC0P,EAAUF,GAAX,MAAyB,CACvBmlB,aAAc,SAACtpC,GACbqkB,EAAU8X,GAAa0L,WAAW7nC,KAEpConC,aAAc,SAACpnC,EAAKupC,GAClBllB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAE3N,MACtC,IAAMwpC,EAAiB,CAACxpC,IAAKA,EAAK4e,KAAM1K,KAAKC,OACvCs1B,EAAaF,EAAUA,EAAQtkB,OAAOukB,GAAkB,CAACA,GAC/DnlB,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,aAAc87B,OAEjEpC,iBAAkB,SAACqC,EAAWC,GAC5B,IAAMC,EAAS,CAAC5pC,IAAK0pC,EAAWr8B,KAAM,GAAIyT,QAAS,GAAIlC,KAAM1K,KAAKC,OAC5D01B,EAAUF,EAAWA,EAAS1kB,OAAO2kB,GAAU,CAACA,GACtDvlB,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,eAAgBk8B,OAEnEvC,qBAAsB,SAAC3B,EAAQmE,GAC7B,IAD6C,EACzCD,EAAU,GAD+B,eAErBC,GAFqB,IAE7C,IAAI,EAAJ,qBAAoC,CAAC,IAAD,yBAA3B9pC,EAA2B,KAAtB7D,EAAsB,KAC9BwpC,EAAOnjB,IAAIxiB,IACd6pC,EAAQvvB,KAAK,CAACta,IAAKA,EAAKqN,KAAMlR,EAAMkR,KAAMuR,KAAMziB,EAAMyiB,QAJZ,8BAO7CyF,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,eAAgBk8B,OAEnE1G,iBAAkB,SAACgG,EAAYW,GAC7B,IAD6C,EACzCD,EAAU,GAD+B,eAErBC,GAFqB,IAE7C,IAAI,EAAJ,qBAAoC,CAAC,IAAD,yBAA3B9pC,EAA2B,KAAtB7D,EAAsB,KAC/B6D,IAAQmpC,EAAWnpC,KACpB6pC,EAAQvvB,KAAK,CAACta,IAAKA,EAAKqN,KAAMlR,EAAMkR,KAAMuR,KAAMziB,EAAMyiB,KAAMkC,QAAS3kB,EAAM2kB,SAAW,MAJ7C,8BAO7C+oB,EAAQvvB,KAAK6uB,GACb9kB,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,eAAgBk8B,OAEnEtC,kBAAmB,SAACvnC,EAAK+pC,EAASJ,GAChC,IAAMK,EAAYL,EAASM,WAAU,SAAAppB,GAAG,OAAIA,EAAI7gB,MAAQA,KAClD6pC,EAAUx9B,YAAQs9B,GAAU,SAACr9B,GAAYA,EAAM09B,GAAW38B,KAAO08B,KACvE1lB,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,eAAgBk8B,OAEnEK,kBAAmB,SAAC1qB,GAClB6E,EAAUE,GAAQvW,IAAIkX,iBAAkB,CAAEvX,KAAM,CAAE,oBAAqB6R,UA3D5D0E,CA6DXijB,ICjEE3pC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiB,IAAK,CACHoI,SAAU,eAmBCojC,GAfA,SAAChuC,GAAW,IAEvBuC,EAKEvC,EALFuC,MACAV,EAIE7B,EAJF6B,OAHsB,EAOpB7B,EAHFG,eAJsB,MAIZ,gBAJY,IAOpBH,EAFFiuC,2BALsB,MAKA,WALA,EAMtBnrC,EACE9C,EADF8C,SAGIC,EAAU1B,KAEhB,OAAO,qBAAKkB,MAAOA,EAAOV,OAAQA,EAAQ1B,QAASA,EAAS8tC,oBAAqBA,EAAqBtqC,UAAWZ,EAAQP,IAAlH,SACNM,KCYUorC,GAAkB,SAACC,EAAQC,GACtC,QAASA,EAAOD,IAAS,EAAElrC,KAAKC,IAAM,EAAED,KAAKC,KAAK,EAAED,KAAKC,KA0B9CmrC,GAAe,SAACtU,EAAGC,EAAIC,EAAGC,EAAIoU,EAAGC,GAC5C,IAAM5Q,EAxDsB,SAAC5D,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,GAC5C,IAAMC,EAAc,IAAPzU,EAAGE,GACVwU,EAAc,IAAPzU,EAAGE,GAEVwU,EAAc,IAAPzU,EAAGqU,GACVK,EAAc,IAAPzU,EAAGqU,GAoBhB,OA/BkC,SAACxU,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,EAAGK,EAAGC,GACxD,IAAM9tC,IAAMg5B,EAAGuU,IAAKC,EAAGM,IAAK7U,EAAGuU,IAAKD,EAAGM,MAAO7U,EAAGE,IAAKsU,EAAGM,IAAK7U,EAAGE,IAAKoU,EAAGM,IAEzE,MAAO,CAAEpY,EAAGuD,EAAGh5B,GAAGk5B,EAAGF,GAAKtD,EAAGuD,EAAGj5B,GAAGm5B,EAAGF,IA4B/B8U,CAAqBN,EAAIC,EANpBD,IAXCtU,EAAGF,GAYJyU,GAbCxU,EAAGF,GAkB4B2U,EAAIC,EAHpCD,IAXCH,EAAGrU,GAYJyU,GAbCL,EAAGrU,IA8CN8U,CAAehV,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,GAClCS,EAAUjV,EAAG4D,EAAEnH,EACfyY,EAAUjV,EAAG2D,EAAElH,EACfyY,EAAUjV,EAAG0D,EAAEnH,EACf2Y,EAAUjV,EAAGyD,EAAElH,EACf2Y,EAAUd,EAAG3Q,EAAEnH,EACf6Y,EAAUd,EAAG5Q,EAAElH,EACf6Y,EAAIrsC,KAAKssC,KAAKP,EAAQA,EAAQC,EAAQA,GACxCd,EAASlrC,KAAKusC,MAAMP,EAASD,GAC7BZ,EAASnrC,KAAKusC,MAAML,EAASD,GAC7BO,EAASxsC,KAAKusC,MAAMH,EAASD,GAE3BM,EAAiBxB,GAAgBC,EAAQC,GACzCuB,EAAiBzB,GAAgBC,EAAQsB,GAE3CzsC,EAAQ2sC,EAQZ,OAPGD,EAAiBC,IAClB3sC,EAzC0B,SAACmrC,EAAQC,GAErC,OADYF,GAAgBC,EAAOC,GACtB,EAAEnrC,KAAKC,GAuCV0sC,CAAezB,EAAQsB,IAM1B,CACL9R,IAAG2R,IAAGO,WAJW1B,EAIC2B,SAHH3B,EAAOnrC,EAGMA,U,qBC9E1B3B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCwuC,QAAS,OAkJIC,GA9IW,SAAChwC,GA0CzB,IA1CoC,IAElC+5B,EAaE/5B,EAbF+5B,GACAC,EAYEh6B,EAZFg6B,GACAC,EAWEj6B,EAXFi6B,GACAC,EAUEl6B,EAVFk6B,GACAoU,EASEtuC,EATFsuC,GACAC,EAQEvuC,EARFuuC,GAPiC,EAe/BvuC,EAPFiwC,qBARiC,MAQjB,IARiB,IAe/BjwC,EANFkwC,oBATiC,MASlB,EATkB,IAe/BlwC,EALFmwC,gBAViC,MAUtB,EAVsB,IAe/BnwC,EAJFowC,oBAXiC,MAWlB,GAXkB,IAe/BpwC,EAHFqwC,oBAZiC,MAYlB,EAZkB,IAe/BrwC,EAFFswC,kBAbiC,MAapB,EAboB,EAcjCC,EACEvwC,EADFuwC,MAGIhvC,EAAQ62B,cAERr1B,EAAU1B,KAnBmB,EAqBG,qBAAR04B,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARoU,GACQ,qBAARC,EAMVvuC,EAAQquC,GAAWtU,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,GAJpD5Q,EA5BiC,EA4BjCA,EACA2R,EA7BiC,EA6BjCA,EACAO,EA9BiC,EA8BjCA,WAII7sC,EAlC6B,EA+BjC8sC,SAGqBD,EAEjBW,GAAgBvtC,KAAKyc,IAAI1c,GAAOqtC,EAAaC,GAAYL,EACzDQ,EAAYztC,EAAQ,EAAIwtC,EAAaN,GAAgBM,EAAaN,EAClEQ,EAAoB1tC,EAAQ,EAAIqtC,GAAgBA,EAEhDM,EAAY,GACZ/9B,EAAI5P,EAAMytC,EAAUC,GAFF1tC,EAAQ,EAAIstC,GAAcA,GAG1C9xC,EAAI,EAAGA,EAAIyxC,EAAezxC,IAChCmyC,EAAUxyB,KAAKuyB,EAAoBb,EAAarxC,EAAEoU,GAAGq9B,EAAc,IAGrE,IAiFMW,EAAWC,KAAiB,CAAEtvC,EAAMY,QAAQE,QAAQwJ,KAAMtK,EAAMY,QAAQwjC,UAAU95B,OAOlFilC,EAAkBH,EAAU/sC,IAxFX,SAACD,EAAWotC,GAAZ,OAA0B,SAAC/tC,EAAOoM,GACvD,IAAI7M,EAAQ6tC,EACTG,GACDA,EAAMh3B,SAAQ,SAACxU,GACTqK,EAAQrK,EAAEorC,WAAc,IAC1B5tC,EAAQwC,EAAExC,UAIhB,IAAMyuC,EAAYb,EAAW/gC,GAASnM,KAAKu1B,MAAM2X,GAAU/gC,EAAQ,KAAU+gC,EAAS/gC,EAAQ,EAExF6hC,EAAaR,EAAUO,EACvBE,EAAaT,EACnB,GAAGxtC,KAAKyc,IAAIuxB,GAAchuC,KAAKyc,IAAI+wB,GAAY,CAC7C,IAiCIU,EACAC,EAlCEC,EAAYJ,EAAahuC,KAAKC,GAAK,EAAI,EACvCouC,EAAaL,EAAa,EAAI,EAAI,EAClCM,EAAaL,EAAWD,EAAchuC,KAAKC,GAAK,EAAI,EACpDsuC,EAAcN,EAAWD,EAAc,EAAI,EAAI,EAE/CQ,EAASnC,EAAE/sC,EAEXmvC,EAAgBzuC,KAAKG,IAAI6tC,GACzBU,EAAgB1uC,KAAKK,IAAI2tC,GACzBW,EAAWtC,EAAEoC,EACbG,EAAWvC,EAAEqC,EACbG,EAAWL,EAAOC,EAClBK,EAAWN,EAAOE,EAElBK,EAAgB/uC,KAAKG,IAAI8tC,GACzBe,EAAgBhvC,KAAKK,IAAI4tC,GACzBgB,EAAW5C,EAAE0C,EACbG,EAAW7C,EAAE2C,EACbG,EAAWX,EAAOO,EAClBK,EAAWZ,EAAOQ,EAElBK,EAAoB,CAAE/b,GAAO+Y,EAAG,GACX3Y,GAAM2Y,EAAGA,EAAG,EAAG+B,EAAWC,EAAYM,EAAUC,GAChD3a,GAAO4a,EAAUC,GACjBpb,GAAM8a,EAAQA,EAAQ,EAAGJ,EAAW,EAAEC,EAAYG,EAAQ,GAC1D,KAErBc,EAAoB,CAAEhc,GAAOqb,EAAUC,GAClBlb,GAAM2Y,EAAGA,EAAG,EAAGiC,EAAWC,EAAYU,EAAUC,GAChDjb,GAAOkb,EAAUC,GACjB1b,GAAM8a,EAAQA,EAAQ,EAAGF,EAAW,EAAEC,EAAYM,EAAUC,GAC5D,KAQ3B,OAJGhB,IACDI,EAAQJ,EAAU3hC,GAClBgiC,EAAQL,EAAU3hC,EAAM,IAEnB,8BACP,sBAAM/O,EAAGiyC,EAAkBxuC,KAAK,KAAMC,KAAMotC,EAAOxtC,UAAWA,EAAW6uC,UAAW,UAAmB,IAANxvC,EAAUC,KAAKC,GAAM,MACtH,sBAAM7C,EAAGkyC,EAAkBzuC,KAAK,KAAMC,KAAMqtC,EAAOztC,UAAWA,EAAW6uC,UAAW,UAAmB,IAANxvC,EAAUC,KAAKC,GAAM,QAFvGkM,GAKf,IAeIrL,EAfEgzB,EAAW0Z,EAAYxtC,KAAKC,GAAK,EAAI,EACrCuvC,EAAYhC,EAAY,EAAI,EAAI,EAChCiC,EAAezvC,KAAKG,IAAIqtC,GACxBkC,EAAe1vC,KAAKK,IAAImtC,GACxBmC,EAAStD,EAAEoD,EACXG,EAASvD,EAAEqD,EACXlB,EAASnC,EAAE/sC,EACXuwC,EAASrB,EAAOiB,EAChBK,EAAStB,EAAOkB,EAChBK,EAAmB,CAAEzc,GAAO+Y,EAAG,GACV3Y,GAAM2Y,EAAGA,EAAG,EAAGvY,EAAU0b,EAAWG,EAAQC,GAC5C3b,GAAO4b,EAAQC,GACfpc,GAAM8a,EAAQA,EAAQ,EAAG1a,EAAU,EAAE0b,EAAWhB,EAAQ,GACxD,KAM3B,OAHGV,IACDhtC,EAAOgtC,EAAU3hC,IAEZ,sBAAkB/O,EAAG2yC,EAAiBlvC,KAAK,KAAMC,KAAMA,EAAMJ,UAAWA,EAAW6uC,UAAW,UAAmB,IAANxvC,EAAUC,KAAKC,GAAM,KAArHkM,IAWgB6jC,CAAelwC,EAAQgtC,SAN3C,SAAC3gC,GACjB,OAAGA,GAAS+gC,EACH5uC,EAAMY,QAAQgK,KAAK,IAErBykC,EAASxhC,GAAO6gC,EAAc,QAIvC,OACA,mBAAGuC,UAAW,aAAe7U,EAAEnH,EAAI,IAAMmH,EAAElH,EAAI,IAA/C,SACCqa,KClJGzvC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2xC,UAAU,eACL3xC,EAAMG,WAAWwxC,eAwDTC,GApDC,SAACnzC,GAAW,IAExB+5B,EAgBE/5B,EAhBF+5B,GACAC,EAeEh6B,EAfFg6B,GACAC,EAcEj6B,EAdFi6B,GACAC,EAaEl6B,EAbFk6B,GACAoU,EAYEtuC,EAZFsuC,GACAC,EAWEvuC,EAXFuuC,GAPuB,EAkBrBvuC,EAVF84B,WARuB,MAQjB,EARiB,IAkBrB94B,EATF+4B,WATuB,MASjB,IATiB,IAkBrB/4B,EARFoE,aAVuB,MAUf,IAVe,IAkBrBpE,EAPFqwC,oBAXuB,MAWR,EAXQ,IAkBrBrwC,EANFswC,kBAZuB,MAYV,EAZU,IAkBrBtwC,EALFwN,qBAbuB,MAaP,EAbO,IAkBrBxN,EAJFozC,kBAduB,MAcV,SAdU,IAkBrBpzC,EAHFqzC,yBAfuB,MAeH,SAfG,IAkBrBrzC,EAFF+rB,gBAhBuB,MAgBZ,EAhBY,IAkBrB/rB,EADF4iB,aAjBuB,MAiBf,GAjBe,EAoBnB7f,EAAU1B,KApBS,EAsBa,qBAAR04B,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARoU,GACQ,qBAARC,EAMVvuC,EAAQquC,GAAWtU,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,GAJpD5Q,EA7BuB,EA6BvBA,EACA2R,EA9BuB,EA8BvBA,EACAO,EA/BuB,EA+BvBA,WAII7sC,EAnCmB,EAgCvB8sC,SAGqBD,EAEjBa,EAAoB1tC,EAAQ,EAAIqtC,GAAgBA,EAChDiD,EAAkBtwC,EAAQ,EAAIstC,GAAcA,EAE5CvvC,GAAKkC,KAAK61B,IAAI71B,KAAK81B,IAAI30B,EAAO00B,GAAMC,GAAKD,IAAMC,EAAID,EAAM,KAAU,EAAIC,EAAID,GAC3ElmB,EAAI5P,EAAM0tC,EAAkB4C,EAE5B9c,EAAI8Y,EAAErsC,KAAKG,IAAIysC,EAAWa,EAAkB99B,EAAE7R,GAC9C01B,EAAI6Y,EAAErsC,KAAKK,IAAIusC,EAAWa,EAAkB99B,EAAE7R,GAEpD,OACA,mBAAGyxC,UAAW,aAAe7U,EAAEnH,EAAI,IAAMmH,EAAElH,EAAI,IAA/C,SACE,sBAAMD,EAAGA,EAAGC,EAAGA,EAAG2c,WAAYA,EAAYC,kBAAmBA,EAAmB3kC,MAAQ,CAAEqd,SAAUA,EAAUwnB,cAAe,IAAM5vC,UAAWZ,EAAQmwC,UAAtJ,SAAmK9uC,EAAMiM,QAAQ7C,GAAiB,IAAMoV,OClDtMvhB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiyC,YAAY,eACPjyC,EAAMG,WAAW8xC,iBAqETC,GAjEG,SAACzzC,GAAW,IAE1B+5B,EAWE/5B,EAXF+5B,GACAC,EAUEh6B,EAVFg6B,GACAC,EASEj6B,EATFi6B,GACAC,EAQEl6B,EARFk6B,GACAoU,EAOEtuC,EAPFsuC,GACAC,EAMEvuC,EANFuuC,GACAnsC,EAKEpC,EALFoC,KARyB,EAavBpC,EAJFqwC,oBATyB,MASV,EATU,IAavBrwC,EAHFswC,kBAVyB,MAUZ,EAVY,IAavBtwC,EAFF0zC,UAXyB,MAWpB,EAXoB,EAYzB/vC,EACE3D,EADF2D,UAZyB,EAeRY,mBAASsT,gBAApB87B,EAfmB,sBAmBW,qBAAR5Z,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARC,GACQ,qBAARoU,GACQ,qBAARC,EAMVvuC,EAAQquC,GAAWtU,EAAGC,EAAGC,EAAGC,EAAGoU,EAAGC,GAJpD5Q,EA1ByB,EA0BzBA,EACA2R,EA3ByB,EA2BzBA,EACAO,EA5ByB,EA4BzBA,WACAC,EA7ByB,EA6BzBA,SAGI/sC,EAAU1B,KAEV2B,EAAQ8sC,EAASD,EAEjBa,EAAoB1tC,EAAQ,EAAIqtC,GAAgBA,EAChDiD,EAAkBtwC,EAAQ,EAAIstC,GAAcA,EAE5C19B,EAAI5P,EAAM0tC,EAAkB4C,EAE5Bra,EAASh2B,KAAKG,IAAIysC,EAAWa,GAC7BxX,EAASj2B,KAAKK,IAAIusC,EAAWa,GAC7BvX,EAAOl2B,KAAKG,IAAI0sC,EAASwD,GACzBla,EAAOn2B,KAAKK,IAAIwsC,EAASwD,GAEzBvc,EAAWnkB,EAAI3P,KAAKC,GAAK,EAAI,EAC7BuvC,EAAY7/B,EAAI,EAAI,EAAI,EACxBghC,EAAsB,CAAErd,GAAO+Y,EAAErW,EAAQqW,EAAEpW,GACnBvC,GAAM2Y,EAAGA,EAAG,EAAGvY,EAAU0b,EAAWnD,EAAEnW,EAAMmW,EAAElW,IAG5E,OACA,8BACE,+BACE,sBAAMn5B,GAAI0zC,EAAQtzC,EAAGuzC,EAAoB9vC,KAAK,KAAM0uC,UAAW,aAAe7U,EAAEnH,EAAI,IAAMmH,EAAElH,EAAI,IAAK1yB,KAAK,OAAOo2B,OAAO,QAAQN,YAAY,SAE9I,sBAAM6Z,GAAIA,EAAI/vC,UAAWkN,IAAW9N,EAAQywC,YAAa7vC,GAAYyvC,WAAW,SAAhF,SACE,0BAAUS,KAAM,IAAMF,EAAQG,YAAY,MAA1C,SACC1xC,UCjEDf,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCwyC,WAAW,eACNxyC,EAAMG,WAAWsyC,SAEtBR,YAAY,eACPjyC,EAAMG,WAAW8xC,iBAuKTS,GAnKO,SAACj0C,GAAW,IAAD,EA6B3BA,EA3BFk0C,cAF6B,MAEpB,EAFoB,IA6B3Bl0C,EA1BFm0C,YAH6B,MAGtB,EAHsB,IA6B3Bn0C,EAzBFo0C,YAJ6B,MAItB,EAJsB,IA6B3Bp0C,EAxBFq0C,cAL6B,MAKpB,GALoB,IA6B3Br0C,EAvBFs0C,sBAN6B,MAMZ,EANY,IA6B3Bt0C,EAtBFu0C,cAP6B,MAOpB,UAPoB,IA6B3Bv0C,EArBFw0C,kBAR6B,WA6B3Bx0C,EAnBFy0C,cAV6B,MAUpB,EAVoB,IA6B3Bz0C,EAlBF00C,YAX6B,MAWtB,EAXsB,IA6B3B10C,EAjBF20C,YAZ6B,MAYtB,EAZsB,IA6B3B30C,EAhBF40C,cAb6B,MAapB,GAboB,IA6B3B50C,EAfF60C,sBAd6B,MAcZ,EAdY,IA6B3B70C,EAdF80C,cAf6B,MAepB,UAfoB,IA6B3B90C,EAbF+0C,kBAhB6B,WA6B3B/0C,EAXFg1C,cAlB6B,MAkBpB,EAlBoB,IA6B3Bh1C,EAVFi1C,YAnB6B,MAmBtB,EAnBsB,IA6B3Bj1C,EATFk1C,YApB6B,MAoBtB,EApBsB,IA6B3Bl1C,EARFm1C,cArB6B,MAqBpB,GArBoB,IA6B3Bn1C,EAPFo1C,sBAtB6B,MAsBZ,EAtBY,IA6B3Bp1C,EANFq1C,cAvB6B,MAuBpB,UAvBoB,IA6B3Br1C,EALFs1C,kBAxB6B,SA0B7BC,EAGEv1C,EAHFu1C,YACAC,EAEEx1C,EAFFw1C,YACA1yC,EACE9C,EADF8C,SAGI2yC,EAAYrB,EAAKD,EAAO,KAAU,EAAIC,EAAKD,EAC3CuB,EAAYf,EAAKD,EAAO,KAAU,EAAIC,EAAKD,EAC3CiB,EAAYT,EAAKD,EAAO,KAAU,EAAIC,EAAKD,EAE3CjpC,EAAU,EAAE/I,KAAKC,GAAG,IACpBH,EAAU1B,KACVE,EAAQ62B,eAEd,OAAO,eAAC,GAAD,CAAQ71B,MAAO,OAAf,UAEH,cAAC,GAAD,CAAmBo7B,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IACR6Y,EAAG,GACHO,WAAY,IAAI5sC,KAAKC,GAAG,IACxB4sC,SAAU,IAAI7sC,KAAKC,GAAG,IACtBitC,UAAW+D,EAAOC,GAAOsB,EAAU,EACnCvF,aAAc,IACdE,aAAc,EACdH,cAAe,EACfI,aAAcrkC,EACdskC,WAAYtkC,IACrCwoC,EAAa,KACf,cAAC,GAAD,CAAS7W,EAAI,CAACnH,EAAG,GAAIC,EAAG,IACP6Y,EAAG,GACHO,WAAY,IAAI5sC,KAAKC,GAAG,IACxB4sC,SAAU,IAAI7sC,KAAKC,GAAG,IACtB41B,IAAKqb,EACLpb,IAAKqb,EACLhwC,MAAO8vC,EACP7D,aAAcrkC,EACdskC,WAAYtkC,EACZ+f,SAAU,EACVqnB,WAAY,MACZxwB,MAAOyxB,EACP7mC,cAAe8mC,IAChC,cAAC,GAAD,CAAW3W,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IAChB6Y,EAAG,GACHO,WAAY,IAAI5sC,KAAKC,GAAG,IACxB4sC,SAAU,IAAI7sC,KAAKC,GAAG,IACtBd,KAAMmyC,EACNlE,aAAcrkC,EACdskC,WAAYtkC,IAGvB,cAAC,GAAD,CAAmB2xB,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IACR6Y,EAAG,GACHO,WAAY,GAAG5sC,KAAKC,GAAG,IACvB4sC,UAAW,GAAG7sC,KAAKC,GAAG,IACtBitC,UAAWsE,EAAOC,GAAOgB,EAAU,EACnCxF,aAAc,IACdE,aAAc,EACdH,cAAe,EACfI,aAAcrkC,EACdskC,WAAYtkC,IACrC+oC,EAAa,KACf,cAAC,GAAD,CAASpX,EAAI,CAACnH,EAAG,GAAIC,EAAG,IACP6Y,EAAG,GACHO,WAAY,GAAG5sC,KAAKC,GAAG,IACvB4sC,UAAW,GAAG7sC,KAAKC,GAAG,IACtB41B,IAAK4b,EACL3b,IAAK4b,EACLvwC,MAAOqwC,EACPpE,aAAcrkC,EACdskC,WAAYtkC,EACZ+f,SAAU,EACVqnB,WAAY,QACZxwB,MAAOgyB,EACPpnC,cAAeqnC,IAChC,cAAC,GAAD,CAAWlX,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IAChB6Y,EAAG,GACHO,YAAa,GAAG5sC,KAAKC,GAAG,IACxB4sC,SAAU,GAAG7sC,KAAKC,GAAG,IACrBd,KAAM0yC,EACNzE,aAAcrkC,EACdskC,WAAYtkC,IAGvB,cAAC,GAAD,CAAmB2xB,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IACR6Y,EAAG,GACHO,WAAY,GAAG5sC,KAAKC,GAAG,IACvB4sC,SAAU,IAAI7sC,KAAKC,GAAG,IACtBitC,UAAW6E,EAAOC,GAAOU,EAAU,EACnCzF,aAAc,IACdE,aAAc,EACdH,cAAe,EACfI,aAAcrkC,EACdskC,WAAYtkC,IACrCspC,EAAa,KACf,cAAC,GAAD,CAAS3X,EAAI,CAACnH,EAAG,GAAIC,EAAG,IACP6Y,EAAG,GACHO,WAAY,GAAG5sC,KAAKC,GAAG,IACvB4sC,SAAU,IAAI7sC,KAAKC,GAAG,IACtB41B,IAAKmc,EACLlc,IAAKmc,EACL9wC,MAAO4wC,EACP3E,aAAcrkC,EACdskC,WAAYtkC,EACZ+f,SAAU,EACVqnB,WAAY,SACZxwB,MAAOuyB,EACP3nC,cAAe4nC,IAChC,cAAC,GAAD,CAAWzX,EAAI,CAAEnH,EAAG,GAAIC,EAAG,IAChB6Y,EAAG,GACHO,WAAY,IAAI5sC,KAAKC,GAAG,IACxB4sC,SAAU,GAAG7sC,KAAKC,GAAG,IACrBd,KAAMizC,EACN3B,GAAI,EACJrD,aAAcrkC,EACdskC,WAAYtkC,IAEvB,sBAAMwqB,EAAG,GACMC,EAAG,GACH2c,WAAW,SACXC,kBAAkB,SAClB1vC,UAAWZ,EAAQgxC,WACnBhwC,KAAK,QACLo2B,OAAQ54B,EAAMY,QAAQE,QAAQwJ,KAC9BguB,YAAa,GACbnrB,MAAQ,CAAE6kC,cAAe,GARxC,SASEtwC,KAAKud,MAAM+0B,GAAa/P,eAAe,WAEzC,sBAAMhP,EAAG,GACHC,EAAG,GACH2c,WAAW,SACXC,kBAAkB,SAClB1vC,UAAWZ,EAAQywC,YACnB9kC,MAAQ,CAAEqd,SAAU,GAL1B,SAMGypB,IAEF1yC,M,SClKD8yC,GAA4BC,aAAS7F,IAErC3uC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCwyC,WAAW,eACNxyC,EAAMG,WAAWwxC,WAEtB4C,eAAgB,CACd/pB,SAAU,GAEZgqB,YAAa,CACXhyC,KAAM,OAERiyC,aAAc,OAuGDC,GAnGC,SAACj2C,GAAW,IAExBk2C,EASEl2C,EATFk2C,IACAC,EAQEn2C,EARFm2C,KACAn1B,EAOEhhB,EAPFghB,MACAwB,EAMExiB,EANFwiB,YACAF,EAKEtiB,EALFsiB,SACA8zB,EAIEp2C,EAJFo2C,iBACAC,EAGEr2C,EAHFq2C,YACAC,EAEEt2C,EAFFs2C,SACAC,EACEv2C,EADFu2C,oBAGMx1C,EAAMD,IAANC,EACAyJ,EAAmBP,KAAnBO,eAEFgsC,EAAuBhsC,EAAe8X,GACtCm0B,EAAcjsC,EAAe,CAAEpG,MAAO,QAAWiE,KAAMia,EAASja,OAChEquC,EAAkBlsC,EAAe0rC,EAAK,gBACtCS,EAAoBnsC,EAAewW,GACnC41B,EAA0BpsC,EAAegY,GACzCq0B,EAAoBrsC,EAAe,CAACpG,MAAO,GAAIiE,KAAM,MAAMjE,MAC3D0yC,EAAoBtsC,EAAe,CAACpG,MAAO,IAAKiE,KAAM,MAAMjE,MAC5DrB,EAAU1B,KAEV01C,EAAiBC,aAAU,CAAEztC,KAAM,CAAEnF,MAAO,GAAKA,MAAOoyC,EAAqBpyC,QAE7E6yC,EAAe30B,EAASle,QAAU,IAMxC,OAAO,eAAC,EAAD,CAAOvB,MAAM,UAAb,UACL,cAAC,GAAD,CAAeqxC,OAAQyC,EAAkBvyC,MAC1B+vC,KAAM,EACNC,KALA,KAMAC,OAAQsC,EAAkBtuC,KAC1BisC,eAAgB,EAChBC,OAAQxzC,EAAE,SAEV0zC,OAAa,IAAL0B,EACRzB,KAAM,EACNC,KAAM,IACNC,OAAQ,IACRC,eAAgB,EAChBC,OAAQ/zC,EAAE,QAEVi0C,OAAQ4B,EAAwBxyC,MAChC6wC,KAAM4B,EACN3B,KAAM4B,EACN3B,OAAQ,OAAMyB,EAAwBvuC,KACtC+sC,eAAgB,EAChBC,OAAQt0C,EAAE,eACVu0C,WAAY9yB,EAAYpe,QAAU,IAElCmxC,YAAamB,EAAgBtyC,MAC7BoxC,YAAakB,EAAgBruC,KAvB5C,SAyBE4uC,EAAe,KACjB,mCACE,cAACjmC,EAAA,EAAD,CAASlR,MAAOwiB,EAASle,OAASqyC,EAAYryC,MAAQrD,EAAE,+BAAiC,GAAzF,SACA,8BACE,cAAC,KAASqB,KAAV,CAAeo0B,EAAG,EACZC,EAAG,EACH2c,WAAW,OACXC,kBAAkB,SAClB1vC,UAAWkN,IAAW9N,EAAQgxC,WAAYzxB,EAASle,OAASqyC,EAAYryC,MAAQrB,EAAQgzC,YAAc,MACtGrnC,MAAQ,CAAEqd,SAAU,GAL1B,SAMGgrB,EAAe3yC,MAAM8yC,aAAY,SAAC1gB,GAAD,OAAQvzB,KAAKud,MAAQ,IAAFgW,GAAO,KAAKgP,eAAe,SAAU,IAAMgR,EAAqBnuC,UAEvH,cAACutC,GAAD,CAA2BjY,EAAI,CAAEnH,EAAG,EAAGC,EAAG,GACzB6Y,EAAG,EACHO,YAAa,IAAI5sC,KAAKC,GAAG,IACzB4sC,UAAW,GAAG7sC,KAAKC,GAAG,IACtBitC,SAAU4G,EAAe3yC,MAAM8yC,aAAY,SAAC1gB,GAAD,OAAO,GAAGA,EAAEigB,EAAYryC,SACnE8rC,aAAc,EACdE,aAAc,EACdH,cAAe,GACfI,aAAc,EACdC,WAAY,IAC7B,cAAC,GAAD,CAAW3S,EAAI,CAAEnH,EAAG,EAAGC,EAAG,GAChB6Y,EAAG,GACHO,YAAa,IAAI5sC,KAAKC,GAAG,IACzB4sC,UAAW,GAAG7sC,KAAKC,GAAG,IACtBd,KAAMrB,EAAE,YACRsvC,aAAc,EACdC,WAAY,EACZ3sC,UAAWkN,IAAW9N,EAAQ+yC,eAAgBxzB,EAASle,OAASqyC,EAAYryC,MAAQrB,EAAQgzC,YAAc,iBAMtHK,EACF,eAACxlC,EAAA,EAAD,CAAQnB,SAAU8mC,EAAqB3mC,QAAQ,YAAYkB,QAASwlC,EAAU3pC,MAAO0pC,EAAc,UAAY,UAAWtzC,QAAS,CAAEmB,KAAMnB,EAAQizC,cAAnJ,UAAqKK,EAAc,cAAC,KAAD,IAAiB,KAApM,IAA4Mt1C,EAAE,aAC5M,SC/GSgnB,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACLkuB,IAAK31B,GAA2B/H,GAChC2+B,OAAQ92B,GAA0B7H,GAClCwI,MAAOJ,GAAmBpI,GAC1B29B,KAAMp1B,GAAkBvI,GACxBgK,YAAavC,GAAyBzH,GACtC8J,SAAUnC,GAAsB3H,GAChC69B,YAAaz6B,GAAsBpD,GACnC49B,iBAAkB16B,GAAalD,GAC/B4+B,gBAAiBn7B,GAA0BzD,GAC3C+9B,qBAAuB/uB,GAAkBhP,GAAO9I,SAAYqM,GAA0BvD,OAG1F,SAAC0P,EAAUF,GAAX,MAAyB,CACvBsuB,SAAU,SAACe,GACTnvB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAE6lC,EAAY,OAAS,gBAG/D,SAACpuB,EAAYC,EAAelB,GAAc,IAEtCsuB,EACEptB,EADFotB,SAGAc,EACEnuB,EADFmuB,gBAEF,OAAO,mDACFnuB,GACAC,GACAlB,GAHL,IAIEsuB,SAAU,kBAAMA,EAASc,QA/BdrvB,CAkCbkuB,ICQaqB,GAnDF,SAACt3C,GAAW,IAErBu3C,EAMEv3C,EANFu3C,SACAC,EAKEx3C,EALFw3C,YACA51B,EAIE5hB,EAJF4hB,SACAZ,EAGEhhB,EAHFghB,MACAy2B,EAEEz3C,EAFFy3C,eACAC,EACE13C,EADF03C,kBAGM32C,EAAMD,IAANC,EACAyJ,EAAmBP,KAAnBO,eACFmtC,EAAuBntC,EAAe+sC,GACtCK,EAAuBptC,EAAeoX,GACtC+0B,EAAoBnsC,EAAewW,GACnC62B,EAA6BrtC,EAAeitC,EAAgB,gBAK5DK,EAAqBttC,EAAegtC,GAAapzC,MAEjD2zC,EAA2BvtC,EAAe,CAAEpG,MAAOszC,EAAkBtzC,OAAS,EAAGiE,KAAMovC,EAAepvC,MAAQ,gBAAgBjE,MAEpI,OAAO,cAAC,EAAD,CAAOvB,MAAM,OAAb,SACL,cAAC,GAAD,CAAeqxC,OAAQyC,EAAkBvyC,MAC1B+vC,KAAM,EACNC,KAVA,IAWAC,OAAQsC,EAAkBtuC,KAC1BisC,eAAgB,EAChBC,OAAQxzC,EAAE,SAEV0zC,OAAQkD,EAAqBvzC,MAC7BswC,KAdG,EAeHC,KAAMmD,EACNlD,OAAQ+C,EAAqBtvC,KAC7BwsC,eAAgB,EAChBC,OAAQ/zC,EAAE,YAEVi0C,OAAQ6C,EAA2BzzC,MACnC6wC,KAnBS,EAoBTC,KAAM6C,EACN5C,OAAQ0C,EAA2BxvC,KACnC+sC,eAAgB,EAChBC,OAAQt0C,EAAE,gBAEVw0C,YAAaqC,EAAqBxzC,MAClCoxC,YAAaoC,EAAqBvvC,UC3CtC0f,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACLpG,SAAUlB,GAAyBlI,GACnC++B,SAAUnwB,GAAe5O,GACzBg/B,YAAarwB,GAAsB3O,GACnCwI,MAAOvB,GAAgBjH,GACvBi/B,eAAgBlwB,GAAqB/O,GACrCk/B,kBAAmBrwB,GAA4B7O,OAGnD,SAAC0P,EAAUF,GAAX,MAAyB,KAXVD,CAYXuvB,I,8FCXEj2C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,CACN5nB,aAAcP,EAAMQ,QAAQ,GAC5BkK,YAAa1K,EAAMQ,QAAQ,IAE7Bi2C,gBAAiB,CACfp2C,SAAU,WACVW,MAAO,oBACPG,OAAQnB,EAAMQ,QAAQ,GACtBY,KAAM,GAERs1C,eAAgB,CACdr2C,SAAU,WACVW,MAAO,GACPV,OAAQ,GACRw6B,MAAO,EACP35B,OAAQ,EAAEnB,EAAMQ,QAAQ,IAE1Bm2C,eAAe,yBACbt2C,SAAU,WACVc,OAAQ,IACLnB,EAAMG,WAAWs/B,YAHR,IAIZjV,SAAU,KAEZosB,eAAe,yBACbv2C,SAAU,WACVc,OAAQ,GACLnB,EAAMG,WAAWs/B,YAHR,IAIZjV,SAAU,KAEZqsB,OAAQ,GAERhtC,IAAK,CACHxJ,SAAU,WACVW,MAAO,OACPV,OAAQ,GAAKN,EAAMQ,QAAQ,GAC3Bs2C,UAAW92C,EAAMQ,QAAQ,GACzBD,aAAcP,EAAMQ,QAAQ,QA2GjBu2C,GAvGC,SAACt4C,GAAW,IAExBu4C,EAYEv4C,EAZFu4C,WACAC,EAWEx4C,EAXFw4C,aACAC,EAUEz4C,EAVFy4C,OACAp3B,EASErhB,EATFqhB,OACAq3B,EAQE14C,EARF04C,SACAC,EAOE34C,EAPF24C,iBACA/2B,EAME5hB,EANF4hB,SACAg3B,EAKE54C,EALF44C,cACA32B,EAIEjiB,EAJFiiB,YACA42B,EAGE74C,EAHF64C,iBACAC,EAEE94C,EAFF84C,cACAC,EACE/4C,EADF+4C,cAGIC,EAA0Bl0C,uBAAY,SAACC,EAAGi6B,GAC3C2Z,GAAoB3Z,IAAM3d,GAC3Bs3B,EAAiB3Z,EAAGA,EAAE3d,KAEvB,CAAEs3B,EAAkBt3B,IAEjB43B,EAAoBn0C,uBAAY,SAACC,GAClC4zC,GACDA,EAAiB,OAElB,CAAEA,IAECO,EAAuBp0C,uBAAY,SAACC,EAAGi6B,GACxC+Z,GAAiB/Z,IAAM0Z,GACxBK,EAAc/Z,KAEf,CAAE+Z,EAAeL,IAEdS,EAAsBr0C,uBAAY,SAACC,GACpCg0C,GACDA,EAAc,OAEf,CAAEA,IAECK,EAAuBt0C,uBAAY,SAACC,EAAGi6B,GACxC4Z,GAAiB5Z,IAAMpd,GACxBg3B,EAAc5Z,EAAGA,EAAEpd,KAEpB,CAAEg3B,EAAeh3B,IAEdy3B,EAAsBv0C,uBAAY,SAACC,GACpC6zC,GACDA,EAAc,OAEf,CAAEA,IAECU,EAA0Bx0C,uBAAY,SAACC,EAAGi6B,GAC3C6Z,GAAoB7Z,IAAM/c,GAC3B42B,EAAiB7Z,EAAGA,EAAE/c,KAEvB,CAAE42B,EAAkB52B,IAEjBs3B,EAAyBz0C,uBAAY,SAACC,GACvC8zC,GACDA,EAAiB,OAElB,CAAEA,IAEG93C,EAAMD,IAANC,EAEFgC,EAAU1B,KAEhB,OACE,eAAC,EAAD,CAAOwB,MAAO9B,EAAE,WAAhB,UACA,gCACE,eAAC6P,EAAA,EAAD,CAAQG,KAAK,QAAQD,QAAS0nC,EAAc5oC,QAAQ,YAAYjD,MAAM,UAAU5J,QAAS,CAAEmB,KAAMnB,EAAQ2mB,QAAUja,SAAUqpC,IAAkBjyC,IAAsBiyC,IAAkBjyC,GAAvL,UAA+M,cAAC,KAAD,IAA0B9F,EAAE,iBAC3O,eAAC6P,EAAA,EAAD,CAAQG,KAAK,QAAQD,QAASynC,EAAY3oC,QAAQ,YAAYjD,MAAM,YAAY5J,QAAS,CAAEmB,KAAMnB,EAAQ2mB,QAAUja,SAAUqpC,IAAkBjyC,GAA/I,UAAoK,cAAC,KAAD,IAAsB9F,EAAE,eAC5L,eAAC6P,EAAA,EAAD,CAAQG,KAAK,QAAQD,QAAS2nC,EAAQ7oC,QAAQ,YAAYjD,MAAM,UAAU5J,QAAS,CAAEmB,KAAMnB,EAAQ2mB,QAAUja,SAAUqpC,IAAkBjyC,IAAyBiyC,IAAkBjyC,GAApL,UAA4M,cAAC,KAAD,IAAiB9F,EAAE,cAEjO,sBAAK4C,UAAWZ,EAAQqI,IAAxB,UACE,qBAAKzH,UAAWZ,EAAQi1C,gBAAxB,SAAyC,cAACwB,GAAA,EAAD,CAAQ1hB,YAAY,aAAa1zB,MAAOid,EAAQ0X,IAAK,IAAKD,IAAK,EAAG2gB,KAAM,EAAGC,kBAAkB,MAAM32C,QAAS,CAAEmB,KAAMnB,EAAQq1C,QAAS/zC,SAAU20C,MACxL,qBAAKr1C,UAAWZ,EAAQk1C,eAAxB,SAAwC,cAAC/Z,GAAA,EAAD,CAAYptB,QAASmoC,EAArB,SAAwC,cAAC,KAAD,QAChF,qBAAKt1C,UAAWZ,EAAQm1C,eAAxB,SAAyCn3C,EAAE,iBAC3C,sBAAK4C,UAAWZ,EAAQo1C,eAAxB,UAAyC92B,EAAzC,UAEF,sBAAK1d,UAAWZ,EAAQqI,IAAxB,UACE,qBAAKzH,UAAWZ,EAAQi1C,gBAAxB,SAAyC,cAACwB,GAAA,EAAD,CAAQ1hB,YAAY,aAAa1zB,MAAOs0C,EAAU3f,IAAK,IAAKD,IAAK,EAAG2gB,KAAM,EAAGC,kBAAkB,MAAM32C,QAAS,CAAEmB,KAAMnB,EAAQq1C,QAAS/zC,SAAU60C,MAC1L,qBAAKv1C,UAAWZ,EAAQk1C,eAAxB,SAAwC,cAAC/Z,GAAA,EAAD,CAAYptB,QAASqoC,EAArB,SAA0C,cAAC,KAAD,QAClF,qBAAKx1C,UAAWZ,EAAQm1C,eAAxB,SAAyCn3C,EAAE,kBAC3C,sBAAK4C,UAAWZ,EAAQo1C,eAAxB,UAAyCO,EAAzC,UAEF,sBAAK/0C,UAAWZ,EAAQqI,IAAxB,UACE,qBAAKzH,UAAWZ,EAAQi1C,gBAAxB,SAAyC,cAACwB,GAAA,EAAD,CAAQ1hB,YAAY,aAAa1zB,MAAOwd,EAAUmX,IAAK,IAAKD,IAAK,EAAG2gB,KAAM,EAAGC,kBAAkB,MAAM32C,QAAS,CAAEmB,KAAMnB,EAAQq1C,QAAS/zC,SAAU+0C,MAC1L,qBAAKz1C,UAAWZ,EAAQk1C,eAAxB,SAAwC,cAAC/Z,GAAA,EAAD,CAAYptB,QAASuoC,EAArB,SAA0C,cAAC,KAAD,QAClF,qBAAK11C,UAAWZ,EAAQm1C,eAAxB,SAAyCn3C,EAAE,cAC3C,sBAAK4C,UAAWZ,EAAQo1C,eAAxB,UAAyCv2B,EAAzC,UAEF,sBAAKje,UAAWZ,EAAQqI,IAAxB,UACE,qBAAKzH,UAAWZ,EAAQi1C,gBAAxB,SAAyC,cAACwB,GAAA,EAAD,CAAQ1hB,YAAY,aAAa1zB,MAAO6d,EAAa8W,IAAK,IAAKD,IAAK,EAAG2gB,KAAM,EAAGC,kBAAkB,MAAM32C,QAAS,CAAEmB,KAAMnB,EAAQq1C,QAAS/zC,SAAUi1C,MAC7L,qBAAK31C,UAAWZ,EAAQk1C,eAAxB,SAAwC,cAAC/Z,GAAA,EAAD,CAAYptB,QAASyoC,EAArB,SAA6C,cAAC,KAAD,QACrF,qBAAK51C,UAAWZ,EAAQm1C,eAAxB,SAAyCn3C,EAAE,iBAC3C,sBAAK4C,UAAWZ,EAAQo1C,eAAxB,UAAyCl2B,EAAzC,cC/IS8F,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL3G,OAAQF,GAA8B3I,GACtCoJ,SAAUD,GAAgCnJ,GAC1CsJ,QAASD,GAAqBrJ,GAC9BkgC,SAAUl3B,GAAiChJ,GAC3CsgC,cAAez9B,GAAoB7C,GACnCiJ,kBAAmBnF,GAAwB9D,OAG/C,SAAC0P,EAAUF,GAAX,MAAyB,CACvBwwB,aAAc,kBAAQtwB,EAAUE,GAAQvW,IAAI8nC,kBAC5ClB,OAAQ,kBAAMvwB,EAASE,GAAQvW,IAAI+nC,QAAQ,CAAEpoC,KAAM,CAAE,iBACrD+mC,WAAY,kBAAMrwB,EAAUE,GAAQvW,IAAIgoC,gBACxClB,iBAAkB,SAACmB,EAAWC,EAAIt4B,GAChCyG,EAAUE,GAAQ9G,QAAQ04B,OAAOz4B,4BAA4B,CAAE/P,KAAMsoC,EAAU,IAAIr4B,KACnFyG,EAAUE,GAAQ9G,QAAQzP,IAAIooC,OAAO,CAAEzoC,KAAM,CAACsoC,EAAU,IAAIr4B,MAC5D6d,GAAKc,QAEPwY,cAAe,SAACsB,EAAaH,GAC3B7xB,EAAUE,GAAQ9G,QAAQ04B,OAAOp4B,SAAS,CAAEpQ,KAAM,CAAC0oC,EAAY,QAC/DhyB,EAAUE,GAAQ9G,QAAQzP,IAAI+P,SAAS,CAAEpQ,KAAM,CAAC0oC,EAAY,QAC5D5a,GAAKc,QAEP2Y,cAAe,SAACoB,EAAaJ,GAC3B7xB,EAAUE,GAAQ9G,QAAQ04B,OAAOt4B,UAAU,CAAElQ,KAAM,CAAE2oC,EAAY,QACjEjyB,EAAUE,GAAQ9G,QAAQzP,IAAI6P,UAAU,CAAElQ,KAAM,CAAE2oC,EAAY,QAC9D7a,GAAKc,QAEPga,aAAc,SAACt4B,GACboG,EAAUE,GAAQ9G,QAAQ04B,OAAOl4B,QAAQ,CAAEtQ,KAAMsQ,KACjDoG,EAAUE,GAAQ9G,QAAQzP,IAAIwoC,gBAAgB,CAAE7oC,KAAM,CAACsQ,EAAQ,GAAGC,aAClEud,GAAKc,YAGT,SAACnX,EAAYC,EAAelB,GAAc,IAEtC3G,EAME4H,EANF5H,OACAO,EAKEqH,EALFrH,SACAE,EAIEmH,EAJFnH,QACA42B,EAGEzvB,EAHFyvB,SACAI,EAEE7vB,EAFF6vB,cACAr3B,EACEwH,EADFxH,kBAGIQ,EAAchf,KAAKud,MAAM,IAAIsB,EAAQ,GAAGC,UAG5Cy2B,EAOEtvB,EAPFsvB,aACAD,EAMErvB,EANFqvB,WACAE,EAKEvvB,EALFuvB,OACAE,EAIEzvB,EAJFyvB,iBACAC,EAGE1vB,EAHF0vB,cACAG,EAEE7vB,EAFF6vB,cACAqB,EACElxB,EADFkxB,aAGF,MAAO,CACLtB,gBACAz3B,SACAO,WACA82B,WACAz2B,cACAu2B,eACAD,aACAK,gBACAG,gBACAN,SACAI,iBAAkB,SAACyB,EAAgBP,GACjCK,EACE/7C,OAAOk8C,OAAOrqC,YAAQ4R,GAAS,SAAC3R,GAC9BA,EAAM,GAAG4R,SAAWu4B,EAAe,UAIzC3B,iBAAkB,SAACmB,EAAWC,GAAZ,OAAmBpB,EAAiBmB,EAAWC,EAAIt4B,OA5E1DsG,CA8EZuwB,ICjDYkC,GA3BG,SAACx6C,GACf,OAAQ,eAACswB,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACR,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAAG8Q,GAAI,EAArC,SACE,eAAClR,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACE,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,GAAI8Q,GAAI,EAA/B,SACE,cAAC,GAAD,MAEF,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,GAAI8Q,GAAI,EAA/B,SACE,cAAC,GAAD,WAIN,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAAG8Q,GAAI,EAArC,SACE,eAAClR,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACE,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,GAAID,GAAI,GAAI8Q,GAAI,EAAvC,SACE,cAAC,GAAD,MAEF,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,GAAID,GAAI,GAAI8Q,GAAI,EAAvC,SACE,cAAC,GAAD,WAIN,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,cAAC,GAAD,U,yJCuNSgqB,GAFY,IAnO3B,WACE,aAAe,qBACbx7C,KAAKy7C,uBAAyB,WAC9Bz7C,KAAK07C,mBAAqB,WAC1B17C,KAAK27C,YAAc,GACnB37C,KAAK47C,eAAiB,GACtB57C,KAAK67C,MAAQC,KAAYC,eAAe,CACtC9pC,KAAM,aACN+pC,OAAQF,KAAYG,UACpBC,UAAW,aACXtrC,YAAa,sEAEf5Q,KAAKm8C,SAAWL,KAAYC,eAAe,CACzC9pC,KAAM,qBACN+pC,OAAQF,KAAYG,UACpBC,UAAW,qBACXtrC,YAAa,sDAhBnB,oFAsBE,WAAawrC,GAAb,iCAAAzoC,EAAA,0DACKvE,OAAOitC,OAAOC,SAAUF,GAAkC,KAArBA,EAAU38C,OADpD,gBAII,IAFM88C,EAAc,IAAIC,WAAW,IAC7BC,EAAa,IAAID,WAAW,IAC1Bj9C,EAAI,EAAGA,EAAI,GAAIA,IACrBg9C,EAAYh9C,GAAKqwB,SAASwsB,EAAUr9B,MAAMxf,EAAEA,EAAE,GAAI,IAEpD,IAAQA,EAAI,EAAGA,EAAI,GAAIA,IACrBk9C,EAAWl9C,GAAKqwB,SAASwsB,EAAUr9B,MAAMxf,EAAE,GAAGA,EAAE,IAAK,IAR3D,OAWUm9C,EAAiBttC,OAAOitC,OAAOC,OAAOK,UAAU,MAAOJ,EAAa,CAAEtqC,KAAM,OAAQ2qC,KAAM,YAAa,EAAO,CAAC,OAAQ,WAAWC,MAAK,SAACl9C,GAC5I,EAAKm9C,QAAUn9C,KAEXo9C,EAAgB3tC,OAAOitC,OAAOC,OAAOK,UAAU,MAAOF,EAAY,WAAW,EAAO,CAAC,UAAW,YAAYI,MAAK,SAACl9C,GACtH,EAAKq9C,OAASr9C,KAfpB,SAkBUs9C,QAAQlnC,IAAI,CAAE2mC,EAAgBK,IAlBxC,2CAtBF,sHA4CE,uBAAAppC,EAAA,sDACE3T,KAAK88C,QAAU,KACf98C,KAAKg9C,OAAS,KAFhB,gDA5CF,sFAiDE,WACE,IAAIE,EAAY,EAChB,IAAI,IAAIv9C,KAAOK,KAAK47C,eAClBsB,GAAal9C,KAAK47C,eAAej8C,GAAKmS,KAGxC,OAAOorC,IAvDX,2BA0DE,SAAcjlC,GACZ,IAAMkkC,EAAWn8C,KAAK47C,eAAe3jC,GACrC,GAAGkkC,EAED,OADAA,EAAStjC,UAAYC,KAAKC,MACnB/Y,KAAK27C,YAAY1jC,KA9D9B,2BAkEE,SAAcA,EAAU1F,GACtB,IAAMT,EAAOS,EAAK4qC,WACZC,EAAkBp9C,KAAKq9C,qBAAqBvrC,EAElD9R,KAAK27C,YAAY1jC,GAAY1F,EAE7BvS,KAAK47C,eAAe3jC,GAAY,CAC9BY,UAAWC,KAAKC,MAChBjH,QAGCsrC,EAAkBp9C,KAAK07C,oBACxB17C,KAAKs9C,uBAAuBF,EAAgBp9C,KAAK07C,sBA9EvD,oCAkFE,SAAuB6B,GACrB,IAAMC,EAAW,GACjB,IAAI,IAAI79C,KAAOK,KAAK47C,eAClB4B,EAASt+B,KAAK,CAAElf,KAAK47C,eAAej8C,GAAMA,IAG5C69C,EAAS1/B,MAAK,SAACnK,EAAEoK,GAAQ,OAAOpK,EAAE,GAAGkF,UAAUkF,EAAE,GAAGlF,aAIpD,IAFA,IAAItZ,EAAI,EACJk+C,EAAe,EACbA,EAAeF,GAAkBh+C,EAAIi+C,EAAS/9C,QAAQ,CAAC,IAAD,cACnC+9C,EAASj+C,GAD0B,GAClD4F,EADkD,KAC3CxF,EAD2C,KAE1D89C,GAAgBt4C,EAAM2M,YACf9R,KAAK47C,eAAej8C,UACpBK,KAAK27C,YAAYh8C,GACxBJ,OAjGN,6EAqGE,6BAAAoU,EAAA,6DACMupC,EAAY,EADlB,SAEQl9C,KAAKm8C,SAASuB,SAAQ,SAACv4C,EAAOxF,EAAKg+C,GACvCT,GAAa/3C,EAAM2M,QAClB8rC,OAAM,SAACC,GAAUC,QAAQC,MAAMF,MAJpC,gCAMSX,GANT,gDArGF,oHA8GE,WAAcjlC,GAAd,uBAAAtE,EAAA,yDACQpB,EAAOvS,KAAKg+C,cAAc/lC,GADlC,yCAGWglC,QAAQgB,QAAQj+C,KAAKk+C,kBAAkBjmC,IAAW4kC,MAAK,SAACtqC,GAI7D,OAHGA,GACD,EAAK4rC,cAAclmC,EAAU1F,GAExBA,MAPb,gCAUSA,GAVT,gDA9GF,+HA2HE,WAAwB0F,EAAU1F,GAAlC,wBAAAoB,EAAA,6DACQ7B,EAAOS,EAAK4qC,WADpB,SAEoCn9C,KAAKo+C,yBAFzC,2BAEkEtsC,EAA1DusC,EAFR,YAGKjvC,OAAOitC,OAAOC,QAAUt8C,KAAKg9C,QAAUh9C,KAAK88C,SAHjD,wBAIUwB,EAAKlvC,OAAOitC,OAAOkC,gBAAgB,IAAI/B,WAAW,KAJ5D,UAKgCptC,OAAOitC,OAAOC,OAAOkC,QAAQ,CACvDvsC,KAAM,UACNqsC,MACCt+C,KAAKg9C,OAAQzqC,GARpB,eAKUksC,EALV,iBAU4BrvC,OAAOitC,OAAOC,OAAOrc,KAAK,OAAQjgC,KAAK88C,QAAS2B,GAV5E,QAUUC,EAVV,OAYI1+C,KAAK67C,MAAM8C,QAAQ1mC,EAAUwmC,GAE7Bz+C,KAAKm8C,SAASwC,QAAQ1mC,EAAU,CAC9BY,UAAWC,KAAKC,MAChBulC,KACAI,YACA5sC,SAlBN,wBAqBI9R,KAAK67C,MAAM8C,QAAQ1mC,EAAU1F,GAE7BvS,KAAKm8C,SAASwC,QAAQ1mC,EAAU,CAC9BY,UAAWC,KAAKC,MAChBjH,SAzBN,QA6BKusC,EAAsBr+C,KAAKy7C,wBAC5Bz7C,KAAK4+C,2BAA2BP,EAAoBr+C,KAAKy7C,wBA9B7D,iDA3HF,0IA6JE,WAAiC8B,GAAjC,0BAAA5pC,EAAA,6DACQ6pC,EAAW,GADnB,SAEQx9C,KAAKm8C,SAASuB,SAAQ,SAACv4C,EAAOxF,EAAKg+C,GACvCH,EAASt+B,KAAK,CAAE/Z,EAAOxF,OACtBi+C,OAAM,SAACC,GAAUC,QAAQC,MAAMF,MAJpC,OAUE,IAJAL,EAAS1/B,MAAK,SAACnK,EAAEoK,GAAQ,OAAOpK,EAAE,GAAGkF,UAAUkF,EAAE,GAAGlF,aAEhDtZ,EAAI,EACJk+C,EAAe,EACbA,EAAeF,GAAkBh+C,EAAIi+C,EAAS/9C,QAAS,EAAD,YACnC+9C,EAASj+C,GAD0B,GAClD4F,EADkD,KAC3CxF,EAD2C,KAE1D89C,GAAgBt4C,EAAM2M,KACtB9R,KAAKm8C,SAAS0C,WAAWl/C,GACzBK,KAAK67C,MAAMgD,WAAWl/C,GACtBJ,IAfJ,gDA7JF,+HAgLE,WAAwB0Y,GAAxB,6BAAAtE,EAAA,0DACKsE,EADL,iCAE2BjY,KAAKm8C,SAAS2C,QAAQ7mC,GAAU4kC,MAAK,SAAC13C,GAAD,OAAWA,KAAOy4C,OAAM,kBAAM,QAF9F,YAEUzB,EAFV,4BAKQuC,EAGEvC,EAHFuC,UACAJ,EAEEnC,EAFFmC,GACAxsC,EACEqqC,EADFrqC,KAEF9R,KAAKm8C,SAASwC,QAAQ1mC,EAAU,CAC9BY,UAAWC,KAAKC,MAChBulC,KACAI,YACA5sC,WAGC1C,OAAOitC,OAAOC,QAAUt8C,KAAKg9C,QAAUh9C,KAAK88C,SAAW4B,GAAaJ,GAhB7E,kCAiBqBt+C,KAAK67C,MAAMiD,QAAQ7mC,GAAU4kC,KAA7B,yCAAkC,WAAO13C,GAAP,UAAAwO,EAAA,sEACtBvE,OAAOitC,OAAOC,OAAOyC,OAAO,OAAQ,EAAKjC,QAAS4B,EAAWv5C,GADvC,2DAGpCiK,OAAOitC,OAAOC,OAAO0C,QAAQ,CAClC/sC,KAAM,UACNqsC,MAEF,EAAKtB,OACL73C,IAR2C,gCAUtC,MAVsC,2CAAlC,kCAAAnF,KAAA,gBAWV68C,MAAK,SAACtqC,GACP,OAAOA,KACNqrC,OAAM,kBAAM,QA9BvB,oDAgCYc,GAAcJ,EAhC1B,kCAiCuBt+C,KAAK67C,MAAMiD,QAAQ7mC,GAAU4kC,MAAK,SAACtqC,GAC9C,OAAOA,KACNqrC,OAAM,kBAAM,QAnCzB,0EAwCS,MAxCT,iDAhLF,mHA2NE,uBAAAjqC,EAAA,6DACE3T,KAAK27C,YAAc,GACnB37C,KAAK47C,eAAiB,GAFxB,SAGQ57C,KAAK67C,MAAMoD,eAAepC,MAAK,kBAAMiB,QAAQoB,IAAI,oBAHzD,uBAIQl/C,KAAKm8C,SAAS8C,eAAepC,MAAK,kBAAMiB,QAAQoB,IAAI,uBAJ5D,gDA3NF,8DAuOO,SAASC,GAAepjC,EAAW9D,EAAUD,GAQlD,OAPA+D,EAAU+iC,QAAQ7mC,GAAU4kC,MAAK,SAAC9+B,GAChC,IAAMqhC,EAAUC,SAASC,cAAc,KACjCC,EAAO,IAAIC,KAAK,CAAEzhC,GAAK,CAACjL,KAAM,6BACpCssC,EAAQK,aAAa,OAAQC,IAAIC,gBAAgBJ,IACjDH,EAAQK,aAAa,WAAYznC,GACjConC,EAAQQ,WAEH,KCpLT,IC5DA,IAAMC,GAAmB,KAAKC,WAAW,GACnCC,GAA0B,KAAKD,WAAW,GAC1C19C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC09C,IAAK,CACH,uBAAwB,CACtBp9C,OAAQ,UACRU,MAAO,WAET,6BAA8B,CAC5BmK,gBAAiB,eAEnB,6BAA8B,CAC5BA,gBAAiB,kBAEnB,sCAAuC,CACrCmgB,UAAW,UAEb,wCAAyC,CACvChe,SAAU,WAGdgO,KAAM,CACJoP,WAAY,QAEd7Q,SAAU,CACR9Y,WAAYf,EAAMQ,QAAQ,IAE5Bm9C,oBAAqB,CACnB58C,WAAYf,EAAMQ,QAAQ,QA2Ifo9C,GAvIK,SAACn/C,GAAW,IACtBe,EAAMD,IAANC,EAEN8b,EAKE7c,EALF6c,KACA3F,EAIElX,EAJFkX,SAJ2B,EAQzBlX,EAHFob,gBAL2B,MAKhB,CAAErK,KAAM,EAAGsG,YAAa,GALR,EAM3BpV,EAEEjC,EAFFiC,KACAm9C,EACEp/C,EADFo/C,kBAEIr8C,EAAU1B,KACVg+C,EAAS3xC,iBAAO,MAVO,EAWKnJ,oBAAS,GAXd,mBAWrB+6C,EAXqB,KAWXC,EAXW,OAYLC,eAZK,mBAYrBp/C,EAZqB,KAYhBq/C,EAZgB,OAaal7C,mBAAS,CACjD2S,SAAU,KACVwoC,cAAe,EACfC,OAAQ,OAhBmB,mBAarBC,EAbqB,KAaPC,EAbO,KAsB7BjyC,qBAAU,WAER,IAAMkyC,EAAST,EAAOxxC,QAAQiyC,OAmB9B,GAhBAA,EAAOp1C,UAAUgE,MAAM7M,OAASy9C,EAAW,QAAU,QACrDQ,EAAOC,UAAU,2BAA2B,GAC5CD,EAAOC,UAAU,gBAAiB,IAClCD,EAAOE,oBAAmB,GAC1BF,EAAOG,aAAY,GACnBH,EAAOI,QAAO,GACXj+C,GACD69C,EAAOK,SAASl+C,EAAK,EAAGm+C,KASvBlpC,IAAa0oC,EAAa1oC,SAW7B,GAAG0oC,EAAaD,OAAQ,CACtB,IAIIU,EAJEC,EAAMR,EAAOS,aAAaC,cAC1BC,EAAW,IAAIhF,WAAWmE,EAAaD,QAIvCe,EAAa,SAACn3C,EAAMo3C,EAAaC,EAAQC,GAK7C,IAJA,IAAMC,EAAW79C,KAAK61B,IAAIvvB,EAAKo3C,EAAaC,GACtCG,EAAc,IAAIC,YAClBC,EAAW,GACbC,EAAgB33C,EACZ/K,EAAI+K,EAAM/K,EAAIsiD,EAAUtiD,IAC3BiiD,EAASjiD,KAAOsgD,KAEdtgD,EAAE,GAAK,GAAKiiD,EAASjiD,EAAE,KAAOwgD,GAE/BiC,EAAS9iC,KAAK4iC,EAAYI,OAAO,IAAI1F,WAAWmE,EAAaD,OAAQuB,EAAe1iD,EAAE0iD,EAAc,KAGpGD,EAAS9iC,KAAK4iC,EAAYI,OAAO,IAAI1F,WAAWmE,EAAaD,OAAQuB,EAAe1iD,EAAE0iD,KAExFA,EAAgB1iD,EAAE,GAGnBqiD,EACDR,EAAYrlB,YAAW,WACrBslB,EAAIc,gBAAgBd,EAAIe,YAAY,EAAGJ,GACvCpB,EAAgB3vC,YAAQ0vC,GAAc,SAAAzvC,GAAWA,EAAMuvC,cAAgBwB,QACtE,IAEHZ,EAAIc,gBAAgBd,EAAIe,YAAY,EAAGJ,GACvCpB,EAAgB3vC,YAAQ0vC,GAAc,SAAAzvC,GAAWA,EAAMuvC,cAAgBwB,QAG3E,GAAGtB,EAAaF,cAAgBtkC,EAAS/D,YAOvC,OANkC,IAA/BuoC,EAAaF,eACdI,EAAO1oB,SAAS,IAChBspB,EAAWd,EAAaF,cAAe,IAAStkC,EAAS/D,aAAa,IAEtEqpC,EAAWd,EAAaF,cAAe,IAAStkC,EAAS/D,aAAa,GAEjE,kBAAMujB,aAAaylB,SAG5BrlC,GAAU+iC,QAAQ7mC,GAAU4kC,MAAK,SAAC9+B,GAChC6iC,EAAgB3vC,YAAQ0vC,GAAc,SAAAzvC,GAAWA,EAAMwvC,OAAS3iC,cArDlE6iC,EAAgB3vC,YAAQ0vC,GAAc,SAAAzvC,GACpCA,EAAM+G,SAAWA,EACjB/G,EAAMuvC,cAAgB,EACtBvvC,EAAMwvC,OAAS,WAqDlB,CAAEL,EAAUlkC,EAAUikC,EAAQnoC,EAAU0oC,EAAcC,EAAiB59C,IAE1E,IAGMi9C,EAAuB,IAAI9jC,EAAS/D,YAAY+D,EAASrK,KACzDuwC,EAAc,IAAKr+C,KAAK61B,IAAI8mB,EAAaF,cAAetkC,EAASrK,MAAOqK,EAASrK,KACjFwwC,EAAkBt+C,KAAK61B,IAAIomB,EAAoBoC,GAG/CE,EAAsBtC,EAAsB,KAAQoC,EAAc,KAAOlmC,EAASrK,KAAO,SACzFxO,EAAQU,KAAKu1B,MAAMinB,EAAOl9C,OAAS,KAAK0b,WAC9C,OAAO,qCACDujC,EACA,cAACxwC,EAAA,EAAD,CAASowB,UAAU,MAAMthC,MAAQyhD,EAAgBlxC,QAAQ,GAAK,IAA9D,SACE,cAACoxC,GAAA,EAAD,CAAkB1+C,QAAS,CAAEmB,KAAMnB,EAAQqY,UAAYxL,QAAQ,cAAcmB,KAAM,GAAIgnB,UAAW,EAAG3zB,MAAOm9C,MAE5G,KAEN,sBAAK59C,UAAWZ,EAAQk8C,IAAK7+C,IAAKA,EAAlC,UACA,cAAC,KAAD,CAAWshD,KAAK,QACLngD,MAAM,SACN2P,KAAK,cACL9Q,IAAKi/C,EACL98C,MAAOA,IAElB,cAACqO,EAAA,EAAD,CAAQE,QAtBa,kBAAMyuC,GAAaD,IAsBxC,SAA8Cv+C,EAAXu+C,EAAa,UAAe,YAC/D,cAACtuC,EAAA,EAAD,CAASowB,UAAU,MAAMthC,MAAOiB,EAAE,uBAAlC,SACA,cAAC6P,EAAA,EAAD,CAAQE,QA1Ba,WAAQsuC,EAAkBviC,IA0BdpN,SAAU+xC,EAA3C,SAAgE,cAAC,KAAD,e,SClKrDG,GAFgB,IAZ7B,aAAe,IAAD,4BACZ1iD,KAAK2iD,QAAUC,yBAAc,SAACC,GAM5B,OAJA,EAAKC,YAAc,SAAC9qC,EAAM+qC,GAA6B,IAAnBC,EAAkB,uDAAT,KAC3CH,EAAK,CAAE7qC,OAAM+qC,WAAUC,cAGlB,iBCHEl6B,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBnL,KAAMwB,GAAc7F,GACpBtB,SAAU6D,GAA0BvC,GACpC4C,SAAUD,GAA0B3C,GACpCvW,KAAM+X,GAAkBxB,OAE1B,SAAC0P,EAAUF,GAAX,MAAyB,CACvBo3B,kBAAmB,SAACnoC,GAClBirC,GAAcH,YAAY9qC,EAAMjR,GAAoBo4C,QATzCr2B,CAWXo3B,I,uKCME99C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4gD,WAAY,CACV5/C,MAAO,OACPwI,eAAgB,QAElBq3C,QAAS,CACP,WAAY,CACVz1C,MAAOpL,EAAMY,QAAQE,QAAQwJ,MAE/B7J,QAAS,OACTwuB,WAAY,SACZ6xB,SAAU,YA+FCC,GA3FK,SAACtiD,GAAW,IAE5BuiD,EAOEviD,EAPFuiD,SACAC,EAMExiD,EANFwiD,SACAR,EAKEhiD,EALFgiD,SACAS,EAIEziD,EAJFyiD,WACAC,EAGE1iD,EAHF0iD,cACAC,EAEE3iD,EAFF2iD,WACAC,EACE5iD,EADF4iD,aAEM7hD,EAAMD,IAANC,EAVqB,EAYHwD,mBAAS,IAZN,mBAYrB0S,EAZqB,KAYf4rC,EAZe,KAa7Bj1C,qBAAU,WAAQi1C,EAAQ,MAAO,CAACL,IAElC,IAnCqB5+C,EA2Cfk/C,EAAmB,SAAC/9C,GACrB69C,GACDA,EAAa79C,IAOXhC,EAAU1B,KACV0hD,GArDen/C,EAqDc4+C,EAAUvrC,EApD5BtE,QAAO,SAASqwC,EAAG9xC,GAAQ,OAAO8xC,GAAKA,EAAE9xC,KAAUtN,IAqD9Dq/C,EAAmBF,EAAe1kD,OAAOgB,KAAK0jD,GAAcvwC,QAAO,SAAC5T,GAAD,OAA+B,OAAtBmkD,EAAankD,MAAiB,KAE1GskD,GADoBH,EAAe1kD,OAAOgB,KAAK0jD,GAAcvwC,QAAO,SAAC5T,GAAD,OAA+B,OAAtBmkD,EAAankD,MAAiB,IACtE4T,QAAO,SAAEqK,GAAF,OAAYA,EAAK8J,cAAcrc,SAASm4C,EAAW97B,kBAErG,OAAO,mCACL,eAACljB,EAAA,EAAD,WACE,sBAAKE,UAAWZ,EAAQq/C,QAAxB,UACE,cAAC,IAAD,CAAStiD,MAAOiB,EAAE,2BAAlB,SACE,cAACm9B,GAAA,EAAD,CACEptB,QAfS,WACjB+xC,EAAQ,KAeAl2C,MAAM,UAFR,SAIE,cAAC,KAAD,QAGJ,cAAC,IAAD,CAAS7M,MAAOiB,EAAE,2BAAlB,SACE,cAACm9B,GAAA,EAAD,CACEptB,QApCS,WACjBmG,EAAKvY,OAAS,GAAImkD,EAAQ5rC,EAAK+G,MAAM,GAAG,KAoChCrR,MAAM,UAFR,SAIE,cAAC,KAAD,QAGJ,cAAC,KAAD,IAAkBsK,EAAKnT,KAAK,QAE9B,eAACq/C,GAAA,EAAD,WAEEF,GAAoBA,EAAiBr/C,KAAI,SAACw/C,GACxC,OAAO,cAACC,GAAA,EAAD,UACH,eAACzyC,EAAA,EAAD,CACEE,QAAS,WAAO+xC,EAAQ5rC,EAAK6R,OAAOs6B,KADtC,UAGE,cAAC,KAAD,IACA,cAAC,KAAD,IACCA,MANeA,MAYxBF,GAAoBA,EAAiBt/C,KAAI,SAACiZ,GACxC,IAAMymC,EAAe,CAACf,GAAUz5B,OAAO7R,GAAM6R,OAAO,CAACjM,IAAO/Y,KAAK,KACjE,OAAO,eAACu/C,GAAA,EAAD,WACH,cAACje,GAAA,EAAD,CAAUhhC,MAAOk/C,EAAcjjB,UAASqiB,EAAcY,GAA8BxyC,QAASgyC,IAC7F,cAAClyC,EAAA,EAAD,CACE7N,QAAS,CAAEmB,KAAMnB,EAAQo/C,YACzBrxC,QAAS,WA9DA,IAACyyC,IA8DqBD,EA7DxCX,GACDA,EAAWY,EAASvB,IA0DZ,SAIGnlC,MANeA,eC/GjBkL,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBnL,KAAMwB,GAAc7F,GACpBqG,yBAA0BD,GAA6CpG,GACvEgrC,YAAa7kC,GAAkBnG,GAC/BirC,SAAU9mC,GAAkBnE,OAE9B,SAAC0P,EAAUF,GAAX,MAAyB,KAPVD,CAQXu6B,ICQEjhD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiR,OAAQ,CACNjQ,MAAO,QAETmhD,WAAY,CACV7hD,OAAQ,mBACRU,MAAO,oBAETohD,YAAa,CACX/hD,SAAU,WACVy6B,MAAO96B,EAAMQ,QAAQ,GACrBu6B,IAAK/6B,EAAMQ,QAAQ,QAuHR6hD,GAnHgB,SAAC5jD,GAAW,IAEvC6pB,EAOE7pB,EAPF6pB,KACAzQ,EAMEpZ,EANFoZ,SACAqC,EAKEzb,EALFyb,cACAqO,EAIE9pB,EAJF8pB,QACA64B,EAGE3iD,EAHF2iD,WACAkB,EAEE7jD,EAFF6jD,aAIM9iD,EAAMD,IAANC,EAXgC,EAaZwD,oBAAS,GAbG,mBAahCu/C,EAbgC,KAazBC,EAbyB,OAcNx/C,mBAAS,IAdH,mBAchC0/B,EAdgC,KActBgD,EAdsB,KAexCr5B,qBAAU,WAAQq5B,EAAY,MAAO,CAACpd,IAfE,MAgBFtlB,mBAAS,IAhBP,mBAgBhCk+C,EAhBgC,KAgBpBuB,EAhBoB,KAkBlCC,EAAoBn/C,uBAAY,SAACC,GACrCi/C,EAAc,MACb,CAAEA,IACCE,EAAqBp/C,uBAAY,SAACC,GACtCi/C,EAAcj/C,EAAExG,OAAO6F,SACtB,CAAE4/C,IACCjhD,EAAU1B,KAEV8iD,EAAuBr/C,uBAAY,WACvCi4C,QAAQoB,IAAI,OACZlX,EAAY,IACZ8c,GAAUD,KACT,CAACA,EAAOC,EAAU9c,IAEf/c,EAAc,WACfJ,GACDA,KAGEs6B,EAAiB,SAACntC,EAAM+qC,GACzBW,IAIDA,EAAW1rC,EAAM+qC,GACjB93B,MAGEm6B,EAAev/C,uBAAY,SAACC,GAChCg4C,QAAQoB,IAAIp5C,EAAExG,OAAO6F,OACrB24C,QAAQoB,IAAIla,GACTl/B,EAAExG,OAAO8hC,QACV4G,EAAY,2BAAKhD,GAAN,kBAAiBl/B,EAAExG,OAAO6F,OAAQ,KAE7C6iC,EAAY,2BAAKhD,GAAN,kBAAiBl/B,EAAExG,OAAO6F,OAAQ,OAE9C,CAAE6/B,EAAUgD,IAUTqd,EAAuBx/C,uBAAY,SAACC,GACxC,GAAG8+C,EAAc,CACf,IAAM7B,EAAW8B,EAAQ99C,GAAyBA,GAC9B3H,OAAOgB,KAAK4kC,GAAUzxB,QAAO,SAACyE,GAAD,OAAUgtB,EAAShtB,MACxDsC,SAAQ,SAACtC,GACnB4sC,EAAa5sC,EAAM+qC,MAErB/a,EAAY,OAEb,CAAE6c,EAAOD,EAAc5f,EAAUgD,IAEpC,OAAO,mCACP,eAAC5c,GAAA,EAAD,CAAQR,KAAMA,EAAMC,QAASI,EAAannB,QAAU,CAAEvB,MAAOuB,EAAQ2gD,YAArE,UACE,eAACp5B,GAAA,EAAD,WACE,+BAAQvpB,EAAE,eACV,cAACm9B,GAAA,EAAD,CAAYv6B,UAAWZ,EAAQ4gD,YAAa7yC,QAASoZ,EAAanZ,KAAK,QAAvE,SAA+E,cAAC,KAAD,SAEjF,eAACwZ,GAAA,EAAD,WACE,cAACllB,EAAA,EAAD,CACEigC,YAAavkC,EAAE,UACfqD,MAAOq+C,EACP9+C,UAAWZ,EAAQyP,OACnBnO,SAAU6/C,EACVp0C,WAAY,CAAE+8B,aAAe4V,EAAW/jD,OAAS,EAAI,cAACouC,GAAA,EAAD,CAAgBlrC,SAAS,MAAzB,SAA+B,cAACs8B,GAAA,EAAD,CAAYntB,KAAK,QAAQD,QAASmzC,EAAlC,SAAqD,cAAC,KAAD,QAA6C,QAEtL7qC,GAAYA,EAASmrC,SACrB,cAAC3zC,EAAA,EAAD,CAAQ7N,QAAS,CAAEmB,KAAMnB,EAAQyhD,WAAa1zC,QAASqzC,EAAvD,SAA+EL,EAAQ,qCAAG/iD,EAAE,qBAAqB,cAAC,KAAD,OAA4B,qCAAGA,EAAE,gBAAgB,cAAC,KAAD,SAEpK,cAAC,GAAD,CAEE0hD,WAAYA,EACZD,SAAUppC,GAAYA,EAASmrC,SAAWT,EAAQ1qC,EAASA,EAASmrC,SAAWnrC,EAAWA,EAASA,EAASnC,MAAQ,GACpH+qC,SAAU5oC,GAAYA,EAASmrC,SAAWT,EAAQ99C,GAAyBA,GAC3Eu8C,SAAUnpC,GAAYA,EAASmrC,SAAWT,EAAQ1qC,EAASmrC,QAAU9oC,EAErEknC,WAAY,SAAC1rC,EAAM+qC,GAAP,OAAqBoC,EAAentC,EAAM+qC,IAGtDY,aAAcyB,EACd3B,cAAeze,OAInB,eAACrZ,GAAA,EAAD,WAEE,cAAC,IAAD,CAAS9qB,MAAOiB,EAAE,0BAAlB,SAA6C,cAAC6P,EAAA,EAAD,CAAQjE,MAAM,YAAYmE,QAASwzC,EAAsB70C,SAA4E,IAAlEpR,OAAOgB,KAAK4kC,GAAUzxB,QAAO,SAACyE,GAAD,OAAUgtB,EAAShtB,MAAOvY,OAA1H,SAAyIqC,EAAE,sBACxL,cAAC6P,EAAA,EAAD,CAAQE,QAASoZ,EAAjB,SAAiCnpB,EAAE,qBC3I1BgnB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpB5O,SAAUD,GAAeX,GACzBiD,cAAeD,GAAoBhD,OAErC,SAAC0P,EAAUF,GAAX,MAAyB,CAKvB67B,aAAc,SAAC5sC,EAAM+qC,GAAc95B,EAASE,GAAQvW,IAAI4yC,WAAW,CAAEjzC,KAAM,CAAEyF,EAAM+qC,OACnFW,WAAY,SAAC1rC,EAAM+qC,GAAc95B,EAASE,GAAQvW,IAAI6yC,eAAe,CAAElzC,KAAM,CAAEyF,EAAM+qC,UAXxEj6B,CAYX67B,ICDEviD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCojD,YAAa,CACXhoB,OAAQ,UACRioB,OAAQ,IACRriD,MAAO,OACPV,OAAQ,OACRD,SAAU,YAEZijD,QAAS,CACPloB,OAAQ,UACR5wB,YAAa,MACbsgB,YAAa,SACbD,YAAa7qB,EAAMY,QAAQE,QAAQwJ,KACnC8d,OAAQpoB,EAAMQ,QAAQ,GACtBQ,MAAO,eAAiBhB,EAAMQ,QAAQ,GAAK,IAC3CH,SAAU,YAEZkjD,YAAa,CACXz4B,YAAa,QACb3f,gBAAiBnL,EAAMY,QAAQE,QAAQ6J,OAEzCu3C,SAAU,CACR7hD,SAAU,WACV+nB,OAAQpoB,EAAMQ,QAAQ,GACtBQ,MAAO,eAAiBhB,EAAMQ,QAAQ,GAAK,IAC3C6I,SAAU,UAEZm6C,SAAU,CACRnjD,SAAU,YAEZojD,cAAe,CACbr7B,OAAQpoB,EAAMQ,QAAQ,GACtBQ,MAAO,qBAET0iD,UAAW,CACTh5B,WAAY,QAEdi5B,SAAU,CACRz4B,WAAY,SACZ7hB,SAAU,SACVu6C,aAAc,YAEhBhD,WAAY,CACV5/C,MAAO,OACPwI,eAAgB,QAElByH,OAAQ,CACNjQ,MAAO,QAETmhD,WAAY,CACV7hD,OAAQ,mBACRU,MAAO,oBAETohD,YAAa,CACX/hD,SAAU,WACVy6B,MAAO96B,EAAMQ,QAAQ,GACrBu6B,IAAK/6B,EAAMQ,QAAQ,IAErBqjD,WAAY,CACV9iD,WAAYf,EAAMQ,QAAQ,IAE5ByiD,UAAW,CACT73C,MAAOpL,EAAMY,QAAQE,QAAQwJ,KAC7BtJ,MAAO,OACPwI,eAAgB,YAyHLs6C,GArHW,SAACrlD,GAAW,IAC5Be,EAAMD,IAANC,EAEN8b,EAaE7c,EAbF6c,KAEAyoC,EAWEtlD,EAXFslD,UACAC,EAUEvlD,EAVFulD,SACAC,EASExlD,EATFwlD,YACAC,EAQEzlD,EARFylD,UACAC,EAOE1lD,EAPF0lD,aACAC,EAME3lD,EANF2lD,gBACAC,EAKE5lD,EALF4lD,kBAXiC,EAgB/B5lD,EAFFwjD,mBAdiC,MAcnB,GAdmB,EAejC3kC,EACE7e,EADF6e,yBAEI+tB,EAAWl/B,iBAAO,MAjBW,EA2BWnJ,oBAAS,GA3BpB,mBA2B3BshD,EA3B2B,KA2BXC,EA3BW,KAqC7BC,EAAwBjhD,uBAAY,SAACC,GACzC+gD,GAAkB,GAClBF,MACC,CAAEE,IAECE,EAAuBlhD,uBAAY,SAACC,GACxC+gD,GAAkB,GAClBH,MACC,CAAEG,IAECG,EAAcnhD,uBAAY,SAACC,GAC/B6nC,EAAS/+B,QAAQgxC,UAChB,CAAEjS,IAoBCsZ,EAAephD,uBAAY,SAACC,GAC7BwgD,GACDA,EAAS1mC,EAAyB,GAAG5H,QAEtC,CAAEsuC,EAAU1mC,IAETsnC,EAAgBrhD,uBAAY,SAACC,GAC9B0gD,GACDA,EAAU5mC,EAAyB,GAAG5H,QAEvC,CAAEwuC,EAAW5mC,IAEVunC,EAAiB/nD,OAAOqb,OAAO8pC,GAAa5/C,KAAI,SAACiZ,EAAMzN,GAAP,mBAAC,eAAsByN,GAAvB,IAA6BzN,aACnFg3C,EAAerpC,MAAK,SAACnK,EAAEoK,GAAQ,OAAOA,EAAE5B,SAASxI,EAAEwI,YAEnD,IAAMirC,EAAqH,IAAhGD,EAAezzC,QAAO,SAACyJ,EAAOvO,GAAR,OAAoBuO,EAAQ,EAAGgqC,EAAe1nD,OAAOmP,EAAQuN,WAAU,GAElHrY,EAAU1B,KAEhB,OAAO,qCACP,cAAC2P,EAAA,EAAD,CAASowB,UAAU,MAAMthC,MAAO+c,GAAQ9b,EAAE,gBAA1C,SACE,cAAC6P,EAAA,EAAD,CAAQE,QAASk1C,EAAjB,SAAuC,sBAAMriD,UAAWZ,EAAQmiD,SAAzB,SAAqCroC,GAAQ9b,EAAE,sBAExF,cAAC,GAAD,CACE8oB,KAAMg8B,EACN/7B,QAASi8B,IAGX,cAAC/0C,EAAA,EAAD,CAASowB,UAAU,MAAMthC,MAAM,eAA/B,SAA8C,cAAC8Q,EAAA,EAAD,CAAQE,QAASm1C,EAAjB,SAA8B,cAAC,KAAD,QAC5E,cAACxE,GAAA,EAAD,CAAkBr9C,MAAOiiD,EAAoBz2C,QAAQ,cAAcmB,KAAK,QACtEs1C,EAAqB,EAAI,sBAAM1iD,UAAWZ,EAAQqiD,WAAzB,SAAsCiB,EAAmBh2C,QAAQ,GAAK,MAAc,KAC/G,qBAAK3B,MAAO,CAAE1M,QAAS,QAAvB,SAAiC,uBAAOqC,SAlFf,SAACU,GAAO,IAAD,iBACdA,EAAExG,OAAO+nD,OADK,IAC9B,IAAI,EAAJ,qBAAgC,CAAC,IAAzBzpC,EAAwB,QACxB5F,EAAO4F,EAAK3L,KAElBo0C,EAAUruC,EADG4F,IAHe,8BAM9B9X,EAAExG,OAAO6F,MAAQ,IA4EiD2N,KAAK,OAAOw0C,UAAQ,EAACnmD,IAAKwsC,MAC9F,eAACviB,GAAA,EAAD,CAAQR,KAAMhL,EAAyBngB,OAAS,EAAhD,UACE,cAAC4rB,GAAA,EAAD,wCACA,eAACC,GAAA,EAAD,WACE,eAAC0iB,GAAA,EAAD,WACIpuB,EAAyBngB,OAAS,EAAImgB,EAAyB,GAAG5H,KAAO,GAD7E,wBACwG4H,EAAyBngB,OAAS,EAAI,SAAWmgB,EAAyBngB,OAAS,eAAiBmgB,EAAyBngB,OAAS,EAAI,IAAM,IAAK,IAAM,GADnQ,kBAGA,eAACksB,GAAA,EAAD,WACE,cAACha,EAAA,EAAD,CAAQE,QAASo1C,EAAcv5C,MAAM,YAArC,oBACEy5C,EAAe1nD,OAAS,EAAI,cAACkS,EAAA,EAAD,CAAQE,QAAS00C,EAAa74C,MAAM,YAApC,wBAAsE,KACpG,cAACiE,EAAA,EAAD,CAAQE,QAASq1C,EAAex5C,MAAM,UAAtC,uBACEy5C,EAAe1nD,OAAS,EAAK,cAACkS,EAAA,EAAD,CAAQE,QAAS40C,EAAc/4C,MAAM,UAArC,2BAAwE,kBCvKhG65C,GAFY,IAZzB,aAAe,IAAD,4BACZvnD,KAAK2iD,QAAUC,yBAAc,SAACC,GAM5B,OAJA,EAAK2E,QAAU,SAACxvC,EAAM+qC,EAAUxwC,GAA2B,IAArBsN,EAAoB,wDACxDgjC,EAAK,CAAE7qC,OAAM+qC,WAAUxwC,OAAMsN,eAGxB,iBCdEiJ,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBnL,KAAMwB,GAAc7F,GACpBqG,yBAA0BD,GAA6CpG,GACvEgrC,YAAa7kC,GAAkBnG,GAC/BirC,SAAU9mC,GAAkBnE,OAE9B,SAAC0P,EAAUF,GAAX,MAAyB,CACvB29B,gBAAiB,kBAAMz9B,EAASE,GAAQzW,MAAMyH,aAC9CwsC,kBAAmB,kBAAM19B,EAASE,GAAQxW,QAAQwH,aAClDosC,YAAa,kBAAMt9B,EAASE,GAAQ1J,WAAWgoC,UAAU1gD,MACzDu/C,SAAU,SAACtuC,GAAD,OAAUiR,EAASE,GAAQ1J,WAAWioC,OAAO,CAAC1vC,KAAMA,EAAM+qC,SAAUh8C,OAC9Ey/C,UAAW,SAACxuC,GAAD,OAAUiR,EAASE,GAAQ1J,WAAWkoC,iBAAiB,CAAC3vC,KAAMA,EAAM+qC,SAAUh8C,OACzF0/C,aAAc,kBAAMx9B,EAASE,GAAQ1J,WAAWmoC,oBAAoB7gD,MACpEs/C,UAAW,SAACruC,EAAMzF,GAAP,OAAgBs1C,GAAUL,QAAQxvC,EAAMjR,GAAoBwL,IACvEmxC,WAAY,SAAC1rC,EAAM+qC,GAAc95B,EAASE,GAAQvW,IAAI6yC,eAAe,CAAElzC,KAAM,CAAEyF,EAAM+qC,OAErF6B,aAAc,SAAC5sC,EAAM+qC,GAAP,OAAoB95B,EAASE,GAAQvW,IAAIk1C,cAAc,CAAEv1C,KAAM,CAAEyF,EAAM+qC,OACrFgF,WAAY,SAAC/vC,EAAM+qC,GAAP,OAAoB95B,EAASE,GAAQvW,IAAIo1C,SAAS,CAAEz1C,KAAM,CAAEyF,EAAM+qC,EAAU,qBAlB3Ej6B,CAmBXs9B,ICbW6B,GARM,SAAClnD,GAAW,IACvBe,EAAMD,cAANC,EACR,OAAO,eAAC,EAAD,CAAO8B,MAAO9B,EAAE,gBAAhB,UACP,cAAC,GAAD,IACA,cAAC,GAAD,QCMIM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4lD,QAAS,CACPrlD,aAAcP,EAAMQ,QAAQ,GAC5B0qB,WAAY,UAEdyP,UAAU,2BACL36B,EAAMG,WAAWw6B,WADb,IAEPl6B,QAAS,eACTO,MAAO,GACPV,OAAQ,GACRkpB,oBAAqB,EACrB4Q,WAAY,OACZl5B,cAAe,SACfgJ,UAAW,SACXiB,gBAAiBnL,EAAMY,QAAQgK,KAAK,KACpCP,OAAQ,aAAerK,EAAMY,QAAQgK,KAAK,OAE5Ci7C,eAAgB,CACdp8B,uBAAwB,GAE1Bq8B,SAAS,2BACJ9lD,EAAMG,WAAW86B,WADd,IAENx6B,QAAS,eACTH,OAAQ,GACRU,MAAO,GACPE,cAAe,SACfwqB,qBAAsB,EACtBq6B,YAAa,aAAe/lD,EAAMY,QAAQgK,KAAK,KAC/Co7C,UAAW,aAAehmD,EAAMY,QAAQgK,KAAK,KAC7CjK,aAAc,aAAeX,EAAMY,QAAQgK,KAAK,KAChDwvB,WAAY,SAEd6rB,iBAAkB,CAChB79B,OAAQ,SACRoC,SAAU,OACV/pB,QAAS,eACTJ,SAAU,WACV6J,UAAW,SACXkwB,WAAY,EACZp5B,MAAO,eAETklD,sBAAuB,CACrBzlD,QAAS,QACTyJ,UAAW,SACXhJ,cAAe,SAEjBilD,oBAAqB,CACnBH,UAAW,kBACXvlD,QAAS,QACTJ,SAAU,WACVa,cAAe,OAEjBklD,cAAe,CACb57B,SAAU,QAEZyQ,UAAU,2BACLj7B,EAAMG,WAAW86B,WADb,IAEPx6B,QAAS,eACTH,OAAQ,GACRU,MAAO,sBAAwBhB,EAAMQ,QAAQ,GAAK,MAClD45B,WAAY,OACZl5B,cAAe,SACfgJ,UAAW,QACX87C,UAAW,aAAehmD,EAAMY,QAAQgK,KAAK,KAC7CjK,aAAc,aAAeX,EAAMY,QAAQgK,KAAK,KAChDwC,aAAcpN,EAAMQ,QAAQ,KAE9B6lD,eAAgB,CACd16B,wBAAyB,GAE3B26B,IAAK,CACHjmD,SAAU,WACVW,MAAO,mBACPV,OAAQ,GACRmpB,uBAAwB,EACxBkC,wBAAyB,EACzBo6B,YAAa,aAAe/lD,EAAMY,QAAQgK,KAAK,KAC/C27C,WAAY,aAAevmD,EAAMY,QAAQgK,KAAK,KAC9CjK,aAAc,aAAeX,EAAMY,QAAQgK,KAAK,KAChDV,UAAW,QACXb,SAAU,OACVg6C,OAAQ,KAEVmD,UAAW,CACTnmD,SAAU,WACVC,OAAQ,GACRU,MAAO,OACPyoB,uBAAwB,EACxBkC,wBAAyB,EACzB86B,gBAAiB,6BAA+BzmD,EAAMY,QAAQE,QAAQwJ,KAAO,IAAMtK,EAAMY,QAAQwjC,UAAU95B,KAAO,IAClH+4C,OAAQ,GAEV/jB,SAAU,CACRt+B,MAAO,QAET0lD,SAAU,CACRrmD,SAAU,WACVC,OAAQ,GACRw6B,MAAO,EACP95B,MAAO,MACP2qB,wBAAyB,EACzBxgB,gBAAiB,QACjBk4C,OAAQ,GAEVsD,QAAS,CACPtmD,SAAU,WACVy6B,MAAO,EACPtQ,SAAU,UACV4P,WAAY,OACZl5B,cAAe,MACfkM,aAAc,EACdi2C,OAAQ,KAEVl7B,OAAQ,CACNzd,YAAa1K,EAAMQ,QAAQ,IAE7Bg/B,OAAQ,CACNl/B,OAAQ,QAEVi/B,cAAe,CACbx+B,WAAYf,EAAMQ,QAAQ,IAE5B6+B,OAAQ,CACN5+B,QAAS,OACTF,aAAcP,EAAMQ,QAAQ,QAiFjBoyB,GA7EH,SAACn0B,GAAW,IAEpBgC,EAOEhC,EAPFgC,QAEAo8B,EAKEp+B,EALFo+B,UAIA8C,GACElhC,EAJFutB,YAIEvtB,EAHFqa,SAGEra,EADFkhC,cAOMngC,EAAMD,IAANC,EAfa,EAgBoCkJ,KAAjDO,EAhBa,EAgBbA,eAAgBD,EAhBH,EAgBGA,6BAElBhJ,EAAQ62B,eACRr1B,EAAU1B,KAEVs9B,EAAcR,GAAkBn8B,EAASo8B,GAEzCL,EAAWY,GAAeP,EAAUx6B,KAAI,WAAwCwL,GAAW,IAAD,IAA/CwE,EAA+C,EAA/CA,KAAkBgM,GAA6B,EAAzCT,WAAyC,EAA7BS,QAC3DuoC,GADwF,+CACpE39C,EAAem0B,EAAYvvB,KAC/Cg5C,EAAoB79C,EAA6B49C,EAAkB9/C,MACnEmF,EAAgBvG,GAAMmB,SAAS+/C,EAAkB9/C,MACjDggD,EAAaD,EAAkB9oD,QAAQ,KACvC8lD,EAAaniD,KAAK61B,IAAW,IAAPlZ,EAAW,EAAG,KACpC0oC,EAAmC,qBAAZ1oC,GAAsC,OAAXA,EAClDgxB,EAAWC,KAAiB,CAAEtvC,EAAMY,QAAQE,QAAQwJ,KAAMtK,EAAMY,QAAQwjC,UAAU95B,OAGxF,OAAQ,sBAAgBlI,UAAWZ,EAAQokD,QAASlnD,GAAI,OAAS2T,EAAzD,UACN,gCACE,sBAAMjQ,UAAWkN,KAAU,mBAAI9N,EAAQm5B,WAAY,GAAxB,cAA+Bn5B,EAAQqkD,gBAAkBkB,GAAzD,IAA3B,SAAuG10C,IACvG,sBAAMjQ,UAAWkN,KAAU,mBAAI9N,EAAQy5B,WAAY,GAAxB,cAA+Bz5B,EAAQ6kD,gBAAkBU,GAAzD,IAA3B,SACE,+BAAQH,EAAkB/jD,MAAMiM,QAAQ7C,OAE1C,sBAAM7J,UAAWZ,EAAQskD,SAAzB,SACEgB,EAAa,EACT,uBAAM1kD,UAAWZ,EAAQykD,iBAAzB,UACE,sBAAM7jD,UAAWkN,IAAW,eAAG9N,EAAQ0kD,uBAAwB,IAA/D,SAA0El9C,EAA6B49C,EAAkB9/C,MAAM2V,MAAM,EAAEqqC,KACvI,sBAAM1kD,UAAWkN,IAAW,eAAI9N,EAAQ2kD,qBAAsB,IAA9D,SAAwEn9C,EAA6B49C,EAAkB9/C,MAAM2V,MAAMqqC,EAAa,QAGjJ,sBAAM1kD,UAAWZ,EAAQ4kD,cAAzB,SAAyCp9C,EAA6B49C,EAAkB9/C,aAK/FigD,EACF,sBAAK3kD,UAAWZ,EAAQ8kD,IAAxB,UACE,qBAAKlkD,UAAWZ,EAAQglD,UAAWr5C,MAAO,CAAEnM,MAAO6iD,EAAa,IAAK4C,gBAAiB,6BAA+BzmD,EAAMY,QAAQE,QAAQwJ,KAAO,IAAM+kC,EAASwU,EAAW,KAAO,OACnL,uBAAMzhD,UAAWZ,EAAQmlD,QAAzB,UAAoCjlD,KAAKud,MAAM4kC,GAA/C,UACO,OAtBOxxC,MA0BpB,OAAO,eAAC,EAAD,CAAO3T,GAAG,MAAM4C,MAAO9B,EAAE,OAAzB,UACL,sBAAK4C,UAAWZ,EAAQ69B,OAAxB,UACE,eAACO,GAAA,EAAD,CAAQvxB,QAAQ,WAAWxL,MAAOpC,EAASqC,SAlDnB,SAAC4K,GAC3BiyB,EAAajyB,EAAM1Q,OAAO6F,QAiDkDT,UAAWZ,EAAQg+B,OAA7F,UACE,cAACjR,EAAA,EAAD,CAAU1rB,MAAM,WAAhB,SAA2B,cAAC4M,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SAA6C,sBAAM4C,UAAWZ,EAAQ89B,SAAzB,SAAqC9/B,EAAE,kBAC/G,cAAC+uB,EAAA,EAAD,CAAU1rB,MAAM,iBAAhB,SAAiC,cAAC4M,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SAA6C,sBAAM4C,UAAWZ,EAAQ89B,SAAzB,SAAqC9/B,EAAE,wBACrH,cAAC+uB,EAAA,EAAD,CAAU1rB,MAAM,MAAhB,SAAsB,cAAC4M,EAAA,EAAD,CAASlR,MAAOiB,EAAE,eAAlB,SAAkC,sBAAM4C,UAAWZ,EAAQ89B,SAAzB,SAAqC9/B,EAAE,aAC/F,cAAC+uB,EAAA,EAAD,CAAU1rB,MAAM,WAAhB,SAA6BrD,EAAE,iBAOjC,cAAC,GAAD,CAAegC,QAAU,CAAE2mB,OAAQ3mB,EAAQ+9B,oBAE3C/C,MClNShW,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACLoW,UAAWve,GAAgBrH,GAC3B+b,QAASnV,GAAqB5G,GAC9B6B,SAAUD,GAAe5B,GACzB+U,YAAa3F,GAAkBpP,GAC/BxW,QAASo0B,GAAiB5d,OAG9B,SAAC0P,EAAUF,GAAX,MAAyB,CACvBkZ,aAAc,SAACvW,GAAD,OAASzC,EAAS8X,GAAajO,IAAIuP,WAAW3W,KAC5D49B,cAAe,SAAC59B,GAAD,OAASzC,EAAS8X,GAAajO,IAAIy2B,YAAY79B,KAC9D6J,UAAW,kBAAMtM,EAASwM,GAAkB7iB,IAAI8iB,eAbnC5M,CAcXoM,I,UCZE9yB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8oC,OAAQ,CACNroC,QAAS,YAkCEymD,GA9BO,SAACzoD,GACrB,IAAM0oD,EAAWC,eACX5lD,EAAU1B,KAEhB,OAAQ,eAACivB,EAAA,EAAD,CAAM5lB,WAAS,EAAC3H,QAAS,CAAEmB,KAA4B,gBAAtBwkD,EAASE,SAA6B,KAAO7lD,EAAQsnC,QAAtF,UACN,cAAC/Z,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAAG8Q,GAAI,EAArC,SACE,eAAClR,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACE,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,GAAI8Q,GAAI,EAA/B,SACE,cAAC,GAAD,MAEF,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,GAAI8Q,GAAI,EAA/B,SACE,cAAC,GAAD,WAIN,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAAG8Q,GAAI,EAArC,SACE,eAAClR,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACE,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,GAAID,GAAI,GAAI8Q,GAAI,EAAvC,SACE,cAAC,GAAD,MAEF,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,GAAID,GAAI,GAAI8Q,GAAI,EAAvC,SACE,cAAC,GAAD,WAIN,cAAClR,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,cAAC,GAAD,U,wCCtCAo4B,GAAoB,SAAC/wC,GACzB,IAAME,EAAMD,KAAKC,MAEX8wC,GAAM9wC,EAAIF,GAAW,IACrBixC,EAAU,IAAIhxC,KAAKC,GACnBgxC,EAAW,IAAIjxC,KAAKD,GAG1B,GAAGgxC,EAAK,EAAG,CACT,GAAGA,EAAK,GACN,MAAO,WACF,GAAGA,EAAK,GACb,MAAO,yBACF,GAAGA,EAAK,KAAM,CACnB,IAAMG,EAAUhmD,KAAKud,MAAMsoC,EAAG,IACxBI,EAAID,EAAU,EAAI,IAAM,GAC9B,MAAM,GAAN,OAAUA,EAAV,kBAA2BC,EAA3B,QAGA,GADajmD,KAAKud,MAAMsoC,EAAG,OACjB,EAAG,CACX,IAEMK,GAFSJ,EAAQK,SACPJ,EAASI,SACO,GAAG,EAEnC,GAAe,IAAZD,EAAe,CAChB,IAAME,EAAQpmD,KAAKud,MAAMsoC,EAAG,MACtBI,EAAIG,EAAQ,EAAI,IAAM,GAC5B,MAAM,GAAN,OAAUA,EAAV,gBAAuBH,EAAvB,QACK,OAAe,IAAZC,EACD,YAEAH,EAASM,mBAAmB,QAAS,CAAEC,QAAS,SAMzD,OAAgB,IAHAR,EAAQS,cACPR,EAASQ,cAGjBR,EAASM,mBAAmB,QAAS,CAAEG,MAAO,OAAQC,IAAK,YAG3DV,EAASM,mBAAmB,QAAS,CAAEG,MAAO,OAAQC,IAAK,UAAWC,KAAM,YAMzF,OAAOX,EAASM,mBAAmB,QAAS,CAAEG,MAAO,OAAQC,IAAK,UAAWC,KAAM,aAqBxEC,GAjBG,SAAC5pD,GAAW,IAE1B8X,EAEE9X,EAFF8X,UACAnU,EACE3D,EADF2D,UAHyB,EAMWY,mBAASskD,GAAkB/wC,IANtC,mBAMnB+xC,EANmB,KAMPC,EANO,KAe3B,OARAl8C,qBAAU,WACR,IAAMm8C,EAAWC,aAAY,WAC3BF,EAAcjB,GAAkB/wC,MAC/B,KAEH,OAAO,kBAAMmyC,cAAcF,OAGtB,cAAC/4C,EAAA,EAAD,CAASowB,UAAU,MAAMthC,MAAQ,IAAIiY,KAAKD,GAAY0tB,iBAAtD,SAAwE,sBAAM7hC,UAAWA,EAAjB,SAA6BkmD,OCnExGxoD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuW,UAAW,CACTmU,WAAY,OACZF,SAAU,QAEZntB,IAAK,CACHqtB,WAAY,OACZF,SAAU,QAEZm+B,GAAI,CACFC,cAAe,OACfl/B,YAAa1pB,EAAMQ,QAAQ,IAE7BqC,MAAO,CACL2nB,SAAU,OACVq+B,UAAW,cAyCAC,GArCQ,SAACrqD,GAAW,IAE/BsqD,EACEtqD,EADFsqD,IAGIvnD,EAAU1B,KA2BhB,OAAO,gCACL,sBAAMsC,UAAWZ,EAAQ+U,UAAzB,SAAsC,IAAIC,KAAKuyC,EAAIxyC,WAAY0tB,mBA1BpC,SAAvB+kB,EAAwBC,GAC5B,MAAmB,kBAATA,GAA6B,OAARA,EAC1Bl7C,MAAMm7C,QAAQD,GAER,oBAAI7mD,UAAWZ,EAAQmnD,GAAvB,SAEHM,EAAI5mD,KAAI,SAAC8mD,EAAGlsD,GAAJ,OACN,+BAAY,sBAAMmF,UAAWZ,EAAQnE,IAAzB,SAA+BJ,IAA3C,IAAsD+rD,EAAqBC,EAAIhsD,MAAtEA,QAMR,oBAAImF,UAAWZ,EAAQmnD,GAAvB,SAEH7rD,OAAOgB,KAAKmrD,GAAK5mD,KAAI,SAAChF,GAAD,OACnB,+BAAc,sBAAM+E,UAAWZ,EAAQnE,IAAzB,SAA+BA,IAA7C,IAA0D2rD,EAAqBC,EAAI5rD,MAA1EA,QAMZ,sBAAM+E,UAAWZ,EAAQqB,MAAzB,SAAiComD,IAKtCD,CAAqBD,EAAI3yC,ahBzCzBtW,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCopD,aAAc,CACZ5+B,SAAU,OACVq+B,UAAW,SACXztB,OAAQ,UACRl6B,cAAe,YAEjBiV,QAAS,CACPjV,cAAe,OAEjBqV,UAAW,CACT9V,QAAS,QACTooD,UAAW,SACXn+C,YAAa1K,EAAMQ,QAAQ,GAC3B+oB,MAAO,QACPiB,SAAU,OACVtgB,UAAW,SAEbm/C,KAAM,CACJT,cAAe,OACfl/B,YAAa,EACbotB,UAAW,EACXv2C,aAAc,EACd6oC,UAAW,IACX//B,SAAU,UAEZggC,SAAU,CACR5+B,QAASzK,EAAMQ,QAAQ,IAEzBi7C,MAAO,CACLtwC,gBAAiBnL,EAAMY,QAAQ66C,MAAM6N,WAEvCC,QAAS,CACPp+C,gBAAiBnL,EAAMY,QAAQwjC,UAAUklB,WAE3CE,KAAM,CACJr+C,gBAAiBnL,EAAMY,QAAQE,QAAQwoD,WAEzCG,UAAW,CACTr+C,MAAOpL,EAAMY,QAAQ66C,MAAMnxC,MAE7BwoB,YAAa,CACX1nB,MAAOpL,EAAMY,QAAQwjC,UAAU95B,MAEjCo/C,SAAU,CACRt+C,MAAOpL,EAAMY,QAAQE,QAAQwJ,MAE/Bq/C,OAAQ,CACNx+C,gBAAiB,gBACjBV,QAAS,OAMPgpB,GAAW,CACE,CAAE/0B,GAAI,EAAG8R,KAAMtL,GAAMiR,QAAS,6GAA8GI,UAAWC,KAAKC,MAAM,SAAmBL,QAAS,CAAEwzC,MAAO,UACvM,CAAElrD,GAAI,EAAG8R,KAAMrL,GAASgR,QAAS,4BAA6BI,UAAWC,KAAKC,MAAM,OAAkBL,QAAS,CAAC,KAAO,CAAC,eAAiB,CAAC,yDAAyD,KAAO,2BAA2B,KAAO,CAAC,QAAU,6DAA6D,SAAW,qCAAqC,GAAK,mCACzW,CAAE1X,GAAI,EAAG8R,KAAMpL,GAAO+Q,QAAS,2BAA4BI,UAAWC,KAAKC,MAAM,MAAkBL,QAAS,CAAC,KAAO,CAAC,eAAiB,CAAC,yDAAyD,KAAO,2BAA2B,KAAO,CAAC,QAAU,6DAA6D,SAAW,qCAAqC,GAAK,mCACtW,CAAE1X,GAAI,EAAG8R,KAAMvL,GAAOkR,QAAS,0BAA2BI,UAAWC,KAAKC,MAAM,OAAiBL,QAAS,CAAC,KAAO,CAAC,eAAiB,CAAC,yDAAyD,KAAO,2BAA2B,KAAO,CAAC,QAAU,6DAA6D,SAAW,qCAAqC,GAAK,oCAEjXyzC,GAAW,IACT5sD,GAAI,EAAGA,IAAK4sD,GAAU5sD,KAAK,CACjC,IAAMuT,GAAO,CAAEtL,GAAMC,GAASC,GAAOH,IAAQvD,KAAKu1B,MAAoB,EAAdv1B,KAAKooD,WAC7Dr2B,GAAS7W,KAAK,CAAEle,GAAIzB,GAAE,EAAGuT,KAAMA,GAAM2F,QAAS,aAAe3F,GAAO,WAAY+F,UAAWC,KAAKC,OAAwBozC,GAAS5sD,IAAG4sD,IAAUA,GAAS5sD,IAAG4sD,GAApD,OAA+DzzC,QAAS,CAAC,KAAO,CAAC,eAAiB,CAAC,yDAAyD,KAAO,2BAA2B,KAAO,CAAC,QAAU,6DAA6D,SAAW,qCAAqC,GAAK,oCAG1a,IAiDe2zC,GAjDI,SAACtrD,GAAW,IAE3Bg1B,EACEh1B,EADFg1B,SAF0B,EAIYzwB,mBAAS,IAJrB,mBAIpBgnD,EAJoB,KAIPC,EAJO,OAKFjnD,mBAAS,IALP,mBAKpBslB,EALoB,KAKd4hC,EALc,KAOpB1qD,EAAMD,cAANC,EACFgC,EAAU1B,KAEV4kD,EAAc,SAACqE,GAAD,OAAS,SAACvlD,GAC5B0mD,EAAQv7C,YAAQ2Z,GAAM,SAAA1Z,GAAWA,EAAMm6C,EAAIrqD,KAAOkQ,EAAMm6C,EAAIrqD,UAExDyrD,EAAmB5mD,uBAAY,WACnC0mD,EAAeD,EAAY,MAC1B,CAAEA,EAAaC,IAElB,OAAO,eAAC,EAAD,CAAO3oD,MAAO9B,EAAE,cAAhB,UACL,oBAAI4C,UAAWZ,EAAQ6nD,KAAvB,UAEGW,EAAcv2B,EAASt2B,OAASs2B,EAAShX,MAAM,EAAGutC,GAAev2B,GAAUpxB,KAAI,SAAC0mD,GAC/E,IAAIqB,EACJ,OAAOrB,EAAIv4C,MACT,KAAKpL,GACHglD,EAAO,cAAC,KAAD,CAAWhoD,UAAWkN,IAAW9N,EAAQioD,UAAWjoD,EAAQmoD,UACnE,MACF,KAAKxkD,GACHilD,EAAO,cAAC,KAAD,CAAahoD,UAAWkN,IAAW9N,EAAQsxB,YAAatxB,EAAQmoD,UACvE,MACF,KAAKzkD,GACHklD,EAAO,cAAC,KAAD,CAAUhoD,UAAWkN,IAAW9N,EAAQkoD,SAAUloD,EAAQmoD,UACjE,MACF,QACES,EAAO,KAEX,OACE,qBAAiBhoD,UAAWkN,IAAW9N,EAAQ6nC,SAAU7nC,EAAQunD,EAAIv4C,OAArE,UACG45C,EACD,cAAC,GAAD,CAAWhoD,UAAWZ,EAAQ+U,UAAWA,UAAWwyC,EAAIxyC,YAF1D,IAEuE,sBAAMnU,UAAWZ,EAAQ2U,QAAzB,SAAmC4yC,EAAI5yC,UAC1G4yC,EAAI3yC,QAAU,sBAAMhU,UAAWZ,EAAQ4nD,aAAc75C,QAASm1C,EAAYqE,GAA5D,SAAoEzgC,EAAKygC,EAAIrqD,IAAM,OAASc,EAAE,QAAUA,EAAE,QAAW,QAAiB,KACpJ8oB,EAAKygC,EAAIrqD,IAAM,cAAC,GAAD,CAAgBqqD,IAAKA,IAAS,OAJxCA,EAAIrqD,SAUnBsrD,EAAcv2B,EAASt2B,OAAS,cAACkS,EAAA,EAAD,CAAQE,QAAS46C,EAAjB,SAAoC3qD,EAAE,uBAAiC,SiB5H5FgnB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBgN,SAAUD,GAAevc,OAE3B,SAAC0P,EAAUF,GAAX,MAAyB,KAJVD,CAKXujC,ICEWM,GAPI,SAAC5rD,GAClB,OAAQ,cAACswB,EAAA,EAAD,CAAM5lB,WAAS,EAAf,SACN,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,cAAC,GAAD,SC4BSo7B,GAtBC,SAAC7rD,GAAU,IAKjBe,EAAMD,cAANC,EASR,OAAO,cAAC,EAAD,CAAO8B,MAAO9B,EAAE,iBAAhB,SANS,CACd,CAAE8B,MAAO,aAAcipD,QAAS,0EAChC,CAAEjpD,MAAO,YAAaipD,QAAS,cAC/B,CAAEjpD,MAAO,aAAcipD,QAAS,gBAItBloD,KAAI,gBAAGf,EAAH,EAAGA,MAAOipD,EAAV,EAAUA,QAAV,OACZ,8BACA,cAACl7C,EAAA,EAAD,CAAQE,QAAS,kBAAMwtC,SAASyN,eAAe,YAAYD,QAAUA,GAArE,SAAgFjpD,KADtEA,S,oBClBVxB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCyqD,gBAAiB,CACfvgD,UAAW,SAEbie,OAAQ,CACNpnB,WAAYf,EAAMQ,QAAQ,IAE5BkqD,SAAU,CACRnqD,aAAcP,EAAMQ,QAAQ,IAE9BgO,MAAO,CACL1D,WAAY9K,EAAMQ,QAAQ,GAC1BuK,cAAe/K,EAAMQ,QAAQ,QAsElBmqD,GAlEW,SAAClsD,GAAW,IAElC2V,EAME3V,EANF2V,OACAC,EAKE5V,EALF4V,KACAC,EAIE7V,EAJF6V,KACAC,EAGE9V,EAHF8V,SACAC,EAEE/V,EAFF+V,UACAo2C,EACEnsD,EADFmsD,SAEIppD,EAAU1B,KACRN,EAAMD,cAANC,EAEFqrD,EAAY1+C,iBAAO,MACnB2+C,EAAU3+C,iBAAO,MACjB4+C,EAAU5+C,iBAAO,MACjB6+C,EAAc7+C,iBAAO,MAfQ,EAiBSnJ,mBAASwR,GAjBlB,mBAiB3By2C,EAjB2B,KAiBZC,EAjBY,KAmB7BC,EAAc5nD,uBAAY,WAC9BsnD,EAAUv+C,QAAQzJ,MAAQuR,EAC1B02C,EAAQx+C,QAAQzJ,MAAQwR,EACxB02C,EAAQz+C,QAAQzJ,MAAQyR,EACxB02C,EAAY1+C,QAAQzJ,MAAQ0R,EAC5B22C,EAAiB12C,KAChB,CAAEJ,EAAQC,EAAMC,EAAMC,EAAUC,EAAWq2C,EAAWC,EAASC,EAASC,EAAaE,IAElFE,EAAe7nD,uBAAY,WAC5BqnD,GACDA,EAASC,EAAUv+C,QAAQzJ,MAClBioD,EAAQx+C,QAAQzJ,MAChBkoD,EAAQz+C,QAAQzJ,MAChBmoD,EAAY1+C,QAAQzJ,MACpBooD,KAEV,CAAEL,EAAUC,EAAWC,EAASC,EAASC,EAAaC,IAEnDI,EAAkB9nD,uBAAY,SAACC,EAAG2nC,GACtC+f,EAAiB/f,KAChB,CAAE+f,IAEL,OAAO,cAAC,EAAD,CAAO5pD,MAAO9B,EAAE,aAAhB,SACL,iCACE,cAACsE,EAAA,EAAD,CAAWmlB,aAAc,oBAAqBznB,QAAU,CAAEmB,KAAMnB,EAAQkpD,UAAYn8C,WAAa,CAAE/M,QAAS,CAAEgN,MAAOhN,EAAQgN,QAAYlN,MAAO9B,EAAE,UAAW2pB,aAAc/U,EAAQ/F,QAAQ,WAAWD,WAAS,EAACi9B,SAAUwf,IAAY,uBACtO,cAAC/mD,EAAA,EAAD,CAAWmlB,aAAc,kBAAmBznB,QAAU,CAAEmB,KAAMnB,EAAQkpD,UAAan8C,WAAa,CAAE/M,QAAS,CAAEgN,MAAOhN,EAAQgN,QAAYlN,MAAO9B,EAAE,QAAS2pB,aAAc9U,EAAMhG,QAAQ,WAAWD,WAAS,EAACi9B,SAAUyf,IAAU,uBAC/N,cAAChnD,EAAA,EAAD,CAAWmlB,aAAc,kBAAmBznB,QAAU,CAAEmB,KAAMnB,EAAQkpD,UAAan8C,WAAa,CAAE/M,QAAS,CAAEgN,MAAOhN,EAAQgN,QAAYlN,MAAO9B,EAAE,YAAa2pB,aAAc7U,EAAMjG,QAAQ,WAAWD,WAAS,EAACi9B,SAAU0f,IAAU,uBACnO,cAACjnD,EAAA,EAAD,CAAWmlB,aAAc,sBAAuB1a,WAAa,CAAE/M,QAAS,CAAEgN,MAAOhN,EAAQgN,QAAYgC,KAAK,WAAWlP,MAAO9B,EAAE,YAAa2pB,aAAc5U,EAAUlG,QAAQ,WAAWD,WAAS,EAACi9B,SAAU2f,IAC1M,cAACM,GAAA,EAAD,CAAWzhD,KAAG,EAAd,SACE,cAAC0hD,GAAA,EAAD,CACEC,QAAS,cAACpsB,GAAA,EAAD,CAAQN,QAASmsB,EAAenoD,SAAUuoD,IACnD/pD,MAAO9B,EAAE,0BAEb,sBAAK4C,UAAWZ,EAAQipD,gBAAxB,UACA,cAACp7C,EAAA,EAAD,CAAQjE,MAAM,YACNiD,QAAQ,YACR7M,QAAU,CAAEmB,KAAMnB,EAAQ2mB,QAC1B5Y,QAAS47C,EAHjB,SAG+B3rD,EAAE,WACjC,cAAC6P,EAAA,EAAD,CAAQjE,MAAM,UACNiD,QAAQ,YACR7M,QAAU,CAAEmB,KAAMnB,EAAQ2mB,QAC1B5Y,QAAS67C,EAHjB,SAGgC5rD,EAAE,qBClFzBgnB,sBACf,SAACvP,EAAOwP,GAAc,IAAD,EAOftP,GAAgBF,GACpB,MAAO,CAAE7C,OARU,EAEjBA,OAMeC,KARE,EAGjBA,KAKqBC,KARJ,EAIjBA,KAI2BC,SARV,EAKjBA,SAGqCC,UARpB,EAMjBA,cAIJ,SAACmS,EAAUF,GAAX,MAAyB,CACvBmkC,SAAU,SAACx2C,EAAQC,EAAMC,EAAMC,EAAUC,GACvCmS,EAASE,GAAQ4kC,qBAAqBr3C,EAAQC,EAAMC,EAAMC,EAAUC,QAbzDgS,CAeXmkC,I,oBCVE7qD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC0rD,YAAa,GAEblsB,OAAQ,CACNsX,UAAW92C,EAAMQ,QAAQ,GACzBO,WAAYf,EAAMQ,QAAQ,QAIxBob,GAAY,CAChB,GAAM,UACN,GAAM,aACN,GAAM,WACN,GAAM,qBACN,GAAM,WAyEO+vC,GAtEE,SAACltD,GAAW,IAIzBkB,EAEElB,EAFFkB,QACAisD,EACEntD,EADFmtD,gBAGIpqD,EAAU1B,KARU,EASNP,cAAZC,EATkB,EASlBA,EAAGC,EATe,EASfA,KAWLosD,EAAgB,SAACC,GACrBF,EAAgBE,IAGZC,EAAoBjvD,OAAOgB,KAAK8d,IAAWvZ,KAC/C,SAACsa,GAAD,OACE,cAAC4R,EAAA,EAAD,CAEC1rB,MAAO+Y,GAAUe,GACjBpN,QAAS,WAdS,IAACy8C,IAcYrvC,EAblCld,EAAKwsD,eAAeD,IAUlB,SAKGpwC,GAAUe,IAJPA,MASV,OAAO,eAAC,EAAD,CAAOrb,MAAO9B,EAAE,YAAhB,UACL,eAAC0sD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,yBAAf,SAAyCc,EAAE,cAC3C,cAACogC,GAAA,EAAD,CACE0D,QAAQ,yBACRzgC,MA7BG+Y,GAAUnc,EAAKoc,UA8BlBzZ,UAAWZ,EAAQg+B,OAHrB,SAKGusB,OAGL,eAACG,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,gBAAf,SAAgCc,EAAE,aAClC,eAACogC,GAAA,EAAD,CACE0D,QAAQ,gBACRzgC,MAAOlD,EACPyC,UAAWZ,EAAQg+B,OAHrB,UAKE,cAACjR,EAAA,EAAD,CACE1rB,MAAM,WACN0M,QAAS,WAAOs8C,EAAc,aAFhC,SAIGrsD,EAAE,cAEL,cAAC+uB,EAAA,EAAD,CACE1rB,MAAM,YACN0M,QAAS,WAAOs8C,EAAc,cAFhC,SAIGrsD,EAAE,yBCrFEgnB,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL5K,SAAU+X,GAAe3c,GACzBtX,QAASk0B,GAAc5c,OAG3B,SAAC0P,EAAUF,GAAX,MAAyB,CACvB2lC,iBAAkB,SAACzvC,GACjBgK,EAAU8X,GAAawtB,eAAetvC,KAExCivC,gBAAiB,SAACjvC,GAChBgK,EAAU8X,GAAaotB,cAAclvC,QAZ1B6J,CAcXmlC,ICPE7rD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC0rD,YAAa,CACXhhD,YAAa1K,EAAMQ,QAAQ,QAuGhB6rD,GAnGD,SAAC5tD,GAAW,IAEtBkK,EAEElK,EAFFkK,aACA2jD,EACE7tD,EADF6tD,kBAGM9sD,EAAMD,cAANC,EACFgC,EAAU1B,KACV2D,EAAe,SAACD,EAAGsE,GACvB,IAAMykD,EAAkB59C,YAAQhG,GAAc,SAACiG,GAC7CA,EAAM9G,GAAYtE,EAAExG,OAAO6F,SAE7BypD,EAAkBC,IA0BpB,OAAO,eAAC,EAAD,CAAOjrD,MAAO9B,EAAE,SAAhB,UACL,eAAC0sD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,eAAf,SAA+Bc,EAAE,iBACjC,eAACogC,GAAA,EAAD,CACE0D,QAAQ,eACR5kC,GAAG,gBACHmE,MAAO8F,EAAaxL,OACpB2F,SA/ByB,SAACU,GAC9B,IAAM+oD,EAAkB59C,YAAQhG,GAAc,SAACiG,GAC7CA,EAAMzR,OAASqG,EAAExG,OAAO6F,MACxB+L,EAAMkS,eAAiBtd,EAAExG,OAAO6F,MAAQ,IAAM8F,EAAauY,QAE7DorC,EAAkBC,IAsBhB,UAKE,cAACh+B,EAAA,EAAD,CAAU1rB,MAAO,KAAjB,SAAyB,OACzB,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,KAAjB,SAAyB,OACzB,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,KAAjB,SAAwBrD,EAAE,wBAG9B,eAAC0sD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,aAAf,SAA6Bc,EAAE,UAC/B,eAACogC,GAAA,EAAD,CACE0D,QAAQ,aACR5kC,GAAG,cACHmE,MAAO8F,EAAauY,KACpBpe,SApCuB,SAACU,GAC5B,IAAMgpD,EAAyB7jD,EAAaxL,OAAS,IAAMqG,EAAExG,OAAO6F,MAC9D4pD,EAA0B9jD,EAAalH,MAAQ,IAAM+B,EAAExG,OAAO6F,MAC9D0pD,EAAkB59C,YAAQhG,GAAc,SAACiG,GAC7CA,EAAMsS,KAAO1d,EAAExG,OAAO6F,MACtB+L,EAAMkS,eAAiB0rC,EACvB59C,EAAMiS,gBAAkB4rC,KAE1BH,EAAkBC,IAwBhB,UAKE,cAACh+B,EAAA,EAAD,CAAU1rB,MAAM,IAAhB,SAAsB,MACtB,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,MAAjB,SAA0B,cAG9B,eAACqpD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAav+C,MAAO,CAACG,SAAU,KAA/D,UACE,cAAC6+C,GAAA,EAAD,CAAYztD,GAAG,qBAAf,SAAqCc,EAAE,kBACvC,eAACogC,GAAA,EAAD,CACE0D,QAAQ,qBACR5kC,GAAG,sBACHmE,MAAO8F,EAAaqY,aACpBle,SArC+B,SAACU,GACpC,IAAM+oD,EAAkB59C,YAAQhG,GAAc,SAACiG,GAC7CA,EAAMoS,aAAexd,EAAExG,OAAO6F,SAEhCypD,EAAkBC,IA6BhB,UAKE,cAACh+B,EAAA,EAAD,CAAU1rB,MAAO,SAAjB,SAA6B,WAC7B,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,SAAjB,SAA6B,WAC7B,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,QAAjB,SAA4B,UAC5B,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAO,SAAjB,SAA6B,iBAGjC,eAACqpD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,iBAAf,SAAiCc,EAAE,cACnC,eAACogC,GAAA,EAAD,CACE0D,QAAQ,iBACR5kC,GAAG,kBACHmE,MAAO8F,EAAaoY,SACpBje,SAAU,SAACU,GAAQC,EAAaD,EAAG,aAJrC,UAKE,cAAC+qB,EAAA,EAAD,CAAU1rB,MAAM,MAAhB,SAAuBrD,EAAE,SACzB,cAAC+uB,EAAA,EAAD,CAAU1rB,MAAO,MAAjB,SAAyBrD,EAAE,eAG/B,eAAC0sD,GAAA,EAAD,CAAa9pD,UAAWZ,EAAQkqD,YAAhC,UACE,cAACS,GAAA,EAAD,CAAYztD,GAAG,oBAAf,SAAoCc,EAAE,iBACtC,eAACogC,GAAA,EAAD,CACE0D,QAAQ,oBACR5kC,GAAG,qBACHmE,MAAO8F,EAAasY,YACpBne,SAAU,SAACU,GAAQC,EAAaD,EAAG,gBAJrC,UAKE,cAAC+qB,EAAA,EAAD,CAAU1rB,MAAM,IAAhB,SAAqB,MACrB,cAAC0rB,EAAA,EAAD,CAAU1rB,MAAM,IAAhB,SAAqB,gBC5Gd2jB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpB9d,aAAciY,GAAmB3J,OAEnC,SAAC0P,EAAUF,GAAX,MAAyB,CACvB6lC,kBAAmB,SAACC,GAClB5lC,EAAUE,GAAQlU,cAAc+5C,gBAAgBH,IAChD5lC,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,eAAgBs8C,UAPtD/lC,CASX6lC,ICYEM,GAAgB5sD,aAAW,SAACC,GAAD,MAAY,CAC3CsJ,KAAM,CACJY,UAAW,SACXwgB,WAAY,OACZvf,gBAAiBnL,EAAMY,QAAQwjC,UAAU95B,KACzCG,QAAS,GAEXZ,IAAK,CACHuwB,WAAY,YAIVwyB,GAAa,SAACnuD,GAAW,IAE3BoC,EACEpC,EADFoC,KAGIW,EAAUmrD,KAEhB,OAAO,cAACppB,GAAA,EAAD,CAAUnhC,UAAWZ,EAAQqI,IAA7B,SACL,cAAC+5B,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQ8H,KAAMujD,QAAS,EAA7C,SAAiDhsD,OAI/Cf,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8sD,KAAM,CACJpiC,WAAY,QAEdqiC,eAAgB,CACd3jB,UAAW,KAEb4jB,eAAgB,CACd5yB,WAAY,OACZ95B,OAAQ,GACRU,MAAO,GACPkJ,UAAW,SACXwgB,WAAY,OACZjgB,QAAS,OAyLEwiD,GArLiB,SAACxuD,GAAW,IAExCqjB,EASErjB,EATFqjB,UACAiC,EAQEtlB,EARFslB,QACAhC,EAOEtjB,EAPFsjB,aACAU,EAMEhkB,EANFgkB,uBACAG,EAKEnkB,EALFmkB,eACA4iB,EAIE/mC,EAJF+mC,aACA0nB,EAGEzuD,EAHFyuD,WAEA1gB,EACE/tC,EADF+tC,kBAGIhrC,EAAU1B,KAbyB,EAcakD,mBAAS,CAACslB,MAAM,EAAO0d,SAAU,KAAM3oC,IAAK,GAAIwF,MAAO,GAAIu9B,eAAe,EAAOC,eAAe,IAd7G,mBAcjC4F,EAdiC,KAcbC,EAda,KAejC1mC,EAAMD,IAANC,EACF2tD,EAA0B,SAACjmB,GAC/BhB,EAAsB,2BAAIgB,GAAL,IAAqB5e,MAAM,MAW5C8kC,EAAyB,SAACpnB,EAAU3oC,GACxC,IAAMgwD,EAAe1+C,YAAQmT,GAAW,SAAClT,GAAYA,EAAMo3B,GAAU3oC,GAAO,MAC5EmvC,EAAkB6gB,IAGpB,OAAO,eAAC,EAAD,CAAO/rD,MAAM,cAAb,UACL,cAAC8kC,GAAA,EAAD,CAAgBtB,UAAWriC,IAAOL,UAAWZ,EAAQurD,eAArD,SACE,eAAC1mB,GAAA,EAAD,CAAOE,cAAY,EAACxB,aAAW,eAA/B,UACE,cAACyB,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAYpkC,EAAE,aACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,gBACd,cAACokC,GAAA,EAAD,SAGJ,eAACT,GAAA,EAAD,WAEE,cAAC,GAAD,CAAYtiC,KAAMrB,EAAE,uBAAwB4C,UAAWZ,EAAQwrD,iBAC9DE,GAAcpwD,OAAOgB,KAAKwJ,GAAUC,iBAAiBlF,KAAI,SAAAhF,GACxD,IAAIirC,EACJ,GAAGjrC,EAAImL,WAAW,UAAU,CAC1B,IAAI0kD,EAAWnkD,SAAS1L,EAAIof,OAAO,IACjC,OAAO,KAET6rB,EAAc9oC,EAAE,cAAgB,IAAMA,EAAEnC,EAAIof,OAAO,SAEnD6rB,EADQjrC,EAAImL,WAAW,OACThJ,EAAE,OAAS,IAAMnC,EAAIof,OAAO,GAG5Bjd,EAAEnC,GAElB,OACA,eAACkmC,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAY0E,IACZ,cAAC1E,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQsrD,KAA9B,SAAqCrqC,EAAuBplB,KAC5D,cAACumC,GAAA,EAAD,UACE,eAACI,GAAA,EAAD,WACE,cAACv0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,wBAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQ3Q,GAAI,QAAUrB,EAAKgR,QAAQ,WAAWkB,QAAS,kBAAM49C,EAAwB,CAAE5uD,MAAOiB,EAAEnC,GAAMA,IAAKA,EAAKwF,MAAOkf,EAAa1kB,GAAM2oC,SAAU,gBAAiB5F,eAAe,EAAOC,eAAe,KAA1M,SACE,cAAC,KAAD,QAGL5d,EAAuBplB,IACtB,cAACoS,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM69C,EAAuB,gBAAiB/vD,IAAlF,SACE,cAAC,KAAD,eAbKA,MAuBjB,cAAC,GAAD,CAAYwD,KAAMrB,EAAE,WAAY4C,UAAWZ,EAAQwrD,iBAClDlwD,OAAOgB,KAAKwJ,GAAUG,eAAepF,KAAI,SAAAhF,GACxC,OACA,eAACkmC,GAAA,EAAD,WACE,eAACK,GAAA,EAAD,WAAYpkC,EAAEnC,EAAM,eACT,eAARA,GAAwB,cAACoS,EAAA,EAAD,CAASlR,MAAOiB,EAAE,yBAAlB,SAA4C,cAAC,KAAD,SAEvE,cAACokC,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQsrD,KAA9B,SAAqC/qC,EAAa1kB,KAClD,cAACumC,GAAA,EAAD,UACE,eAACI,GAAA,EAAD,WACE,cAACv0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,wBAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM49C,EAAwB,CAAE5uD,MAAOiB,EAAEnC,EAAM,eAAgBA,IAAKA,EAAKwF,MAAOkf,EAAa1kB,GAAM2oC,SAAU,eAAgB5F,eAAe,EAAMC,eAAe,KAArM,SACE,cAAC,KAAD,QAGLte,EAAa1kB,IACZ,cAACoS,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM69C,EAAuB,eAAgB/vD,IAAjF,SACE,cAAC,KAAD,eAfKA,MAwBhB6vD,GAAcpwD,OAAOgB,KAAKwJ,GAAUI,KAAKrF,KAAI,SAAAhF,GAC5C,OAAmC,IAAhC6vD,EAAWnvD,QAAQV,EAAI,IAExB,eAACkmC,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAYpkC,EAAE,OAAS,IAAMnC,EAAIof,MAAM,KACvC,cAACmnB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQsrD,KAA9B,SAAqC/oC,EAAQ1mB,KAC7C,cAACumC,GAAA,EAAD,UACE,eAACI,GAAA,EAAD,WACE,cAACv0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,wBAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM49C,EAAwB,CAAE5uD,MAAOiB,EAAE,OAAS,IAAMnC,EAAIof,MAAM,GAAIpf,IAAKA,EAAKwF,MAAOkhB,EAAQ1mB,GAAM2oC,SAAU,MAAO5F,eAAe,EAAOC,eAAe,KAA/L,SACE,cAAC,KAAD,QAGLtc,EAAQ1mB,IACP,cAACoS,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM69C,EAAuB,MAAO/vD,IAAxE,SACE,cAAC,KAAD,eAbKA,GAsBL,QAEd,cAAC,GAAD,CAAYwD,KAAMrB,EAAE,SAAU4C,UAAWZ,EAAQwrD,iBAChDlwD,OAAOgB,KAAKwJ,GAAUE,OAAOnF,KAAI,SAAAhF,GAChC,OACA,eAACkmC,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAYpkC,EAAEnC,KACd,cAACumC,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQsrD,KAA9B,SAAqClqC,EAAevlB,KACpD,cAACumC,GAAA,EAAD,UACE,eAACI,GAAA,EAAD,WACE,cAACv0B,EAAA,EAAD,CAASlR,MAAOiB,EAAE,wBAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM49C,EAAwB,CAAC5uD,MAAOiB,EAAEnC,GAAMA,IAAKA,EAAKwF,MAAO+f,EAAevlB,GAAM2oC,SAAU,QAASsnB,cAAc,EAAOjtB,eAAe,KAA/K,SACE,cAAC,KAAD,QAGLzd,EAAevlB,IACd,cAACoS,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQhB,QAAQ,WAAWkB,QAAS,kBAAM69C,EAAuB,QAAS/vD,IAA1E,SACE,cAAC,KAAD,eAbKA,cAyBvB,cAAC,GAAD,CACEirB,KAAM2d,EAAmB3d,KAEzBzlB,MAAOojC,EAAmBpjC,MAC1Bu9B,cAAe6F,EAAmB7F,cAClCC,cAAe4F,EAAmB5F,cAClCC,aAAc,IAAIt5B,IAAIlK,OAAOqb,OAAO4L,IACpCwc,qBAAsB,IAAIv5B,IAAIlK,OAAOgB,KAAK0nC,GAAcje,OAAOzqB,OAAOqb,OAAO4J,KAC7Ehf,SA1J8B,SAACqkC,GACjC,IAAMimB,EAAe1+C,YAAQmT,GAAW,SAAClT,GACvCA,EAAMq3B,EAAmBD,UAAYp3B,EAAMq3B,EAAmBD,WAAa,GAC3Ep3B,EAAMq3B,EAAmBD,UAAUC,EAAmB5oC,KAAO+pC,KAE/DoF,EAAkB6gB,GAElBnnB,EAAsB,2BAAID,GAAL,IAAyB3d,MAAM,MAoJlDC,QAAS,WAAQ2d,EAAsB,2BAAID,GAAL,IAAyB3d,MAAM,MACrE/pB,MAAOiB,EAAE,cAAgB,KAAOA,EAAEymC,EAAmB1nC,OACrDkqB,eAAgBjpB,EAAE,OAClBkpB,eAAgBlpB,EAAE,WAVbymC,EAAmB5oC,SC9NfmpB,sBACb,SAACvP,EAAOwP,GACN,MAAO,CACL3E,UAAWH,GAAwB1K,GACnCwL,uBAAwBP,GAAqCjL,GAC7D8K,aAAcF,GAAoC5K,GAClD8M,QAAS/B,GAA2B/K,GACpC2L,eAAgBR,GAA6BnL,GAC7CuuB,aAAc1hB,GAA2B7M,GACzCi2C,WAAYpyC,GAAsB7D,OAGtC,SAAC0P,EAAUF,GAAX,MAAyB,CACvB+lB,kBAAmB,SAAC1qB,GAClB6E,EAAUwM,GAAkB7iB,IAAIkX,iBAAkB,CAAEvX,KAAM,CAAE,oBAAqB6R,UAdxE0E,CAiBbymC,I,UCFaM,GAhBG,SAAC9uD,GACjB,OAAQ,eAACswB,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACN,eAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAA9B,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACEq+B,YAAY,cAAC,GAAD,IAAa,QAE7B,cAACz+B,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,EAA9B,SACE,cAAC,GAAD,MAEF,cAACJ,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIC,GAAI,EAAG8Q,GAAI,EAA9B,SACE,cAAC,GAAD,U,0CCSAngC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,CACN5nB,aAAcP,EAAMQ,QAAQ,GAC5BkK,YAAa1K,EAAMQ,QAAQ,IAE7BitD,QAAQ,aACNntD,OAAQ,KACPN,EAAMsqB,YAAYG,GAAG,MAAQ,CAC5BnqB,OAAQ,IACRG,QAAS,SAGbitD,UAAW,CACTrkD,SAAU,SACV5I,QAAS,OACTH,OAAQ,KAEVqtD,aAAc,CACZjiC,qBAAsB,EACtBC,wBAAyB,EACzBrrB,OAAQ,GACRC,aAAcP,EAAMQ,QAAQ,GAC5BulD,YAAa,GAEf6H,YAAa,CACXnjD,QAAS,IAEXojD,gBAAiB,CACfrjD,YAAa,gBACbgf,oBAAqB,EACrBC,uBAAwB,EACxBnpB,OAAQ,GACRoK,YAAa1K,EAAMQ,QAAQ,IAE7BstD,oBAAqB,CACnBrtD,QAAS,OACT8oB,MAAO,QACP/f,eAAgB,SAChB4e,OAAQpoB,EAAMQ,QAAQ,IAExBwkC,MAAO,CACL+oB,YAAa,QACb1kD,SAAU,UAEZ2kD,kBAAmB,CACjB7iD,gBAAiBnL,EAAMY,QAAQ2mC,OAAO/D,OAExCyqB,gBAAiB,CACfjtD,MAAO,IAETiqB,UAAW,CACT5hB,SAAU,SACVu6C,aAAc,YAEhBmJ,eAAgB,CACd3jB,UAAW,KAEbD,aAAc,CACZC,UAAW,IACX/+B,OAAQ,EACRygB,YAAa,QACbD,YAAa7qB,EAAMY,QAAQgK,KAAK,MAElCsjD,KAAM,CACJnI,YAAY,aAAD,OAAe/lD,EAAMY,QAAQutD,SACxCC,WAAY,GAEdC,QAAS,CACPhkD,OAAQ,EACRygB,YAAa,QACbD,YAAa7qB,EAAMY,QAAQgK,KAAK,UAI9B0jD,GAAa,SAAC7vD,GAAW,IAE3B+C,EASE/C,EATF+C,QACA+sD,EAQE9vD,EARF8vD,UACA1gD,EAOEpP,EAPFoP,MACA2gD,EAME/vD,EANF+vD,SACAr2C,EAKE1Z,EALF0Z,OAEArV,EAGErE,EAHFqE,SACA0hC,EAEE/lC,EAFF+lC,SACGniB,EAVuB,aAWxB5jB,EAXwB,2EAatBgwD,EAAoB,SAACC,EAAO7rD,GAChC,GAAGC,EAAS,CACV,IAAM6rD,EAAYhgD,YAAQwJ,GAAQ,SAACvJ,GAAWA,EAAM8/C,GAAS7rD,KAC7DC,EAAS+K,EAAO8gD,KAOpB,OACE,eAACprB,GAAA,EAAD,yBAA2Bp2B,MAAOqhD,GAAcnsC,GAAhD,cACE,cAACuhB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAAW9d,MAAO,CAACE,SAAU,GAA3D,SACE,cAAC,EAAD,CACEa,UAAWqgD,EACX1rD,MAAOsV,EAAOxI,KACd7M,SAAU,SAAC8rD,GAAaH,EAAkB,OAAQG,QAGtD,cAAChrB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SACE,cAAC,EAAD,CACE/c,UAAWqgD,EACX1rD,MAAOsV,EAAOtV,MACdC,SAAU,SAAC8rD,GAAcH,EAAkB,QAASG,QAGxD,cAAChrB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SACE,cAAC,EAAD,CACE/c,UAAWqgD,EACX1rD,MAAOsV,EAAO02C,QACd/rD,SAAU,SAAC8rD,GAAcH,EAAkB,UAAWG,QAG1D,cAAChrB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SACE,cAAC,EAAD,CACE/c,UAAWqgD,EACX1rD,MAAOsV,EAAO22C,KACdhsD,SAAU,SAAC8rD,GAAcH,EAAkB,OAAQG,QAGtDL,GACC,cAAC3qB,GAAA,EAAD,CAAWz2B,MAAO,CAACE,SAAU,GAA7B,SACE,cAACsvB,GAAA,EAAD,CAAYptB,QApCC,WACnBi1B,EAASrsB,EAAO9a,MAmCV,SAAmC,cAAC,KAAD,WA/B1B8a,EAAO9a,MAsCpB0xD,GAAsB,SAACtwD,GAAW,IAEpCoE,EAMEpE,EANFoE,MACAgL,EAKEpP,EALFoP,MACA0gD,EAIE9vD,EAJF8vD,UACAS,EAGEvwD,EAHFuwD,YACAC,EAEExwD,EAFFwwD,OACAnsD,EACErE,EADFqE,SAEMtD,EAAMD,IAANC,EACFgC,EAAU1B,KACVovD,EAAW/iD,mBACXgjD,EAAehjD,mBACfijD,EAAUjjD,mBAMVkjD,EAAwB,SAACC,GAC7B,IAAMC,EAAY5gD,YAAQsgD,GAAQ,SAACrgD,UAAmBA,EAAM0gD,MAC5DxsD,EAASksD,EAAaO,IAElBC,EAAoB,SAACC,EAAcC,GACvC,IAAMC,EAAgBhhD,YAAQsgD,GAAQ,SAACrgD,GAAYA,EAAM8gD,EAAaryD,KAAOqyD,KAC7E5sD,EAASksD,EAAaW,IAGxB,OACE,cAAC,GAAD,CAA4B9sD,MAAOA,EAAOgL,MAAOA,EAAjD,SACE,cAACu4B,GAAA,EAAD,CAAgBtB,UAAWriC,IAAOL,UAAWZ,EAAQurD,eAAgBluD,IAAKswD,EAA1E,SACE,eAAC9oB,GAAA,EAAD,CAAOE,cAAY,EAACnkC,UAAWZ,EAAQwjC,MAAOD,aAAW,eAAermC,GAAG,OAAOG,IAAKqwD,EAAvF,UACE,cAAC1oB,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,CAAWz2B,MAAO,CAACE,SAAU,GAA7B,SAAkC7N,EAAE,UACpC,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,WACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,aACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,UACb+uD,GAAc,cAAC3qB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQysD,uBAGjD,eAAC9qB,GAAA,EAAD,CAAWtkC,IAAKuwD,EAAhB,UAEEtyD,OAAOgB,KAAKmxD,GAAQzzC,OAAOnZ,KAAI,SAAChF,EAAK6a,GACnC,OACE,cAAC,GAAD,CAEErK,MAAOqK,EACPC,OAAM,2BAAM82C,EAAO5xD,IAAb,IAAmBA,IAAKA,IAC9BmE,QAASA,EACT+sD,UAAWA,EACXzrD,SAAU0sD,EACVhrB,SAAU6qB,GANLhyD,MAWXkxD,GACA,cAAChrB,GAAA,EAAD,UACE,cAACK,GAAA,EAAD,CAAWz2B,MAAO,CAAC7M,OAAQ,EAAGmK,QAAS,EAAGJ,OAAQ,GAAlD,SACE,cAACsyB,GAAA,EAAD,CAAYptB,QA7CC,SAACqgD,EAAQC,GAClC,IAAMF,EAAgBhhD,YAAQsgD,GAAQ,SAACrgD,GAAYA,EAAM,MAAQ4H,KAAKC,OAAS,CAAE9G,KAAM,GAAIk/C,QAAS,GAAIhsD,MAAO,GAAIisD,KAAM,GAAI/vD,QAASiwD,MACtIlsD,EAASksD,EAAaW,IA2CV,SACE,cAAC,KAAD,SAHS,gBA7BRX,IA6Cbc,GAAe,SAACrxD,GAAW,IAE7B8vD,EAeE9vD,EAfF8vD,UACAwB,EAcEtxD,EAdFsxD,cACAC,EAaEvxD,EAbFuxD,YAEAntD,GAWEpE,EAZF8C,SAYE9C,EAXFoE,OACAgL,EAUEpP,EAVFoP,MAEAoiD,GAQExxD,EATFoqC,EASEpqC,EARFwxD,UACAC,EAOEzxD,EAPFyxD,gBACAC,EAME1xD,EANF0xD,gBACAC,EAKE3xD,EALF2xD,iBACAC,EAIE5xD,EAJF4xD,aACAC,EAGE7xD,EAHF6xD,OACAxtD,EAEErE,EAFFqE,SACGuf,EAhByB,aAiB1B5jB,EAjB0B,iLAkBxBuB,EAAQ62B,eACRr1B,EAAU1B,KAnBc,EAqBEkD,mBAAS,GArBX,mBAqBvB2gC,EArBuB,KAqBb2G,EArBa,OAsB0BtnC,oBAAS,GAtBnC,mBAsBvButD,EAtBuB,KAsBDC,EAtBC,KAuBxBC,EAAiBlC,EAAYwB,EAAgBC,EAE7C9kB,EAAmB3nC,uBAAY,SAACmK,EAAOgjD,GAC3CpmB,EAAYomB,KACZ,CAACpmB,IAKGqmB,EAAsB,SAAC3B,EAAa4B,GACxC,IAAMC,EAAaliD,YAAQohD,GAAe,SAACnhD,GAEzC,OADAA,EAAMogD,GAAe4B,EACdhiD,KAET9L,EAAS+tD,IAMX,OACE,6CACEptB,KAAK,WACLqF,OAAQjmC,IAAUgL,EAClBnP,GAAE,0BAAqBmP,GACvBy4B,kBAAA,qBAA+Bz4B,IAC3BwU,GALN,aAOGxf,IAAUgL,GACT,qCACE,eAAC3L,EAAA,EAAD,CAAKmI,OAAQ,EAAGwgB,YAAa7qB,EAAMY,QAAQgK,KAAK,KAAMxI,UAAWZ,EAAQisD,QAAzE,UACA,sBAAKrrD,UAAWZ,EAAQ0sD,KAAxB,UAEAK,EACA,qBAAKphD,MAAO,CAAC1M,QAAS,OAAQ+I,eAAgB,SAAU4e,OAAQpoB,EAAMQ,QAAQ,IAA9E,SAEE,eAACwjC,GAAA,EAAD,CAAa91B,UAAWqgD,EAAxB,UACE,cAACl/C,EAAA,EAAD,CACEjE,MAAM,UACNiD,QAAS,WACTkB,QAAS,kBAAMihD,GAAwB,IAAOlvD,MAAO,UAHvD,SAKE,cAAC,KAAD,MAEF,cAAC+N,EAAA,EAAD,CACEjE,MAAM,UACNiD,QAAS,WACTkB,QA9Bc,WAAQ4gD,EAAgBrzD,OAAOgB,KAAK2yD,GAAgBj1C,OAAOmoB,KA8B3CriC,MAAO,UAHvC,SAKE,cAAC,KAAD,WAGK,GAET,cAAC,KAAD,CACEc,UAAWZ,EAAQ0sD,KACnB/gD,MAAO8iD,EAAW,GAAK,CAAE3vD,OAASiuD,EAAY,IAAM,KACpD1rD,MAAO8gC,EAAW7mC,OAAOgB,KAAK2yD,GAAgBtzD,OAASwmC,EAAW,EAClE7gC,SAAUooC,EACV3U,YAAa05B,EAAW,aAAe,WACvC5hD,QAAQ,aACRyiD,cAAc,MAPhB,SASIL,EAAiB3zD,OAAOgB,KAAK2yD,GAAgBj1C,OAAOnZ,KAAI,SAAC2sD,EAAa92C,GACpE,OAAQ,cAACszB,GAAA,EAAD,aAAelqC,MAAO0tD,GAAiBjmB,GAAU7wB,IAAvCA,MACf,QAMPu4C,EACE3zD,OAAOgB,KAAK2yD,GAAgBj1C,OAAOnZ,KAAI,SAAC2sD,EAAa92C,GACnD,OACE,cAAC,GAAD,CAEErV,MAAO8gC,EACP91B,MAAOqK,EACPq2C,UAAWA,EACXS,YAAaA,EACbC,OAAQwB,EAAezB,GACvBlsD,SAAU6tD,GANLz4C,MAUR,MAGT,qBAAK9V,UAAWZ,EAAQssD,oBAAxB,SAEES,EACE,eAACvqB,GAAA,EAAD,CAAax0B,KAAK,QAAlB,UACE,cAACC,EAAA,EAAD,CAASlR,MAAO,yBAAhB,SACE,cAAC8Q,EAAA,EAAD,CAAQE,QA3EL,WAAQ+gD,EAAOG,IA2ElB,oBAEF,cAAChhD,EAAA,EAAD,CAASlR,MAAO,kBAAhB,SACI,cAAC8Q,EAAA,EAAD,CAAQE,QAAS6gD,EAAjB,0BAIN,cAACpsB,GAAA,EAAD,CAAcx0B,KAAK,QAAnB,SACE,cAACC,EAAA,EAAD,CAASlR,MAAO,yBAAhB,SACE,cAAC8Q,EAAA,EAAD,CACEE,QAvFU,WAAO2gD,EAAgBF,IAsFnC,gCAQR,cAAC,GAAD,CACE1nC,KAAMioC,EACN1tD,MAAO,GACPE,SA5Ge,SAACguD,GACxBV,EAAaN,EAAegB,GAC5BP,GAAwB,IA2GhBjoC,QAAS,WAAQioC,GAAwB,IACzCjyD,MAAO,cACPiqB,eAAgB,eAChBC,eAAgB,MAChBC,eAAe,kBAQrBsoC,GAAW,SAACvyD,GAAW,IAEzBsZ,EAQEtZ,EARFsZ,IACAk4C,EAOExxD,EAPFwxD,SAGAptD,GAIEpE,EALF8C,SAKE9C,EAJFoE,OACAgL,EAGEpP,EAHFoP,MAEGwU,GACD5jB,EAFFoqC,EARwB,aAUtBpqC,EAVsB,oDAWlBe,EAAMD,IAANC,EACFgC,EAAU1B,KAZU,EAcMkD,mBAAS,GAdf,mBAcnB2gC,EAdmB,KAcT2G,EAdS,KAepBY,EAAmB3nC,uBAAY,SAACmK,EAAOgjD,GAC3CpmB,EAAYomB,KACZ,CAACpmB,IAEG2mB,EAASl5C,EAEf,OACE,6CACE0rB,KAAK,WACLqF,OAAQjmC,IAAUgL,EAClBnP,GAAE,0BAAqBmP,GACvBy4B,kBAAA,qBAA+Bz4B,IAC3BwU,GALN,aAOGxf,IAAUgL,GACT,mCACE,eAAC3L,EAAA,EAAD,CAAKE,UAAWZ,EAAQisD,QAAxB,UACE,cAAC,KAAD,CACE5qD,MAAO8gC,EACP7gC,SAAUooC,EACV3U,YAAa05B,EAAW,aAAe,WACvC5hD,QAAQ,aACRyiD,cAAc,MACd1uD,UAAWZ,EAAQ0sD,KANrB,SAQG+C,EAASn0D,OAAOgB,KAAKmzD,GAAQ5uD,KAAI,SAAC2sD,EAAa92C,GAC9C,OACA,cAACszB,GAAA,EAAD,aAAelqC,MAAO0tD,GAAiBjmB,GAAU7wB,IAAvCA,MAEP,KAEN+4C,EAASn0D,OAAOqb,OAAO84C,GAAQ5uD,KAAI,SAACtD,EAASmZ,GAC5C,OACE,cAAC,GAAD,CAAoBrV,MAAO8gC,EAAU91B,MAAOqK,EAA5C,SACG,cAACkuB,GAAA,EAAD,CAAgBtB,UAAWriC,IAAOL,UAAWZ,EAAQurD,eAArD,SACC,eAAC1mB,GAAA,EAAD,CAAOE,cAAY,EAACnkC,UAAWZ,EAAQwjC,MAAOD,aAAW,eAAzD,UACE,cAACyB,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAYpkC,EAAE,UACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,WACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,aACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,eAGlB,cAAC2jC,GAAA,EAAD,UACCrmC,OAAOqb,OAAOpZ,GAASsD,KAAI,SAAC8V,EAAQ+4C,GACnC,OACA,eAAC3tB,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SAA0C9S,EAAOxI,OACjD,cAACi0B,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SAA0C9S,EAAOtV,QACjD,cAAC+gC,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SAA0C9S,EAAO02C,UACjD,cAACjrB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQypB,UAA9B,SAA0C9S,EAAO22C,SAJpCoC,cAdRh5C,MA2BZ,YASbi5C,GAAoB,SAAC1yD,GAAW,IAElC8vD,EAgBE9vD,EAhBF8vD,UACA6C,EAeE3yD,EAfF2yD,mBACAC,EAcE5yD,EAdF4yD,iBAEAjB,EAYE3xD,EAZF2xD,iBACAF,EAWEzxD,EAXFyxD,gBACAptD,EAUErE,EAVFqE,SACAwtD,EASE7xD,EATF6xD,OAEAL,EAOExxD,EAPFwxD,SAGAptD,GAIEpE,EALF8C,SAKE9C,EAJFoE,OACAgL,EAGEpP,EAHFoP,MAEGwU,GACD5jB,EAFFoqC,EAhBiC,aAkB/BpqC,EAlB+B,2JAmB7B+Z,EAAe+1C,EAAY6C,EAAqBC,EAChDrxD,EAAQ62B,eACRr1B,EAAU1B,KACRN,EAAMD,IAANC,EAtB2B,EAwBHwD,mBAAS,GAxBN,mBAwB5B2gC,EAxB4B,KAwBlB2G,EAxBkB,KAyB7BY,EAAmB3nC,uBAAY,SAACmK,EAAOgjD,GAC3CpmB,EAAYomB,KACZ,CAACpmB,IAgBG7mC,EAAe,SAAC4O,EAAM6F,EAAKo5C,EAAQzuD,GACvC,IAAM0uD,EAAkB5iD,YAAQyiD,GAAoB,SAACxiD,GAEnD,OADAA,EAAMyD,GAAM6F,GAAKo5C,GAAUzuD,EACpB+L,KAET9L,EAASyuD,IAIX,OACE,6CACE9tB,KAAK,WACLqF,OAAQjmC,IAAUgL,EAClBnP,GAAE,0BAAqBmP,GACvBy4B,kBAAA,qBAA+Bz4B,IAC3BwU,GALN,aAOGxf,IAAUgL,GACX,qCACE,eAAC3L,EAAA,EAAD,CAAKmI,OAAQ,EAAGwgB,YAAa7qB,EAAMY,QAAQgK,KAAK,KAAMxI,UAAWZ,EAAQisD,QAAzE,UACE,cAAC,KAAD,CACE5qD,MAAO8gC,EACP7gC,SAAUooC,EACV3U,YAAa05B,EAAW,aAAe,WACvC5hD,QAAQ,aACRyiD,cAAc,KACd1uD,UAAWZ,EAAQ0sD,KANrB,SAQG11C,EAAe1b,OAAOgB,KAAK0a,GAAcgD,OAAOnZ,KAAI,SAACmvD,EAAUt5C,GAC9D,OACA,cAACszB,GAAA,EAAD,aAAelqC,MAAOkwD,GAAczoB,GAAU7wB,IAApCA,MAEP,KAENM,EAAe1b,OAAOgB,KAAK0a,GAAcgD,OAAOnZ,KAAI,SAACmvD,EAAUt5C,GAC9D,OACE,cAAC,GAAD,CAAoBrV,MAAO8gC,EAAU91B,MAAOqK,EAA5C,SACE,cAACkuB,GAAA,EAAD,CAAgBtB,UAAWriC,IAAOL,UAAWZ,EAAQurD,eAArD,SACE,eAAC1mB,GAAA,EAAD,CAAOE,cAAY,EAACnkC,UAAWZ,EAAQwjC,MAAOD,aAAW,eAAzD,UACE,cAACyB,GAAA,EAAD,UACE,eAACjD,GAAA,EAAD,WACE,cAACK,GAAA,EAAD,UAAYpkC,EAAE,cACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,kBACd,cAACokC,GAAA,EAAD,UAAYpkC,EAAE,kBACb+uD,GACC,qCACA,cAAC3qB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQysD,kBAC9B,cAACrqB,GAAA,EAAD,CAAWxhC,UAAWZ,EAAQysD,0BAKpC,cAAC9qB,GAAA,EAAD,UACC3qB,EAAag5C,GAAUnvD,KAAI,SAACovD,EAASv5C,GACpC,OAAO,eAACqrB,GAAA,EAAD,CAAoBnhC,UAAW8V,EAAM,IAAM,EAAI1W,EAAQwsD,kBAAoB,GAA3E,UACJyD,EAAQpvD,KAAI,SAAC+mB,EAAKkoC,GACjB,OAAO,cAAC1tB,GAAA,EAAD,UACL,cAAC,EAAD,CACE/gC,MAAOumB,EACPlb,UAAWqgD,EACXzrD,SAAU,SAACU,GAAD,OAAOC,EAAa+tD,EAAUt5C,EAAKo5C,EAAQ9tD,OAJlC8tD,MAQxB/C,GACC,qCACA,cAAC3qB,GAAA,EAAD,UACE,cAACjH,GAAA,EAAD,CAAYptB,QAAS,SAAC/L,IA/E3B,SAAC6O,EAAM6F,GAC1B,IAAMq5C,EAAkB5iD,YAAQyiD,GAAoB,SAACxiD,GACnDA,EAAMyD,GAAMxD,OAAOqJ,EAAM,EAAG,EAAG,CAAC,GAAG,GAAG,QAExCpV,EAASyuD,GA2E4CG,CAAaF,EAAUt5C,IAApD,SAA2D,cAAC,KAAD,QAE7D,cAAC0rB,GAAA,EAAD,UACE,cAACjH,GAAA,EAAD,CAAYptB,QAAS,SAAC/L,IA5ExB,SAAC6O,EAAM6F,GAC7B,IAAMq5C,EAAkB5iD,YAAQyiD,GAAoB,SAACxiD,GACnDA,EAAMyD,GAAMxD,OAAOqJ,EAAK,MAE1BpV,EAASyuD,GAwE4CI,CAAgBH,EAAUt5C,IAAvD,SAA8D,cAAC,KAAD,aAhB9CA,cAlBfA,MA6CZ,MAGP,qBAAK9V,UAAWZ,EAAQssD,oBAAxB,SAEAS,EACE,eAACvqB,GAAA,EAAD,CAAax0B,KAAK,QAAlB,UACE,cAACC,EAAA,EAAD,CAASlR,MAAOiB,EAAE,0BAAlB,SACE,cAAC6P,EAAA,EAAD,CAAQE,QAlFH,WAAQ+gD,EAAOc,IAkFpB,SAA8B5xD,EAAE,YAElC,cAACiQ,EAAA,EAAD,CAASlR,MAAOiB,EAAE,mBAAlB,SACI,cAAC6P,EAAA,EAAD,CAAQE,QAzGK,WAAQ6gD,KAyGrB,SAAwC5wD,EAAE,iBAIhD,cAACwkC,GAAA,EAAD,CAAcx0B,KAAK,QAAnB,SACE,cAACC,EAAA,EAAD,CAASlR,MAAOiB,EAAE,+BAAlB,SACE,cAAC6P,EAAA,EAAD,CACEE,QAjHY,WAAQ2gD,EAAgBmB,IAgHtC,SAEE7xD,EAAE,oCAcpB,SAASupC,GAAUp5B,EAAM9B,GACvB,MAAO,CACLnP,GAAG,GAAD,OAAKiR,EAAL,uBAAwB9B,GAC1B,gBAAgB,GAAhB,OAAoB8B,EAApB,4BAA4C9B,IAIhD,I,MAwHe+jD,GAxHO,SAACnzD,GAAW,IAE9BsZ,EAsBEtZ,EAtBFsZ,IAEAsc,EAoBE51B,EApBF41B,sBACA+8B,EAmBE3yD,EAnBF2yD,mBACAC,EAkBE5yD,EAlBF4yD,iBACAQ,EAiBEpzD,EAjBFozD,4BACAC,EAgBErzD,EAhBFqzD,6BACAC,EAeEtzD,EAfFszD,qBACAC,EAcEvzD,EAdFuzD,mBAEAx9B,EAYE/1B,EAZF+1B,iBACAu7B,EAWEtxD,EAXFsxD,cACAC,EAUEvxD,EAVFuxD,YACAiC,EASExzD,EATFwzD,oBACAC,EAQEzzD,EARFyzD,uBACAC,EAOE1zD,EAPF0zD,uBACAC,EAME3zD,EANF2zD,wBACAC,EAKE5zD,EALF4zD,gBACAC,EAIE7zD,EAJF6zD,cACAC,EAGE9zD,EAHF8zD,cACAC,EAEE/zD,EAFF+zD,gBACAC,EACEh0D,EADFg0D,kBAGIxC,EAAWyC,aAAc,SAAA1yD,GAAK,OAAIA,EAAMsqB,YAAYc,KAAK,SACzD5pB,EAAU1B,KACRN,EAAMD,IAANC,EA5BuB,EA6BOwD,mBAAS,IA7BhB,mBA6BxB2vD,EA7BwB,KA6BXC,EA7BW,OA8BC5vD,mBAAS,GA9BV,mBA8BxB2gC,EA9BwB,KA8Bd2G,EA9Bc,KA+BzBY,EAAmB3nC,uBAAY,SAACmK,EAAOy9B,GAC3Cb,EAAYa,KACZ,CAACb,IAEGe,EAAWl/B,iBAAO,MAClBu4C,EAAcnhD,uBAAY,SAACC,GAC/B6nC,EAAS/+B,QAAQgxC,UAChB,CAAEjS,IAgBL,OACE,eAAC,EAAD,CAAO3sC,GAAG,gBAAgB4C,MAAO9B,EAAE,kBAAnC,UACE,qBAAK2N,MAAO,CAAE1M,QAAS,QAAvB,SAAiC,uBAAOqC,SAjBnB,SAACU,GAAO,IAAD,iBACdA,EAAExG,OAAO+nD,OADK,IAC9B,IAAI,EAAJ,qBAAgC,CAAC,IAAzBzpC,EAAwB,QACxB5F,EAAO4F,EAAK3L,KAElB4iD,EAAc78C,EADD4F,IAHe,8BAM9B9X,EAAExG,OAAO6F,MAAQ,IAWqD2N,KAAK,OAAOw0C,UAAQ,EAACnmD,IAAKwsC,MAC9F,cAACnpC,EAAA,EAAD,UACE,eAACA,EAAA,EAAD,WACE,cAACuN,EAAA,EAAD,CAASowB,UAAU,SAASthC,MAAOiB,EAAE,8BAArC,SACE,cAAC6P,EAAA,EAAD,CAAQE,QAAS,WAZzBijD,EAAgBG,IAYwCnjD,KAAK,QAAQnB,QAAQ,WAAWjM,UAAWZ,EAAQmsD,aAAnG,SACI,eAGN,cAAC,EAAD,CACEp/C,WAAY,CAAC/M,QAAS,CAAEiN,eAAgBjN,EAAQqsD,gBAAiBr/C,MAAOhN,EAAQosD,cAChFv/C,QAAQ,WACR01B,YAAavkC,EAAE,gBACfqD,MAAO8vD,GAA4B,GACnC7vD,SAAU,SAACsmB,GAASwpC,EAAexpC,MAErC,cAAC3Z,EAAA,EAAD,CAASowB,UAAU,SAASthC,MAAOiB,EAAE,4BAArC,SACE,cAAC6P,EAAA,EAAD,CAAQE,QAASm1C,EAAal1C,KAAK,QAAQnB,QAAQ,WAAWjM,UAAWZ,EAAQ2mB,OAAjF,SACG3oB,EAAE,cAGP,cAAC6P,EAAA,EAAD,CAAQE,QAAS,WAzBvBkjD,KAyBqDjjD,KAAK,QAAQnB,QAAQ,WAAWjM,UAAWZ,EAAQ2mB,OAAlG,SACG3oB,EAAE,0BAIT,eAAC0C,EAAA,EAAD,WACE,eAAC,KAAD,CACEW,MAAO8gC,EACP7gC,SAAUooC,EACV3U,YAAY,aACZn0B,UAAWZ,EAAQ6sD,QAJrB,UAME,cAAC7iB,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,gBAAoBupC,GAAU,UAAW,KACvD,cAACyC,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,eAAmBupC,GAAU,MAAO,KAClD,cAACyC,GAAA,EAAD,aAAKlqC,MAAO9B,EAAE,wBAA4BupC,GAAU,eAAgB,QAEtE,eAAC7mC,EAAA,EAAD,CAAKE,UAAWZ,EAAQ2nC,aAAxB,UACI,cAAC,GAAD,CACEtmC,MAAO8gC,EAAU91B,MAAO,EAAGoiD,SAAUA,EACrCF,cAAeA,EACfC,YAAaA,EACbzB,UAAW/5B,EACX67B,aAAc4B,EACdnvD,SAAUuvD,EACVlC,gBAAiB+B,EACjB9B,iBAAkBgC,EAClBlC,gBAAiBiC,EACjB7B,OAAQgC,IAEV,cAAC,GAAD,CAAUzvD,MAAO8gC,EAAU91B,MAAO,EAAGkK,IAAKA,EAAKk4C,SAAUA,IACzD,cAAC,GAAD,CAAmBptD,MAAO8gC,EAAU91B,MAAO,EAAGoiD,SAAUA,EACtD1B,UAAWl6B,EACX+8B,mBAAoBA,EACpBC,iBAAkBA,EAClBnB,gBAAiB2B,EACjBzB,iBAAkB0B,EAClBhvD,SAAUivD,EACVzB,OAAQ0B,cCnuBPxrC,sBACb,SAACvP,EAAOwP,GACN,MAAO,CACL1O,IAAKK,GAAgBnB,GACrBud,iBAAkBD,GAAuBtd,GACzC+4C,YAAa33C,GAAuBpB,GACpC84C,cAAet7B,GAA0Bxd,GACzCod,sBAAuBD,GAA4Bnd,GACnDo6C,iBAAkB94C,GAAmBtB,GACrCm6C,mBAAoB98B,GAAyBrd,OAGjD,SAAC0P,EAAUF,GAAX,MAAyB,CACvBwrC,oBAAqB,SAACY,EAASC,GAC7B,GAAGD,EAAQt1D,eAAeu1D,GACxB,OAAO,EAET,IAAMjC,EAAaliD,YAAQkkD,GAAS,SAACjkD,GACnCA,EAAMkkD,GAAc,MAEtBnsC,EAAS8X,GAAao0B,QAAQhvC,IAAIgtC,KAEpCwB,gBAAiB,SAACQ,GAChBlsC,EAAS8X,GAAao0B,QAAQhvC,IAAIgvC,KAEpCX,uBAAwB,SAAClD,GACvBroC,EAAS8X,GAAao0B,QAAQE,cAAc/D,KAE9CmD,uBAAwB,SAACa,GACvBrsC,EAAS8X,GAAao0B,QAAQI,cAAcD,KAE9CZ,wBAAyB,WACvBzrC,EAAS8X,GAAao0B,QAAQK,mBAEhCZ,cAAe,SAACO,GACd,IAAIl7C,EAAW,GACXD,EAAa,GACjB5a,OAAOgB,KAAK+0D,GAAS76C,SAAQ,SAACm7C,GAC5Bx7C,EAASw7C,GAAc,CAACtE,QAAS,GAAIC,KAAM,IAC3ChyD,OAAOqb,OAAO06C,EAAQM,IAAan7C,SAAQ,SAACC,EAAOC,GACpBD,EAAtB5a,IADmD,IAC3C+1D,EAD0C,aAC5Bn7C,EAD4B,SAEzDP,EAAWkF,KAAK,CAACle,GAAIwZ,EAAKC,OAAQi7C,UAGtCzsC,EAAS8X,GAAao0B,QAAQK,kBAC9BvsC,EAASwM,GAAkBxgB,cAAc2F,cAAc,CAAErI,KAAM,CAAC0H,SAAUA,EAAUD,WAAYA,MAChGiP,EAASwM,GAAkB7iB,IAAImH,OAAO,CAAExH,KAAM,CAACA,KAAM,CAAC0H,SAAUA,EAAUD,WAAYA,QAExFm6C,4BAA6B,SAACwB,GAC5B1sC,EAAS8X,GAAajmB,aAAay6C,cAAcI,KAEnDvB,6BAA8B,WAC5BnrC,EAAS8X,GAAajmB,aAAa06C,mBAErCnB,qBAAsB,SAACv5C,GACrBmO,EAAS8X,GAAajmB,aAAaqL,IAAIrL,KAEzCw5C,mBAAoB,SAACx5C,GACnBmO,EAAS8X,GAAajmB,aAAa06C,kBACnCvsC,EAASwM,GAAkBxgB,cAAc6F,aAAa,CAAEvI,KAAMuI,KAC9DmO,EAASwM,GAAkB7iB,IAAIgjD,gBAAgB,CAAErjD,KAAM,CAAEA,KAAMuI,OAEjE+5C,cAAe,SAAC78C,EAAMm9C,GACpBtN,GAAUL,QAAQxvC,EAAMjR,GAA0BouD,IAEpDL,gBAAiB,SAACG,GAChB,IACMY,GADM,IAAI/8C,MACIg9C,cAAcrrD,MAAM,KAAK,GAC7Cw4C,GAAcH,YAAY,cAAgBmS,EAAc,IAAMY,EAAU,OAAQ9uD,GAA0Bo4C,KAE5G4V,kBAAmB,WACjB9rC,EAASwM,GAAkB7iB,IAAImjD,eAvEtBjtC,CA0EborC,ICtEa8B,GAVG,SAACj1D,GACjB,OAAQ,eAACswB,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UACN,cAAC4lB,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAf,SACE,cAAC,GAAD,MAEF,cAACH,EAAA,EAAD,CAAM7d,MAAI,EAACge,GAAI,GAAIE,GAAI,EAAGD,GAAI,QCHrBwkC,GAAa,UACbC,GAAa,UACb1F,IAAI,qBACdyF,GAAa,CAAEj1D,GAAIi1D,GAAYryD,MAAO,SAAUwjC,UAAWyoB,KAD7C,eAEdqG,GAAa,CAAEl1D,GAAIk1D,GAAYtyD,MAAO,SAAUwjC,UAAW4uB,KAF7C,IAIJG,GAAW,CAAE3F,GAAKyF,WAAazF,GAAK0F,YAyBlCE,GAvBG,SAACr1D,GACjB,IAAM0oD,EAAWC,eACXvb,EAAUkoB,eACVC,EAAS7M,EAASE,SAAS9rC,QAAQ04C,GAAY,IAC/CC,EAAShG,GAAK8F,GAAUA,EAASH,GAAS,GAAGn1D,GAU7Cy1D,EAAejG,GAAKgG,GAAQpvB,UAElC,OAAO,qCACL,cAAC,KAAD,CAAMjiC,MAAOqxD,EAAQpxD,SAPF,SAAC4K,EAAOy9B,GAJd,IAACzsC,IAKPysC,EAJPU,EAAQjvB,KAAKq3C,GAAav1D,IAU1B,SACIm1D,GAASxxD,KAAI,SAAC+xD,GAAD,OAAS,cAAC5oB,GAAA,EAAD,CAAKlqC,MAAO8yD,EAAI9yD,MAAOuB,MAAOuxD,EAAI11D,IAAS01D,EAAI11D,SAEzE,cAACy1D,EAAD,QCXEr0D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCm7B,OAAQ,CACN/vB,MAAOpL,EAAMY,QAAQE,QAAQwJ,MAE/B+pD,UAAU,eACLr0D,EAAMG,WAAWm0D,SAEtBC,QAAS,CACPrqD,UAAW,UAEbsqD,kBAAmB,CACjBtpC,WAAY,UAEdupC,SAAU,CACRr6B,WAAY,OACZ95B,OAAQ,GACRY,cAAe,UAEjBwzD,QAAS,CACPt6B,WAAY,OACZ95B,OAAQ,GACRY,cAAe,UAEjByzD,QAAS,CACPv6B,WAAY,OACZ95B,OAAQ,GACRU,MAAO,GACP0J,aAAc1K,EAAMQ,QAAQ,GAC5BU,cAAe,UAEjB0zD,QAAS,CACPpqD,YAAa,MACbsgB,YAAa,QACbvgB,aAAc,OAEhBsqD,cAAe,CACbx0D,SAAU,QACVW,MAAO,GACPV,OAAQ,GACRS,WAAYf,EAAMQ,QAAQ,GAC1Bs2C,UAAW92C,EAAMQ,QAAQ,IAE3Bs0D,cAAe,CACbz0D,SAAU,QACVe,KAAM,GACNJ,MAAO,sBACPV,OAAQ,GACRS,WAAYf,EAAMQ,QAAQ,GAC1Bs2C,UAAW92C,EAAMQ,QAAQ,QAIhBu0D,GAAc,UACdC,GAAY,SAEZC,GAAa,UACbC,GAAiB,cACjBC,GAAc,WACdlB,GAAa,UAEb/F,IAAI,qBACd8G,GAAY,CAAEt2D,GAAIs2D,GAAW1zD,MAAO,QAAS8zD,SAAS,EAAOtwB,UAAW9E,KAD1D,eAGdi1B,GAAa,CAAEv2D,GAAIu2D,GAAY3zD,MAAO,SAAU8zD,SAAS,EAAOtwB,UAAWmU,KAH7D,eAIdic,GAAiB,CAAEx2D,GAAIw2D,GAAgB5zD,MAAO,aAAc8zD,SAAS,EAAOtwB,UAAWoiB,GAAemO,eAAe,IAJvG,eAKdF,GAAc,CAAEz2D,GAAIy2D,GAAa7zD,MAAO,UAAW8zD,SAAS,EAAMtwB,UAAWulB,KAL/D,eAMd4J,GAAa,CAAEv1D,GAAIu1D,GAAY3yD,MAAO,SAAU8zD,SAAS,EAAMtwB,UAAWgvB,KAN5D,IASJD,GAAW,CACtB3F,GAAK8G,UACL9G,GAAK+G,WACL/G,GAAKgH,eAELhH,GAAKiH,YACLjH,GAAK+F,KAgFQqB,GA7EF,SAAC72D,GAAW,IACfe,EAAMD,cAANC,EACFqsC,EAAUkoB,eACV5M,EAAWC,eACXpnD,EAAQ62B,cAJQ,EAMY7zB,oBAAS,GANrB,mBAMduyD,EANc,KAMJC,EANI,KAOhBC,EAAYtpD,iBAAO,MACnBupD,EAAUhD,YAAc1yD,EAAMsqB,YAAYc,KAAK,OAK/CuqC,EAAcxO,EAASE,SAASl/C,MAAM,KAAK,GAC3CytD,EAAYD,EAAc,IAAMA,EAAcZ,GAE9Cc,EAAS,SAACn3D,GAAD,OAAQ,WACrBmtC,EAAQjvB,KAAKle,GACb82D,GAAY,KAKRh0D,EAAU1B,KAEhB,OAAO,eAAC2C,EAAA,EAAD,CAAOC,UAAW,EAAGozD,QAAM,EAA3B,UACP,qBAAK1zD,UAAWZ,EAAQqzD,cAAxB,SACA,mBAAG73D,OAAO,SAAS+4D,IAAI,aAAazjB,KAAK,2BAAzC,SACE,cAAC,EAAD,CAAStxC,MAAM,KAAKg1D,IAAI,YAAYxzD,KAAMxC,EAAMY,QAAQE,QAAQwJ,WAGlE,qBAAKlI,UAAWZ,EAAQszD,cAAxB,SACA,eAAC/lC,EAAA,EAAD,CAAM5lB,WAAS,EAAf,UAEI0qD,GAASxxD,KAAI,SAAC+xD,EAAKn3D,GAAO,IAChByB,EAAuB01D,EAAvB11D,GAAI4C,EAAmB8yD,EAAnB9yD,MAAO8zD,EAAYhB,EAAZgB,QAEba,EAAWv3D,IAAOk3D,EAExB,OAAQ,cAAC,IAAMptB,SAAP,UACN,cAACnZ,EAAA,EAAD,CAAQ6mC,OAAQd,EAAhB,SACE,cAACrmC,EAAA,EAAD,CAAM7d,MAAI,EAACie,GAAI,EAAGC,GAAI,EAAGF,GAAI,EAAG9sB,UAAYZ,EAAQ+yD,QAApD,SACE,cAACllD,EAAA,EAAD,CAAQ7N,QAAU,CAAEmB,KAAMnB,EAAQ6yD,WAAc9kD,QAASsmD,EAAOn3D,GAAK0M,MAAQ6qD,EAAW,UAAY,UAApG,SACE,sBAAK7zD,UAAWZ,EAAQgzD,kBAAxB,UACA,qBAAKpyD,UAAWZ,EAAQozD,QAASznD,MAAQ,CAAE0d,YAAaorC,EAAWj2D,EAAMY,QAAQE,QAAQwJ,KAAOtK,EAAMY,QAAQC,KAAKyJ,QACnH,sBAAKlI,UAAWZ,EAAQizD,SAAxB,UAAqCwB,IAAaP,EAAW,cAAC,IAAD,CAAgBtzD,UAAWZ,EAAQmzD,UAAa,KAA7G,IAAoH,sBAAMvyD,UAAWZ,EAAQkzD,QAAzB,SAAmCl1D,EAAE8B,kBANpI8yD,EAAI11D,OAcrC,cAAC2wB,EAAA,EAAD,CAAQ8mC,MAAI,EAAZ,SACE,eAACpnC,EAAA,EAAD,CAAM7d,MAAI,EAACke,GAAI,EAAGF,GAAI,EAAG9sB,UAAYZ,EAAQ+yD,QAA7C,UACE,cAACllD,EAAA,EAAD,CAAQ7N,QAAU,CAAEmB,KAAMnB,EAAQ6yD,WAAc9kD,QA9C/B,SAAC/L,GACtBgyD,GAAaD,IA6CgE12D,IAAK42D,EAA9E,SAAyF,cAAC,IAAD,MACzF,cAACtnC,EAAA,EAAD,CAAM7F,KAAMitC,EACNnnC,SAAUqnC,EAAUnpD,QACpBic,QAtCQ,WAClBitC,GAAY,IAmCR,SAII3B,GAAS5iD,QAAO,SAACmjD,GAAD,OAASA,EAAIgB,WAAS/yD,KAAI,SAAC+xD,GAAS,IAC1C11D,EAAc01D,EAAd11D,GAAI4C,EAAU8yD,EAAV9yD,MAEN20D,EAAWv3D,IAAOk3D,EAExB,OAAQ,eAACrnC,EAAA,EAAD,CAAmBhf,QAASsmD,EAAOn3D,GAAK8C,QAAU,CAAEmB,KAAM2M,IAAW9N,EAAQ6yD,UAAT,eAAsB7yD,EAAQ25B,OAAS86B,KAA3G,UACHA,EAAW,cAAC,IAAD,IAAoB,KAD5B,IACoCz2D,EAAE8B,KADvB5C,sBCpK/BoB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCo2D,aAAc,CACZ/1D,SAAU,QACV06B,IAAK,QA6DMs7B,GAzDA,SAAC53D,GACd,IAAM+C,EAAU1B,KADQ,EAEIkD,mBAAS8J,OAAOwpD,YAFpB,mBAEhBt1D,EAFgB,KAETu1D,EAFS,KAGlBv2D,EAAQ62B,cACdxqB,qBAAU,WACR,IAAMmqD,EAAW,WACfD,EAASzpD,OAAOwpD,aAIlB,OAFAxpD,OAAOC,iBAAiB,SAAUypD,GAClC1pD,OAAOC,iBAAiB,oBAAqBypD,GACtC,WACL1pD,OAAOE,oBAAoB,SAAUwpD,GACrC1pD,OAAOE,oBAAoB,oBAAqBwpD,MAEjD,IAEH,IAKM/0D,EAAQ,GAAGC,KAAKC,GAAG,IAInB80D,EADgB,IACWz1D,EAC3B01D,EAAW,IAAkB11D,EAG7BY,EATW,EASOF,KAAKG,IAAIJ,GAC3BK,EAVW,IAUgBJ,KAAKK,IAAIN,GAEpCk1D,EAAW,CACf,CAAE,IAAK,EAAGC,GACV,CAAE,IAAKH,EAAYG,GACnB,CAAE,IAfa,IAeY,EAAG,EAAG,EAAGh1D,GAASE,GAC7C,CAAE,IAAK20D,EAAW70D,GApBL,EAoByB,EAAEE,EAnBnB,GAmByCJ,KAAKO,IAAIR,GATxD,EASyEK,GACxF,CAAE,IAjBa,IAiBY,EAAG,EAAG,EAAGF,GAASE,GAC7C,CAAE,IAAK40D,EAAS90D,GAtBH,EAsBuB,EAAEE,EArBjB,GAqBuCJ,KAAKO,IAAIR,GAAOG,EAX7D,GAYf,CAAE,IAnBa,IAmBY,EAAG,EAAG,EAAGA,EAAQE,GAC5C,CAAE,IAAK40D,EAAS90D,EAxBH,EAwBuBE,EAvBf,GAwBrB,CAAE,IArBa,IAqBY,EAAG,EAAG,EAAGF,EAAQE,GAC5C,CAAE,IAAKd,EAAO41D,GACd,CAAE,IAAK51D,EA3BM,GA4Bb,CAAE,IAAK,EA5BM,GA6Bb,CAAE,MAGN,OAAO,gCACH,cAAC,GAAD,IACA,qBAAKA,MAAOA,EAAOV,OAlCN,EAkCsB8B,UAAWZ,EAAQ40D,aAAtD,SACA,sBAAMt3D,EAAG63D,EAASt0D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC7CC,KAAMxC,EAAMY,QAAQC,KAAKC,gBCvDpB0lB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBowC,UAAWl+C,GAAY1B,GACvB+b,QAASnV,GAAqB5G,OAEhC,SAAC0P,EAAUF,GACT,MAAQ,CACRoV,OAAQ,kBAAMlV,EAASwM,GAAkB7iB,IAAI8iB,YAC7C0jC,QAAS,kBAAMnwC,EAASwM,GAAkB7iB,IAAIymD,aAC9CC,eAAgB,kBAAMrwC,EAASwM,GAAkB7iB,IAAI2mD,SAAS,CAAEhnD,KAAM,EAAE,WAE1E,SAACyX,EAAYC,EAAelB,GAC1B,MAAQ,CACNywC,aAAc,UACdC,cAAezvC,EAAWmvC,UAAY,QAAU,QAChDO,UAAW,UACXC,WAAY3vC,EAAWmvC,UAAY,QAAU,YAC7CS,kBAAmB3vC,EAAckU,OACjC07B,mBAAoB7vC,EAAWmvC,UAAYlvC,EAAcqvC,eAAiBrvC,EAAcmvC,QACxFU,SAAU9vC,EAAWsL,QAAU,KAAO,cAAC,KAAD,CAAaxI,SAAS,UAC5DitC,UAAW/vC,EAAWmvC,UAAY,cAAC,KAAD,CAAWrsC,SAAS,UAAY,QApBvDhE,CAsBZ6vC,IC1BGv2D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCirC,MAAO,CACLxqC,QAAS,WACTi3D,QAAS,YAyDE91C,GArDW,SAACnjB,GAAW,IAElCk5D,EAKEl5D,EALFk5D,OACA1zD,EAIExF,EAJFwF,UACA2zD,EAGEn5D,EAHFm5D,QACA7zD,EAEEtF,EAFFsF,QACAC,EACEvF,EADFuF,OANiC,EASChB,oBAAS,GATV,mBAS3B60D,EAT2B,KAShBC,EATgB,KAW7BC,EAAcx0D,uBAAY,SAACC,GAC/Bs0D,GAAa,KACZ,CAAEA,IACCE,EAAYz0D,uBAAY,SAACC,GAC7Bs0D,GAAa,KACZ,CAAEA,IAECG,EAAW9rD,iBAAO,MAClB3K,EAAU1B,KA0BhB,OAxBAuM,qBAAU,WACR,GAAGsrD,EAAQ,CACT,IAAMO,EAAazP,aAAY,WAC7B,IAAM0P,EAAepb,SAASqb,cAC1BP,GAC0B,MAAzBM,EAAaE,SACW,SAAzBF,EAAaE,SACY,WAAzBF,EAAaE,SACbJ,EAAS3rD,QAAQ2+B,UAGpB,KAKH,OAHA8R,SAAShwC,iBAAiB,YAAagrD,GACvChb,SAAShwC,iBAAiB,UAAWirD,GAE9B,WACLtP,cAAcwP,GACdnb,SAAS/vC,oBAAoB,YAAa+qD,GAC1Chb,SAAS/vC,oBAAoB,UAAWgrD,OAG3C,CAAEL,EAAQE,EAAWE,EAAaC,IAE9B,qBAAK51D,UAAWZ,EAAQypC,MACnBtH,SAAS,IACT1/B,UAAWA,EACX2zD,QAASA,EACT/4D,IAAKo5D,EACLl0D,QAASA,EACTC,OAAQA,KC9DTs0D,GAAiB,SAACrhD,GAAD,OAAWA,EAAMshD,OAAOpR,UCyBzCqR,GAAoB,CAC/B,aAAgB,kBAAM3xC,GAAQvW,IAAI2mD,SAAS,CAAChnD,KAAK,EAAC,MAClD,YAAe,kBAAM4W,GAAQvW,IAAI2mD,SAAS,CAAChnD,KAAK,EAAC,MACjD,mBAAsB,kBAAM4W,GAAQvW,IAAImoD,qBAAqB,CAACxoD,KAAM,EAAE,QACtE,mBAAsB,kBAAM4W,GAAQvW,IAAImoD,qBAAqB,CAACxoD,KAAM,CAAC,QACrE,oBAAuB,kBAAM4W,GAAQvW,IAAImoD,qBAAqB,CAACxoD,KAAM,EAAE,OACvE,oBAAuB,kBAAM4W,GAAQvW,IAAImoD,qBAAqB,CAACxoD,KAAM,CAAC,OACtE,sBAAyB,kBAAM4W,GAAQvW,IAAIooD,4BAA4B,CAACzoD,KAAM,EAAE,QAChF,sBAAyB,kBAAM4W,GAAQvW,IAAIooD,4BAA4B,CAACzoD,KAAM,CAAC,QAC/E,uBAA0B,kBAAM4W,GAAQvW,IAAIooD,4BAA4B,CAACzoD,KAAM,EAAE,OACjF,uBAA0B,kBAAM4W,GAAQvW,IAAIooD,4BAA4B,CAACzoD,KAAM,CAAC,OAChF,QAAW,kBAAM4W,GAAQvW,IAAI8iB,WAC7B,SAAY,kBAAMvM,GAAQvW,IAAIgoC,eAC9B,KAAQ,kBAAMzxB,GAAQvW,IAAI+nC,QAAQ,CAAEpoC,KAAM,CAAE,gBAC5C,WAAc,kBAAM4W,GAAQvW,IAAI8nC,iBAChC,MAAS,kBAAMvxB,GAAQvW,IAAIymD,aAGhB4B,GAA2B,CACtC,qBAAwB,kBAAMl6B,GAAatc,cAAcuc,QAAQ,MACjE,qBAAwB,kBAAMD,GAAatc,cAAcuc,QAAQ,MACjE,qBAAwB,kBAAMD,GAAatc,cAAcuc,QAAQ,MACjE,qBAAwB,kBAAMD,GAAatc,cAAcuc,QAAQ,MACjE,qBAAwB,kBAAMD,GAAatc,cAAcuc,QAAQ,MACjE,qBAAwB,kBAAMD,GAAatc,cAAcuc,QAAQ,MACjE,8BAAiC,kBAAMD,GAAatc,cAAcy2C,oBAAoB,IACtF,8BAAiC,kBAAMn6B,GAAatc,cAAcy2C,qBAAqB,IACvF,sBAAyB,SAACC,EAAmB3L,GAApB,OAAmCzuB,GAAatc,cAAc22C,cAAc,CAACp7B,IAAK,EAAGm7B,oBAAmB3L,gBACjI,0BAA6B,SAAC2L,EAAmB3L,GAApB,OAAmCzuB,GAAatc,cAAc22C,cAAc,CAACp7B,KAAM,EAAGm7B,oBAAmB3L,iBAGlI6L,GAAqB,SAAC5R,GAC1B,SAAGA,EAAS3+C,WAAWysD,MAAe9N,EAAS3+C,WAAWwsD,OAGrC,MAAb7N,QAAH,IAMQ3gC,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL/I,KAAMF,GAAWvG,GACjB4hD,kBAAmBnkC,GAAwBzd,GAC3C+hD,wBAAyBrkC,GAA8B1d,GACvDtO,aAAciY,GAAmB3J,GACjC0gD,QAAQ,EACRpkC,sBAAuBF,GAA4Bpc,GACnDoJ,SAAUD,GAAgCnJ,GAC1CkwC,SAAUmR,GAAerhD,GAAOowC,SAChC9P,cAAez9B,GAAoB7C,GACnCiJ,kBAAmBnF,GAAwB9D,GAC3CkgC,SAAUl3B,GAAiChJ,GAC3C6I,OAAQF,GAA8B3I,GACtCuN,WAAY3B,GAAiB5L,GAC7B4lB,UAAWve,GAAgBrH,GAC3BvL,YAAaua,GAAkBhP,GAC/BuuB,aAAc1hB,GAA2B7M,GACzCsJ,QAASD,GAAqBrJ,GAC9Bi2C,WAAYpyC,GAAsB7D,GAClCyP,UAAW7J,GAAgB5F,GAC3B8G,MAAOF,GAAqB5G,OAGhC,SAAC0P,EAAUF,GAAX,MAAyB,CAKvB1iB,QAAS,aAGTC,OAAQ,aAGRi1D,gBAAiB,SAAC5mD,EAAME,EAAOD,GAC7BqU,EAASE,GAAQ1U,WAAW+mD,cAAc,CAAE7mD,OAAME,QAAOD,gBAE3D6qB,eAAgB,SAAC9qB,EAAME,EAAOC,EAAWF,GACvCqU,EAASE,GAAQ1U,WAAWgnD,aAAa,CAAE9mD,OAAME,QAAOC,YAAWF,gBAErE4sB,UAAW,SAAC7sB,EAAMC,GAChBqU,EAASE,GAAQ1U,WAAWgtB,QAAQ,CAAE9sB,OAAMC,gBAE9C8mD,SAAUzyC,EACV+iB,aAAc,SAACpnC,EAAKupC,GAClBllB,EAASE,GAAQvW,IAAIwW,OAAO,CAAE7W,KAAM,CAAE3N,MACtC,IAAMwpC,EAAiB,CAACxpC,IAAKA,EAAK4e,KAAM1K,KAAKC,OACvCs1B,EAAaF,EAAUA,EAAQtkB,OAAOukB,GAAkB,CAACA,GAC/DnlB,EAAUE,GAAQvW,IAAIkX,iBAAiB,CAAEvX,KAAM,CAAE,aAAc87B,OAEjEstB,eAAgB,SAAC/2D,EAAK8jB,GACpBO,EAASE,GAAQ4M,SAAS81B,QAAQ,oCAA6BjnD,EAA7B,OAAwC8jB,SAE1E,SAACsB,EAAYC,EAAelB,GAAc,IAE1C/I,EAaEgK,EAbFhK,KACAm7C,EAYEnxC,EAZFmxC,kBACAG,EAWEtxC,EAXFsxC,wBACArwD,EAUE+e,EAVF/e,aACAgvD,EASEjwC,EATFiwC,OACApkC,EAQE7L,EARF6L,sBACA4zB,EAOEz/B,EAPFy/B,SACA3iC,EAMEkD,EANFlD,WACA9Y,EAKEgc,EALFhc,YACA85B,EAIE9d,EAJF8d,aACA0nB,EAGExlC,EAHFwlC,WACAxmC,EAEEgB,EAFFhB,UACA3I,EACE2J,EADF3J,MAGAha,EAUE4jB,EAVF5jB,QACAC,EASE2jB,EATF3jB,OAEAi1D,EAOEtxC,EAPFsxC,gBACA97B,EAMExV,EANFwV,eACA+B,EAKEvX,EALFuX,UAEAk6B,EAGEzxC,EAHFyxC,SACA1vB,EAEE/hB,EAFF+hB,aACA2vB,EACE1xC,EADF0xC,eAEF,MAAO,CACL1B,SACA5zD,UACAC,SACAC,UAAW,SAACT,GAAO,IAEfm+B,EAMEn+B,EANFm+B,YACAJ,EAKE/9B,EALF+9B,SACAC,EAIEh+B,EAJFg+B,OACAF,EAGE99B,EAHF89B,QACAG,EAEEj+B,EAFFi+B,QACA63B,EACE91D,EADF81D,OAEIC,GAAkBj4B,EAAU,QAAU,KAAOC,EAAW,SAAW,KAAOC,EAAS,OAAS,KAAOC,EAAU,QAAU,IACzH9kB,EAAOglB,EAAYhlB,KACpBA,EAAKnU,WAAW,SACjBmU,EAAOA,EAAKF,MAAM,GAEZE,EAAKnU,WAAW,SACtBmU,EAAOA,EAAKF,MAAM,IAEpB,IAAM+8C,EAAiBD,EAAiB58C,EACxC,IAAI28C,GAAU9zB,EAAajoC,eAAei8D,GAAgB,CACxD,IAAMl3D,EAAMkjC,EAAag0B,GACzB,GAAGl3D,EAAIkG,WAAW,QAChB,GAAIuwD,GAAmB5R,IAClB5zB,EAAuB,CACxB,IAAM3V,EAAasvC,EAAWnvD,QAAQuE,EAAI,IAC1C,IAAmB,IAAhBsb,EAAkB,CACnB,IAAM5T,EAAuB,MAAX1H,EAAI,GAAa,GAAM,EACnCiQ,EAAQqL,EAAa,EAAI,GAAK,IAC9BK,EAAWP,EAAKE,GAChBtL,GAAayL,EACbwf,EAAUxf,EAAQE,EAASpQ,MAAQ+P,EACzC,GAAGtb,EAAIyG,SAAS,QACdkwD,EAAgB17B,EAAShrB,EAAQvI,EAAY,GAAKsI,QAE/C,GAAGhQ,EAAIyG,SAAS,eAAe,CAClC,IAAMD,EAAc8U,EAAa,EAAIjV,EAAalH,MAAQkH,EAAaxL,OAEjEs8D,EAAYT,GAAoD,EAChExmD,GAFgBoL,EAAa,GAA4B,OAAhB9U,EAAR,KAAuC,MAE5CpH,KAAK66B,IAAI,GAAIk9B,EAAY,GACrDC,EAAuBnxD,GAAe,CAAC1F,MAAO2P,EAAW1L,KAAMgC,GAAc4d,GAAW7jB,MAC9Fs6B,EAAeI,EAASvzB,EAAYuI,EAAOmnD,EAAsBpnD,QAGjE2mD,EAAgB17B,EAAShrB,EAAQvI,EAAWsI,GAE9CyrB,GAAKc,cAKR,GAAGv8B,EAAIkG,WAAW,kBACrB,GAAGmwD,GAAyBp7D,eAAe+E,GAAK,CAC9C,IAAMilC,EAASoxB,GAAyBr2D,GAAKu2D,EAAmB3L,GAChEkM,EAAS7xB,GACTxJ,GAAKc,YAGL,GAAIk6B,GAAmB5R,IAClB5zB,EAAuB,CACxB,IAAM3V,EAAasvC,EAAWnvD,QAAQ86D,GACtC,IAAmB,IAAhBj7C,GAAqBo7C,EAA0B,GAAKA,EAA0B,EAAE,CACjF,IAAMlwD,EAAc8U,EAAa,EAAIjV,EAAalH,MAAQkH,EAAaxL,OAEjEqV,GADgBoL,EAAa,GAA4B,OAAhB9U,GAAyC,OAAhBA,GAAsC,QAAd4d,EAAzD,KAAwF,MAC7FhlB,KAAK66B,IAAI,GAAIy8B,EAA0B,GACnEU,EAAuBnxD,GAAe,CAAC1F,MAAO2P,EAAW1L,KAAMgC,GAAc4d,GAAW7jB,MACxFmH,EAAY1H,EAAIyG,SAAS,KAAO,GAAM,EACtCwJ,EAAQqL,EAAa,EAAI,GAAK,EAC9BK,EAAWP,EAAKE,GAChBtL,GAAayL,EACbwf,EAAUxf,EAAQE,EAASpQ,MAAQ+P,EACzCuf,EAAeI,EAASvzB,EAAYuI,EAAOmnD,EAAsBpnD,GACjEyrB,GAAKc,cAMV,GAAGv8B,EAAIkG,WAAW,QAClB2+C,EAAS3+C,WAAWysD,KAAe9N,EAAS3+C,WAAWwsD,OACrDtpD,EAAYyC,QACbu7B,EAAapnC,EAAIma,MAAM,GAAI+H,GAG3B60C,EAAe/2D,EAAIma,MAAM,GAAI/Q,EAAY0a,aAK3C,CAAW,IAAMmhB,EAASixB,GAAkBl2D,KAC9C82D,EAAS7xB,GACTxJ,GAAKc,UAIX+4B,QAAS,SAACp0D,GACR,IAAImZ,EAAOnZ,EAAEm+B,YAAYhlB,KAOzB,GANGA,EAAKnU,WAAW,SACjBmU,EAAOA,EAAKF,MAAM,GAEZjZ,EAAEm+B,YAAYhlB,KAAKnU,WAAW,SACpCmU,EAAOA,EAAKF,MAAM,IAEjB+oB,EAAajoC,eAAeof,IAAS6oB,EAAa7oB,GAAMnU,WAAW,OAAO,CAC3E,IAAMmxD,EAAYn0B,EAAa7oB,GACzBiB,EAAasvC,EAAWnvD,QAAQ47D,EAAU,IAC1C17C,EAAWP,EAAKE,GAChBtL,GAAayL,EACbwf,EAAUxf,EAAQE,EAASpQ,MAAQ+P,EACzCshB,EAAU3B,EAASjrB,QAlMZkU,CAsMZ5E,I,8DCnQG9hB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCc,QAAS,CACPsK,MAAOpL,EAAMY,QAAQE,QAAQwJ,KAC7B8vB,WAAY,QAEdgK,UAAW,CACTh5B,MAAOpL,EAAMY,QAAQwjC,UAAU95B,KAC/B8vB,WAAY,QAEdw/B,MAAM,aACJr5D,aAAcP,EAAMQ,QAAQ,GAC5BO,WAAYf,EAAMQ,QAAQ,IACvBR,EAAMG,WAAWs/B,gBA4BTo6B,GAxBI,SAACp7D,GAAW,IAE3B2M,EAEE3M,EAFF2M,MACA7J,EACE9C,EADF8C,SAGIC,EAAU1B,KACVE,EAAQ62B,cAGRijC,EAAW,GAUjB,QAXmBt4D,EAAQ4J,KAKvB0uD,EAAS1uD,MADRA,GAGgBpL,EAAMY,QAAQm5D,OAAOC,OAInC,sBAAM53D,UAAWkN,IAAW9N,EAAQ4J,GAAQ5J,EAAQo4D,OAAQzsD,MAAO2sD,EAAnE,SACNv4D,KCrCGzB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCc,QAAS,CACPsK,MAAOpL,EAAMY,QAAQE,QAAQwJ,KAC7B8vB,WAAY,QAEdgK,UAAW,CACTh5B,MAAOpL,EAAMY,QAAQwjC,UAAU95B,KAC/B8vB,WAAY,QAEdw/B,MAAM,aACJx/B,WAAY,OACZ75B,aAAcP,EAAMQ,QAAQ,GAC5BO,WAAYf,EAAMQ,QAAQ,IACvBR,EAAMG,WAAWs/B,gBA4BTw6B,GAxBW,SAACx7D,GAAW,IAElC2M,EAEE3M,EAFF2M,MACA7J,EACE9C,EADF8C,SAGIC,EAAU1B,KACVE,EAAQ62B,cAGRijC,EAAW,GAUjB,QAXmBt4D,EAAQ4J,KAKvB0uD,EAAS1uD,MADRA,GAGgBpL,EAAMY,QAAQm5D,OAAOC,OAInC,sBAAM53D,UAAWkN,IAAW9N,EAAQ4J,GAAQ5J,EAAQo4D,OAAQzsD,MAAO2sD,EAAnE,SACNv4D,KC/BG24D,GAAiB,CAAE,KAAM,KAAM,KAAM,KAClB,MAAO,MAAO,MACd,MAAO,MACP,MAAO,MACP,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAAS,QAAS,QAC5D,MAAO,MACP,MAAO,MACP,KAAM,KAAM,KACZ,KAAM,KAAM,KACZ,OAAQ,OAAQ,QA0B1BC,GAzBe,SAAC17D,GAAW,IAAD,EAGnCA,EADFmK,mBAFqC,MAEvB,CAAC,KAAM,MAAO,OAFS,EAK/BpJ,EAAMD,IAANC,EAIF46D,EAA2BxxD,EAAYqI,QAAO,SAAC0L,GAAD,OAA4C,IAAlCu9C,GAAen8D,QAAQ4e,MAErF,OAAO,eAAC,GAAD,WACL,cAAC0S,EAAA,EAAD,CAAQC,QAAM,EAAd,SACC,cAAC7f,EAAA,EAAD,CAASlR,MAAOqK,EAAYrG,KAAK,KAAM83D,OAAK,EAACC,gBAAiB,EAA9D,SACE,+BAAQF,EAAyB73D,KAAK,WAG1C,cAAC8sB,EAAA,EAAD,CAAQI,MAAI,EAAZ,SACE,cAAChgB,EAAA,EAAD,CAASlR,MAAOqK,EAAYrG,KAAK,KAAM83D,OAAK,EAACC,gBAAiB,EAA9D,SACE,+BAAO96D,EAAE,yBCpCDgnB,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL7d,YAAaoT,GAAkB/E,OAGnC,SAAC0P,EAAUF,GAAX,MAAyB,KANVD,CAOX+zC,I,UCCEz6D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCw6D,MAAO,GAEPhR,KAAM,CACJp+C,MAAOpL,EAAMY,QAAQC,KAAKC,QAC1BqK,gBAAiBnL,EAAMY,QAAQE,QAAQ6J,OAEzC4+C,QAAS,CACPn+C,MAAOpL,EAAMY,QAAQC,KAAKC,QAC1BqK,gBAAiBnL,EAAMY,QAAQwjC,UAAUz5B,OAE3C8wC,MAAO,CACLrwC,MAAOpL,EAAMY,QAAQC,KAAKC,QAC1BqK,gBAAiBnL,EAAMY,QAAQ66C,MAAM9wC,WA8D1B8vD,GA1DiB,SAACh8D,GAAW,IAExC01B,EAEE11B,EAFF01B,cACAumC,EACEj8D,EADFi8D,QAHuC,EAMP13D,mBAAS,MANF,mBAMjCorB,EANiC,KAMvBusC,EANuB,OAOH33D,mBAAS,MAPN,mBAOjC43D,EAPiC,KAOrBC,EAPqB,KASjCr7D,EAAMD,IAANC,EAEFgC,EAAU1B,KAEV4kD,EAAc,SAACl0C,GAAD,OAAU,SAAChN,GAC7Bm3D,EAAYn3D,EAAEwqB,eACd6sC,EAAcrqD,KAgBhB,OAAO,qCAAE,eAAC,GAAD,WACT2jB,EAAcq1B,KAAKrsD,OAAS,EAC3B,cAACw/B,GAAA,EAAD,CAAYvxB,MAAM,UAAUmE,QAASm1C,EAAY,QAAjD,SACA,cAACoW,GAAA,EAAD,CAAOC,aAAc5mC,EAAcq1B,KAAKrsD,OAAQiO,MAAM,UAAU5J,QAAU,CAAEmB,KAAMnB,EAAQg5D,OAASQ,aAAe,CAAEC,WAAY,QAASC,SAAU,UAAnJ,SACG,cAAC,KAAD,QACsB,KACtB/mC,EAAco1B,QAAQpsD,OAAS,EAClC,cAACw/B,GAAA,EAAD,CAAYvxB,MAAM,UAAUmE,QAASm1C,EAAY,WAAjD,SACC,cAACoW,GAAA,EAAD,CAAOC,aAAc5mC,EAAco1B,QAAQpsD,OAAQiO,MAAM,YAAY5J,QAAU,CAAEmB,KAAMnB,EAAQg5D,OAASQ,aAAe,CAAEC,WAAY,QAASC,SAAU,UAAxJ,SACE,cAAC,KAAD,QAGA,KACA/mC,EAAcsnB,MAAMt+C,OAAS,EAChC,cAACw/B,GAAA,EAAD,CAAYvxB,MAAM,UAAUmE,QAASm1C,EAAY,SAAjD,SACC,cAACoW,GAAA,EAAD,CAAOC,aAAc5mC,EAAcsnB,MAAMt+C,OAAQiO,MAAM,QAAQ5J,QAAU,CAAEmB,KAAMnB,EAAQg5D,OAASQ,aAAe,CAAEC,WAAY,QAASC,SAAU,UAAlJ,SACE,cAAC,KAAD,QAGA,QAEJ,eAAC/sC,EAAA,EAAD,CAAMzvB,GAAG,sBAAsB0vB,SAAUA,EAAU9F,KAAMgG,QAAQssC,GAAaryC,QA1B1D,WAClBoyC,EAAY,MACZE,EAAc,OAwBhB,UACID,EAAazmC,EAAcymC,GAAYv4D,KAAI,SAAC0mD,EAAI9rD,GAAL,OAAW,cAACsxB,EAAA,EAAD,CAAkBphB,MAAQ,CAACguD,QAAS,GAAKjtD,UAAQ,EAAC1M,QAAU,CAAEmB,KAAMnB,EAAQunD,EAAIv4C,OAAhF,SAA2Fu4C,EAAI5yC,SAAhFlZ,MAAuG,KAC9K,cAACsxB,EAAA,EAAD,CAAUhf,QApCQ,WAClBsrD,EAAc,MACdF,EAAY,MACTD,GACDA,EAAQE,IAgCV,SAAkCp7D,EAAE,kBC9EzBgnB,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL0N,cAAeD,GAAoBjd,OAGvC,SAAC0P,EAAUF,GAAX,MAAyB,CACvBi0C,QAAS,SAAClqD,GACRmW,EAASE,GAAQu0C,kBAAkB5qD,QARxBgW,CAUXi0C,ICLE36D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCsmD,IAAK,GAELllD,KAAM,CACJiiD,OAAQ,IACRhjD,SAAU,QACVc,OAAQ,EACRC,KAAM,EACNd,OAAQ,IAEVw6B,MAAO,CACLz6B,SAAU,QACVc,OAAQ,EACR25B,MAAO,EACPV,WAAY,OACZhtB,aAAcpN,EAAMQ,QAAQ,GAC5BU,cAAe,SACfmiD,OAAQ,IACR/iD,OAAQ,IAEVL,MAAO,CACLkL,gBAAiBnL,EAAMY,QAAQC,KAAKC,QACpC2J,QAASzK,EAAMQ,QAAQ,IAEzB66D,WAAY,CACVnxD,UAAW,SACXhJ,cAAe,SACfT,QAAS,eACT66D,cAAe,YACfpwC,WAAY,SACZkP,WAAY,QAEdqF,WAAW,eACNz/B,EAAMG,WAAWs/B,gBAkCT87B,GA9BG,SAAC98D,GAAW,IAE1B+8D,EAGE/8D,EAHF+8D,UACAC,EAEEh9D,EAFFg9D,WACAlkB,EACE94C,EADF84C,cAGM/3C,EAAMD,cAANC,EACFgC,EAAU1B,KACVE,EAAQ62B,cACR6kC,EAAOhJ,YAAc1yD,EAAMsqB,YAAYc,KAAK,OAE5C08B,EAAQpmD,KAAKu1B,MAAMwkC,EAAW,GAAG,KAAO,EACxC/T,EAAUhmD,KAAKu1B,MAAMwkC,EAAW,GAAS,GAAN3T,IAAa,EAChD6T,EAAUF,EAAiB,GAAN3T,EAAS,GAAW,GAARJ,GAAc,EAErD,OAAO,qCACL,sBAAKtlD,UAAWZ,EAAQJ,KAAxB,UACEo6D,EAAY,eAAC,GAAD,CAAYpwD,MAAM,UAAlB,UAA4B,cAAC,KAAD,CAAehJ,UAAWZ,EAAQ65D,aAAeK,EAAO,sBAAMt5D,UAAWZ,EAAQ65D,aAAsB,sBAAMj5D,UAAYZ,EAAQ65D,WAA1B,SAAwC77D,EAAE,kBAC7K,eAAC,GAAD,CAAY4L,MAAM,YAAlB,UAA8B,cAAC,KAAD,CAAkBhJ,UAAWZ,EAAQ65D,aAAeK,EAAO,sBAAMt5D,UAAWZ,EAAQ65D,aAAsB,sBAAMj5D,UAAYZ,EAAQ65D,WAA1B,SAAwC77D,EAAE,qBAChM,cAAC,GAAD,OAEA,sBAAK4C,UAAWZ,EAAQs5B,MAAxB,UAGC,eAAC,GAAD,WAAqBt7B,EAAE+3C,GAAgB,wBAAQ,IAAMuQ,GAAOrrC,OAAO,GAAnE,KAA2E,IAAMirC,GAASjrC,OAAO,GAAjG,KAAuG,IAAMk/C,EAAQ7sD,QAAQ,IAAI2N,OAAO,MACxI,cAAC,GAAD,WCtEU+J,sBACf,SAACvP,EAAOwP,GAIN,MAAO,CAAE+0C,UAHSnkD,GAAiBJ,GAGfwkD,WzGgDU,SAACxkD,GAAD,OAAWA,EAAMC,WAAWM,OAAOikD,WyGlD9CG,CAAiB3kD,GAEJsgC,cADVz9B,GAAoB7C,OAG5C,SAAC0P,EAAUF,GAAX,MAAyB,KAPVD,CAOgB+0C,ICFzBz7D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmoB,OAAQ,GAER0zC,UAAW,CACTx7D,SAAU,QACVc,OAAQ,EACRC,KAAM,EACNJ,MAAO,OACPmK,gBAAiB,qBAkIN2wD,GA9HG,SAACr9D,GACjB,IAAM+C,EAAU1B,KACRN,EAAMD,cAANC,EAGNu8D,EAGEt9D,EAHFs9D,YACAC,EAEEv9D,EAFFu9D,YACAC,EACEx9D,EADFw9D,cAPyB,EAUEhe,eAVF,mBAUnBie,EAVmB,KAUTl7D,EAVS,KAUTA,MACZV,EAAS,GACTN,EAAQ62B,cACR6+B,EAAUhD,YAAc1yD,EAAMsqB,YAAYc,KAAK,OAI/C3pB,EAAQ,GAAGC,KAAKC,GAAG,IAQnB80D,EAHgB,GAGWz1D,EAK3Bm7D,EAdW,EAcGz6D,KAAKK,IAAIN,GACvB26D,EAfW,IAeY16D,KAAKG,IAAIJ,GAEhC46D,EAjBW,EAiBG36D,KAAKK,IAAIN,GACvB66D,EAlBW,IAkBY56D,KAAKG,IAAIJ,GAEhC86D,EAAMv8D,EAAMQ,QAAQ,GACpBg8D,EAAW96D,KAAKO,IAAIR,GACpBg7D,EAnBcn8D,GAmBM87D,EAAGE,EACvBI,EAAOD,EAAKD,EACZG,EAAKP,EAAGI,EACRI,EAAKN,EAAGE,EAGRK,EAAW,CACf,CAAE,IAAK,EAlBQ,GAmBf,CAAE,IAAKpG,EAnBQ,GAoBf,CAAE,IA/Ba,IA+BY,EAAG,EAAG,EAAG0F,EAAIC,GACxC,CAAE,KAAMM,EAAMD,GACd,CAAE,IAjCa,IAiCY,EAAG,EAAG,GAAIJ,EAAIC,GACzC,CAAE,IAAK,EAtBWh8D,IAuBlB,CAAE,MAIEw8D,EAAY,CAChB,CAAE,IAAK97D,EA7BQ,GA8Bf,CAAE,IAAKA,EAAMy1D,EA9BE,GA+Bf,CAAE,IA1Ca,IA0CY,EAAG,EAAG,GAAI0F,EAAIC,GACzC,CAAE,IAAKM,EAAMD,GACb,CAAE,IA5Ca,IA4CY,EAAG,EAAG,EAAGJ,EAAIC,GACxC,CAAE,IAAKt7D,EAjCWV,IAkClB,CAAE,MAIEy8D,EAAa,CACjB,CAAE,IAAKtG,EAAW0F,EAAGQ,EAAGN,EAAGO,EAAGL,EAxCf,GAyCf,CAAE,IApDa,IAoDY,EAAG,EAAG,GAAIF,EAAIC,GACzC,CAAE,KAAMI,EAAMD,GACd,CAAE,IAtDa,IAsDY,EAAG,EAAG,EAAGN,EAAIC,GACxC,CAAE,IAAKp7D,EAAMy1D,EAAW0F,EAAGO,EAAKE,EAAGT,EAAGQ,EAAGJ,EA3CvBj8D,IA4ClB,CAAE,IAxDa,IAwDY,EAAG,EAAG,EAAG67D,GAAKC,GACzC,CAAE,KAAMM,GAAOD,GACf,CAAE,IA1Da,IA0DY,EAAG,EAAG,GAAIJ,GAAKC,GAC1C,CAAE,MAMEU,EAAY,CAChBD,EAAW,GACXA,EAAW,GACXA,EAAW,GACXA,EAAW,GACX,CAAE,IAAK,EA1DWz8D,IA2DlB,CAAE,IAAK,EA5DQ,GA6Df,CAAE,MAEE28D,EAAa,CACjB,CAAE,IAAKj8D,EA/DWV,IAgElBy8D,EAAW,GACXA,EAAW,GACXA,EAAW,GACXA,EAAW,GACX,CAAE,IAAK/7D,EArEQ,GAsEf,CAAE,MAGEk8D,EAAcH,EAAW,GAAG,GAAGA,EAAW,GAAG,GAAGA,EAAW,GAAG,GAAGA,EAAW,GAAG,GApFpE,EAqFXI,EAAeJ,EAAW,GAAG,GArFlB,EAqF+BG,EAEhD,OAAO,sBAAKr+D,IAAKq9D,EAAQ95D,UAAWZ,EAAQq6D,UAArC,UACL,cAACuB,GAAA,EAAD,CAAYC,aAAW,EAACj7D,UAAWZ,EAAQ2mB,OAAQhb,MAAQ,CAAE/L,KAAM87D,EAAY58D,OAAQA,IAAaiP,QAAS0sD,EAA7G,SACE,eAACqB,GAAA,EAAD,CAASt8D,MAAOA,EAAOV,OAAQA,EAAQ1B,QAASs+D,EAAa,MAAQC,EAAc,IAAM78D,EAAQ6M,MAAO,CAAEnM,MAAOm8D,EAAa78D,SAAQc,KAAM87D,GAA5I,UACE,sBAAMp+D,EAAGi+D,EAAW16D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC/CC,KAAMxC,EAAMY,QAAQo7D,GAAa1xD,OACvC,sBAAM2qB,EAAS,GAANj0B,EAAUk0B,EAAG50B,KAAW6M,MAASuoD,EAAU11D,EAAMG,WAAWo9D,eAAiBv9D,EAAMG,WAAWq9D,aAAgB3rB,WAAW,SAASC,kBAAkB,SAA7J,SAAwKtyC,EAAEu8D,UAG9K,sBAAK/6D,MAAOA,EAAOV,OAAQA,EAAQ6M,MAAQ,CAAE1M,QAAS,QAASH,SAAQD,SAAU,QAASc,OAAQ,EAAGkiD,OAAQ,KAAOoa,cAAc,OAAlI,UACE,sBAAM3+D,EAAGk+D,EAAU36D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC9CC,KAAMxC,EAAMY,QAAQqoC,WAAWhpC,MAAOw9D,cAAc,YAC1D,sBAAM3+D,EAAGm+D,EAAW56D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC/CC,KAAMxC,EAAMY,QAAQqoC,WAAWhpC,MAAOw9D,cAAc,YAC1D,sBAAM3+D,EAAG+9D,EAASx6D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC7CC,KAAMxC,EAAMY,QAAQC,KAAKC,UAC/B,sBAAMhC,EAAGg+D,EAAUz6D,KAAI,SAACC,GAAD,OAASA,EAAIC,KAAK,QAAMA,KAAK,KAC9CC,KAAMxC,EAAMY,QAAQC,KAAKC,aAGjC,cAAC,GAAD,QC1IW0lB,sBACb,SAACvP,EAAOwP,GAAR,MAAsB,CACpBowC,UAAWl+C,GAAY1B,OAEzB,SAAC0P,EAAUF,GAAX,MAAyB,CACvBqwC,QAAS,kBAAMnwC,EAASwM,GAAkB7iB,IAAIymD,aAC9CC,eAAgB,kBAAMrwC,EAASwM,GAAkB7iB,IAAI2mD,SAAS,CAAEhnD,KAAM,EAAE,WAE1E,SAACyX,EAAYC,EAAelB,GAA5B,MAA0C,CACxCs1C,YAAar0C,EAAWmvC,UAAY,QAAU,QAC9CmF,YAAat0C,EAAWmvC,UAAY,QAAU,YAC9CoF,cAAev0C,EAAWmvC,UAAYlvC,EAAcqvC,eAAiBrvC,EAAcmvC,WAXxEtwC,CAabs1C,I,mBCfWjwB,GAAU6xB,aAAkB,CAAEC,SAAU,YAQtCpF,GANA,iBAAO,CACpB75D,GAAI,SACJk/D,WAAY,CACVrF,OAAQsF,aAAchyB,OCEpBiyB,GAAgBxpB,aAAS7xC,KAEzB3C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmJ,UAAW,CACT9I,SAAU,QACVy6B,MAAO,EACP35B,OAAQ,IAEV+P,KAAM,CACJlQ,MAAO,IACPV,OAAQ,GACRipB,MAAO,QACPw0C,MAAO,QACP31C,OAAQpoB,EAAMQ,QAAQ,GACtBiK,QAASzK,EAAMQ,QAAQ,GACvB2K,gBAAiBnL,EAAMY,QAAQm5D,OAAOC,MACtCzvD,aAAc,EACdlK,SAAU,WACVc,OAAQ,EACR25B,MAAO,GAET0uB,KAAM,CACJr+C,gBAAiBnL,EAAMY,QAAQE,QAAQwoD,WAEzCC,QAAS,CACPp+C,gBAAiBnL,EAAMY,QAAQwjC,UAAUklB,WAE3C7N,MAAO,CACLtwC,gBAAiBnL,EAAMY,QAAQ66C,MAAM6N,WAEvCI,SAAU,CACRt+C,MAAOpL,EAAMY,QAAQE,QAAQwJ,KAC7Bif,MAAO,OACPnc,aAAcpN,EAAMQ,QAAQ,IAE9BsyB,YAAa,CACX1nB,MAAOpL,EAAMY,QAAQwjC,UAAU95B,KAC/Bif,MAAO,OACPnc,aAAcpN,EAAMQ,QAAQ,IAE9BipD,UAAW,CACTr+C,MAAOpL,EAAMY,QAAQ66C,MAAMnxC,KAC3Bif,MAAO,OACPnc,aAAcpN,EAAMQ,QAAQ,IAE9B2V,QAAS,OA6CI6nD,GA1CA,SAACv/D,GAAW,IAEvBg1B,EACEh1B,EADFg1B,SAGIjyB,EAAU1B,KAEVm+D,EAAkBxqC,EAASpxB,KAAI,SAAC0mD,EAAKl7C,GAAN,mBAAC,eAAqBk7C,GAAtB,IAA2Bl7C,aAE1DqwD,EAAcC,aAAcF,GAAiB,SAAAlV,GAAG,OAAIA,EAAIrqD,KAAI,CAChEsJ,KAAM,cAAG6F,MAAH,MAAgB,CAAEstD,QAAS,EAAGlqB,UAAW,wBAC/CmtB,MAAO,cAAGvwD,MAAH,MAAgB,CAAEstD,QAAS,EAAGlqB,UAAW,oBAChDotB,MAAO,cAAGxwD,MAAH,MAAgB,CAAEstD,QAAS,EAAGlqB,UAAW,uBAChDwH,OAAQ,gBAAG5qC,EAAH,EAAGA,MAAH,MAAgB,CAAE1M,OAAyC,KAAhC88D,EAAgB9gE,OAAO0Q,EAAM,OAGlE,OACA,qBAAKzL,UAAWZ,EAAQ2H,UAAxB,SAEI+0D,EAAY77D,KAAI,YAA2B,IACrC+nD,EADmBrB,EAAiB,EAAvB73C,KAAWzS,EAAY,EAAZA,MAE5B,OAAOsqD,EAAIv4C,MACT,KAAKpL,GACHglD,EAAO,cAAC,KAAD,CAAWhoD,UAAWZ,EAAQioD,YACrC,MACF,KAAKtkD,GACHilD,EAAO,cAAC,KAAD,CAAahoD,UAAWZ,EAAQsxB,cACvC,MACF,KAAK5tB,GACHklD,EAAO,cAAC,KAAD,CAAUhoD,UAAWZ,EAAQkoD,WACpC,MACF,QACEU,EAAO,KAGX,OAAO,eAAC0T,GAAD,CAAe3wD,MAAO1O,EAAOiE,UAAW,EAAgBN,UAAWkN,IAAW9N,EAAQ0P,KAAM1P,EAAQunD,EAAIv4C,OAAxG,UACH45C,EADG,IACI,sBAAMhoD,UAAWZ,EAAQ2U,QAAzB,SAAmC4yC,EAAI5yC,YADK4yC,EAAIrqD,UCzFpD8nB,sBACf,SAACvP,EAAOwP,GAAR,MAAsB,CACpBgN,SAAUC,GAAazc,OAEzB,SAAC0P,EAAUF,GAAX,MAAyB,KAJVD,CAKXw3C,ICTW,OAA0B,iCCe5Bh+D,GAAQs+D,YAAe,CAClC19D,QAAS,CACPE,QAAS,CACPwoD,UAAW,UACX3+C,MAAO,UACPL,KAAM,UACNg6B,KAAM,UACN7J,aAAc,WAEhB2J,UAAW,CACTklB,UAAW,UACXh/C,KAAM,UACNK,MAAO,UACP25B,KAAM,UACN7J,aAAc,WAEhB55B,KAAM,CACJC,QAAS,UACTsjC,UAAW,YAGfjkC,WAAY,CACVgoB,OAAQ,CACNo2C,WAAY,gCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,UAEZ8pC,QAAS,CACPiK,WAAY,gCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,WAEZiV,WAAY,CACV8+B,WAAY,mCACZvsB,cAAe,EACfxnB,SAAU,GACV/pB,QAAS,eACTS,cAAe,SACfo6D,cAAe,aAEjB3gC,UAAW,CACT4jC,WAAY,mCACZvsB,cAAe,EACfxnB,SAAU,GACV/pB,QAAS,eACT+9D,gBAAiB,SACjBlD,cAAe,aAEjBrgC,UAAW,CACTsjC,WAAY,mCACZvsB,cAAe,EACfxnB,SAAU,GACV/pB,QAAS,eACT+9D,gBAAiB,UAEnBp0D,SAAU,CACRm0D,WAAY,mCACZvsB,cAAe,EACf9nC,UAAW,SACXwgB,WAAY,QAEd+zC,UAAW,CACTF,WAAY,wCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,IAEZk0C,YAAa,CACXH,WAAY,wCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,IAEZgzC,aAAc,CACZe,WAAY,wCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,IAEZ+yC,eAAgB,CACdgB,WAAY,wCACZvsB,cAAe,EACfspB,cAAe,YACf9wC,SAAU,IAEZtqB,YAAa,CACXq+D,WAAY,mCACZvsB,cAAe,EACfxnB,SAAU,GACVE,WAAY,OACZ4wC,cAAe,YACfpwC,WAAY,UAEdyzC,cAAe,CACbJ,WAAY,sCACZvsB,cAAe,EACfxnB,SAAU,GACVE,WAAY,UAEdinB,UAAW,CACT4sB,WAAY,sCACZ7zC,WAAY,QAEdunB,YAAa,CACXssB,WAAY,gCACZvsB,cAAe,GACfxnB,SAAU,EACVE,WAAY,OACZ4wC,cAAe,aAEjB7oB,QAAS,CACP8rB,WAAY,mCACZ/zC,SAAU,GACV8wC,cAAe,cAGnBsD,UAAW,CACTC,aAAc,CACZl8D,KAAM,CACJ47D,WAAY,wCAGhBO,aAAc,CACZn8D,KAAM,CACJ47D,WAAY,2CAapBv+D,GAAMY,QAAQ66C,MAAM6N,UAAY,UAEhCx8C,OAAO9M,MAAQA,GAEf,IAAMF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC++D,YAAa,CACX1+D,SAAU,QACVW,MAAO,OACPV,OAAQ,6BACRy6B,IAAK,GACL35B,KAAM,EACNiI,SAAU,cAKd,SAAS21D,KACP,IAAMx9D,EAAU1B,KAChB,OACE,cAACm/D,EAAA,EAAD,CAAej/D,MAAOA,GAAtB,SACE,eAAC,KAAD,CAAiB6rC,QAASA,GAA1B,UACE,cAAC,GAAD,IACA,sBAAKzpC,UAAWZ,EAAQu9D,YAAxB,UACE,eAAC,KAAD,WACGlL,GAAS5iD,QAAO,SAACmjD,GAAD,OAAUA,EAAIiB,iBAAehzD,KAAI,SAAC+xD,GAAS,IAEzDtvB,EAEEsvB,EAFFtvB,UACApmC,EACE01D,EADF11D,GAGIwgE,EAAap6B,EAEnB,OAAO,cAAC,KAAD,CAAOpvB,KAAMhX,EAAb,SAA0B,cAACwgE,EAAD,KAAJxgE,MAE/B,cAAC,KAAD,CAAOygE,OAAK,EAACzpD,KAAK,IAAlB,SAAwBw4C,GAAK6G,WAAajwB,eAE1C+uB,GAAS5iD,QAAO,SAACmjD,GAAD,OAASA,EAAIiB,iBAAehzD,KAAI,SAAC+xD,GAAS,IAExDtvB,EAEEsvB,EAFFtvB,UACApmC,EACE01D,EADF11D,GAGIwgE,EAAap6B,EAEnB,OAAO,cAACo6B,EAAD,GAAiBxgE,SAG3B,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,SAOR,IAAM0gE,GAAS,kBACb,sBAAKh9D,UAAU,MAAf,UACE,qBAAK67B,IAAKohC,GAAMj9D,UAAU,WAAW4zD,IAAI,SACzC,iDAqBWsJ,OAjBf,SAAa7gE,GAAQ,IAEjBkB,EAGElB,EAHFkB,QACAgJ,EAEElK,EAFFkK,aACAC,EACEnK,EADFmK,YAEF,OACA,cAAC,EAAD,CAAe/F,MAAO,CAAC8F,eAAcC,eAArC,SACE,cAAC,EAAD,CAAiB/F,MAAOlD,EAAxB,SACE,cAAC,WAAD,CAAU4/D,SAAU,cAAC,GAAD,IAApB,SACE,cAACP,GAAD,WC5NOx4C,sBACf,SAACvP,EAAOwP,GACN,MAAO,CACL9mB,QAASk0B,GAAc5c,GACvBtO,aAAciY,GAAmB3J,GACjCrO,YAAaoT,GAAkB/E,MALpBuP,CAOZ84C,ICFiBhxC,QACW,cAA7BxhB,OAAOq6C,SAASqY,UAEe,UAA7B1yD,OAAOq6C,SAASqY,UAEhB1yD,OAAOq6C,SAASqY,SAASC,MACvB,2D,4CCNAC,GAAuB,WAkB3B,OAjBuB5iE,OAAOqb,OAAO0O,GAAQ7W,KACP3N,KAAI,SAACs9D,GAAD,OAAmBA,EAAc,OAE3CvuD,QAAO,SAACwsD,EAAYgC,GAAmB,IAEnEjwD,EACEiwD,EAAcnvD,QADhBd,KAEIkwD,EAAWD,EAAcpvD,KAAKrI,MAAM,KACpC23D,EAAaD,EAASA,EAAS1iE,OAAO,GACtCqT,EAAOK,GAA2B,SAAUivD,GAC5CC,EAAejvD,GAAmBnB,GAIxC,OAHAiuD,EAAWptD,GAAQ7B,aAAQ,SAACsI,EAAOswB,GACjCtwB,EAAMO,OAAOuoD,GAAgBx4B,EAAO92B,QAAQR,QAEvC2tD,IACN,KAICoC,GAA8B,WA4BlC,OA3BuBljE,OAAOqb,OAAO0O,GAAQ7W,KACP3N,KAAI,SAACs9D,GAAD,OAAmBA,EAAc,OAE3CvuD,QAAO,SAACwsD,EAAYgC,GAAmB,IAEnEjwD,EACEiwD,EAAcnvD,QADhBd,KAEIkwD,EAAWD,EAAcpvD,KAAKrI,MAAM,KACpC23D,EAAaD,EAASA,EAAS1iE,OAAO,GACtCqT,EAAOK,GAA2B,UAAW,mBAAoBivD,GACjEC,EAAejvD,GAAmBnB,GAcxC,OAbAiuD,EAAWptD,GAAQ7B,aAAQ,SAACsI,EAAOswB,GACjCtwB,EAAM8I,QAAQvI,OAAOuoD,GAAgBx4B,EAAO92B,QAAQR,QAItD2tD,EADc/sD,GAA2B,UAAW,SAAUivD,IAC1CnxD,aAAQ,SAACsI,EAAOswB,GAClCtwB,EAAM8I,QAAQvI,OAAOuoD,GAAgBx4B,EAAO92B,QAAQR,QAItD2tD,EADc/sD,GAA2B,UAAW,kBAAmBivD,IACnDnxD,aAAQ,SAACsI,EAAOswB,GAClCtwB,EAAM8I,QAAQwG,WAAWw5C,GAAgBx4B,EAAO92B,WAE3CmtD,IACN,KAKCqC,GAAmBC,KAAKC,MAAMC,aAAa5jB,QAAQx3C,KAAqB,MACjEq7D,GAAe,CAE1BjpD,UAAW,CACThD,OAAQ6rD,GAAiB7rD,UAAgE,IAArD2oC,SAASoK,SAASqY,SAASzhE,QAAQ,aAAsBg/C,SAASoK,SAASqY,SAAW,eAC1HnrD,KAAM4rD,GAAiB5rD,MAAQ,OAC/BC,KAAM2rD,GAAiB3rD,MAAQ,UAC/BC,SAAU0rD,GAAiB1rD,UAAY,UACvCC,UAAkD,qBAAhCyrD,GAAiBzrD,WAAsCyrD,GAAiBzrD,WAE5F8C,YAAY,EACZ1G,eAAgB,GAChB2I,SAAU,GACV/B,OAAQ,GACRuI,QAAS,CACPwG,WAAY,GACZ/O,OAAQ,IAEVwF,aAAc,GACdG,WAAY,GACZ1D,UAAW,CACTC,MAAO,GACPG,SAAU,KA6NCymD,GAzNQ,WAAc,IAAD,EAAZ7oC,EAAY,uDAAP,GAAO,EAI9BA,EAFF8oC,6BAFgC,WAI9B9oC,EADF+oC,oCAHgC,SAK5BC,EAAiBF,EAAwBb,KAAyB,GAClEgB,EAAwBF,EAA+BR,KAAgC,GAC7F,OAAOW,aAAc,4CAClB95C,GAAQpN,UAAUmnD,aAAejyD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAItDA,EAAO92B,QAFTkF,EAFwD,EAExDA,SACAnG,EAHwD,EAGxDA,KAEFyH,EAAMwC,UAAUI,SAASlE,GAAY,CAAEnG,OAAMsG,YAAa,OAN1C,cAQjB+Q,GAAQpN,UAAUonD,eAAiBlyD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAIxDA,EAAO92B,QAFTkF,EAF0D,EAE1DA,SACAG,EAH0D,EAG1DA,YAEFmB,EAAMwC,UAAUI,SAASlE,GAAUG,YAAcA,MAbjC,cAejB+Q,GAAQpN,UAAUqnD,gBAAkBnyD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAIzDA,EAAO92B,QAFTiF,EAF2D,EAE3DA,KACAC,EAH2D,EAG3DA,SAEFsB,EAAMwC,UAAUC,MAAMhE,GAAQC,MApBd,cAsBjBkR,GAAQ1J,WAAW4jD,UAAYpyD,aAAQ,SAACsI,EAAMswB,GAC7CtwB,EAAMkG,WAAa,OAvBH,cAyBjB0J,GAAQ1J,WAAW6jD,OAASryD,aAAQ,SAACsI,EAAMswB,GAC1C,IAAM7xB,EAAO6xB,EAAO92B,eACbwG,EAAMkG,WAAWzH,OA3BR,cA6BjBmR,GAAQ1J,WAAWioC,OAASz2C,aAAQ,SAACsI,EAAMswB,GAC1C,IAAM7xB,EAAO6xB,EAAO92B,QACjBwG,EAAMkG,WAAWzH,KAClBuB,EAAMkG,WAAWzH,GAAMuB,MAAQzS,QAhCjB,cAmCjBqiB,GAAQ1J,WAAWgoC,UAAYx2C,aAAQ,SAACsI,EAAMswB,GAC7C,IAAI,IAAI7xB,KAAQuB,EAAMkG,WACpBlG,EAAMkG,WAAWzH,GAAMuB,MAAQzS,OArCjB,cAwCjBqiB,GAAQ1J,WAAWtD,SAAWlL,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAGnDA,EAAO92B,QADTiF,EAFqD,EAErDA,KAAMmE,EAF+C,EAE/CA,SAEL5C,EAAMkG,WAAWzH,KAClBuB,EAAMkG,WAAWzH,GAAMmE,SAAWA,EAClC5C,EAAMkG,WAAWzH,GAAMuB,MAAQ3S,QA9CjB,cAiDjBuiB,GAAQ1J,WAAW8jD,SAAWtyD,aAAQ,SAACsI,EAAMswB,GAAY,IAEtD7xB,EACE6xB,EAAO92B,QADTiF,YAEKuB,EAAMkG,WAAWzH,OArDR,cAuDjBmR,GAAQ1J,WAAW+jD,gBAAkBvyD,aAAQ,SAACsI,EAAMswB,GAAY,IAE7D7xB,EACE6xB,EAAO92B,QADTiF,KAGFuB,EAAMkG,WAAWzH,GAAMuB,MAAQ1S,OA5Df,cA8DjBsiB,GAAQ1J,WAAWkoC,iBAAmB12C,aAAQ,SAACsI,EAAMswB,GAAY,IAE9D7xB,EACE6xB,EAAO92B,QADTiF,KAGFuB,EAAMkG,WAAWzH,GAAM6H,WAAY,MAnEnB,cAqEjBsJ,GAAQ1J,WAAWmoC,oBAAsB32C,aAAQ,SAACsI,EAAMswB,GACvD,IAAI,IAAIlqC,KAAO4Z,EAAMkG,WACnBlG,EAAMkG,WAAW9f,GAAKkgB,WAAY,MAvEpB,cA0EjBsJ,GAAQ1J,WAAWgkD,OAASxyD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAIjDA,EAAO92B,QAFTiF,EAFmD,EAEnDA,KACA6H,EAHmD,EAGnDA,UAGFtG,EAAMkG,WAAWzH,GAAQ,CAAGA,OAAM6H,YAAW1D,SAAU,EAAG5C,MAAO5S,QAhFjD,cAkFjBwiB,GAAQ7J,aAAa+jD,UAAYpyD,aAAQ,SAACsI,EAAMswB,GAC/CtwB,EAAM+F,aAAe,OAnFL,cAqFjB6J,GAAQ7J,aAAagkD,OAASryD,aAAQ,SAACsI,EAAMswB,GAC5C,IAAM7xB,EAAO6xB,EAAO92B,eACbwG,EAAM+F,aAAatH,OAvFV,cAyFjBmR,GAAQ7J,aAAaooC,OAASz2C,aAAQ,SAACsI,EAAMswB,GAC5C,IAAM7xB,EAAO6xB,EAAO92B,QACjBwG,EAAM+F,aAAatH,KACpBuB,EAAM+F,aAAatH,GAAMuB,MAAQzS,QA5FnB,cA+FjBqiB,GAAQ7J,aAAamoC,UAAYx2C,aAAQ,SAACsI,EAAMswB,GAC/C,IAAI,IAAI7xB,KAAQuB,EAAM+F,aACpB/F,EAAM+F,aAAatH,GAAMuB,MAAQzS,OAjGnB,cAoGjBqiB,GAAQ7J,aAAanD,SAAWlL,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAGrDA,EAAO92B,QADTiF,EAFuD,EAEvDA,KAAMmE,EAFiD,EAEjDA,SAEL5C,EAAM+F,aAAatH,KACpBuB,EAAM+F,aAAatH,GAAMmE,SAAWA,EACpC5C,EAAM+F,aAAatH,GAAMuB,MAAQ3S,QA1GnB,cA6GjBuiB,GAAQ7J,aAAamkD,OAASxyD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAInDA,EAAO92B,QAFTiF,EAFqD,EAErDA,KACA6H,EAHqD,EAGrDA,UAGFtG,EAAM+F,aAAatH,GAAQ,CAAGA,OAAM6H,YAAW1D,SAAU,EAAG5C,MAAO5S,QAnHnD,cAqHjBwiB,GAAQu6C,YAAczyD,aAAQ,SAACsI,EAAMswB,GACpC,IAAMjwB,EAAaiwB,EAAO92B,QAC1BwG,EAAMK,WAAaA,EAEfA,IACFL,EAAMkG,WAAa,QA1HL,cA6HjB0J,GAAQ4kC,qBAAuB98C,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAOpDA,EAAO92B,QALT2D,EAFsD,EAEtDA,OACAC,EAHsD,EAGtDA,KACAC,EAJsD,EAItDA,KACAC,EALsD,EAKtDA,SACAC,EANsD,EAMtDA,UAEFyC,EAAMG,UAAU9C,KAAOA,EACvB2C,EAAMG,UAAU7C,SAAWA,EAC3B0C,EAAMG,UAAUhD,OAASA,EACzB6C,EAAMG,UAAU/C,KAAOA,EACvB4C,EAAMG,UAAU5C,UAAYA,MAzIZ,cA2IjBqS,GAAQw6C,iBAAmB1yD,aAAQ,SAACsI,EAAMswB,GAAY,IAEnD7oC,EACE6oC,EAAO92B,QADT/R,GAEEuY,EAAMrG,eAAelS,KACvBuY,EAAMrG,eAAelS,GAAM,IAE7BuY,EAAMrG,eAAelS,GAAIke,KAAK2qB,EAAO92B,aAlJrB,cAoJjBoW,GAAQy6C,oBAAsB3yD,aAAQ,SAACsI,EAAMswB,GAAY,IAAD,EAInDA,EAAO92B,QAFT/R,EAFqD,EAErDA,GACA8R,EAHqD,EAGrDA,KAEF,GAAGyG,EAAMrG,eAAelS,GAAK,CAC3B,IAAMmP,EAAQoJ,EAAMrG,eAAelS,GAAI6tC,WAAU,SAACg1B,GAAD,OAAsBA,EAAiB7iE,KAAOA,GACxB6iE,EAAiB/wD,OAASA,KACjGyG,EAAMrG,eAAelS,GAAImQ,OAAOhB,EAAO,QA5JzB,cA+JjBgZ,GAAQ26C,SAASzvD,WAAWmI,cAAgBvL,aAAQ,SAACsI,EAAOswB,GAC3DtwB,EAAMO,OAAO0C,cAAgBqtB,EAAO92B,QAAQR,KAAKyH,WAAW,GAAGS,OAAOtV,UAhKtD,cAkKjBgkB,GAAQ26C,SAASzvD,WAAWwH,SAAW5K,aAAQ,SAACsI,EAAOswB,GACtD,IAAMhuB,EAAW,GAEjB,GAAGguB,EAAO92B,QAAQR,KAAKyH,WAAY,CAAC,IAAD,iBACd6vB,EAAO92B,QAAQR,KAAKyH,YADN,IACjC,IAAI,EAAJ,qBAAmD,CACjD6B,EADiD,QAChCpB,OAAOxI,OAAQ,GAFD,+BAKnCsH,EAAMsC,SAAWA,MA1KD,cA4KjBsN,GAAQlU,cAAc+5C,gBAAkB/9C,aAAQ,SAACsI,EAAMswB,GAClDtwB,EAAMO,OAAOmJ,eACf1J,EAAMO,OAAOmJ,aAAe,IAE9B1J,EAAMO,OAAOmJ,aAAahY,aAAe4+B,EAAO92B,YAhLhC,cAkLjBoW,GAAQlU,cAAclH,WAAakD,aAAQ,SAACsI,EAAOswB,GAClDtwB,EAAMO,OAAOmJ,aAAa2E,WAAaiiB,EAAO92B,QAAQR,SAnLtC,cAqLjB4W,GAAQlU,cAAcnH,sBAAwBmD,aAAQ,SAACsI,EAAOswB,GAC7DtwB,EAAMO,OAAOmJ,aAAa6E,sBAAwB+hB,EAAO92B,QAAQR,SAtLjD,cAwLjB4W,GAAQlU,cAAcuU,aAAevY,aAAQ,SAACsI,EAAOswB,GAAY,IAAD,eACzBA,EAAO92B,QAAQR,MAA9CwxD,EADwD,KAC7Cv6C,EAD6C,KAE/DjQ,EAAMO,OAAOjM,UAAUk2D,GAAWh8D,IAA+ByhB,MA1LjD,cA4LjBL,GAAQlU,cAAc+uD,iBAAmB/yD,aAAQ,SAACsI,EAAOswB,GAAY,IAAD,eAC/BA,EAAO92B,QAAQR,MAA5CwxD,EAD4D,KACjDE,EADiD,KAEnE1qD,EAAMO,OAAOjM,UAAUk2D,GAAWh8D,IAA+Bk8D,MA9LjD,cAgMjB96C,GAAQlU,cAAcwU,aAAexY,aAAQ,SAACsI,EAAOswB,GAAY,IACzDk6B,EADwD,aACvCl6B,EAAO92B,QAAQR,MADwB,GAE/DgH,EAAMO,OAAOjM,UAAUk2D,GAAvB,CAAqC,MAArC,oBAA8Cl6B,EAAO92B,QAAQR,WAlM7C,cAoMjB4W,GAAQlU,cAAcpH,UAAYoD,aAAQ,SAACsI,EAAOswB,GACjDtwB,EAAMO,OAAOjM,UAAb,CAA0B,MAA1B,oBAAmCg8B,EAAO92B,QAAQR,WArMlC,cAuMjB4W,GAAQlU,cAAc2F,cAAgB3J,aAAQ,SAACsI,EAAOswB,GACrDtwB,EAAMO,OAAOc,cAAgBivB,EAAO92B,QAAQR,SAxM5B,cA0MjB4W,GAAQlU,cAAc6F,aAAe7J,aAAQ,SAACsI,EAAOswB,GACpDtwB,EAAMO,OAAOgB,aAAe+uB,EAAO92B,QAAQR,SA3M3B,GA6MfwwD,GACAC,GACFL,K,0CCpJYuB,I,aA0BAC,I,aA0DAC,I,aAIAC,I,aAiBAC,I,aA4BAC,I,aAsBAC,I,aAWAC,I,aAoCAC,I,aA6EAC,I,aAKAC,I,aAaAC,I,aA2BAC,I,aAgIAC,I,aAqBAC,I,aAmBAC,I,aAmDAC,I,aAQAC,I,aAiBAC,I,aAwCAC,I,aAYAC,I,aAQAC,I,aA0EAC,I,aAaAC,I,aAUAC,I,aAQAC,I,aAaAC,I,aAqCAC,I,aAKAC,I,aAMAC,I,aAgCAC,IA17BJC,GAAkB,SAACvvD,EAAQC,EAAMG,GAC5C,IACE,OAAO,IAAIovD,UAAJ,YAAoBpvD,EAAY,IAAM,GAAtC,cAA+CJ,EAA/C,YAAyDC,EAAzD,gBACP,SACA,OAAO,OAILwvD,GAAuB,SAACC,EAAQ3tD,GACpC2tD,EAAOC,KAAK7D,KAAK8D,UAAU7tD,KA4BhB8tD,GAAoB,SAACH,EAAQxvD,EAAMC,GAC9C,OAAO,IAAIomC,SAAQ,SAACgB,EAASuoB,GAC3B,IAAMxlE,EAAKiG,GACLw/D,EAAS,WACbN,GAAqBC,E1GpDN,SAACxvD,EAAMC,GAAP,MAAqB,CAAE7V,GAAIiG,GAAU2P,OAAMC,WAAU6vD,MAAM,IAAI5tD,MAAOg9C,e0GoDxDjiD,CAAW+C,EAAMC,KAG1CgU,EAAU,SAAC/kB,GACfm4C,GAAQ,IAmBVmoB,EAAO/2D,iBAAiB,OAAQo3D,GAChCL,EAAO/2D,iBAAiB,QAASwb,GACjCu7C,EAAO/2D,iBAAiB,WAlBN,SAAZs3D,EAAa7gE,GACjB,IAAMyM,EAAOiwD,KAAKC,MAAM38D,EAAEyM,MAEvBA,EAAK0M,OAAS5X,IAAWkL,EAAKvR,KAAOA,IACtCi9C,GAAQ,GACRmoB,EAAO92D,oBAAoB,OAAQm3D,GACnCL,EAAO92D,oBAAoB,QAASub,GACpCu7C,EAAO92D,oBAAoB,UAAWq3D,IAGrCp0D,EAAK0M,OAAS5X,IAAWkL,EAAKvR,KAAOA,IACtC88C,QAAQoB,I9G5CgB,e8G4CM3sC,GAC9B0rC,GAAQ,WAUH2oB,GAAiB,SAACR,GAC1BA,EAAOS,aAAeX,UAAUY,QAAUV,EAAOS,aAAeX,UAAUa,SAC3EX,EAAOY,SAILC,GAA+B,SAACb,GACpC,OAAOxjB,yBAAa,SAAAC,GAClB,IAAIqkB,GAAmB,EAEjBP,EAAY,SAAC7gE,GACjB,IAAMyM,EAAOiwD,KAAKC,MAAM38D,EAAEyM,MAE1B20D,GAAmB,EAChB30D,EAAKvR,KAAOkG,IACb27C,EAAKtwC,IAIHsY,EAAU,WACdg4B,EAAK,IAAIskB,M9GpFkB,uB8GuF7Bf,EAAO/2D,iBAAiB,UAAWs3D,GACnCP,EAAO/2D,iBAAiB,QAASwb,GAEjC,IAAMigC,EAAWC,aAAY,WAC3B,GAAGmc,EAAkB,CAKnBf,GAAqBC,EAAQvyD,GAFlB3M,e9GhGe,U8GmG1BggE,GAAmB,OAInBrkB,EAAK,IAAIskB,M9GtGoB,2BAHL,K8G6G5B,OAAO,WACLf,EAAO92D,oBAAoB,UAAWq3D,GACtCP,EAAO92D,oBAAoB,QAASub,GACpCmgC,cAAcF,QAcb,SAAUoZ,GAAkBnuC,GAA5B,gGAIC,OAJD,SAIO+L,aAAOxoB,IAJd,gBAGDpG,EAHC,EAGDA,eAEIk0D,EAAMhoE,OAAOgB,KAAK21B,GALrB,MAMWqxC,EANX,4CAMKpmE,EANL,KAOKqqD,EAAMt1B,EAAS/0B,IAElBkS,EAAem4C,EAAIrqD,IATrB,gCAU0BkS,EAAem4C,EAAIrqD,KAV7C,2DAWG,OADMiS,EAVT,kBAWSL,aAAIC,GAAkBI,EAAcH,KAAMu4C,IAXnD,wHAAAgc,IAAA,yBAeEhc,EAAI74C,OAAQ64C,EAAI74C,KAAKU,eAfvB,gCAgB0Bm4C,EAAI74C,KAAKU,gBAhBnC,2DAiBG,OADMD,EAhBT,kBAiBSL,aAAIC,GAAkBI,EAAeo4C,IAjB9C,wHAAAgc,IAAA,4BAoBMtxC,EAAS/0B,GApBf,mCAsBH,OAtBG,UAsBGsmE,aAAM,IAtBT,mGA0BA,SAAUnD,GAA0BiC,GAApC,gGACqB,OADrB,SAC2BtmE,aAAKmnE,GAA8Bb,GAD9D,OAIL,OAHMmB,EADD,OAGCC,EAAsB,GAHvB,SAICC,aAAKvD,GAAmBsD,GAJzB,OAQW,OARX,mBAQiBE,aAAKH,GARtB,QAWG,OAHElc,EARL,iBAWSvpB,aAAOxoB,IAXhB,oBAUCpG,EAVD,EAUCA,gBAGCm4C,EAAIrqD,GAAG8J,WAAW,UAbpB,iBAkBC08D,EAAoBnc,EAAIrqD,IAAMqqD,EAlB/B,4BAoBIn4C,EAAem4C,EAAIrqD,IApBvB,gCAqB4BkS,EAAem4C,EAAIrqD,KArB/C,2DAsBK,OADMiS,EArBX,kBAsBWL,aAAIC,GAAkBI,EAAcH,KAAMu4C,IAtBrD,wHAAAgc,IAAA,yBA0BIhc,EAAI74C,OAAQ64C,EAAI74C,KAAKU,eA1BzB,gCA2B4Bm4C,EAAI74C,KAAKU,gBA3BrC,2DA4BK,OADMD,EA3BX,kBA4BWL,aAAIC,GAAkBI,EAAeo4C,IA5BhD,wHAAAgc,IAAA,wBAiCa,gBAAXhc,EAAIrqD,KAAwBqqD,EAAI94C,KAjClC,qBAkCI4W,GAAQ4M,SAASs1B,EAAI94C,KAAKO,MAlC9B,iBAmCG,OAnCH,UAmCSF,aAAIuW,GAAQ4M,SAASs1B,EAAI94C,KAAKO,MAAMu4C,EAAI94C,KAAKpP,KAAMkoD,IAnC5D,gCAqCG,OArCH,UAqCSz4C,aAAIuW,GAAQ4M,SAASgoB,MAAMsN,EAAI94C,KAAKpP,KAAMkoD,IArCnD,QAwCC,OAxCD,UAwCOz4C,aAAIuW,GAAQvW,IAAI+0D,cAxCvB,aA2CEtc,EAAIpsC,OAAS5X,IAAYgkD,EAAI94C,MAAQ84C,EAAI94C,KAAKq1D,QA3ChD,iBAiDC,OALM90D,EAAQu4C,EAAI94C,KAAKq1D,QAAUvc,EAAI94C,KAAKq1D,OAAO90D,MAAS,QACpD2F,EAAW4yC,EAAI94C,MAAQ84C,EAAI94C,KAAKkG,SACrB4yC,EAAI94C,MAAQ84C,EAAI94C,KAAKq1D,QAAUvc,EAAI94C,KAAKq1D,OAAOnvD,SAC/C4yC,EAAI94C,MAAQ84C,EAAI94C,KAAKq1D,QAAUvc,EAAI94C,KAAKq1D,OAAOzkE,MAChDkoD,EAAIpsC,KAAKpB,QAAQ,IAAK,IAhDvC,UAiDOjL,aAAIuW,GAAQ4M,SAASjjB,GAAM2F,EAAS4yC,IAjD3C,0DAoDDvN,QAAQoB,IAAI,eAAZ,MACAqoB,EAAkBP,QArDjB,0GA0DA,SAAU5C,GAAsBgC,EAAQv8B,GAAxC,kEACL,OADK,SACC/pC,aAAKqmE,GAAsBC,EAAQv8B,EAAO92B,SAD3C,wCAIA,SAAUsxD,GAAuB+B,GAAjC,kEACL,OADK,SACCyB,aAAU,CACd1+C,GAAQtV,KAAKi0D,IACb3+C,GAAQtV,KAAKvB,IACb6W,GAAQtV,KAAKnB,MACbyW,GAAQtV,KAAKjB,IACbuW,GAAQtV,KAAKk0D,QACb5+C,GAAQtV,KAAKm0D,SANA,oBAOV5oE,OAAOqb,OAAO0O,GAAQzW,QAPZ,aAQVtT,OAAOqb,OAAO0O,GAAQxW,UARZ,aASVvT,OAAOqb,OAAO0O,GAAQ7W,MATZ,aAUVlT,OAAOqb,OAAO0O,GAAQvW,MAVZ,aAWVxT,OAAOqb,OAAO0O,GAAQ9U,aAXZ,aAYVjV,OAAOqb,OAAO0O,GAAQ1U,cACxB2vD,GAAuBgC,GAdrB,wCAiBA,SAAU9B,KAAV,wFAOD,OAPC,SAOKxiC,aAAOroB,IAPZ,OASU,OATV,SAEH/C,EAFG,EAEHA,OACAC,EAHG,EAGHA,KACAC,EAJG,EAIHA,KACAC,EALG,EAKHA,SACAC,EANG,EAMHA,UANG,UASgBhX,aAAKmmE,GAAiBvvD,EAAQC,EAAMG,GATpD,aASCsvD,EATD,yBAac,OAbd,UAaoBtmE,aAAKymE,GAAmBH,EAAQxvD,EAAMC,GAb1D,oCAeD,OAfC,UAeKjE,aAAIuW,GAAQ4M,SAAS+1B,KAAK,0BAf/B,QAgBgB,OAhBhB,UAgBsB2b,aAAKpD,GAAwB+B,GAhBnD,QAiBmB,OADd6B,EAhBL,iBAiByBR,aAAKtD,GAA2BiC,GAjBzD,QAkBD,OADM8B,EAjBL,iBAkBKt1D,aAAIuW,GAAQu6C,aAAY,IAlB7B,QAoBD,OApBC,UAoBK7+D,aAAKqjE,GApBV,QAqBD,OArBC,UAqBKxgB,aAAOugB,GArBZ,QAsBD,OAtBC,UAsBKr1D,aAAIuW,GAAQ4M,SAAS81B,QAAQ,kCAtBlC,QAwBH,OAxBG,UAwBG/rD,aAAK8mE,GAAgBR,GAxBxB,yCA4BA,SAAU7B,KAAV,wEAC4B,OAD5B,SACkC4D,aAAch/C,GAAQ4kC,sBADxD,OACCqa,EADD,cAGY,OAHZ,SAGkBC,aAAK,CAAEC,wBAAyBZ,aAAKU,GAC9BG,WAAYzoE,aAAKwkE,MAJ1C,kBAKOgE,wBALP,iBAQD,OARC,UAQKxoE,aAAK0kE,IARV,gCAYD,OAZC,UAYK8C,aAAM,KAZX,QAcH,OAdG,UAcG10D,aAAIuW,GAAQu6C,aAAY,IAd3B,gEAkBP,IAAM8E,GAAuC,SAAC9xD,EAAQC,EAAMC,EAAMC,EAAUC,GAC1E4rD,aAAa/jB,QAAQr3C,GAAkBk7D,KAAK8D,UAAU,CAAE5vD,SAAQC,OAAMC,OAAMC,WAAUC,gBAGjF,SAAU0tD,KAAV,kFAOD,OAPC,SAOK1iC,aAAOroB,IAPZ,OAQL,OARK,SAEH/C,EAFG,EAEHA,OACAC,EAHG,EAGHA,KACAC,EAJG,EAIHA,KACAC,EALG,EAKHA,SACAC,EANG,EAMHA,UANG,UAQChX,aAAK0oE,GAAsC9xD,EAAQC,EAAMC,EAAMC,EAAUC,GAR1E,yCAWA,SAAU2tD,KAAV,8EAEL,OAFK,SAEC7xD,aAAIuW,GAAQ9U,WAAWwH,YAFxB,OAKL,OALK,SAKC6rD,aAAKv+C,GAAQ26C,SAASzvD,WAAWwH,UALlC,OAQY,OARZ,SAQkBimB,aAAOlmB,IARzB,OAQCC,EARD,sBAUUsN,GAAQzW,OAVlB,iDAUG/S,EAVH,aAWGwS,EAAkB2D,GAA4BnW,MAC9Bkc,EAAS1J,GAZ5B,iBAcD,OADM8vD,EAAgB94C,GAAQzW,MAAM/S,GAbnC,UAcKiT,aAAIqvD,KAdT,gEAoCA,SAAUyC,GAAwB76B,GAAlC,sEACcA,EAAO92B,QADrB,kBAKH,OALG,SAKGH,aAAIuW,GAAQzW,MAAMwI,SALrB,OAMH,OANG,SAMGtI,aAAIuW,GAAQ7W,IAAI8N,UANnB,OAOH,OAPG,SAOGxN,aAAIuW,GAAQ7W,IAAIyN,YAPnB,OAQH,OARG,UAQGnN,aAAIuW,GAAQzW,MAAM6N,YARrB,QASH,OATG,UASG3N,aAAIuW,GAAQzW,MAAM4I,aATrB,QAUH,OAVG,UAUG1I,aAAIuW,GAAQzW,MAAM0I,YAVrB,QAWH,OAXG,UAWGxI,aAAIuW,GAAQzW,MAAM8I,aAXrB,QAYH,OAZG,UAYG5I,aAAIuW,GAAQzW,MAAMiJ,cAZrB,QAaH,OAbG,UAaG/I,aAAIuW,GAAQzW,MAAM4P,+BAbrB,QAeH,OAfG,UAeG1P,aAAIuW,GAAQ9U,WAAWmI,iBAf1B,QAgBH,OAhBG,UAgBG5J,aAAIuW,GAAQzW,MAAMuJ,WAhBrB,QAsBH,OAtBG,UAsBGwrD,aAAKhD,IAtBR,QAwBH,OAxBG,UAwBG7xD,aAAIuW,GAAQzW,MAAMgM,8BAxBrB,QAyBH,OAzBG,UAyBG9L,aAAIuW,GAAQzW,MAAM+P,aAzBrB,QA0BH,OA1BG,UA0BG7P,aAAIuW,GAAQzW,MAAMD,WA1BrB,QA2BH,OA3BG,UA2BGG,aAAIuW,GAAQzW,MAAM2N,SA3BrB,QA4BH,OA5BG,UA4BGzN,aAAIuW,GAAQzW,MAAMmQ,WA5BrB,QA6BH,OA7BG,UA6BGjQ,aAAIuW,GAAQzW,MAAMiQ,YA7BrB,QA8BH,OA9BG,UA8BG/P,aAAIuW,GAAQzW,MAAM6L,UA9BrB,QA+BH,OA/BG,UA+BG3L,aAAIuW,GAAQzW,MAAM8L,UA/BrB,QAgCH,OAhCG,UAgCG5L,aAAIuW,GAAQzW,MAAM4P,+BAhCrB,QAkCH,OAlCG,UAkCG1P,aAAIuW,GAAQzW,MAAMkP,0BAlCrB,QAmCH,OAnCG,UAmCGhP,aAAIuW,GAAQzW,MAAMmP,0BAnCrB,QAoCH,OApCG,UAoCGjP,aAAIuW,GAAQzW,MAAM8O,wBApCrB,QAqCH,OArCG,UAqCG5O,aAAIuW,GAAQ7W,IAAI+O,mBArCnB,QAsCH,OAtCG,UAsCGzO,aAAIuW,GAAQzW,MAAMgP,sBAtCrB,QAuCH,OAvCG,UAuCG9O,aAAIuW,GAAQzW,MAAMuO,sBAvCrB,QAwCH,OAxCG,UAwCGrO,aAAIuW,GAAQzW,MAAMyO,mBAxCrB,QA0CH,OA1CG,UA0CGvO,aAAIuW,GAAQzW,MAAMiM,gBA1CrB,QA2CH,OA3CG,UA2CG/L,aAAIuW,GAAQzW,MAAMkM,gBA3CrB,QA4CH,OA5CG,UA4CGhM,aAAIuW,GAAQzW,MAAM+1D,eA5CrB,QA6CH,OA7CG,UA6CG71D,aAAIuW,GAAQzW,MAAMg2D,gBA7CrB,QA8CH,OA9CG,UA8CG91D,aAAIuW,GAAQzW,MAAMi2D,aA9CrB,QA+CH,OA/CG,UA+CG/1D,aAAIuW,GAAQzW,MAAM4J,YA/CrB,QAgDH,OAhDG,UAgDG1J,aAAIuW,GAAQzW,MAAM2J,eAhDrB,QAiDH,OAjDG,UAiDGzJ,aAAIuW,GAAQzW,MAAMk2D,aAjDrB,QAkDH,OAlDG,UAkDGh2D,aAAIuW,GAAQzW,MAAMm2D,UAlDrB,QAmDH,OAnDG,UAmDGj2D,aAAIuW,GAAQzW,MAAMo2D,QAnDrB,QAoDH,OApDG,UAoDGl2D,aAAIuW,GAAQzW,MAAMq2D,SApDrB,QAqDH,OArDG,UAqDGn2D,aAAIuW,GAAQzW,MAAM9E,iBArDrB,QAsDH,OAtDG,UAsDGgF,aAAIuW,GAAQzW,MAAM+L,YAtDrB,QAuDH,OAvDG,UAuDG7L,aAAIuW,GAAQzW,MAAMsI,cAvDrB,QAwDH,OAxDG,UAwDGpI,aAAIuW,GAAQzW,MAAMs2D,gBAxDrB,QAyDH,OAzDG,UAyDGp2D,aAAIuW,GAAQzW,MAAMqrC,SAzDrB,QA0DH,OA1DG,UA0DGnrC,aAAIuW,GAAQzW,MAAMuQ,gBA1DrB,QA2DH,OA3DG,UA2DGrQ,aAAIuW,GAAQzW,MAAMiL,MA3DrB,QA4DH,OA5DG,UA4DG/K,aAAIuW,GAAQzW,MAAMu2D,eA5DrB,QA6DH,OA7DG,UA6DGr2D,aAAIuW,GAAQzW,MAAMqrD,cA7DrB,QA8DH,OA9DG,WA8DGnrD,aAAIuW,GAAQzW,MAAMw2D,oBA9DrB,SA+DH,OA/DG,WA+DGt2D,aAAIuW,GAAQzW,MAAM7E,aA/DrB,SAiEH,OAjEG,WAiEG+E,aAAIuW,GAAQ7W,IAAI62D,iBAjEnB,SAkEH,OAlEG,WAkEGv2D,aAAIuW,GAAQ7W,IAAIyH,UAlEnB,SAmEH,OAnEG,WAmEGnH,aAAIuW,GAAQ7W,IAAIsI,iBAnEnB,SAoEH,OApEG,WAoEGhI,aAAIuW,GAAQ7W,IAAIwI,gBApEnB,SAsEH,OAtEG,WAsEGlI,aAAIuW,GAAQ9G,QAAQ+mD,eAAe9mD,4BAA4B,MAtElE,SAuEH,OAvEG,WAuEG1P,aAAIuW,GAAQ9G,QAAQ+mD,eAAezmD,SAAS,MAvE/C,SAwEH,OAxEG,WAwEG/P,aAAIuW,GAAQ9G,QAAQ+mD,eAAe3mD,UAAU,MAxEhD,SAyEH,OAzEG,WAyEG7P,aAAIuW,GAAQ9G,QAAQ+mD,eAAevmD,QAAQ,MAzE9C,0CA6EA,SAAU8hD,KAAV,kEACL,OADK,SACC0E,aAAW,CAAElgD,GAAQu6C,aAAegB,IADrC,wCAKA,SAAUE,GAAoCryD,GAA9C,kFACCT,EAAOS,EAAK4qC,WACZmsB,EAAYtlE,KAAK02B,KAAK5oB,EAAK3K,IAEzB5H,EAAI,EAJP,YAIUA,EAAI+pE,GAJd,iBAQH,OAHMC,EAAc,IAANhqE,EACRiqE,EAAMjqE,IAAM+pE,EAAU,EACtBG,EAAY,IAAIjtB,WAAWjqC,EAAKwM,MAAMxf,EAAE4H,IAAyB5H,EAAE,GAAG4H,KAPzE,SAQG,CAAEoiE,QAAOC,MAAKj3D,KAAMk3D,EAAWttD,UAAW5c,EAAE,GAAG+pE,GARlD,OAIyB/pE,IAJzB,wDAaA,SAAUslE,GAA6BtyD,GAAvC,8EACCT,EAAOS,EAAKT,KACZw3D,EAAYtlE,KAAK02B,KAAK5oB,EAAK3K,IAF5B,wBAIG5H,GAJH,0EAOH,OAFMgqE,EAAc,IAANhqE,EACRiqE,EAAMjqE,IAAM+pE,EAAU,EANzB,SAOG,IAAIrsB,SAAQ,SAACgB,EAASuoB,GAC1B,IAAMkD,EAAS,IAAIC,WACbpqB,EAAOhtC,EAAKwM,MAAMxf,EAAE4H,IAAyB5H,EAAE,GAAG4H,IACxDuiE,EAAOE,OAAS,SAAC9jE,GACO,OAAnBA,EAAExG,OAAOy+C,MACVE,EAAQ,CACNsrB,QACAC,MACAj3D,KAAM,IAAIiqC,WAAW12C,EAAExG,OAAOuqE,QAC9B1tD,UAAW5c,EAAE,GAAG+pE,IAGlB9C,EAAO1gE,EAAExG,OAAOy+C,QAGpB2rB,EAAOI,kBAAkBvqB,MAtBxB,0CAIGhgD,EAAI,EAJP,YAIUA,EAAI+pE,GAJd,yCAIG/pE,GAJH,eAIyBA,IAJzB,uDA2BA,SAAUulE,GAAkBniB,EAASonB,EAAwB/xD,EAAM+qC,EAAUxwC,GAA7E,gIACc,OADd,SACoBuvB,aAAOtiB,GAAkBxH,GAD7C,UACCyH,EADD,OAED3N,EAAO,EACPk4D,EAAW,KACK,kBAAVz3D,GACF03D,EAAc,IAAIC,YAAY,SACpC33D,EAAO03D,EAAYE,OAAO53D,GAC1BT,EAAOS,EAAK4qC,WACZ6sB,EAAW,eACsC,yBAAzC5qE,OAAOQ,UAAUof,SAASlf,KAAKyS,IACvCT,EAAOS,EAAK4qC,WACZ6sB,EAAW,eACHz3D,aAAgBitC,MAExB1tC,EAAOS,EAAKT,KACZk4D,EAAW,QAEXlsB,QAAQC,MAAM,+EAEbt+B,IAAcuqD,EAnBZ,kBAwBH,OAFMI,EAAS,oBAAsBpyD,EAAKrN,cACpC0/D,EAAel3D,GAA2B,WAAY,mBAAoB6E,EAAKrN,eAvBlF,UAwBGiI,aAAIuW,GAAQtV,KAAKjB,IAAI,CAAE5R,GAAIopE,EAAQ53D,KAAMQ,GAAuB,GAAIq3D,GAAe93D,KAAM,CAAEyF,EAAM+qC,EAAUjxC,EAAM2N,EAAWI,WAAa5N,KAAM,sBAxBlJ,QAyBkB,OAzBlB,UAyBwBy1D,aAAK2C,GAzB7B,YAyBGC,EAzBH,QA2Bav3D,QAAQkM,OAAS5X,GA3B9B,iBA8CD,OAfMq5C,EAAS,IAAI6pB,YAAYz4D,GACzB0vC,EAAW,IAAIhF,WAAWkE,GAC5B8pB,EAAe,EAGH,gBAAbR,EAEDS,EAAiB7F,GAAoCryD,GAChC,SAAby3D,IAGRS,EAAiB5F,GAA6BtyD,IA1C/C,UA8CKK,aAAIuW,GAAQ1J,WAAWtD,SAAS,CAAEnE,OAAM+qC,WAAU5mC,SAAU,KA9CjE,QAmDKuuD,EAAQ,IAAIC,KAASJ,YACvBK,EAAc,EApDjB,eAqDuBH,GArDvB,2DAsDe,OADRI,EArDP,kBAsDqB5tB,QAAQgB,QAAQ4sB,GAtDrC,QA6DC,IAPMC,EAtDP,OAwDSrB,EAEJqB,EAFFv4D,KACA4J,EACE2uD,EADF3uD,SAGI4uD,EAAiB,IAAI16D,MAAMo5D,EAAUtsB,YACnC59C,EAAI,EAAGA,EAAIkqE,EAAUtsB,WAAY59C,IACvCiiD,EAASgpB,EAAajrE,GAAKkqE,EAAUlqE,GACrCwrE,EAAexrE,GAAKszB,OAAOm4C,aAAavB,EAAUlqE,IAUpD,OARAirE,GAAgBf,EAAUtsB,WAEpB8tB,EAAyBC,KAAKH,EAAelmE,KAAK,KAExD6lE,EAAMS,OAAO1B,GAEP2B,EAAU,qBAAuBR,EAAc,IAAM5yD,EAAKrN,cAC1D0gE,EAAoBl4D,GAA2B,WAAY,qBAAuBy3D,EAAa5yD,EAAKrN,eAxE3G,UAyEOiI,aAAIuW,GAAQtV,KAAKjB,IAAI,CAAE5R,GAAIoqE,EAASn5D,KAAM,oBAAqBM,KAAM,CAAEyF,EAAM+qC,EAAUkoB,GAA0Bz4D,KAAMQ,GAAuB,GAAIq4D,MAzEzJ,QA0EkB,OA1ElB,UA0EwB3D,aAAK2D,GA1E7B,YA0EOvH,EA1EP,QA2Ea/wD,QAAQkM,OAAS5X,GA3E9B,iBA4EG,OA5EH,UA4ESuL,aAAIuW,GAAQ1J,WAAWtD,SAAS,CAAEnE,OAAM+qC,WAAU5mC,cA5E3D,gCA+EG,OADA2hC,QAAQC,MAAM,oBAAqB+lB,GA9EtC,UA+ESlxD,aAAIuW,GAAQ4M,SAASgoB,MAAjB,iCAAiD/lC,GAAQ8rD,EAAS/wD,UA/E/E,QAgFG,OAhFH,UAgFSH,aAAIuW,GAAQ1J,WAAWioC,OAAO,CAAE1vC,OAAM+qC,cAhF/C,QAmFC6nB,IAnFD,wHAAAvD,IAAA,qBA2FD,OALMpvD,EAAWyyD,EAAMlB,MACvBztD,GAAUuvD,kBAAkBrzD,EAAUyoC,GAEhC6qB,EAAa,wBAA0BvzD,EAAKrN,cAC5C6gE,EAAuBr4D,GAA2B,WAAY,uBAAwB6E,EAAKrN,eA1FhG,UA2FKiI,aAAIuW,GAAQtV,KAAKjB,IAAI,CAAE5R,GAAIuqE,EAAY/4D,KAAMQ,GAAuB,GAAIw4D,GAAuBv5D,KAAM,uBAAwBM,KAAM,CAAEyF,EAAM+qC,EAAU9qC,MA3F1J,QA6FwB,OA7FxB,UA6F8ByvD,aAAK8D,GA7FnC,YA6FKC,EA7FL,QA8FmB14D,QAAQkM,OAAS5X,GA9FpC,iBA+FC,OA/FD,UA+FOuL,aAAIuW,GAAQ1J,WAAW8jD,SAAS,CAAEvrD,OAAM+qC,cA/F/C,gCAiGC,OAjGD,UAiGOnwC,aAAIuW,GAAQ4M,SAASgoB,MAAjB,qCAAqD/lC,GAAQyzD,EAAiB14D,UAjGzF,QAkGC,OAlGD,UAkGOH,aAAIuW,GAAQ1J,WAAWioC,OAAO,CAAE1vC,OAAM+qC,cAlG7C,QAmGCjF,QAAQC,MAAM,oBAAqB0tB,GAnGpC,oC9GvbyB,iB8G4hBlBnB,EAAav3D,QAAQkM,KArG5B,kBA8GkB,OA9GlB,UA8GwB6iB,aAAOtiB,GAAkBxH,GA9GjD,mBAgHa6H,UAhHb,iBAiHC,OAjHD,UAiHOjN,aAAI+vC,EAAS,CAAE3qC,OAAM+qC,WAAUxwC,SAjHtC,gCAmHC,OAnHD,UAmHOK,aAAIuW,GAAQ1J,WAAW+jD,gBAAgB,CAAExrD,OAAM+qC,cAnHtD,QAoHC,OApHD,UAoHOnwC,aAAIm3D,EAAyB,CAAE/xD,OAAM+qC,WAAUxwC,SApHtD,kCAwHD,OADAurC,QAAQC,MAAM,uBAAwBusB,GAvHrC,WAwHK13D,aAAIuW,GAAQ4M,SAASgoB,MAAjB,4CAA4D/lC,GAAQsyD,EAAav3D,UAxH1F,SAyHD,OAzHC,WAyHKH,aAAIuW,GAAQ1J,WAAWioC,OAAO,CAAC1vC,OAAM+qC,cAzH1C,mCA6HE,GA7HF,+DAgIA,SAAUgiB,GAAV,+EACuB,OADY/sD,EAAnC,EAAmCA,KAAnC,EAAyC+qC,SAAzC,SAC6BolB,aAAc,CAAEh/C,GAAQ1J,WAAWioC,OACnBv+B,GAAQ1J,WAAWgoC,YAFhE,OACCikB,EADD,cAIH,OAJG,SAIGhE,aAAKgE,GAJR,OAKgB,OALhB,SAKsB5pC,aAAOtiB,GAAkBxH,GAL/C,WAKGyH,EALH,SAMeA,EAAWlG,QAAUzS,GANpC,sGAUE,GAVF,yCAqBA,SAAUk+D,GAAiBriB,EAASonB,GAApC,8EAE8B,OAF9B,SAEoCrC,aAAK/kB,GAFzC,OAGH,OAHG,SAEK3qC,EAFL,EAEKA,KAAM+qC,EAFX,EAEWA,SAAUxwC,EAFrB,EAEqBA,KAFrB,SAGG81D,aAAK,CACTtqB,MAAOj+C,aAAKilE,GAAyB,CAAE/sD,OAAM+qC,aAC7C4oB,SAAU7rE,aAAKglE,GAAmBniB,EAASonB,EAAwB/xD,EAAM+qC,EAAUxwC,KALlF,+DAmBA,SAAU0yD,GAAgCtiB,EAASonB,GAAnD,4HAGuB,OAFtB6B,EAAuB,GADxB,SAG6BzD,aAAch/C,GAAQ1J,WAAWioC,QAH9D,OAI0B,OADzBgkB,EAHD,gBAIgCvD,aAAch/C,GAAQ1J,WAAWgoC,WAJjE,OAKiC,OADhCokB,EAJD,gBAKuC1D,aAAch/C,GAAQ1J,WAAWkoC,kBALxE,OAMoC,OADnCmkB,EALD,iBAM0C3D,aAAch/C,GAAQ1J,WAAWmoC,qBAN3E,QAMCmkB,EAND,eAcc,OAdd,UAcoB1D,aAAK,CAAE2D,uBAAwBtE,aAAKqC,GAC7BriB,OAAQggB,aAAKgE,GACbjkB,UAAWigB,aAAKmE,GAChBI,QAASvE,aAAKoE,GACdI,WAAYxE,aAAKqE,KAlB5C,oBAUDC,EAVC,EAUDA,uBACAtkB,EAXC,EAWDA,OACAD,EAZC,EAYDA,UACAwkB,EAbC,EAaDA,QACAC,EAdC,EAcDA,YAMCD,EApBA,sBAqB0BA,EAAQl5D,QAA3BiF,EArBP,EAqBOA,KAAM+qC,EArBb,EAqBaA,WACRxwC,EAAOq5D,EAAqB5zD,IAtBjC,iBAyBC,cADO4zD,EAAqB5zD,GAxB7B,UAyBOpF,aAAI+vC,EAAS,CAAE3qC,OAAM+qC,WAAUxwC,SAzBtC,oCA2BO25D,EA3BP,iBA4BKlwD,EAAQ5c,OAAOgB,KAAKwrE,GA5BzB,MA6Be5vD,EA7Bf,0CAgCC,OAHMhE,EA7BP,KA8BOzF,EAAOq5D,EAAqB5zD,UAC3B4zD,EAAqB5zD,GA/B7B,UAgCOpF,aAAI+vC,EAAS,CAAE3qC,OAAMzF,SAhC5B,4DAkCI,GAAGm1C,EACA1vC,EAAS0vC,EAAO30C,QAAhBiF,KACL4zD,EAAqB5zD,WACf4zD,EAAqB5zD,QAEzB,GAAGyvC,EAER,IADMzrC,EAAQ5c,OAAOgB,KAAKwrE,GACtB,EAAJ,IAAgB5vD,EAAhB,eAAQhE,EAAe,YACd4zD,EAAqB5zD,QAEtBg0D,IACAh0D,EAAeg0D,EAAfh0D,KAAMzF,EAASy5D,EAATz5D,KACdq5D,EAAqB5zD,GAAQzF,GA9C5B,iEAmDA,SAAU2yD,GAA0Br7B,GAApC,gFACe,OADf,SACqB/H,aAAOpiB,IAD5B,OACCysD,EADD,sBAEaA,GAFb,8CAIH,OAFMC,EAFH,aAGwBD,EAAYC,GAA/Bp0D,EAHL,EAGKA,KAAM+qC,EAHX,EAGWA,SAHX,SAIGnwC,aAAIuW,GAAQvW,IAAIy5D,iBAAiB,CAAE95D,KAAM,CAAEyF,EAAM+qC,MAJpD,8BAML,OANK,UAMCnwC,aAAIuW,GAAQ1J,WAAW4jD,aANxB,yCAQA,SAAU8B,GAAuBt7B,GAAjC,4EAGL,OAHK,EACsBA,EAAO92B,QAA1BiF,EADH,EACGA,KAAM+qC,EADT,EACSA,SADT,SAGCnwC,aAAIuW,GAAQvW,IAAIy5D,iBAAiB,CAAE95D,KAAM,CAAEyF,EAAM+qC,MAHlD,OAIL,OAJK,SAICnwC,aAAIuW,GAAQ1J,WAAW6jD,OAAOtrD,IAJ/B,wCAiBA,SAAUotD,KAAV,0FAE2B,OAD1BkH,EAAmBzkB,GAAUlF,QAD9B,SAEiC7iD,aAAK6iD,YAFtC,OAGoC,OADnC4pB,EAFD,gBAG0CzsE,aAAK6iD,YAH/C,OAGC6pB,EAHD,OAKCC,EAAa,GACXltE,EAAI,EANP,YAMUA,EAAIktE,GANd,iBAOH,OAPG,UAOGhF,aAAKzC,GAAkBuH,EAAyBC,GAPnD,QAM0BjtE,IAN1B,uBASL,OATK,UASCkoE,aAAKxC,GAAiCsH,EAAyBC,GAThE,QAUL,OAVK,UAUC3E,aAAU1+C,GAAQ1J,WAAWioC,OAAQyd,IAVtC,QAWL,OAXK,UAWCkE,aAAWlgD,GAAQ1J,WAAWgoC,UAAWyd,IAX1C,QAeyC,OAfzC,UAe+CwC,aAAK4E,GAfpD,QAiBgB,OAjBhB,SAeKt0D,EAfL,EAeKA,KAAM+qC,EAfX,EAeWA,SAAUxwC,EAfrB,EAeqBA,KAAMsN,EAf3B,EAe2BA,UAf3B,UAiBsBiiB,aAAOnoB,IAjB7B,oCAmBmB,OAnBnB,UAmByBmoB,aAAOpiB,IAnBhC,kBAwBe1H,GAxBf,iBA2BC,OA3BD,UA2BOpF,aAAIuW,GAAQ1J,WAAWgkD,OAAO,CAAEzrD,OAAM+qC,WAAUljC,eA3BvD,QA+BC,OA/BD,UA+BOjN,aAAI25D,EAAyB,CAAEv0D,OAAM+qC,WAAUxwC,SA/BtD,gCAkCD,OAlCC,UAkCKm6D,aAAMH,GAlCX,QAmCD,OAnCC,UAmCKG,aAAMF,GAnCX,iEAwCA,SAAUnH,GAA6Bx7B,GAAvC,6EACC7xB,EAAO6xB,EAAO92B,QAAQR,KAG1Bo6D,EADC30D,EAAKlN,WAAW,WACT/D,GAEGA,IACViR,EAPE,gBAQH,OARG,SAQGirC,GAAcH,YAAY9qC,EAAM20D,GARnC,wCAYA,SAAUrH,KAAV,kEACL,OADK,SACC+D,aAAWlgD,GAAQ4xB,OAAO9+B,QAASopD,IADpC,wCAQA,SAAUE,GAAoBvtD,EAAM+qC,EAAUC,GAA9C,sGACgB,OADhB,SACsBlhB,aAAOziB,GAAoBrH,GADjD,mCAOH,OAFMoyD,EAAS,sBAAwBpyD,EAAKrN,cACtC0/D,EAAel3D,GAA2B,WAAY,qBAAsB6E,EAAKrN,eANpF,SAOGiI,aAAIuW,GAAQtV,KAAKjB,IAAI,CAAE5R,GAAIopE,EAAQ53D,KAAMQ,GAAuB,GAAIq3D,GAAe93D,KAAM,CAAEyF,EAAM+qC,GAAY9wC,KAAM,wBAPtH,OAQkB,OARlB,UAQwBy1D,aAAK2C,GAR7B,YAQGC,EARH,QAUav3D,QAAQkM,OAAS5X,GAV9B,iBAgBD,OAhBC,EAcGijE,EAAav3D,QAAQR,KAFvBT,EAZD,EAYCA,KACAmG,EAbD,EAaCA,SAbD,UAgBKrF,aAAIuW,GAAQpN,UAAUqnD,gBAAgBprD,EAAMC,IAhBjD,QAiBD,OAjBC,UAiBKrF,aAAIuW,GAAQpN,UAAUmnD,aAAajrD,EAAUnG,IAjBlD,QAkBkB,OAlBlB,UAkBwBhS,aAAK,CAACic,GAAWA,GAAU+iC,SAAU7mC,GAlB7D,oCAoBC,OApBD,UAoBOrF,aAAIuW,GAAQpN,UAAUonD,eAAelrD,EAAUnG,IApBtD,QAqBC,OArBD,UAqBOc,aAAIuW,GAAQvW,IAAIg6D,mBAAmB,CAAEr6D,KAAM,CAAEyF,EAAM+qC,MArB1D,gCAuBOrC,EAAS,IAAI6pB,YAAYz4D,GAC/BiK,GAAUoiC,cAAclmC,EAAUyoC,GAS5BmsB,EAAa,IAAIrwB,WAAWkE,GAC9BmB,EAAW,EAETynB,EAAYtlE,KAAK02B,KAAK5oB,EAAK1K,IACzB7H,EAAI,EArCb,aAqCgBA,EAAI+pE,GArCpB,iBAwCG,OAFM8B,EAAU,uBAAyB7rE,EAAI,IAAMyY,EAAKrN,cAClD0gE,EAAoBl4D,GAA2B,WAAY,uBAAyB5T,EAAGyY,EAAKrN,eAvCrG,UAwCSiI,aAAIuW,GAAQtV,KAAKjB,IAAI,CAAE5R,GAAIoqE,EAASn5D,KAAM,sBAAuBM,KAAM,CAAEyF,EAAM+qC,EAAU37C,IAA4BoL,KAAMQ,GAAuB,GAAIq4D,MAxC/J,QAyCoB,OAzCpB,UAyC0B3D,aAAK2D,GAzC/B,YAyCSvH,EAzCT,QA0Ce/wD,QAAQkM,OAAS5X,GA1ChC,iBA4CK,IADMylE,EAAgBC,KAAKjJ,EAAS/wD,QAAQR,KAAKu4D,OACzCvrE,EAAI,EAAGA,EAAIutE,EAAcrtE,OAAQF,IACvCstE,EAAWttE,EAAEsiD,GAAYirB,EAAchtB,WAAWvgD,GAGpD,OADAsiD,GAAYirB,EAAcrtE,OA/C/B,UAgDWmT,aAAIuW,GAAQpN,UAAUonD,eAAelrD,EAAU4pC,IAhD1D,gCAmDK,OADA/D,QAAQC,MAAM,sBAAuB+lB,GAlD1C,UAmDWlxD,aAAIuW,GAAQ4M,SAASgoB,MAAjB,mCAAmD/lC,GAAQ8rD,EAAS/wD,UAnDnF,QAoDK,OApDL,UAoDWH,aAAIuW,GAAQvW,IAAIg6D,mBAAmB,CAAEr6D,KAAM,CAAEyF,EAAM+qC,MApD9D,4CAqC+BxjD,IArC/B,wBAyDC,OAzDD,UAyDOqT,aAAIuW,GAAQpN,UAAUonD,eAAelrD,EAAUnG,IAzDtD,QA0DCiK,GAAUuvD,kBAAkBrzD,EAAUyoC,GA1DvC,QA4DGsC,GACFA,EAASjnC,GAAW9D,EAAUD,GA7D/B,wBAkED,OADA8lC,QAAQC,MAAM,yBAA0BusB,GAjEvC,UAkEK13D,aAAIuW,GAAQ4M,SAASgoB,MAAjB,8CAA8D/lC,GAAQsyD,EAAav3D,UAlE5F,QAmED,OAnEC,UAmEKH,aAAIuW,GAAQ7J,aAAaooC,OAAO,CAAC1vC,OAAM+qC,cAnE5C,kCAuEE,GAvEF,yCA0EA,SAAUyiB,GAAV,+EACuB,OADcxtD,EAArC,EAAqCA,KAArC,EAA2C+qC,SAA3C,SAC6BolB,aAAc,CAAEh/C,GAAQ7J,aAAaooC,OACrBv+B,GAAQ7J,aAAamoC,YAFlE,OACCikB,EADD,cAIH,OAJG,SAIGhE,aAAKgE,GAJR,OAKkB,OALlB,SAKwB5pC,aAAOziB,GAAoBrH,GALnD,WAKGsH,EALH,SAMiBA,EAAa/F,QAAUzS,GANxC,sGAUE,GAVF,yCAaA,SAAU2+D,GAAmB9iB,GAA7B,8EAEkC,OAFlC,SAEwC+kB,aAAK/kB,GAF7C,OAGH,OAHG,SAEK3qC,EAFL,EAEKA,KAAM+qC,EAFX,EAEWA,SAAUC,EAFrB,EAEqBA,SAFrB,SAGGqlB,aAAK,CACTtqB,MAAOj+C,aAAK0lE,GAA2B,CAAExtD,OAAM+qC,aAC/C4oB,SAAU7rE,aAAKylE,GAAqBvtD,EAAM+qC,EAAUC,KALnD,+DAUA,SAAU0iB,GAA4B77B,GAAtC,gFACiB,OADjB,SACuB/H,aAAOviB,IAD9B,OACCytD,EADD,sBAEeA,GAFf,8CAIH,OAFMC,EAFH,aAGwBD,EAAcC,GAAjCj1D,EAHL,EAGKA,KAAM+qC,EAHX,EAGWA,SAHX,SAIGnwC,aAAIuW,GAAQvW,IAAIg6D,mBAAmB,CAAEr6D,KAAM,CAAEyF,EAAM+qC,MAJtD,8BAML,OANK,UAMCnwC,aAAIuW,GAAQ7J,aAAa+jD,aAN1B,yCAQA,SAAUsC,GAAyB97B,GAAnC,4EAGL,OAHK,EACsBA,EAAO92B,QAA1BiF,EADH,EACGA,KAAM+qC,EADT,EACSA,SADT,SAGCnwC,aAAIuW,GAAQvW,IAAIg6D,mBAAmB,CAAEr6D,KAAM,CAAEyF,EAAM+qC,MAHpD,OAIL,OAJK,SAICnwC,aAAIuW,GAAQ7J,aAAagkD,OAAOtrD,IAJjC,wCAaA,SAAU4tD,KAAV,sFAE6B,OAD5BsH,EAAuBjqB,GAAcN,QADtC,SAEmC7iD,aAAK6iD,YAFxC,OAECwqB,EAFD,OAICV,EAAa,GACXltE,EAAI,EALP,YAKUA,EAAIktE,GALd,iBAMH,OANG,SAMGhF,aAAKhC,GAAoB0H,GAN5B,OAK0B5tE,IAL1B,uBAQL,OARK,UAQCsoE,aAAU1+C,GAAQ7J,aAAaooC,OAAQie,IARxC,QASL,OATK,UASC0D,aAAWlgD,GAAQ7J,aAAamoC,UAAWie,IAT5C,QAakC,OAblC,UAawCgC,aAAKwF,GAb7C,QAegB,OAfhB,SAaKl1D,EAbL,EAaKA,KAAM+qC,EAbX,EAaWA,SAAUC,EAbrB,EAaqBA,SAbrB,UAesBlhB,aAAOnoB,IAf7B,oCAiBqB,OAjBrB,UAiB2BmoB,aAAOviB,IAjBlC,QAyBC,OAzBD,iBAyBO3M,aAAIuW,GAAQ7J,aAAamkD,OAAO,CAAEzrD,OAAM+qC,WAAUC,cAzBzD,QA6BC,OA7BD,UA6BOpwC,aAAIu6D,EAA2B,CAAEn1D,OAAM+qC,WAAUC,aA7BxD,gCAgCD,OAhCC,UAgCK0pB,aAAMS,GAhCX,iEAqCA,SAAUtH,GAAYriD,EAAMqmB,GAA5B,kEACL,OADK,SACCy9B,aAAM9jD,GADP,OAEL,OAFK,SAEC5Q,aAAIi3B,GAFL,wCAKA,SAAUi8B,GAAuBtiD,EAAMm/B,GAAvC,wEACL,OADK,SACC2kB,aAAM9jD,GADP,OAEU,OAFV,SAEgBkkD,aAAK/kB,GAFrB,OAGL,OADM9Y,EAFD,gBAGCj3B,aAAIi3B,GAHL,wCAMA,SAAUk8B,KAAV,4FACc,OADd,SACoBoC,aAAc/oE,OAAOqb,OAAO0O,GAAQ9G,QAAQzP,MADhE,OACCw6D,EADD,OAECC,EAAa,GACbC,EAAgB,GAHjB,OAKe,OALf,SAKqB5F,aAAK0F,GAL1B,UAKGG,EALH,OAQDz6D,EAEEy6D,EAFFz6D,KACAC,EACEw6D,EADFx6D,QAGIovD,EAAWrvD,EAAKrI,MAAM,KACtB23D,EAAaD,EAASA,EAAS1iE,OAAO,GACtC4iE,EAAejvD,GAAmBgvD,GAEnCtvD,KAAQw6D,EAhBV,iBAiBqB,OAjBrB,UAiB2BxtE,aAAK6iD,WAAS6qB,WAAQC,QAAQ,IAjBzD,QAiBDH,EAAcx6D,GAjBb,eAyBH,OADIC,EAJF/R,GAIE+R,EAHFd,KACAO,EAEEO,EAFFP,KACGD,EAvBF,aAwBCQ,EAxBD,gCAyBGH,aAAI06D,EAAcx6D,GAAOqW,GAAQvW,IAAIyvD,GAAc,CAAE9vD,OAAMC,UAzB9D,WA0BEM,KAAQu6D,GAAgBA,EAAWv6D,GAAM46D,YA1B3C,iBA2BkB,OA3BlB,UA2BwBjG,aAAK3B,GAAwB,GAAIwH,EAAcx6D,IA3BvE,QA2BDu6D,EAAWv6D,GA3BV,uEAgCA,SAAUkzD,KAAV,0FACiB,OADjB,SACuBmC,aAAc/oE,OAAOqb,OAAO0O,GAAQ4xB,QAAQlxB,OAAQzqB,OAAOqb,OAAO0O,GAAQ9G,QAAQ04B,UADzG,OACC4yB,EADD,OAECN,EAAa,GACbO,EAA0Bz6D,GAA2B,UAAW,UAHjE,OAKkB,OALlB,SAKwBu0D,aAAKiG,GAL7B,OAMgB,OADbE,EALH,iBAMsB/rC,aAAOlZ,IAN7B,WAMGC,EANH,OASD/V,EAEE+6D,EAFF/6D,KACAC,EACE86D,EADF96D,QAGIovD,EAAWrvD,EAAKrI,MAAM,KACtB23D,EAAaD,EAASA,EAAS1iE,OAAO,MACtC4iE,EAAejvD,GAAmBgvD,MAErBv5C,GAjBhB,sBAkBEw5C,KAAgBgL,KAAcA,EAAWhL,GAAcqL,YAlBzD,iBAmBC,OAnBD,UAmBOhmB,aAAO2lB,EAAWhL,IAnBzB,QAoB4B,OApB5B,UAoBkCoF,aAAK5B,GAAah9C,EAAWw5C,GAAel5C,GAAQ9G,QAAQyrD,gBAAgBzL,GAActvD,IApB5H,QAoBCs6D,EAAWhL,GApBZ,mCAsBIvvD,EAAKhI,WAAW8iE,GAtBpB,iBAuB8B,OAvB9B,UAuBoCnG,aAAK5B,GAAah9C,EAAWw5C,GAAel5C,GAAQ9G,QAAQyrD,gBAAgBzL,GAActvD,IAvB9H,QAuBGs6D,EAAWhL,GAvBd,+BAyBG,OAzBH,UAyBSzvD,aAAIuW,GAAQ9G,QAAQyrD,gBAAgBzL,GAActvD,IAzB3D,gECj9BP,I,GAOeyG,GAPI,iBAAO,CACxBxY,GAAI0F,GACJw5D,WAAY,CACV1mD,WAAYopD,MAEdmL,MAAO,CAAExJ,GAAiBI,GAAgCS,GAAiBQ,GAAmBN,GAAwBU,GAAgBD,M,UCDlIiI,GAAiBC,eAAenvB,QAAQxrB,IAExCqvC,GAAe,CACnB9sC,uBAAuB,EACvB5zB,QAAS,WACTkc,SAAU,KACVkY,WAAY,OACZE,QAAS,GACT23C,0BAA0B,EAC1Bn4C,SAAUi4C,GAAiBxL,KAAKC,MAAMuL,IAAkB,GACxDv3C,cAAe,CACb03C,MAAO,GACPriB,KAAM,GACND,QAAS,GACT9N,MAAO,IAET9nB,OAAQ,GACRa,kBAAkB,EAClBlc,cAAe,GACf+b,uBAAuB,EACvB7b,aAAc,GACd2J,cAAe,CACb9P,KAAM,IACNuiB,WAAY,GAEdpE,IAAK,CACH/vB,QAAS,YAEXwhB,IAAK,CACHxhB,QAAS,aAIEkgE,iBAAa,qBACzB95C,GAAQ0M,sBAAwB5kB,aAAQ,SAACsI,EAAMswB,GAC9CtwB,EAAMsc,uBAAwB,MAFN,eAIzB1M,GAAQoY,uBAAyBtwB,aAAQ,SAACsI,EAAMswB,GAC/CtwB,EAAMsc,uBAAwB,MALN,eAOzB1M,GAAQolC,eAAiBt9C,aAAQ,SAACsI,EAAMswB,GAEvCtwB,EAAM4E,SAAW0rB,EAAO92B,YATA,eAWzBoW,GAAQglC,cAAgBl9C,aAAQ,SAACsI,EAAMswB,GACtCtwB,EAAMtX,QAAU4nC,EAAO92B,YAZC,eAczBoW,GAAQilD,cAAgBn9D,aAAQ,SAACsI,EAAMswB,GACtCtwB,EAAM8c,WAAawT,EAAO92B,YAfF,eAiBzBoW,GAAQsjB,WAAax7B,aAAQ,SAACsI,EAAMswB,GACnCtwB,EAAMgd,QAAUsT,EAAO92B,YAlBC,eAoBzBoW,GAAQklD,4BAA8Bp9D,aAAQ,SAACsI,EAAMswB,GACpDtwB,EAAM20D,yBAA2BrkC,EAAO92B,YArBhB,eAuBzBoW,GAAQu0C,kBAAoBzsD,aAAQ,SAACsI,EAAOswB,GAC3CtwB,EAAMkd,cAAcoT,EAAO92B,SAAW,OAxBd,eA0BzBu7D,aACC74C,GAAkBM,SAASo4C,MAC3B14C,GAAkBM,SAAS+1B,KAC3Br2B,GAAkBM,SAAS81B,QAC3Bp2B,GAAkBM,SAASgoB,OACzB9sC,aAAQ,SAACsI,EAAOswB,GAElB,OADAtwB,EAAMwc,SAASwI,QAAQsL,EAAO92B,SACvB82B,EAAO/2B,MACZ,KAAK2iB,GAAkBM,SAASo4C,MAAMnvD,WACpCzF,EAAMkd,cAAc03C,MAAMjvD,KAAK2qB,EAAO92B,SACtC,MACF,KAAK0iB,GAAkBM,SAAS+1B,KAAK9sC,WACnCzF,EAAMkd,cAAcq1B,KAAK5sC,KAAK2qB,EAAO92B,SACrC,MACF,KAAK0iB,GAAkBM,SAAS81B,QAAQ7sC,WACtCzF,EAAMkd,cAAco1B,QAAQ3sC,KAAK2qB,EAAO92B,SACxC,MACF,KAAK0iB,GAAkBM,SAASgoB,MAAM/+B,WACpCzF,EAAMkd,cAAcsnB,MAAM7+B,KAAK2qB,EAAO92B,cA5ClB,eAkDzBoW,GAAQolD,MAAMC,KAAOv9D,aAAQ,SAACsI,EAAOswB,GAEpC,GADAtwB,EAAM0c,OAAO9kB,OAAO,EAAG,EAAG04B,EAAO92B,SAC9BwG,EAAM0c,OAAOx2B,OpG3FM,EoG8FpB,IAFA,IAAMgvE,EAAcl1D,EAAM0c,OAAOx2B,OpG5Fb,EoG6FhBivE,EAAU,EACNnvE,EAAIga,EAAM0c,OAAOx2B,OAAO,EAAGF,GAAK,GAAKmvE,EAAUD,EAAalvE,IAC/Dga,EAAM0c,OAAO12B,GAAGoZ,UAAYhR,KAC7B4R,EAAM0c,OAAO9kB,OAAO5R,EAAG,GACvBmvE,SA1DkB,eA+DzBvlD,GAAQolD,MAAMI,KAAO19D,aAAQ,SAACsI,EAAOswB,GACpC,IAAM15B,EAAQoJ,EAAM0c,OAAO4Y,WAAU,SAACwc,GAAD,OAASA,EAAIrqD,KAAO6oC,EAAO92B,QAAQ/R,MACrEmP,GAAS,GACVoJ,EAAM0c,OAAO9kB,OAAOhB,EAAO,OAlEL,eAqEzBgZ,GAAQgsC,QAAQI,cAAgBtkD,aAAQ,SAACsI,EAAOswB,GAC/CtwB,EAAMud,kBAAmB,EACzBvd,EAAMqB,cAAgBivB,EAAO92B,YAvEL,eAyEzBoW,GAAQgsC,QAAQK,eAAiBvkD,aAAQ,SAACsI,EAAOswB,GAChDtwB,EAAMud,kBAAmB,MA1ED,eA4EzB3N,GAAQgsC,QAAQE,cAAgBpkD,aAAQ,SAACsI,EAAOswB,UACxCtwB,EAAMqB,cAAcivB,EAAO92B,aA7EV,eA+EzBoW,GAAQgsC,QAAQhvC,IAAMlV,aAAQ,SAACsI,EAAOswB,GACrCtwB,EAAMqB,cAAgBivB,EAAO92B,YAhFL,eAmFzBoW,GAAQrO,aAAay6C,cAAgBtkD,aAAQ,SAACsI,EAAOswB,GACpDtwB,EAAMod,uBAAwB,EAC9Bpd,EAAMuB,aAAe+uB,EAAO92B,YArFJ,eAuFzBoW,GAAQrO,aAAa06C,eAAiBvkD,aAAQ,SAACsI,EAAOswB,GACrDtwB,EAAMod,uBAAwB,MAxFN,eA0FzBxN,GAAQrO,aAAau6C,cAAgBpkD,aAAQ,SAACsI,EAAOswB,UAC7CtwB,EAAMuB,aAAa+uB,EAAO92B,aA3FT,eA6FzBoW,GAAQrO,aAAaqL,IAAMlV,aAAQ,SAACsI,EAAOswB,GAC1CtwB,EAAMuB,aAAe+uB,EAAO92B,YA9FJ,eAiGzBoW,GAAQ1E,cAAcuc,QAAU/vB,aAAQ,SAACsI,EAAOswB,GAC/CtwB,EAAMkL,cAAc9P,KAAOk1B,EAAO92B,YAlGV,eAoGzBoW,GAAQ1E,cAAc22C,cAAgBnqD,aAAQ,SAACsI,EAAOswB,GAAY,IAAD,EACnBA,EAAO92B,QAA7CitB,EADyD,EACzDA,IAAKm7B,EADoD,EACpDA,kBAAmB3L,EADiC,EACjCA,WACzBof,EAAUpf,EAAWnvD,QAAQ86D,GAC7B0T,EAAS7qE,KAAK81B,IAAI,EAAG91B,KAAK61B,IAAI,EAAE+0C,EAAU5uC,IAChDzmB,EAAMkL,cAAc9P,KAAO66C,EAAWqf,OAxGd,eA0GzB1lD,GAAQ1E,cAAcwc,cAAgBhwB,aAAQ,SAACsI,EAAOswB,GACrDtwB,EAAMkL,cAAcyS,WAAa2S,EAAO92B,YA3GhB,eA6GzBoW,GAAQ1E,cAAcy2C,oBAAsBjqD,aAAQ,SAACsI,EAAOswB,GACrB,OAAnCtwB,EAAMkL,cAAcyS,YAA0C,IAAnB2S,EAAO92B,QACnDwG,EAAMkL,cAAcyS,WAAa,EAGjC3d,EAAMkL,cAAcyS,WAAalzB,KAAK81B,IAAI,EAAG91B,KAAK61B,IAAI,EAAEtgB,EAAMkL,cAAcyS,WAAa2S,EAAO92B,cAlH1E,eAqHzBoW,GAAQ2J,IAAIuP,WAAapxB,aAAQ,SAACsI,EAAOswB,GACxCtwB,EAAMuZ,IAAI/vB,QAAU8mC,EAAO92B,YAtHH,eAwHzBoW,GAAQ5E,IAAI8d,WAAapxB,aAAQ,SAACsI,EAAOswB,GACxCtwB,EAAMgL,IAAIxhB,QAAU8mC,EAAO92B,YAzHH,IA2HzB4vD,I,aCzJcmM,I,aAKAC,I,aAUAC,IAnBXC,GAA0B,SAACtvE,EAAK4S,GACpCnD,OAAO6+D,eAAetvB,QAAQh/C,EAAK4S,IAG9B,SAAUu8D,GAAkBjlC,GAA5B,wEACY,OADZ,SACkB/H,aAAOhM,IADzB,OAEL,OADMC,EADD,gBAECj2B,aAAKmvE,GAAyB37C,GAAiBkvC,KAAK8D,UAAUvwC,IAF/D,wCAKA,SAAUg5C,GAAcllC,GAAxB,wEAEL,OADMwhB,EAAMxhB,EAAO92B,QADd,SAEC00D,aAAKqH,IAFN,OAGL,OAHK,SAGCl8D,aAAIuW,GAAQolD,MAAMC,KAAKnjB,IAHxB,UAIFA,EAAI1yC,UAAYhR,GAJd,iBAKH,OALG,SAKG2/D,aAAM,KALT,OAMH,OANG,UAMG10D,aAAIuW,GAAQolD,MAAMI,KAAKtjB,IAN1B,yCAUA,SAAU2jB,KAAV,kEACL,OADK,SACCnH,aAAU,CACdpyC,GAAkBM,SAASo4C,MAC3B14C,GAAkBM,SAAS+1B,KAC3Br2B,GAAkBM,SAAS81B,QAC3Bp2B,GAAkBM,SAASgoB,OAC1BgxB,IANE,wCCtBP,IAOen5C,GAPC,iBAAO,CACrB50B,GAAI0F,GACJw5D,WAAY,CACVtqC,QAASs5C,IAEXnB,MAAO,CAAEiB,M,kDCFLG,GAAY,CAChBC,GAAI,CACF/S,OAAQgT,GACRC,U,OACAC,SAAUC,KAIdztE,KAAK0tE,IAAIC,MACND,IAAIE,MACJC,KAAK,CACJC,IAAK,KACLC,YAAa,KACbC,QAAU,CAAC,MACXC,cAAe,CAAC,KAAM,KAAM,KAAM,KAAM,MACxCC,GAAI,CAAC,SAAU,WAAY,aAC3BC,UAAW,SACX/B,OAAO,IAGXpsE,KAAKouE,kBAAkB,KAAM,SAAUhB,GAAUC,GAAG/S,QACpDt6D,KAAKouE,kBAAkB,KAAM,WAAYhB,GAAUC,GAAGG,UACtDxtE,KAAKouE,kBAAkB,KAAM,YAAahB,GAAUC,GAAGE,WAExCvtE,GAAf,EAAeA,ICfT85C,GAAQu0B,uBAAY,CACxBC,aAAcp/D,YAAQ,IAAI,eAC1Bq/D,UAAW,GACXC,WAAY,CAAEC,+BACdC,QAASC,wBACRC,KACAC,KACAC,MAEHC,IAASC,OAGP,cAAC,IAAMC,WAAP,UACE,cAAC,WAAD,CAAUn1B,MAAOA,GAAjB,SACA,cAAC,GAAD,QAGFwD,SAASyN,eAAe,SRkGpB,kBAAmB7uC,WACrBA,UAAUgzD,cAAcjvE,MACrB66C,MAAK,SAAAq0B,GACJA,EAAaC,gBAEdvzB,OAAM,SAAAG,GACLD,QAAQC,MAAMA,EAAMtlC,c","file":"static/js/main.3174c493.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 98.72 130.35\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.81,29.11H16V21.65h.86c1.18,0,1.77,1.24,1.77,3.73a6.63,6.63,0,0,1-.46,2.83A1.42,1.42,0,0,1,16.81,29.11ZM18.06,59a.75.75,0,0,0-.74.75.74.74,0,0,0,1.48,0A.75.75,0,0,0,18.06,59Zm-3,31.23c0-.61,0-1.21,0-1.81,0-.34.14-.58-.25-.61l-.53,0c-.57,0-1.13,0-1.69,0-.37,0-.44.11-.72-.17L11.23,87,8.76,84.54l-1.4-1.37v6.55a7.28,7.28,0,0,0,2.79,5.33l5,3.48V94ZM21.53,74a.75.75,0,0,0,.75-.74.75.75,0,1,0-1.49,0A.74.74,0,0,0,21.53,74Zm7.64-34.42a4.27,4.27,0,0,0,.47,1.67,1,1,0,0,0,1.64,0,4.27,4.27,0,0,0,.47-1.67q.15-1.2.21-3.24c0-1.36,0-3.07,0-5.13s0-3.76,0-5.12-.11-2.44-.21-3.24a4.27,4.27,0,0,0-.47-1.67,1,1,0,0,0-1.64,0,4.27,4.27,0,0,0-.47,1.67c-.1.8-.17,1.88-.2,3.24s0,3.07,0,5.12,0,3.77,0,5.13S29.07,38.78,29.17,39.58Zm2.4,49.29A.87.87,0,0,0,30,88.28c-.36.77.28,1.3,1,1.23C31.15,89.2,31.5,89.19,31.57,88.87Zm-.42,7.91a.91.91,0,0,0-.5-1.66C29.18,95.21,30,97.53,31.15,96.78ZM21.48,96a.9.9,0,0,0,.27-1.78C20.74,94.08,20.41,95.88,21.48,96Zm.87-8.63c.48-.62-.29-1.45-1-1.27-.21,0-.84.69-.54,1.13A.86.86,0,0,0,22.35,87.39Zm17.17,7.48c-1.58-1.46-3-3.05-4.53-4.59a2.42,2.42,0,0,0-1.05-.77.86.86,0,0,0-1,.44A4.46,4.46,0,0,1,31.77,91a2.16,2.16,0,0,1-1.6.17,2.79,2.79,0,0,1-2.07-2.27,2.75,2.75,0,0,1,.28-1.47,16.54,16.54,0,0,0-1.27-1.24c-.63-.59-1.29-1.89-2.17-2.11a11.87,11.87,0,0,0-2.73,0c-2.05,0-4.13-.1-6.18,0-1,.06-1.88.2-2.65-.57-.6-.6-1.14-1.27-1.77-1.84a6.28,6.28,0,0,1-1.83-1.91,6.6,6.6,0,0,1,0-2.43V64.67c0-.88.11-1.78.07-2.65S9,60.65,8.44,60.14c-.34-.31-.91-.68-1.08-1.11v21.8c1.06,1.08,2.11,2.17,3.18,3.24A13,13,0,0,0,12.41,86c.71.46,1.9.22,2.7.17,1.1-.07,2.21,0,3.32,0,.65,0,.65.08,1-.47a2.56,2.56,0,0,1,1.51-1.19,2.35,2.35,0,0,1,2.5.7,2.57,2.57,0,0,1,.69,2.44c-.12.4-.33.4,0,.74l.67.68,1.35,1.37c.82.84,1.66,1.67,2.51,2.47l.71.65c.39.34.16.15.49,0a3.56,3.56,0,0,1,1.26-.07c.83,0,1.67,1,2,1.7a2.35,2.35,0,0,1-.44,2.42c-.26.29-1,1-1.4,1s-1.17.14-1.59-.13A3,3,0,0,1,28.11,96c0-.53.41-1.05.05-1.41l-1.32-1.36c-.88-.9-1.77-1.8-2.68-2.68-.32-.31-1.15-1.36-1.55-1.2a3.94,3.94,0,0,1-1.45.13,2,2,0,0,1-1.24-.67c-.32-.34-.68-1.06-1.13-1a10,10,0,0,0-1.89,0c0,.64,0,1.27,0,1.91,0,1.29,0,2.57,0,3.86,0,2,0,4.08,0,6.12L41,116.54v-3.31S24,98,23.15,97.61c-.43-.19-.57.14-.94.14h-.78a2.63,2.63,0,0,1-2.25-3.53A4.1,4.1,0,0,1,21,92.57a2.85,2.85,0,0,1,2.38.69,2.69,2.69,0,0,1,.87,2.23.84.84,0,0,1-.13.49c-.16.22.11.36.28.55.41.45,3.71,2.61,4,3s12.27,11.67,12.8,11.78c0-3.73.26-13.14,0-14.31C41,96,40.27,95.56,39.52,94.87ZM31.09,73.05h0a.84.84,0,1,0,.84.84A.83.83,0,0,0,31.09,73.05Zm-.28,7.41a.87.87,0,0,0-.21,1.72A.87.87,0,0,0,30.81,80.46ZM90.81,11V89.72a7.54,7.54,0,0,1-2.75,5.39L52.68,120.8a5.1,5.1,0,0,1-5.53,0l-4.49-3.13c0-8.34,0-21.47-.1-21.85-.16-.68-1.05-1.28-1.54-1.73-.9-.81-1.73-1.69-2.6-2.54L35.79,89c-.34-.34-.64-.73-1-1s-1-.11-1.55-.12A3.08,3.08,0,0,0,31,86.12a2.81,2.81,0,0,0-1.19.08c-.3.13-.09.31-.45,0s-.57-.51-.85-.77c-.82-.78-1.65-1.59-2.4-2.44s-1.6-.71-2.65-.64c-2.45.15-4.9,0-7.36,0-.56,0-1.38.23-1.79-.16L13,80.9c-.46-.45-.91-.91-1.34-1.39s-.19-1.41-.19-2c.07-5.18-.09-10.36.09-15.53,0-1.07-.5-1.48-1.25-2.17-1-.92-1.95-1.9-2.91-2.86V11a3.4,3.4,0,0,1,3.4-3.39H87.42A3.4,3.4,0,0,1,90.81,11ZM24.21,31.21a72.12,72.12,0,0,0,.32,7.32,19.68,19.68,0,0,0,1,4.93,5.58,5.58,0,0,0,1.94,2.72,5.68,5.68,0,0,0,5.88,0,5.58,5.58,0,0,0,1.94-2.72,19.68,19.68,0,0,0,1-4.93,72.12,72.12,0,0,0,.32-7.32,72.05,72.05,0,0,0-.32-7.31,19.68,19.68,0,0,0-1-4.93,6.07,6.07,0,0,0-1.94-2.79,5.35,5.35,0,0,0-5.88,0A6.07,6.07,0,0,0,25.58,19a19.68,19.68,0,0,0-1,4.93A72.05,72.05,0,0,0,24.21,31.21ZM11.39,46.52H16V34.86h1.6a4.7,4.7,0,0,0,4.27-2.38q1.45-2.38,1.46-7.14A22.77,22.77,0,0,0,23,21.61a11.12,11.12,0,0,0-.92-3,5.64,5.64,0,0,0-1.58-2,3.66,3.66,0,0,0-2.26-.73H11.39Zm7.87,24.32V61.92a2.48,2.48,0,1,0-1.76.25V72.45c-.09.25,1.55.52,1.55.81a2.49,2.49,0,1,0,2.48-2.49C21.34,70.77,19.45,70.8,19.26,70.84ZM24,78.35c-.24-.52-1.18-1.62-1.82-1.62-.48,0-1.12-.15-1.51.14a6.41,6.41,0,0,0-1.13.94c-.36.42-.26.64-.81.64-.34,0-.5.06-.74-.17s-.79-.75-1.17-1.13c-.56-.55-1.63-1.17-1.76-2a17.46,17.46,0,0,1,0-2.89V53.51c0-.27-.28-.4-.46-.59l-2.51-2.54C10.59,48.79,9,47.24,7.4,45.65c0,.74,0,1.48,0,2.21l5.45,5.41c1,.95.53,2.27.53,3.5V75.59a1.22,1.22,0,0,0,0,.27c.91,1,3.53,4.14,4.79,4.37.22,0,1-.25,1.08.1a1.39,1.39,0,0,0,.51.79,2.58,2.58,0,0,0,4-.41A2.26,2.26,0,0,0,24,78.35Zm4.39-10.59a2.68,2.68,0,0,0,.95,1c1.35,1,2.73.19,3.61-1,1-1.34-.12-2.81-1.3-3.55a2.26,2.26,0,0,0-2.38.26,4,4,0,0,0-.93,1c-.28.43-1.19.24-1.7.24s-1,0-1.56,0l-.59,0h0a2.42,2.42,0,1,0-2.26,1.57,2.35,2.35,0,0,0,.6-.09l0,.06c.45.48,1.67.19,2.26.19.83,0,1.67,0,2.5.06C27.93,67.51,28.26,67.4,28.42,67.76Zm4.35,12A2.55,2.55,0,0,0,29.59,79,2.72,2.72,0,0,0,28.17,82c.54,1.36,2.25,2.57,3.65,1.65S33.86,81.18,32.77,79.81Zm7-19a2.58,2.58,0,1,0-3.59,2.37c0,.64-.09,5.09-.09,5.09S33,70.9,32.36,71.4a2.79,2.79,0,1,0-2.08,5.16l.12,0,.22.05a2,2,0,0,0,.35,0h.34a2.79,2.79,0,0,0,2.43-1.91s0-.06,0-.08a3.18,3.18,0,0,0,.08-.33,1.36,1.36,0,0,0,0-.21,2.13,2.13,0,0,0,0-.25,2.8,2.8,0,0,0-.23-1.12c-.06-.31,4-3.91,4-3.91s.06-4.67.06-5.55A3,3,0,0,0,39.78,60.77ZM49.87,34.22H45.46c0,1.45,0,2.66-.06,3.62a18.21,18.21,0,0,1-.21,2.29,3,3,0,0,1-.42,1.23.82.82,0,0,1-.68.36.94.94,0,0,1-.83-.47,4.48,4.48,0,0,1-.46-1.67,29.81,29.81,0,0,1-.21-3.24c0-1.36-.05-3.07-.05-5.13s0-3.76.05-5.12a29.81,29.81,0,0,1,.21-3.24,4.48,4.48,0,0,1,.46-1.67.94.94,0,0,1,.83-.47c.44,0,.76.31.95.94a13.85,13.85,0,0,1,.3,3.56v1.72h4.41V25a24.12,24.12,0,0,0-.31-4,9.94,9.94,0,0,0-1-3,5.11,5.11,0,0,0-1.75-2,4.76,4.76,0,0,0-2.62-.69,5.05,5.05,0,0,0-3,.84,5.85,5.85,0,0,0-1.94,2.72,19.51,19.51,0,0,0-1,4.94q-.3,3-.3,7.41t.25,7.32A20.12,20.12,0,0,0,39,43.46,5.25,5.25,0,0,0,41,46.18a5.59,5.59,0,0,0,3.14.82,5.85,5.85,0,0,0,2.14-.41A4.1,4.1,0,0,0,48.08,45a9.69,9.69,0,0,0,1.3-3.24,23.17,23.17,0,0,0,.49-5.27Zm15.27,12.3H75.72V40h-6V33.92h5.45V27.66H69.69V22.42H75.5V15.9H65.14Zm-13.8,0H55.9v-8.1l1-2.57,2.67,10.67h5.2L59.77,29.28,64.18,15.9H59.33L56,27.66H55.9V15.9H51.34Zm17.15,4.59H62.74V76.53h-.06l-4-25.42H51.85V92.37h5.74V66.88h.07l4.09,25.49h6.74ZM86.91,75.78H81c0,2,0,3.59-.08,4.88a27.1,27.1,0,0,1-.28,3.1,4,4,0,0,1-.56,1.64,1.11,1.11,0,0,1-.93.49,1.25,1.25,0,0,1-1.1-.63A5.72,5.72,0,0,1,77.39,83a42.59,42.59,0,0,1-.28-4.37Q77,75.9,77,71.74t.07-6.91a42.36,42.36,0,0,1,.28-4.36A5.67,5.67,0,0,1,78,58.22a1.24,1.24,0,0,1,1.1-.64c.6,0,1,.42,1.29,1.27a19.18,19.18,0,0,1,.4,4.8V66h5.94v-2.6a32.52,32.52,0,0,0-.41-5.4A14,14,0,0,0,85,53.85a7,7,0,0,0-2.36-2.63,6.52,6.52,0,0,0-3.54-.92,6.76,6.76,0,0,0-4,1.13,7.68,7.68,0,0,0-2.61,3.67,26,26,0,0,0-1.41,6.64q-.4,4.11-.41,10t.35,9.85a26.43,26.43,0,0,0,1.27,6.64A7,7,0,0,0,74.9,91.9,7.42,7.42,0,0,0,79.12,93,7.77,7.77,0,0,0,82,92.45a5.47,5.47,0,0,0,2.49-2.13A13.1,13.1,0,0,0,86.25,86a31.57,31.57,0,0,0,.66-7.11Zm.77-59.88H76.31v6.78h3.38V46.52h4.56V22.68h3.43ZM20.78,79.1a.88.88,0,0,0,1.66.53C22.88,78.64,21.07,77.89,20.78,79.1ZM31.57,66.77c.18-1.25-1.84-1.27-1.73-.11A.88.88,0,0,0,31.57,66.77ZM95.16,7.31v85a8.28,8.28,0,0,1-3.11,6.06L53.26,126.32a6,6,0,0,1-6.53.07l-40.56-28a8.08,8.08,0,0,1-3.16-6v-85A4.25,4.25,0,0,1,7.26,3.07H90.92A4.25,4.25,0,0,1,95.16,7.31Zm-1.7,0a2.54,2.54,0,0,0-2.54-2.54H7.26A2.55,2.55,0,0,0,4.71,7.31v85A6.38,6.38,0,0,0,7.14,97L47.7,125a4.33,4.33,0,0,0,4.57,0L91.06,97a6.62,6.62,0,0,0,2.4-4.69Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.4778a996.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from 'reselect';\nimport { FILE_UPLOAD_ASK_FOR_OVERWRITE, TASK_MODE, INTERP_STATE, MACHINE_STATUS, UNITS, SHORTCUTS } from './constants';\n\nexport const selectRockhopper = (state) => state.rockhopper;\nexport const selectWebSocket = (state) => state.rockhopper.webSocket;\nexport const selectIsLoggedIn = (state) => state.rockhopper.isLoggedIn;\n\nexport const selectAxisMask = (state) => state.rockhopper.status.axisMask;\n\nexport const selectHasX = (state) => state.rockhopper.status.axisMask & (1 << 0);\nexport const selectHasY = (state) => state.rockhopper.status.axisMask & (1 << 1);\nexport const selectHasZ = (state) => state.rockhopper.status.axisMask & (1 << 2);\nexport const selectHasA = (state) => state.rockhopper.status.axisMask & (1 << 3);\nexport const selectHasB = (state) => state.rockhopper.status.axisMask & (1 << 4);\nexport const selectHasC = (state) => state.rockhopper.status.axisMask & (1 << 5);\n\nexport const selectConfig = (state) => state.rockhopper.status.config || { parameters: [], sections: {} };\nexport const selectUsbDetected = (state) => state.rockhopper.status.usbDetected;\nexport const selectGcodeMap = (state) => state.rockhopper.status.gcodeMap;\nexport const selectUsbMap = (state) => state.rockhopper.status.usbMap;\n\nconst mapIni = (ini) => {\n  let map = {};\n  if(ini.parameters.length > 0){\n    Object.keys(ini.sections).forEach((section) => { map[section] = {} })\n    ini.parameters.forEach((param, idx) => { map[param.values.section][idx] = {...param.values, key: param.values.name} });\n  }\n  return map;\n}\nexport const selectConfigMap = (state) => {\n  const config = state.rockhopper.status.config || { parameters: [], sections: {} };\n  return mapIni(config);\n};\nexport const selectConfigOverlayMap = (state) => {\n  const configOverlay = state.rockhopper.status.configOverlay || { parameters: [], sections: {} };\n  return mapIni(configOverlay);\n};\nexport const selectCompensation = (state) => state.rockhopper.status.compensation;\nexport const selectCurrentLine = (state) => state.rockhopper.status.motionLine ? state.rockhopper.status.motionLine-1 : 0;\n\nexport const selectDtg = (state) => state.rockhopper.status.dtg;\nexport const selectJoints = (state) => state.rockhopper.status.joints;\nexport const selectActualPosition = (state) => state.rockhopper.status.actualPosition;\nexport const selectJointActualPosition = (state) => state.rockhopper.status.jointActualPosition;\nexport const selectEstop = (state) => state.rockhopper.status.estop;\nexport const selectG5xIndex = (state) => state.rockhopper.status.g5xIndex;\nexport const selectG5xOffset = (state) => state.rockhopper.status.g5xOffset;\nexport const selectG92Offset = (state) => state.rockhopper.status.g92Offset;\nexport const selectHomed = (state) => state.rockhopper.status.homed;\nexport const selectInterpState = (state) => state.rockhopper.status.interpState;\nexport const selectTaskMode = (state) => state.rockhopper.status.taskMode;\nexport const selectTaskState = (state) => state.rockhopper.status.taskState;\nexport const selectToolInSpindle = (state) => state.rockhopper.status.toolInSpindle;\nexport const selectToolOffset = (state) => state.rockhopper.status.toolOffset;\nexport const selectGcodes = (state) => state.rockhopper.status.gcodes;\nexport const selectMcodes = (state) => state.rockhopper.status.mcodes;\nexport const selectSettings = (state) => state.rockhopper.status.settings;\nexport const selectRtcSeconds = (state) => state.rockhopper.status.rtcSeconds;\n\nexport const selectFeatures = (state) => state.rockhopper.features;\n\nexport const selectToolReleased = (state) => state.rockhopper.status.toolReleased === true;\nexport const selectViceReleased = (state) => state.rockhopper.status.viceReleased === true;\n\nexport const selectFileCache = (state) => state.rockhopper.fileCache;\nexport const selectCurrentFileChecksum = (state) => state.rockhopper.fileCache.paths[state.rockhopper.status.program]\nexport const selectCurrentFileProgress = (state) => {\n  const checksum = selectCurrentFileChecksum(state);\n  return state.rockhopper.fileCache.progress[checksum];\n};\n\nexport const selectMachineStatus = (state) => {\n  const {\n    interpState,\n    taskMode\n  } = state.rockhopper.status;\n\n  if(interpState === INTERP_STATE.PAUSED) {\n    return MACHINE_STATUS.PAUSED;\n  }\n  if(interpState !== INTERP_STATE.IDLE && taskMode === TASK_MODE.AUTO) {\n    return MACHINE_STATUS.RUNNING;\n  }\n\n  if(interpState === INTERP_STATE.IDLE) {\n    return MACHINE_STATUS.IDLE;\n  }\n\n  if(taskMode === TASK_MODE.MDI) {\n    return MACHINE_STATUS.MDI;\n  }\n\n  return \"unknown\";\n};\n\nexport const selectProgramPrefix = (state) => {\n  return state.rockhopper.status.programPrefix;\n};\nexport const selectLs = (state) => {\n  return state.rockhopper.status.ls;\n};\n\nexport const selectHasHss = createSelector([ selectFeatures ], (features) => {\n  return features[\"HIGH_SPEED_SPINDLE\"];\n});\nexport const selectHssWarmUpNeeded = createSelector([ selectHasHss, selectRockhopper ], (hasHss, rockhopper) => {\n  return hasHss && rockhopper.status.halpinHssWarmupWarmupNeeded;\n});\nexport const selectHssPerformingWarmUp = createSelector([ selectHasHss, selectRockhopper ], (hasHss, rockhopper) => {\n  return hasHss && rockhopper.status.halpinHssWarmupPerformingWarmup;\n});\nexport const selectHssFullWarmUpNeeded = createSelector([ selectHasHss, selectRockhopper ], (hasHss, rockhopper) => {\n  return hasHss && rockhopper.status.halpinHssWarmupFullWarmupNeeded;\n});\n\nexport const makeConfigSectionSelector = (section) => createSelector([ selectConfig ], (config) => {\n  return config.parameters.reduce((accum, current) => {\n    if(current.values.section === section) {\n      accum[current.values.name] = current.values.value;\n    }\n\n    return accum;\n  }, {});\n});\nexport const makeConfigParameterSelector = (section, param) => createSelector([ selectConfig ], (config) => {\n  return config.parameters.reduce((accum, current) => {\n    if(current.values.section === section && current.values.name === param) {\n      return current.values.value;\n    }\n    return accum;\n  }, null);\n});\n\nexport const selectTraj = makeConfigSectionSelector(\"TRAJ\");\nexport const selectTrajCoordinates = makeConfigParameterSelector(\"TRAJ\", \"COORDINATES\");\nexport const selectMaxLinearVelocity = makeConfigParameterSelector(\"TRAJ\", \"MAX_LINEAR_VELOCITY\");\nexport const selectAxisToJointMap = createSelector([ selectTrajCoordinates ], (coords=\"\") => {\n  if(coords) {\n    const a2j = {};\n    for(let j = 0; j < coords.length; j++) {\n      a2j[coords[j].toUpperCase()] = j;\n    }\n    return a2j;\n  }\n  return {};\n});\n\nexport const selectProgramList = createSelector([ selectProgramPrefix, selectLs ], (prefix, ls) => {\n  if(ls && prefix) {\n    return ls.map((path) => ({ file: path.replace(prefix + \"/\", \"\"), path })).sort(\n      // performs a natural sort of the file name ('a' comes before 'T' and '8' comes before '11', unlike with default sort order)\n      (a, b) => a.file.localeCompare(b.file, navigator.languages[0] || navigator.language, {numeric: true, ignorePunctuation: true})\n    );\n  }\n\n  return []\n});\n\nexport const selectKinsType = (state) => state.rockhopper.status.halpinMotionSwitchkinsType;\n\nexport const selectActiveCodes = createSelector([ selectGcodes, selectMcodes, selectSettings, selectKinsType, selectToolReleased, selectViceReleased ], (gcodes, mcodes, settings, kinsType, toolReleased, viceReleased) => {\n  const codes = [];\n\n  if(gcodes) {\n    const sorted_gcodes = gcodes.slice(1).sort((a,b) => a.toString().localeCompare(b.toString(), navigator.languages[0] || navigator.language, { numeric: true, ignorePunctuation: true }))\n    sorted_gcodes.forEach((code, i) => {\n      if(code > 0) {\n        codes.push(\"G\" + (code/10))\n      }\n    });\n  }\n\n  if(mcodes) {\n    const sorted_mcodes = mcodes.slice(1).sort((a,b) => a.toString().localeCompare(b.toString(), navigator.languages[0] || navigator.language, { numeric: true, ignorePunctuation: true }))\n    sorted_mcodes.forEach((code, i) => {\n      if(code > 0) {\n        codes.push(\"M\" + code);\n      }\n    });\n  }\n\n  if(toolReleased) {\n    codes.push(\"M\" + 160);\n  } else {\n    codes.push(\"M\" + 161);\n  }\n\n  if(viceReleased) {\n    codes.push(\"M\" + 162);\n  } else {\n    codes.push(\"M\" + 163);\n  }\n\n  switch(kinsType) {\n    case 0:\n      codes.push(\"M429\");\n      break;\n    case 1:\n      codes.push(\"M428\");\n      break;\n    case 2:\n      codes.push(\"M430\");\n      break;\n    default:\n      break;\n  }\n\n  if(settings) {\n    codes.push(\"F\" + settings[1].toFixed(0));\n    codes.push(\"S\" + settings[2]);\n  }\n\n  return codes;\n});\n\nexport const selectUnitsCode = createSelector([ selectActiveCodes ], (activeCodes) => {\n  if(activeCodes){\n    if(activeCodes.includes('G21')){\n      return 'G21'\n    }\n    else if(activeCodes.includes('G20')){\n      return 'G20'\n    }\n    else return false;\n  }\n});\n\nexport const selectProgram = (state) => { \n  const file = state.rockhopper.status.program;\n  const prefix = state.rockhopper.status.programPrefix;\n  if(file && file.startsWith(prefix)) {\n    return file.replace(prefix + \"/\", \"\");\n  }\n  return file;\n};\n\n\nexport const selectFileDownload = (state, path) => state.rockhopper.fileDownload[path];\nexport const selectFileDownloads = (state) => state.rockhopper.fileDownload;\nexport const selectFileDownloadCount = (state) => Object.values(state.rockhopper.fileDownload).length;\n\n\nexport const selectFileUpload = (state, path) => state.rockhopper.fileUpload[path];\nexport const selectFileUploads = (state) => state.rockhopper.fileUpload;\nexport const selectFileUploadCount = (state) => Object.values(state.rockhopper.fileUpload).length;\nexport const selectFileUploadsThatNeedOverwritePermission = (state) => {\n  const needsOverwritePermission = [];\n  for(let key in state.rockhopper.fileUpload) {\n    if(state.rockhopper.fileUpload[key].state === FILE_UPLOAD_ASK_FOR_OVERWRITE && !state.rockhopper.fileUpload[key].overwrite) {\n      needsOverwritePermission.push(state.rockhopper.fileUpload[key]);\n    }\n  }\n  return needsOverwritePermission;\n};\n\nexport const selectAxes = createSelector([ selectAxisMask, selectTrajCoordinates ], (axisMask = 0, coords=\"\") => {\n  const axes = [];\n  const axisNames = \"XYZABCUVW\";\n  for(let index = 0; index < 9; index++) {\n    if(axisMask & (1 << index)) {\n      const axis = axisNames[index];\n      const jointIndex = coords ? coords.indexOf(axis) : -1;\n      axes.push({ axis, index, jointIndex });\n    }\n  }\n\n  return axes;\n});\n\nexport const selectIsMachineHomed = createSelector(\n  [ selectJoints, selectHomed ],\n  (joints, homed) => {\n    if(joints && homed){\n      for(let i = 0; i < joints; i++) {\n        if(!homed[i]) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n);\n\nexport const selectAxesData = (state) => state.rockhopper.status.axesData;\n\nexport const selectFeedPower = createSelector([ selectAxesData ], (axes) => {\n  if(axes) {\n    return {\n      value: 1/(5/25.4)*Math.abs(axes[0].velocity)*Math.PI*2*axes[0].torque*2+ \n              1/(5/25.4)*Math.abs(axes[1].velocity)*Math.PI*2*axes[1].torque*2+ \n              1/(5/25.4)*Math.abs(axes[2].velocity)*Math.PI*2*axes[2].torque*3.5+ \n              Math.abs(axes[3].velocity)*4080/26*Math.PI/180*axes[3].torque*3.5+\n              Math.abs(axes[4].velocity)*4080/26*Math.PI/180*axes[4].torque*2,\n      unit: UNITS.MACHINE_UNITS.POWER\n    }\n  }\n  return { value: 0, unit: UNITS.MACHINE_UNITS.POWER }\n});\n\n// computed data can be generated with a selector\nexport const selectPositions = createSelector([ selectG5xOffset,\n                                                selectG92Offset,\n                                                selectToolOffset,\n                                                selectIsMachineHomed,\n                                                selectAxesData ], \n                                              ( g5xOffset,\n                                                g92Offset,\n                                                toolOffset,\n                                                homed,\n                                                axesData) => {\n  if(axesData &&\n     g5xOffset &&\n     g92Offset &&\n     toolOffset) {\n      \n       return axesData.map(({ velocity, axis, index, jointIndex, actualPosition, jointActualPosition, dtg, torque }) => ({\n        axis,\n        index,\n        jointIndex,\n        actualPosition: { value: actualPosition, unit: UNITS.AXES[axis] },\n        jointActualPosition: { value: jointActualPosition, unit: UNITS.AXES[axis]},\n        velocity: { \n          value: velocity, \n          unit: (UNITS.AXES[axis] + \"/s\") \n        },\n        position: { \n          value: homed ? actualPosition-g5xOffset[index]-g92Offset[index]-toolOffset[index] : (jointIndex > -1 ? jointActualPosition : 0),\n          unit: UNITS.AXES[axis]\n        },\n        torque,\n        dtg: {\n          value: homed ? dtg : 0,\n          unit: UNITS.AXES[axis]\n        }\n      }));\n    } else {\n      return [];\n    }\n});\n\nexport const selectSpindleTemperature = (state) => { return { value : state.rockhopper.status.spindleTemperature || -999, unit: UNITS.MACHINE_UNITS.TEMPERATURE } };\nexport const selectSpindlePressure = (state) => { return { value : state.rockhopper.status.spindlePressure || -999, unit: UNITS.MACHINE_UNITS.PRESSURE } };\nexport const selectMaximumSpindleSpeed = (state) => {\n  return {\n    value: state.rockhopper.status.spindleMaxSpeed || 1,\n    unit: UNITS.MACHINE_UNITS.SPINDLE_SPEED\n  }\n}\nexport const selectMeasuredSpindleSpeed = (state) => {\n  return {\n    value: Math.round(state.rockhopper.status.measuredSpindleSpeed) || 0,\n    unit: UNITS.MACHINE_UNITS.SPINDLE_SPEED\n  }\n};\nexport const selectCalculatedFeedrate = (state) => { \n  return { \n    value: (state.rockhopper.status.calculatedFeedrate || 0), \n    unit: UNITS.MACHINE_UNITS.LINEAR_VELOCITY \n  };\n};\n\nexport const selectSpindlePower = createSelector([ selectRockhopper ], (state) => {\n  const {\n    measuredSpindleCurrent = 0,\n    measuredSpindleVoltage = 0\n  } = state.status;\n\n  const current = measuredSpindleCurrent || 0;\n  const voltage = measuredSpindleVoltage || 0;\n\n  return {value: current*voltage, unit: UNITS.MACHINE_UNITS.POWER} ; // power in watts or volt-Amps\n});\n\nexport const selectSpindleLoad = createSelector([ selectSpindlePower, selectMeasuredSpindleSpeed ], (power, spindleSpeed) => {\n  const maxPower = 2500;\n  const maxRPM = 40000;\n  const maxPowerAtRPM = spindleSpeed.value/maxRPM*maxPower;\n\n  if(maxPowerAtRPM > 0) {\n    return power.value/maxPowerAtRPM;\n  }\n  return 0;\n});\n\nexport const selectDelayedMaxVelPercentage = createSelector([ selectRockhopper, selectMaxLinearVelocity ], (state, maxLinearVel) => {\n  const maxVel = state.delayed.status.halpinHaluiMaxVelocityValue;\n  if(typeof(maxVel) === \"undefined\") {\n    return 100;\n  }\n\n  return Math.round(maxVel/maxLinearVel * 100) ;\n});\n\nexport const selectMaxVelPercentage = createSelector([ selectRockhopper, selectMaxLinearVelocity ], (state, maxLinearVelocity) => {\n  const {\n    halpinHaluiMaxVelocityValue: maxVel\n  } = state.status;\n\n  return Math.round(maxVel/maxLinearVelocity * 100) ;\n});\n\nexport const selectDelayedRapidRatePercentage = createSelector([ selectRockhopper ], (state) => {\n  const {\n    rapidrate\n  } = state.delayed.status;\n\n  if(typeof(rapidrate) !== \"undefined\") {\n    return Math.round(rapidrate * 100);\n  }\n  return 100;\n});\nexport const selectRapidRatePercentage = createSelector([ selectRockhopper ], (state) => {\n  const {\n    rapidrate\n  } = state.status;\n\n  if(typeof(rapidrate) !== \"undefined\") {\n    return Math.round(rapidrate * 100);\n  }\n  return 100;\n});\n\nexport const selectDelayedFeedratePercentage = createSelector([ selectRockhopper ], (state) => {\n  const {\n    feedrate,\n  } = state.delayed.status;\n\n  if(typeof(feedrate) !== \"undefined\") {\n    return Math.round(feedrate * 100);\n  }\n\n  return 100;\n});\nexport const selectFeedratePercentage = createSelector([ selectRockhopper ], (state) => {\n  const {\n    feedrate,\n  } = state.status;\n\n  return Math.round(feedrate * 100);\n});\n\nexport const selectDelayedSpindle = createSelector([ selectRockhopper ], (state) => {\n  if(state.delayed.status.spindle) {\n    return state.delayed.status.spindle;\n  }\n\n  return [ { override: 1 } ]\n});\n\nexport const selectSpindleratePercentage = createSelector([ selectRockhopper ], (state) => {\n  if(state.status.spindle) {\n    const spindlerate = state.status.spindle[0].override;\n\n    return Math.round(spindlerate * 100);\n  } else {\n    return 100;\n  }\n});\n\nexport const selectRawToolTable = (state) => state.rockhopper.status.toolTable;\n\nexport const selectClientConfig  = createSelector([ selectRockhopper ], (state) => {\n  const {\n    clientConfig,\n  } = state.status;\n  \n  return clientConfig;\n});\n\n\nexport const selectDisplayUnits = createSelector([ selectClientConfig ], (clientConfig) => {\n  if(clientConfig && clientConfig.displayUnits) {\n    return clientConfig.displayUnits;\n  }\n  return {\n    angle: \"deg\",\n    angularVelocity: \"deg/min\",\n    length: \"pu\",\n    linearVelocity: \"pu/min\",\n    power: \"W\",\n    pressure: \"MPa\",\n    spindleSpeed: \"rpm\",\n    surfaceSpeed: \"ft/min\",\n    temperature: \"C\",\n    time: \"min\"\n  } \n});\n\nexport const selectToolTable = createSelector([selectRawToolTable,  selectDisplayUnits ], (rawToolTable, units) => {\n  const lengthUnit = UNITS.MACHINE_UNITS.LENGTH;\n  const angleUnit = UNITS.MACHINE_UNITS.ANGLE;\n  //In Machinekit, the columns in the tool table are:  \n  //id, xoffset, yoffset, zoffset, aoffset, boffset, coffset, uoffset, voffset, woffset, diameter, frontangle, backangle, orientation. \n  //The id and orientation are integers and the rest are floats.\n  const unitsForTool = [null, lengthUnit, lengthUnit, lengthUnit, angleUnit, angleUnit, angleUnit, null, null, null, lengthUnit, angleUnit, angleUnit, null];\n  const toolTable = !rawToolTable ? null : (\n    rawToolTable.slice(1,53).map(toolRow => { return toolRow.map(((toolDatum,index) => (\n      unitsForTool[index] ? (\n        {value: toolDatum, unit: unitsForTool[index]}\n      ) : toolDatum\n    ) )) })\n  );\n  return toolTable\n});\n\n\nexport const selectKeyboardShortcuts = createSelector([ selectClientConfig ], (clientConfig) => {\n  const keyboardShortcuts = clientConfig && clientConfig.KeyboardShortcuts ? clientConfig.KeyboardShortcuts : SHORTCUTS;\n  return keyboardShortcuts;\n});\nexport const selectKeyboardShortcutsJogModifiers = createSelector([ selectKeyboardShortcuts ], (shortcuts) => {\n  const jogShortcuts = shortcuts && shortcuts.jogModifiers ? shortcuts.jogModifiers : SHORTCUTS.JOG_MODIFIERS;\n  return jogShortcuts;\n});\nexport const selectKeyboardShortcutsJog = createSelector([ selectKeyboardShortcuts ], (shortcuts) => {\n  const jogShortcuts = shortcuts && shortcuts.jog ? shortcuts.jog : SHORTCUTS.JOG;\n  return jogShortcuts;\n});\nexport const selectKeyboardShortcutsAxisSelectJog = createSelector([ selectKeyboardShortcuts ], (shortcuts) => {\n  const axisSelectJogShortcuts = shortcuts && shortcuts.axisSelectJog ? shortcuts.axisSelectJog : SHORTCUTS.AXIS_SELECT_JOG;\n  return axisSelectJogShortcuts;\n});\nexport const selectKeyboardShortcutsOther = createSelector([ selectKeyboardShortcuts ], (shortcuts) => {\n  const otherShortcuts = shortcuts && shortcuts.other ? shortcuts.other : SHORTCUTS.OTHER;\n  return otherShortcuts;\n});\nexport const selectKeyboardShortcutsMdi = createSelector([ selectKeyboardShortcuts ], (shortcuts) => {\n  const mdiShortcuts = shortcuts && shortcuts.mdi ? shortcuts.mdi : {};\n  return mdiShortcuts;\n});\n\nconst selectKeyboardShortcutsAxisSelectJogMap = createSelector([ selectKeyboardShortcutsAxisSelectJog ], (axisSelectJogShortcuts) => {\n  let map = {};\n  Object.keys(axisSelectJogShortcuts).forEach((key) => {\n    if(axisSelectJogShortcuts[key] !== \"\"){\n      map[axisSelectJogShortcuts[key]] = \"axisSelectJog\" + key.charAt(0).toUpperCase() + key.slice(1);\n    }\n  })\n  return map;\n});\nconst selectKeyboardShortcutsOtherMap = createSelector([ selectKeyboardShortcutsOther ], (otherShortcuts) => {\n  let map = {};\n  Object.keys(otherShortcuts).forEach((key) => {\n    if(otherShortcuts[key] !== \"\"){\n      map[otherShortcuts[key]] = key;\n    }\n  })\n  return map;\n});\n\nexport const selectMdiHistory = createSelector([ selectClientConfig ], (clientConfig) => {\n  const mdiHistory = clientConfig && clientConfig.MDIHistory ? clientConfig.MDIHistory : [];\n  return mdiHistory;\n});\nexport const selectMdiFavorites = createSelector([ selectClientConfig ], (clientConfig) => {\n  const mdiFavs = clientConfig && clientConfig.MDIFavorites ? clientConfig.MDIFavorites : [];\n  return mdiFavs;\n});\n\nconst selectKeyboardShortcutsMdiMap = createSelector([ selectMdiFavorites ], (mdiFavorites) => {\n  let map = {};\n  mdiFavorites.forEach((fav) => {\n    if(fav.keybind && fav.keybind !== \"\"){\n      map[fav.keybind] = 'mdi' + fav.cmd;\n    }\n  })\n  return map;\n});\n\n//CLIENT_CONFIG contains two arrays for MDI, one for history and one for favorites\n//The arrays contain objects with a few different properties, but the objects in both\n//contain a \"cmd\" property holding the raw string of the MDI command\nfunction mdiCmdArrayToSet(mdiArr) {\n  const mdiSet = new Set();\n  mdiArr.forEach((mdiObj) => {\n    mdiSet.add(mdiObj[\"cmd\"]);\n    return null\n  });\n  return mdiSet;\n};\n\n//Turns the array of MDI favorites into a Map, the \"cmd\" property becomes the key.\n//The purpose is to make deleting multiple items at once simple\nexport const selectMdiFavoritesMap = createSelector([selectMdiFavorites], (mdiFavorites) => {\n  const favsMap = new Map();\n  for(let fav of mdiFavorites){\n    favsMap.set( fav.cmd, { name: fav.name, time:fav.time, keybind: fav.keybind } )\n  };\n  return favsMap;\n});\n\nexport const selectKeyboardShortcutsMap =  createSelector(\n  [ \n    selectKeyboardShortcutsJogModifiers,\n    selectKeyboardShortcutsJog,\n    selectKeyboardShortcutsAxisSelectJogMap,\n    selectKeyboardShortcutsOtherMap,\n    selectKeyboardShortcutsMdiMap,\n  ],\n  (\n    jogModifiers,\n    jogKeys,\n\n    axisSelectJogMap,\n    otherShortcutsMap,\n    mdiShortcutsMap,\n  ) => {\n    if( !jogModifiers || !jogKeys || !axisSelectJogMap || !otherShortcutsMap){\n      return null;\n    }\n    let map = {};\n    const jogContinuousPrefix = jogModifiers.continuous ? jogModifiers.continuous + \"+\" : \"\";\n    Object.keys(jogKeys).forEach((key) => {\n      if(jogKeys[key] !== \"\"){\n        map[jogContinuousPrefix + jogKeys[key]] = key;\n        if(jogModifiers.incremental !== \"\"){\n          map[jogModifiers.incremental + \"+\" + jogKeys[key]] = key + \"incremental\";\n        }\n        if(jogModifiers.slow !== \"\"){\n          map[jogModifiers.slow + \"+\" + jogKeys[key]] = key + \"slow\";\n        }\n      }\n    });\n    return {...map, ...axisSelectJogMap, ...otherShortcutsMap, ...mdiShortcutsMap}\n  }\n);\n\n//Creates a map using MDI history and favorites arrays. \n//The keys are the \"cmd\" properties in history\n//Each key has a single property \"isFav\", which is T/F if an identical string is found in the favorites array.\nexport const selectMdiHistoryInFavoritesMap = createSelector([selectMdiHistory, selectMdiFavorites], (mdiHistory, mdiFavorites) => {\n  const histSet = mdiCmdArrayToSet(mdiHistory);\n  const favSet = mdiCmdArrayToSet(mdiFavorites);\n  const histInFavsMap = new Map();\n  for(let histItem of histSet){\n    histInFavsMap.set( histItem, { isFav: favSet.has(histItem) } )\n  };\n  return histInFavsMap;\n});\n\nexport const selectMdiHistorySorted = createSelector([selectMdiHistory], (mdiHistory) => {\n  return Object.values(mdiHistory).sort((a,b) => b.time - a.time);\n})\n\nexport const selectMdiHistorySortedUnique = createSelector([selectMdiHistorySorted], (sorted) => {\n  var uniqueSet = new Set();\n  var uniqueArr = [];\n  for(let histItem of sorted){\n    const cmd = histItem.cmd.toLowerCase();\n    if( ! uniqueSet.has(cmd) ){ \n      uniqueSet.add(cmd);\n      uniqueArr.push(histItem);\n    }\n  }\n  return uniqueArr\n})\n\nexport const selectToolFlutes = createSelector([ selectClientConfig ], (clientConfig) => {\n\n  const flutes = clientConfig && clientConfig.ToolFlutes ? clientConfig.ToolFlutes : null;\n\n  return flutes;\n});\n\n\nexport const selectToolTableDescriptions = createSelector([ selectClientConfig ], (clientConfig) => {\n\n  const descriptions = clientConfig && clientConfig.ToolTableDescriptions ? clientConfig.ToolTableDescriptions : [];\n\n  return descriptions;\n});\n\nexport const selectActiveToolFlutes = createSelector([ selectToolFlutes, selectToolInSpindle ], (toolFlutes, activeTool) => {\n  if(toolFlutes && activeTool > 0) {\n    return toolFlutes[activeTool-1] || 1;\n  }\n  return 1;\n});\nexport const selectActiveToolDiameter = createSelector([ selectToolTable, selectToolInSpindle ], (toolTable, activeTool) => {\n  if(toolTable && activeTool) {\n    return toolTable[activeTool-1][10];\n  }\n  return {value: 0, unit: UNITS.MACHINE_UNITS.LENGTH };\n});\nexport const selectMaximumChipLoad = createSelector([ selectMaxLinearVelocity, selectActiveToolFlutes ], (feedrate, flutes) => {\n  if(flutes && feedrate) {\n    // assuming minimum spindle speed of 1000 rpm\n    return { value: feedrate*60/(1000*flutes), unit: UNITS.MACHINE_UNITS.LENGTH };\n  }\n  return { value: 0, unit: UNITS.MACHINE_UNITS.LENGTH };\n});\nexport const selectChipLoad = createSelector([ selectCalculatedFeedrate, selectActiveToolFlutes, selectMeasuredSpindleSpeed ], (feedrate, flutes, spindleSpeed) => {\n  if(spindleSpeed.value && flutes) {\n    // assumes \n    // feedrate is in inches/second\n    // spindleSpeed is in rpm\n    // return unit is in inches/rotation\n    return { value: feedrate.value*60/(spindleSpeed.value*flutes), unit: UNITS.MACHINE_UNITS.LENGTH };\n  }\n  return { value: 0, unit: UNITS.MACHINE_UNITS.LENGTH };\n});\n\nexport const selectMaximumSurfaceFootage = createSelector([ selectMaximumSpindleSpeed, selectActiveToolDiameter ], (spindleSpeed, diameter) => {\n  if(spindleSpeed.value && diameter.value) {\n    return { value: spindleSpeed.value*diameter.value*Math.PI/12, unit: UNITS.MACHINE_UNITS.SURFACE_SPEED }\n  }\n  return { value: 0, unit: UNITS.MACHINE_UNITS.SURFACE_SPEED };\n});\n\nexport const selectSurfaceFootage = createSelector([ selectMeasuredSpindleSpeed, selectActiveToolDiameter ], (spindleSpeed, diameter) => {\n  if(spindleSpeed.value && diameter.value) {\n    return { value: spindleSpeed.value*diameter.value*Math.PI/12, unit: UNITS.MACHINE_UNITS.SURFACE_SPEED }\n  }\n  return { value: 0, unit: UNITS.MACHINE_UNITS.SURFACE_SPEED };\n});\n\n\n\nexport const selectReadyForMdi = createSelector(\n  [selectIsMachineHomed, selectEstop, selectTaskMode, selectInterpState],\n  (isMachineHomed, estop, taskMode, interpState ) => {\n    const ret = { isReady : false, reason: null}\n    if( estop ){\n      ret.reason = 'Machine is in E-stop.';\n    }\n    else if( ! isMachineHomed ){\n      ret.reason = 'Machine is not homed.';\n    }\n    else if( taskMode === TASK_MODE.AUTO && interpState !== INTERP_STATE.IDLE){\n      ret.reason = 'Machine is running a program.';\n    }\n    else{\n      ret.isReady = true;\n    }\n    \n    return ret;\n  }\n)\n\nexport const selectWorkOffsets = createSelector(\n  [ \n    selectG5xOffset,\n    selectG92Offset,\n    selectToolOffset,\n    selectIsMachineHomed,\n    selectAxesData \n  ], \n  (\n    g5xOffset,\n    g92Offset,\n    toolOffset,\n    homed,\n    axesData\n  ) => {\n    if(axesData && g5xOffset && g92Offset && toolOffset) {\n      return axesData.map(\n        ({ axis, index, jointIndex, actualPosition, jointActualPosition }) => ({\n          axis,\n          index,\n          jointIndex,\n          actualPosition: { \n            value: actualPosition, \n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE \n          },\n          jointActualPosition: { \n            value: jointActualPosition, \n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE\n          },\n          position: {\n            value: homed ? actualPosition-g5xOffset[index]-g92Offset[index]-toolOffset[index] : (jointIndex > -1 ? jointActualPosition : 0),\n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE\n          },\n          toolOffset: {\n            value: toolOffset[index],\n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE\n          },\n          g5xOffset: { \n            value: g5xOffset[index],\n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE\n          },\n          g92Offset: { \n            value: g92Offset[index],\n            unit: jointIndex <= 2 ? UNITS.MACHINE_UNITS.LENGTH : UNITS.MACHINE_UNITS.ANGLE\n          }\n      }));\n  } else {\n    return [];\n  }\n});\n\nexport const selectRegisteredDelayedUpdates = (state) => state.rockhopper.delayed.registered;\nexport const selectRegisteredDelayedUpdateHelpers = (state) => state.rockhopper.delayed.registeredHelpers;\n","import React from 'react';\n\nexport const DialectContext = React.createContext({});\n\nconst DialectProvider = DialectContext.Provider;\n\nexport default DialectProvider;\n","import { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { DialectContext } from '../components/DialectProvider';\n\nconst useTranslationHook = () => {\n  const { t, i18n, ready } = useTranslation();\n  const dialect = useContext(DialectContext);\n\n  const tDialect = (key) => {\n    const dialectKey = dialect + \":\" + key;\n    const dialectTranslation = t(dialectKey);\n    if(dialectTranslation !== key) {\n      return dialectTranslation;\n    }\n\n    return t(key);\n  };\n\n  return { t: tDialect, i18n, ready };\n};\nexport default useTranslationHook;\n","import React from 'react';\n\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n//    border: \"1px solid \" + theme.palette.grey[100]\n  },\n  panelHeader: {\n    ...theme.typography.panelHeader\n  },\n  headerBox: {\n    position: \"relative\",\n    height: 30,\n    marginBottom: theme.spacing(1),\n    display: \"flex\"\n  },\n  line: {\n    borderBottom: \"1px solid \" + theme.palette.text.primary,\n    marginLeft: theme.spacing(2),\n    width: \"100%\",\n    height: 25,\n    display: \"block\"\n  },\n  svg: {\n    verticalAlign: \"bottom\",\n    position: \"relative\",\n    bottom: -2,\n    left: -3\n  }\n}));\n\nconst Panel = (props) => {\n  const {\n    label,\n    children\n  } = props;\n\n  const classes = useStyles();\n\n  const angle = 20*Math.PI/180;\n  const width = 80;\n  const height = 6;\n  const r = 3;\n  const cornerR = 3;\n  const curveX = r*Math.cos(angle);\n  const curveY = r-r*Math.sin(angle);\n\n  const pts = [\n    [ \"M\", 0, cornerR ],\n    [ \"a\", cornerR, cornerR, 0, 0, 1, cornerR, -cornerR ],\n    [ \"L\", 60, 0 ],\n    [ \"a\", r, r, 0, 0, 1, curveX, curveY ],\n    [ \"l\", (height-2*curveY-1)*Math.tan(angle), (height-2*curveY-1)],\n    [ \"a\", r, r, 0, 0, 0, curveX, curveY ],\n    [ \"L\", cornerR, height ],\n    [ \"a\", cornerR, cornerR, 0, 0, 1, -cornerR, -cornerR ],\n    [ \"Z\" ]\n  ];\n\n  return <Box m={2}>\n    <div className={classes.headerBox}>\n      <span className={ classes.panelHeader }>{label}</span>\n      <span className={classes.line}>\n       <svg width={width} height={height} className={classes.svg}>\n         <path d={pts.map((cmd) => cmd.join(\" \")).join(\" \")} fill=\"black\"/>\n       </svg>\n      </span>\n    </div>\n    <Paper elevation={0} classes={ { root: classes.paper } }>\n      <Box m={0}>\n        {children}\n      </Box>\n    </Paper>\n  </Box>;\n};\nexport default Panel;\n","import React, { useState, useCallback } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nconst SubmittableTextField = (props) => {\n  const {\n    value,\n    onChange,\n    onSubmit,\n  } = props;\n\n  const [ tmpValue, setTmpValue ] = useState(value);\n  const [ editing, setEditing ] = useState(false);\n  const displayValue = editing ? tmpValue : value;\n\n  const handleFocus = useCallback((e) => {\n    setTmpValue(value);\n    setEditing(true);\n  }, [ setEditing, setTmpValue, value ]);\n\n  const handleChange = useCallback((e) => {\n    if(onChange) {\n      onChange(e.target.value);\n      setTmpValue(e.target.value);\n      e.preventDefault()\n    } else {\n      setTmpValue(e.target.value);\n    }\n  }, [ onChange, setTmpValue ]);\n\n  const handleBlur = useCallback((e) => {\n    setEditing(false);\n    setTmpValue(value);\n  }, [ setEditing, value, setTmpValue ]);\n\n  const handleKeyDown = useCallback((e) => {\n    if(e.key === \"Enter\") {\n      if(onSubmit) {\n        onSubmit(e);\n      }\n      e.target.blur();\n    }\n  }, [ onSubmit ]);\n\n\n  return <TextField {...props}\n                    value={displayValue} \n                    onFocus={handleFocus} \n                    onBlur={handleBlur} \n                    onChange={handleChange}\n                    onKeyDown={handleKeyDown}\n                    />\n};\nexport default SubmittableTextField;\n","import React from 'react';\n\nexport const UnitsContext = React.createContext({});\n\nconst UnitsProvider = UnitsContext.Provider;\n\nexport default UnitsProvider;\n","export const MODULE_ID = '@@rockhopper';\n\nexport const FILE_UPLOAD_QUEUED = 'queued';\nexport const FILE_UPLOAD_UPLOADING = 'uploading';\nexport const FILE_UPLOAD_ASK_FOR_OVERWRITE = 'askForOverwrite';\nexport const FILE_UPLOAD_CANCELED = 'canceled';\n\nexport const FILE_TYPES = {\n  PROGRAM: 'PROGRAM',\n  USB_PROGRAM: 'USB_PROGRAM',\n  CONFIGURATION: 'CONFIGURATION',\n  SUBROUTINE: 'SUBROUTINE',\n}\n\nexport const DIR_FILE_TYPES = {\n  '/home/pocketnc/ncfiles/': 'PROGRAM',\n  '/media/': 'USB_PROGRAM',\n  '/home/pocketnc/Settings/': 'CONFIGURATION',\n  '/home/pocketnc/Settings/subroutines/': 'SUBROUTINE',\n}\n\nexport const GET_CMD = 'get';\nexport const WATCH_CMD = 'watch';\nexport const UNWATCH_CMD = 'unwatch';\nexport const PUT_CMD = 'put';\nexport const LIST_GET_CMD = 'list_get';\nexport const LIST_PUT_CMD = 'list_put';\n\nexport const LOGIN_ID = \"LOGIN_ID\";\nexport const HEARTBEAT_PERIOD = 3000;\nexport const HEARTBEAT_ID = \"HEARTBEAT_ID\";\nexport const HEARTBEAT_GET_NAME = \"estop\";\nexport const HEARTBEAT_TIMEOUT_MSG = \"Heartbeat timed out.\";\nexport const SOCKET_CLOSED_MSG = \"WebSocket closed.\";\n\nexport const FILE_UPLOAD_CHUNK_SIZE = 1024*100;\nexport const FILE_DOWNLOAD_CHUNK_SIZE = 1024*100;\n\nexport const OK_CODE = \"?OK\";\nexport const COMMAND_ERROR_CODE = \"?Error executing command\";\nexport const FILE_EXISTS_CODE = \"?File exists\";\n\nexport const LOGIN_FAILED_MSG = \"Login Failed\";\n\nexport const LOCALSTORAGE_KEY = \"webSocket\";\nexport const DEBUG = \"debug\";\nexport const INFO = \"info\";\nexport const WARNING = \"warning\";\nexport const ERROR = \"error\";\n\n// popup dismiss types\nexport const BASIC = \"basic\"; // stays up for 3 seconds unless more than max number of popups occur (in that case oldest one with basic type is dismissed)\nexport const STOPPED_OR_RUNNING = \"stoppedOrRunning\"; // Dismiss once the machine is stopped (not running a program) or running (program was unpaused). Use this when waiting for cycle start button to be pressed.\n\nexport const LINUXCNC_MODE_MANUAL = 1;\nexport const LINUXCNC_MODE_AUTO = 2;\nexport const LINUXCNC_MODE_MDI = 3;\n\nexport const MACHINE_STATUS = {\n  MDI: \"mdi\",\n  RUNNING: \"running\",\n  IDLE: \"idle\",\n  PAUSED: \"paused\"\n};\n\nexport const TASK_MODE = {\n  MANUAL: 1,\n  AUTO: 2,\n  MDI: 3\n};\n\nexport const INTERP_STATE = {\n  IDLE: 1,\n  READING: 2,\n  PAUSED: 3,\n  WAITING: 4,\n};\n\nexport const MDI_MEMORY_PROPS = {\n  TIME: \"time\",\n  NAME: \"name\",\n  CMD: \"cmd\",\n}\n\nexport const G5X_SYSTEMS = [ 'G54', 'G55', 'G56', 'G57', 'G58', 'G59', 'G59.1', 'G59.2', 'G59.3' ];\n\n\nexport const TOOL_ENTRY_INDICES = {\n  TOOL_TABLE_INDEX: 0,\n  Z_OFFSET: 3,\n  DIAMETER: 10,\n}\n\nexport const UNITS = {\n  MACHINE_UNITS : {\n    ANGLE: \"deg\",\n    ANGULAR_VELOCITY: \"deg/s\",\n    LENGTH: \"in\",\n    LINEAR_VELOCITY: \"in/s\",\n    POWER: \"W\",\n    PRESSURE: \"MPa\",\n    SPINDLE_SPEED: \"rpm\",\n    SURFACE_SPEED: \"ft/min\",\n    TEMPERATURE: \"C\",\n  },\n  AXES: {\n    X: 'in',\n    Y: 'in',\n    Z: 'in',\n    A: 'deg',\n    B: 'deg',\n    C: 'deg',\n  },\n  TYPE_MAP: {\n    'in': 'length',\n    'mm': 'length',\n    'cm': 'length',\n    'pu': 'length',\n    'in/s': 'linearVelocity',\n    'in/min': 'linearVelocity',\n    'ft/s': 'linearVelocity',\n    'ft/min': 'linearVelocity',\n    'mm/s': 'linearVelocity',\n    'mm/min': 'linearVelocity',\n    'm/s': 'linearVelocity',\n    'm/min': 'linearVelocity',\n    'pu/s': 'linearVelocity',\n    'pu/min': 'linearVelocity',\n    'deg': 'angle',\n    'deg/s': 'angularVelocity',\n    'deg/min': 'angularVelocity',\n    'psi': 'pressure',\n    'MPa': 'pressure',\n    'F': 'temperature',\n    'C': 'temperature',\n    'rpm': 'spindleSpeed',\n    'W': 'power'\n  },\n  DECIMALS: (unit) => {\n    switch(unit){\n      case 'mm':\n        return 3;\n      case 'mm/s':\n        return 3;\n      case 'mm/min':\n        return 3;\n      case 'deg':\n        return 3;\n      case 'deg/min':\n        return 3;\n      case 'deg/s':\n        return 3;\n      default:\n        return 4\n    }\n  },\n\n  lengthOptions: new Set([\"in\", \"mm\", \"cm\", \"mu\"]),\n  angleOptions: new Set([\"deg\"]),\n  pressureOptions: new Set([\"MPa\", \"psi\"]),\n  temperatureOptions: new Set([\"C\", \"F\",]),\n  linearVelocityOptions: new Set([\"in/s\", \"in/min\", \"mm/s\", \"mm/min\"]),\n  angularVelocityOptions: new Set([\"deg/s\", \"deg/min\"]),\n};\n\nexport const SHORTCUTS = {\n  AXIS_SELECT_JOG: { \"jog+\": \"\", \"jog-\":\"\", \"nextAxis\":\"\", \"previousAxis\":\"\", \"increaseStepSize\":\"\", \"decreaseStepSize\":\"\", \"selectX\":\"\", \"selectY\":\"\", \"selectZ\":\"\", \"selectA\":\"\", \"selectB\":\"\", \"selectC\":\"\"},\n  OTHER: {\n    \"cycleStart\":\"\", \"estopDisable\":\"\",  \"estopEnable\":\"\", \"feedHold\":\"\", \"feedrateIncrement1\":\"\", \"feedrateIncrement10\":\"\", \"feedrateDecrement1\":\"\", \"feedrateDecrement10\":\"\",\n    \"homeAll\":\"\", \"reset\":\"\", \"spindlerateIncrement1\":\"\", \"spindlerateIncrement10\":\"\", \"spindlerateDecrement1\":\"\", \"spindlerateDecrement10\":\"\", \"step\":\"\"\n  },\n  JOG_MODIFIERS: {\"continuous\":\"\", \"incremental\":\"Alt\", \"slow\":\"Shift\"},\n  JOG: {\"jogX+\":\"ArrowRight\", \"jogX-\":\"ArrowLeft\", \"jogY+\":\"ArrowUp\", \"jogY-\":\"ArrowDown\", \"jogZ+\":\"X\", \"jogZ-\":\"Z\", \"jogA+\":\"S\", \"jogA-\":\"A\", \"jogB-\":\"B\", \"jogB+\":\"N\", \"jogC+\":\"V\", \"jogC-\":\"C\"}\n}\n","import { useContext } from 'react';\nimport { UnitsContext } from '../components/UnitsProvider';\nimport { UNITS } from '../modules/rockhopper/constants';\nimport convert from 'convert-units';\n\n/*\n  toProgramUnits and toMachineUnits are exported as standalone functions,\n  outside the useUnits context, to allow use in containers.\n  For the units affected by it, this requires passing the G20/G21 modal state\n  through the component and back to the container's dispatch methods.\n*/\nexport const toProgramUnits = (unitObject, unitSystemModalCode) => {\n  const {unit, value} = unitObject;\n  const unitType = UNITS.TYPE_MAP[unit];\n  if(unitType === 'length'){\n    if(unitSystemModalCode === 'G21'){\n      return {\n        value: convert(value).from(unit).to('mm'),\n        unit: 'mm'\n      }\n    }\n    else if(unitSystemModalCode === 'G20'){\n      return {\n        value: convert(value).from(unit).to('in'),\n        unit: 'in'\n      }\n    }  \n  }\n  else if(unitType === 'linearVelocity'){\n    if(unitSystemModalCode === 'G21'){\n      return {\n        value: convert(value).from(unit).to('mm/min'),\n        unit: 'mm/min'\n      }\n    }\n    else if(unitSystemModalCode === 'G20'){\n      return {\n        value: convert(value).from(unit).to('in/min'),\n        unit: 'in/min'\n      }\n    }\n  }\n  else{\n    const constantsKey = unitType.split(/(?=[A-Z])/).map(keyPiece => keyPiece.toUpperCase()).join('_');\n    const machineUnit = UNITS.MACHINE_UNITS[constantsKey];\n    return { \n      value: convert(value).from(unit).to(machineUnit),\n      unit: machineUnit\n    }\n  }\n}\n\nexport const toMachineUnits = (unitObject, unitSystemModalCode) => {\n  let {unit, value} = unitObject;\n  if(unit.startsWith('pu')){\n    if(unitSystemModalCode === 'G21'){\n      unit = 'mm' + unit.substr(2);\n    }\n    else if(unitSystemModalCode === 'G20'){\n      unit = 'in' + unit.substr(2);\n    }\n  }\n  const unitType = UNITS.TYPE_MAP[unit];\n  const constantsKey = unitType.split(/(?=[A-Z])/).map(keyPiece => keyPiece.toUpperCase()).join('_');\n  const machineUnit = UNITS.MACHINE_UNITS[constantsKey];\n  return {\n    value: convert(value).from(unit).to(machineUnit),\n    unit: machineUnit\n  }\n}\n\nconst useUnits = () => {\n  const {displayUnits,activeCodes} = useContext(UnitsContext);\n\n  const getDisplayUnitStringFromType = (unitType) => {\n    let displayUnit = displayUnits[unitType];\n    if(displayUnit.startsWith('pu')){\n      if(activeCodes.includes('G21')){\n        displayUnit = 'mm' + displayUnit.substr(2);\n      }\n      else if(activeCodes.includes('G20')){\n        displayUnit = 'in' + displayUnit.substr(2);\n      }\n    }\n    return displayUnit;\n  }\n\n  const getDisplayUnitStringFromUnit = (unit) => {\n    if(unit.startsWith('deg')){\n      return 'deg' + unit.substr(3);\n    }\n    else return (unit);\n  }\n\n  const toDisplayUnits = (physicalQuantity, unitType=null) => {\n    const {unit, value} = physicalQuantity;\n    let displayUnit;\n    if(unitType){\n      displayUnit = displayUnits[unitType];\n    }\n    else{\n      displayUnit = displayUnits[UNITS.TYPE_MAP[unit]];\n    }\n    if(displayUnit.startsWith('pu')){\n      if(activeCodes.includes('G21')){\n        displayUnit = 'mm' + displayUnit.substr(2);\n      }\n      else if(activeCodes.includes('G20')){\n        displayUnit = 'in' + displayUnit.substr(2);\n      } else {\n        // haven't connected yet so we don't know, use inches for now\n        displayUnit = 'in' + displayUnit.substr(2);\n      }\n    }\n    return { \n      value: convert(value).from(unit).to(displayUnit),\n      unit: displayUnit\n    }\n  }\n\n  return { displayUnits, getDisplayUnitStringFromType, getDisplayUnitStringFromUnit, toDisplayUnits }\n}\nexport default useUnits;\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport { Button } from '@material-ui/core';\nimport ToolTouchOffIcon from '@material-ui/icons/Flare';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport produce from 'immer';\nimport { FixedSizeList } from 'react-window';\n\nimport SubmittableTextField from './SubmittableTextField';\nimport classnames from 'classnames';\nimport useTranslation from '../hooks/useTranslation';\nimport useUnits from '../hooks/useUnits';\n\nimport {TOOL_ENTRY_INDICES, UNITS} from '../modules/rockhopper/constants';\n\n//styling constants\nconst DESCRIPTION_MIN_WIDTH = 200;\nconst CELL_WIDTH = 120;\nconst MEASURE_BUTTON_WIDTH = 65;\nconst ROW_MIN_WIDTH = 727;\nconst SCROLLBAR_WIDTH = 15;\nconst TABLE_HEIGHT = 250;\nconst ROW_HEIGHT = 50\nconst TOOLNUM_WIDTH = 60;\n//other constants\nconst TOOL_COUNT = 55;\nconst FIELDS_PER_TOOL = 14;\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'scroll',\n  },\n  cell: {\n    display: 'flex',\n    flex: `0 0 ${CELL_WIDTH}px`,\n    justifyContent: 'center',\n    verticalAlign: \"top\"\n  },\n  fixedSizeList: {\n    display: 'flex',\n    width: '100%',\n    overflowX: 'visible',\n    overflowY: 'scroll',\n  },\n  measureButton: {\n    height: 39\n  },\n  row: {\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    width: '100%'\n  },\n  headerRow: {\n    display: 'flex',\n    direction: 'rtl',\n    justifyContent: 'flex-end',\n    width: '100%',\n  },\n  headerCell: { \n    display: 'flex',\n    flex: `0 0 ${CELL_WIDTH}px`,\n    justifyContent: 'center',\n    textAlign: 'center',\n    verticalAlign: 'top',\n  },\n  textFieldInput: {\n    ...theme.typography.dataText,\n    border: '2px solid ' + theme.palette.primary.main,\n    borderRadius: 4,\n    borderWidth: 2,\n    direction: 'ltr',\n    padding: theme.spacing(1),\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5),\n    textAlign: 'left',\n    '&:hover': {\n      border: \"2px solid\" + theme.palette.primary.light,\n    },\n    '&:disabled': {\n      border: \"2px solid\" + theme.palette.grey[200],\n    },\n  },\n  numericalTextFieldInput: {\n    ...theme.typography.dataText,\n    border: '2px solid ' + theme.palette.primary.main,\n    borderRadius: 4,\n    borderWidth: 2,\n    direction: 'ltr',\n    marginLeft: theme.spacing(0.5),\n    marginRight: theme.spacing(0.5),\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    '&:hover': {\n      border: \"2px solid\" + theme.palette.primary.light,\n    },\n    '&:disabled': {\n      border: \"2px solid\" + theme.palette.grey[200],\n    },\n  },\n  textFieldNotchedOutline: {\n    border: \"none\",\n  },\n  toolNumButton: {\n    ...theme.typography.dataText,\n    border: \"2px solid \" + theme.palette.text.primary,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(0.5),\n    height: 39\n  },\n  activeToolNumberBox: {\n    backgroundColor: theme.palette.text.primary,\n    color: theme.palette.primary.main,\n  },\n}));\n\n\nconst ToolTable = (props) => {\n  const {\n    toolInSpindle,\n    toolTable,\n    toolTableDescriptions,\n    toolFlutes,\n    readyForMdi,\n    onMeasureTool,\n    onLoadTool,\n    onToolDescriptionChanged,\n    onToolFlutesChanged,\n    onSetToolLengthOffset,\n    onSetToolDiameter,\n  } = props;\n\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { getDisplayUnitStringFromType, toDisplayUnits } = useUnits();\n  const decimalPoints = toolTable ? UNITS.DECIMALS(toDisplayUnits(toolTable[0][TOOL_ENTRY_INDICES.Z_OFFSET]).unit) : 0;\n\n  //Save scroll position and restore on re-render\n  const scrollRef = useRef(0)\n  const listRef = useRef();\n  useEffect(() => {\n    if(listRef.current && scrollRef.current !== 0){\n      listRef.current.scrollTo(scrollRef.current)\n    }\n  })\n\n  //For narrower screen widths where horizontal scrolling is needed, we will set padding-right on the \n  //react-window FixedSizeList to prevent scrolling within the FixedSizeList div, and instead force the scrolling into \n  //the div which contains both the header row and the FixedSizeList.\n  const headerRef = useRef();\n  const [pad, setPad] = useState(0);\n  \n  useEffect(() => {\n    function handleResize() {\n      setPad(headerRef.current.offsetWidth < ROW_MIN_WIDTH ? (ROW_MIN_WIDTH + SCROLLBAR_WIDTH) - (headerRef.current.offsetWidth) : 0)\n    }\n    //Set pad value on initial load\n    handleResize();\n    //Respond to window size changes.\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n\n  const handleMeasureTool = (toolNumber) => {\n    if(onMeasureTool) {\n      onMeasureTool(toolNumber);\n    }\n  };\n  const handleLoadTool = (toolNumber) => {\n    if(onLoadTool) {\n      onLoadTool(toolNumber);\n    }\n  };\n  const handleSetToolOffset = (e, oldOffset, toolNumber) => {\n    const value = Number(e.target.value);\n    if(onSetToolLengthOffset && ! isNaN(value)) {\n      onSetToolLengthOffset(toolNumber, { value: value, unit: toDisplayUnits(oldOffset).unit } );\n    }\n  };\n  const handleSetToolDiameter = (e, oldDiameter, toolNumber) => {\n    const value = Number(e.target.value);\n    if(onSetToolDiameter && ! isNaN(value)) {\n      onSetToolDiameter(toolNumber, { value: value, unit: toDisplayUnits(oldDiameter).unit } );\n    }\n  };\n  const handleSetToolDescription = (toolNumber, description) => {\n    if(onToolDescriptionChanged) {\n      onToolDescriptionChanged(toolNumber, description, toolTableDescriptions)\n    }\n  };\n  const handleSetToolFlutes = (toolNumber, flutes) => {\n    if(onToolFlutesChanged) {\n      onToolFlutesChanged(produce(toolFlutes ? toolFlutes : new Array(toolTable.length).map(() => 1), (draft) => { draft.splice(toolNumber - 1, 1, flutes) }), flutes)\n    }\n  };\n\n  const Row = ({ index, style }) => { //This style prop is one coming out of FixedSizeList. I don't understand the details but it is needed.\n    const tool = toolTable && toolTable[index] ? toolTable[index] : Array(FIELDS_PER_TOOL).fill({value: 0, unit: \"\"});\n    const offsetQuantity = toDisplayUnits(tool[TOOL_ENTRY_INDICES.Z_OFFSET]);\n    const diameterQuantity = toDisplayUnits(tool[TOOL_ENTRY_INDICES.DIAMETER]);\n    //Reminder: the row direction is rtl to make the vertical scrollbar visible\n    return(\n      <div className={classes.row} style={style}>\n        <span \n          className={classes.cell} \n          style={{ \n            flexGrow: 1,\n            minWidth: DESCRIPTION_MIN_WIDTH,\n          }}\n        >\n          <SubmittableTextField\n            disabled={!readyForMdi.isReady}\n            fullWidth={true}\n            variant='outlined'\n            tool={tool}\n            value={ \n              toolTableDescriptions && toolTableDescriptions[tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX] - 1] ? (\n                toolTableDescriptions[tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX] -1]\n              ) : (\"\")\n            }\n            onSubmit={\n              (e) => {\n                handleSetToolDescription(tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX], e.target.value)\n              }\n            }\n            InputProps={{\n              classes: {\n                input: classes.textFieldInput,\n                notchedOutline: classes.textFieldNotchedOutline,\n              }\n            }}\n          />\n        </span>\n        <span className={classes.cell}>\n          <SubmittableTextField\n            disabled={!readyForMdi.isReady}\n            fullWidth={true}\n            variant='outlined'\n            value={\n              toolFlutes && toolFlutes[tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX] - 1] ? (\n                toolFlutes[tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX] -1]\n              ) : (\"1\")\n            }\n            onSubmit={\n              (e) => {\n                handleSetToolFlutes(tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX], e.target.value)\n              }\n            }\n            InputProps={{\n              classes: {\n                input: classes.numericalTextFieldInput,\n                notchedOutline: classes.textFieldNotchedOutline,\n              }\n            }}\n          />\n        </span>\n        <span className={classes.cell} >\n          <SubmittableTextField\n            disabled={!readyForMdi.isReady}\n            fullWidth={true}\n            variant='outlined'\n            tool={tool}\n            value={diameterQuantity.value.toFixed(decimalPoints)}\n            onSubmit={\n              (e) => {\n                handleSetToolDiameter(e, diameterQuantity, tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX]);\n              }\n            }\n            InputProps={{\n              classes: {\n                input: classes.numericalTextFieldInput,\n                notchedOutline: classes.textFieldNotchedOutline,\n              }\n            }}\n          />\n        </span>\n        <span className={classes.cell} >\n          <SubmittableTextField\n            disabled={!readyForMdi.isReady}\n            fullWidth={true}\n            variant='outlined'\n            \n            tool={tool}\n            value={offsetQuantity.value.toFixed(decimalPoints)}\n            onSubmit={\n              (e) => {\n                handleSetToolOffset(e, offsetQuantity, tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX]);\n              }\n            }\n            InputProps={{\n              classes: {\n                input: classes.numericalTextFieldInput,\n                notchedOutline: classes.textFieldNotchedOutline,\n              }\n            }}\n          />\n        </span>\n        <span className={classes.cell} style={{ flex: `0 0 ${TOOLNUM_WIDTH}px` }}>\n          <Button \n            className={classnames(classes.toolNumButton, { [classes.activeToolNumberBox]: index+1 === Number(toolInSpindle) })}\n            onClick={() => {handleLoadTool(tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX])}}\n            variant=\"outlined\"\n            size=\"small\"\n          >\n            <span >\n              {\"T \" + tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX]  }\n              </span>\n          </Button>\n        </span>\n\n        <span className={classes.cell} style={{flex: `0 0 ${MEASURE_BUTTON_WIDTH}px`}}>\n        { readyForMdi.isReady ? \n        <Tooltip title={t(\"toolTouchOff\")}>\n          <Button\n            className={classes.measureButton}\n            color='primary' \n            variant={'contained'} \n            disabled={!readyForMdi.isReady}\n            onClick={() => {handleMeasureTool(tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX])}}\n            size=\"small\"\n          >\n            <ToolTouchOffIcon/>\n          </Button>\n          </Tooltip>\n          : \n          <Button\n            className={classes.measureButton}\n            color='primary' \n            variant={'contained'} \n            disabled={!readyForMdi.isReady}\n            onClick={() => {handleMeasureTool(tool[TOOL_ENTRY_INDICES.TOOL_TABLE_INDEX])}}\n            size=\"small\"\n          >\n            <ToolTouchOffIcon/>\n          </Button>\n        }\n        </span>\n      </div>\n    )\n  };\n\n  return(\n    <div className={classes.container}>\n      <div style={{width: '100%', paddingRight: pad}}>\n          <div className={classes.headerRow} ref={headerRef}>\n            <span className={classes.headerCell} style={{ flexGrow: 1,minWidth: DESCRIPTION_MIN_WIDTH}}>{t(\"description\")}</span>\n            <span className={classes.headerCell}>{t(\"flutes\")}</span>\n            <span className={classes.headerCell}>{t(\"diameter\") + \" (\" + getDisplayUnitStringFromType('length') + \")\"}</span>\n            <span className={classes.headerCell}>{t(\"tlo\") + \" (\" + getDisplayUnitStringFromType('length') + \")\"}</span>\n            <span className={classes.headerCell} style={{flex: `0 0 ${TOOLNUM_WIDTH}px`}}></span>\n            <span className={classes.headerCell} style={{ marginLeft: SCROLLBAR_WIDTH, flex: `0 0 ${MEASURE_BUTTON_WIDTH}px`}} ></span>\n          </div>\n      </div>\n    {toolTable ? (\n      <FixedSizeList\n        ref={listRef}\n        height={TABLE_HEIGHT}\n        itemCount={toolTable ? toolTable.length : TOOL_COUNT}\n        itemSize={ROW_HEIGHT}\n        className={classes.fixedSizeList}\n        direction='rtl'\n        style={{\n          paddingRight: pad\n        }}\n        onScroll={(event) => {\n          if(event.scrollOffset !== scrollRef.current && !event.scrollUpdateWasRequested){\n            scrollRef.current = event.scrollOffset\n          }\n        }}\n      >\n        {Row}\n      </FixedSizeList>\n      ) : null}\n    </div>\n  )\n};\nexport default ToolTable;\n","//****************************************************************************************\n//\n// AUTOGENERATED by generateRockhopperClientAPI.py in Rockhopper repository, DO NOT EDIT.\n// If changes were made to the StatusItems or CommandItems data structures, run \n// generateRockhopperClientAPI.py again and replace this file with its output.\n//\n//*****************************************************************************************\n\nexport const StatusItems = [\n  { name: \"acceleration\", watchable: true },\n  { name: \"active_queue\", watchable: true },\n  { name: \"actual_position\", watchable: true },\n  { name: \"adaptive_feed_enabled\", watchable: true },\n  { name: \"ain\", watchable: true },\n  { name: \"angular_units\", watchable: true },\n  { name: \"aout\", watchable: true },\n  { name: \"axes\", watchable: true },\n  { name: \"axes_data\", watchable: true },\n  { name: \"axis\", watchable: false },\n  { name: \"axis_mask\", watchable: true },\n  { name: \"block_delete\", watchable: true },\n  { name: \"board_revision\", watchable: false },\n  { name: \"calculated_feedrate\", watchable: true },\n  { name: \"calibration_data\", watchable: false },\n  { name: \"client_config\", watchable: true },\n  { name: \"command\", watchable: true },\n  { name: \"compensation\", watchable: false },\n  { name: \"config\", watchable: false },\n  { name: \"config_item\", watchable: false },\n  { name: \"config_overlay\", watchable: false },\n  { name: \"current_line\", watchable: true },\n  { name: \"current_vel\", watchable: true },\n  { name: \"current_version\", watchable: false },\n  { name: \"cycle_time\", watchable: true },\n  { name: \"debug\", watchable: true },\n  { name: \"delay_left\", watchable: true },\n  { name: \"din\", watchable: true },\n  { name: \"distance_to_go\", watchable: true },\n  { name: \"dogtag\", watchable: false },\n  { name: \"dout\", watchable: true },\n  { name: \"dtg\", watchable: true },\n  { name: \"echo_serial_number\", watchable: true },\n  { name: \"enabled\", watchable: true },\n  { name: \"error\", watchable: true },\n  { name: \"estop\", watchable: true },\n  { name: \"exec_state\", watchable: true },\n  { name: \"feed_hold_enabled\", watchable: true },\n  { name: \"feed_override_enabled\", watchable: true },\n  { name: \"feedrate\", watchable: true },\n  { name: \"file\", watchable: true },\n  { name: \"file_content\", watchable: false },\n  { name: \"flood\", watchable: true },\n  { name: \"g5x_index\", watchable: true },\n  { name: \"g5x_offset\", watchable: true },\n  { name: \"g92_offset\", watchable: true },\n  { name: \"gcode_map\", watchable: true },\n  { name: \"gcodes\", watchable: true },\n  { name: \"halgraph\", watchable: false },\n  { name: \"halpin_halui.max-velocity.value\", watchable: true },\n  { name: \"halpin_hss_warmup.full_warmup_needed\", watchable: true, requiresFeature: \"HIGH_SPEED_SPINDLE\" },\n  { name: \"halpin_hss_warmup.performing_warmup\", watchable: true, requiresFeature: \"HIGH_SPEED_SPINDLE\" },\n  { name: \"halpin_hss_warmup.warmup_needed\", watchable: true, requiresFeature: \"HIGH_SPEED_SPINDLE\" },\n  { name: \"halpin_interlock.program-paused-by-interlock\", watchable: true, requiresFeature: \"INTERLOCK\" },\n  { name: \"halpin_motion.switchkins-type\", watchable: true },\n  { name: \"halsig_interlockClosed\", watchable: true, requiresFeature: \"INTERLOCK\" },\n  { name: \"homed\", watchable: true },\n  { name: \"id\", watchable: true },\n  { name: \"ini_file_name\", watchable: true },\n  { name: \"inpos\", watchable: true },\n  { name: \"input_timeout\", watchable: true },\n  { name: \"interp_state\", watchable: true },\n  { name: \"interpreter_errcode\", watchable: true },\n  { name: \"joint_actual_position\", watchable: true },\n  { name: \"joint_position\", watchable: true },\n  { name: \"joints\", watchable: true },\n  { name: \"kinematics_type\", watchable: true },\n  { name: \"limit\", watchable: true },\n  { name: \"linear_units\", watchable: true },\n  { name: \"ls\", watchable: true },\n  { name: \"lube\", watchable: true },\n  { name: \"lube_level\", watchable: true },\n  { name: \"max_acceleration\", watchable: true },\n  { name: \"max_velocity\", watchable: true },\n  { name: \"mcodes\", watchable: true },\n  { name: \"measured_spindle_current\", watchable: true },\n  { name: \"measured_spindle_speed\", watchable: true },\n  { name: \"measured_spindle_voltage\", watchable: true },\n  { name: \"mist\", watchable: true },\n  { name: \"motion_line\", watchable: true },\n  { name: \"motion_mode\", watchable: true },\n  { name: \"motion_type\", watchable: true },\n  { name: \"optional_stop\", watchable: true },\n  { name: \"paused\", watchable: true },\n  { name: \"pocket_prepped\", watchable: true },\n  { name: \"position\", watchable: true },\n  { name: \"pressure_data\", watchable: true, requiresFeature: \"HIGH_SPEED_SPINDLE\" },\n  { name: \"probe_tripped\", watchable: true },\n  { name: \"probe_val\", watchable: true },\n  { name: \"probed_position\", watchable: true },\n  { name: \"probing\", watchable: true },\n  { name: \"program\", watchable: true },\n  { name: \"program_units\", watchable: true },\n  { name: \"queue\", watchable: true },\n  { name: \"queue_full\", watchable: true },\n  { name: \"rapidrate\", watchable: true },\n  { name: \"read_line\", watchable: true },\n  { name: \"rotary_motion_only\", watchable: true },\n  { name: \"rotation_xy\", watchable: true },\n  { name: \"rtc_seconds\", watchable: true },\n  { name: \"running\", watchable: true },\n  { name: \"settings\", watchable: true },\n  { name: \"spindle\", watchable: true },\n  { name: \"spindle_max_speed\", watchable: true },\n  { name: \"spindle_pressure\", watchable: true },\n  { name: \"spindle_temperature\", watchable: true },\n  { name: \"state\", watchable: true },\n  { name: \"system_status\", watchable: false },\n  { name: \"task_mode\", watchable: true },\n  { name: \"task_paused\", watchable: true },\n  { name: \"task_state\", watchable: true },\n  { name: \"temperature_data\", watchable: true, requiresFeature: \"HIGH_SPEED_SPINDLE\" },\n  { name: \"tool_in_spindle\", watchable: true },\n  { name: \"tool_offset\", watchable: true },\n  { name: \"tool_released\", watchable: true },\n  { name: \"tool_table\", watchable: true },\n  { name: \"usb_detected\", watchable: true },\n  { name: \"usb_map\", watchable: false },\n  { name: \"usb_software_files\", watchable: false },\n  { name: \"users\", watchable: true },\n  { name: \"velocity\", watchable: true },\n  { name: \"versions\", watchable: false },\n  { name: \"vice_released\", watchable: true }\n];\n\nexport const CommandItems = [\n  { name: \"abort_cmd\", paramTypes: [] },\n  { name: \"add_user\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"username\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"password\", \"ptype\": \"string\"}] },\n  { name: \"auto\", paramTypes: [{\"lookup-vals\": [\"AUTO_RUN\", \"AUTO_STEP\", \"AUTO_RESUME\", \"AUTO_PAUSE\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"auto\", \"ptype\": \"lookup\"}, {\"optional\": true, \"ordinal\": \"1\", \"pname\": \"run_from\", \"ptype\": \"int\"}] },\n  { name: \"auto_cmd\", paramTypes: [{\"lookup-vals\": [\"AUTO_RUN\", \"AUTO_STEP\", \"AUTO_RESUME\", \"AUTO_PAUSE\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"auto\", \"ptype\": \"lookup\"}, {\"optional\": true, \"ordinal\": \"1\", \"pname\": \"run_from\", \"ptype\": \"int\"}] },\n  { name: \"brake\", paramTypes: [{\"lookup-vals\": [\"BRAKE_ENGAGE\", \"BRAKE_RELEASE\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"lookup\"}] },\n  { name: \"check_for_updates\", paramTypes: [] },\n  { name: \"check_usb_file_for_updates\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"file\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"require_valid_signature\", \"ptype\": \"bool\"}] },\n  { name: \"clear_error\", paramTypes: [] },\n  { name: \"clear_logs\", paramTypes: [] },\n  { name: \"clear_ncfiles\", paramTypes: [] },\n  { name: \"config\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"data\", \"ptype\": \"dict\"}] },\n  { name: \"create_swap\", paramTypes: [] },\n  { name: \"cycle_start_cmd\", paramTypes: [] },\n  { name: \"debug\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"delete_swap\", paramTypes: [] },\n  { name: \"disable_swap\", paramTypes: [] },\n  { name: \"eject_usb\", paramTypes: [] },\n  { name: \"enable_swap\", paramTypes: [] },\n  { name: \"estop_cmd\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"estop\", \"ptype\": \"bool\"}] },\n  { name: \"feed_hold_cmd\", paramTypes: [] },\n  { name: \"feedrate\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"rate\", \"ptype\": \"float\"}] },\n  { name: \"file_copy\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"dest_dir\", \"ptype\": \"string\"}] },\n  { name: \"file_delete\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}] },\n  { name: \"file_download_cancel\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}] },\n  { name: \"file_download_chunk\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"size\", \"ptype\": \"int\"}] },\n  { name: \"file_download_init\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}] },\n  { name: \"file_upload_cancel\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}] },\n  { name: \"file_upload_chunk\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"data\", \"ptype\": \"string\"}] },\n  { name: \"file_upload_finalize\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"checksum\", \"ptype\": \"string\"}] },\n  { name: \"file_upload_init\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"file_type\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"size\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"3\", \"pname\": \"overwrite\", \"ptype\": \"bool\"}] },\n  { name: \"flood\", paramTypes: [{\"lookup-vals\": [\"FLOOD_ON\", \"FLOOD_OFF\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"lookup\"}] },\n  { name: \"home\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"axis\", \"ptype\": \"int\"}] },\n  { name: \"home_cmd\", paramTypes: [{\"optional\": true, \"ordinal\": \"0\", \"pname\": \"axes\", \"ptype\": \"int[]\"}] },\n  { name: \"increment_feedrate_cmd\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"increment\", \"ptype\": \"float\"}] },\n  { name: \"increment_spindle_override_cmd\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"increment\", \"ptype\": \"float\"}] },\n  { name: \"ini_file_name\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"ini_file_name\", \"ptype\": \"string\"}] },\n  { name: \"interlock_release\", paramTypes: [] },\n  { name: \"jog_cmd\", paramTypes: [{\"lookup-vals\": [\"JOG_STOP\", \"JOG_CONTINUOUS\", \"JOG_INCREMENT\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"jog\", \"ptype\": \"lookup\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"joint_flag\", \"ptype\": \"bool\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"axis\", \"ptype\": \"int\"}, {\"optional\": true, \"ordinal\": \"3\", \"pname\": \"velocity\", \"ptype\": \"float\"}, {\"optional\": true, \"ordinal\": \"4\", \"pname\": \"distance\", \"ptype\": \"float\"}] },\n  { name: \"load_tool_table\", paramTypes: [] },\n  { name: \"maxvel\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"rate\", \"ptype\": \"float\"}] },\n  { name: \"mdi_cmd\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"mdi\", \"ptype\": \"string\"}] },\n  { name: \"mist\", paramTypes: [{\"lookup-vals\": [\"MIST_ON\", \"MIST_OFF\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"lookup\"}] },\n  { name: \"mode\", paramTypes: [{\"lookup-vals\": [\"MODE_AUTO\", \"MODE_MANUAL\", \"MODE_MDI\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"mode\", \"ptype\": \"lookup\"}] },\n  { name: \"override_limits\", paramTypes: [] },\n  { name: \"program_delete\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}] },\n  { name: \"program_download_chunk\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"idx\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"size\", \"ptype\": \"int\"}] },\n  { name: \"program_get_size\", paramTypes: [] },\n  { name: \"program_open\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}] },\n  { name: \"program_open_cmd\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}] },\n  { name: \"program_upload\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"data\", \"ptype\": \"string\"}] },\n  { name: \"program_upload_chunk\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"filename\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"data\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"start\", \"ptype\": \"bool\"}, {\"optional\": false, \"ordinal\": \"3\", \"pname\": \"end\", \"ptype\": \"bool\"}, {\"optional\": false, \"ordinal\": \"4\", \"pname\": \"ovw\", \"ptype\": \"bool\"}] },\n  { name: \"rapidrate\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"rate\", \"ptype\": \"float\"}] },\n  { name: \"reset_clock\", paramTypes: [] },\n  { name: \"reset_interpreter\", paramTypes: [] },\n  { name: \"restart\", paramTypes: [] },\n  { name: \"save_client_config\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"key\", \"ptype\": \"string\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"value\", \"ptype\": \"string\"}] },\n  { name: \"set_adaptive_feed\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_analog_output\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"index\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"value\", \"ptype\": \"float\"}] },\n  { name: \"set_block_delete\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_compensation\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"data\", \"ptype\": \"dict\"}] },\n  { name: \"set_date\", paramTypes: [] },\n  { name: \"set_digital_output\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"index\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"value\", \"ptype\": \"int\"}] },\n  { name: \"set_feed_hold\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_feed_override\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_m6_tool_probe\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_max_limit\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"axis\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"limit\", \"ptype\": \"float\"}] },\n  { name: \"set_min_limit\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"axis\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"limit\", \"ptype\": \"float\"}] },\n  { name: \"set_optional_stop\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_spindle_override\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"set_version\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"version\", \"ptype\": \"string\"}] },\n  { name: \"shutdown\", paramTypes: [] },\n  { name: \"shutdown_computer\", paramTypes: [] },\n  { name: \"spindle\", paramTypes: [{\"lookup-vals\": [\"SPINDLE_FORWARD\", \"SPINDLE_REVERSE\", \"SPINDLE_OFF\", \"SPINDLE_INCREASE\", \"SPINDLE_DECREASE\", \"SPINDLE_CONSTANT\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"spindle\", \"ptype\": \"lookup\"}] },\n  { name: \"spindleoverride\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"factor\", \"ptype\": \"float\"}] },\n  { name: \"state\", paramTypes: [{\"lookup-vals\": [\"STATE_ESTOP\", \"STATE_ESTOP_RESET\", \"STATE_ON\", \"STATE_OFF\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"state\", \"ptype\": \"lookup\"}] },\n  { name: \"teleop_enable\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"onoff\", \"ptype\": \"int\"}] },\n  { name: \"teleop_vector\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"p1\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"p2\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"p3\", \"ptype\": \"float\"}, {\"optional\": true, \"ordinal\": \"3\", \"pname\": \"p4\", \"ptype\": \"float\"}, {\"optional\": true, \"ordinal\": \"4\", \"pname\": \"p5\", \"ptype\": \"float\"}, {\"optional\": true, \"ordinal\": \"5\", \"pname\": \"p6\", \"ptype\": \"float\"}] },\n  { name: \"temp_set_config_item\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"data\", \"ptype\": \"dict\"}] },\n  { name: \"toggle_v1_v2revP\", paramTypes: [] },\n  { name: \"tool_offset\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"toolnumber\", \"ptype\": \"int\"}, {\"optional\": false, \"ordinal\": \"1\", \"pname\": \"z_offset\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"2\", \"pname\": \"x_offset\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"3\", \"pname\": \"diameter\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"4\", \"pname\": \"frontangle\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"5\", \"pname\": \"backangle\", \"ptype\": \"float\"}, {\"optional\": false, \"ordinal\": \"6\", \"pname\": \"orientation\", \"ptype\": \"float\"}] },\n  { name: \"traj_mode\", paramTypes: [{\"lookup-vals\": [\"TRAJ_MODE_FREE\", \"TRAJ_MODE_COORD\", \"TRAJ_MODE_TELEOP\"], \"optional\": false, \"ordinal\": \"0\", \"pname\": \"mode\", \"ptype\": \"lookup\"}] },\n  { name: \"unhome\", paramTypes: [{\"optional\": false, \"ordinal\": \"0\", \"pname\": \"axis\", \"ptype\": \"int\"}] },\n  { name: \"wait_complete\", paramTypes: [{\"optional\": true, \"ordinal\": \"0\", \"pname\": \"timeout\", \"ptype\": \"float\"}] }\n];\n","import { GET_CMD, \n         WATCH_CMD, \n         UNWATCH_CMD, \n         PUT_CMD, \n         LIST_GET_CMD, \n         LIST_PUT_CMD, \n         LOGIN_ID\n       } from './constants';\n\nexport const get = (id, name, data={}, meta) => ({ id, name, command: GET_CMD, ...data, meta });\nexport const watch = (id, name, data={}, meta) => ({ id, name, command: WATCH_CMD, ...data, meta });\nexport const unwatch = (id, name, meta) => ({ id, name, command: UNWATCH_CMD, meta });\nexport const put = (id, name, data, meta) => ({ id, name, command: PUT_CMD, ...data, meta });\nexport const listGet = (id, meta) => ({ id, command: LIST_GET_CMD, meta });\nexport const listPut = (id, meta) => ({ id, command: LIST_PUT_CMD, meta});\n\nexport const login = (user, password) => ({ id: LOGIN_ID, user, password, date: new Date().toISOString() });\n","import { MODULE_ID, DEBUG, INFO, WARNING, ERROR, BASIC } from './constants';\nimport { createActions } from 'redux-actions';\n\nimport { StatusItems, CommandItems } from './api';\n\nimport * as cmds from './commands';\nimport camelCase from 'to-camel-case';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const rockhopperMessage = (type, payload) => ({ type, payload });\nexport const addActionEmitterToMeta = (meta={}, actionEmitter) => ({ ...meta, actionEmitters: [ ...(meta.actionEmitter ? meta.actionEmitter : []), actionEmitter ] });\n\n// This function creates a type that mimics how createActions does, but instead of having\n// a nested dictionary, it is provided an array of strings.\nexport const createRockhopperActionType = function() { return [ MODULE_ID, ...arguments ].join(\"/\") ; };\n\n// This function should also match how createActions creates their names\nexport const createFriendlyName = (name) => camelCase(name)\n\nconst watchableItems = StatusItems.filter((item) => item.watchable);\n\nconst getActions = StatusItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  const id = \"GET_\" + type;\n  const actionCreator = (opt={}) => {\n    const {\n      meta = {},\n      data = {}\n    } = opt;\n    return cmds.get(id, name, data, addActionEmitterToMeta(meta, createRockhopperActionType(\"UPDATE\", type))); \n  };\n  \n  a[type] = actionCreator;\n\n  return a; \n}, {});\n\nconst watchActions = watchableItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  const id = \"WATCH_\" + type;\n  a[type] = (opt={}) => {\n    const {\n      data={},\n      meta={}\n    } = opt;\n    return cmds.watch(id, name, data, addActionEmitterToMeta(meta, createRockhopperActionType(\"UPDATE\", type)));\n  };\n  return a; \n}, {});\n\nconst unwatchActions = watchableItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  const id = \"UNWATCH_\" + type;\n  a[type] = (opt={}) => {\n    const {\n      meta={}\n    } = opt;\n    return cmds.unwatch(id, name, addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"UNWATCH\", type)));\n  };\n  return a; \n}, {});\n\n// Update actions occur when a watched status item changes\n// These are created so reducers can respond to actions.update.<status item name in camel case>.\n// The default rockhopper root reducer will respond to all get actions and store the returned\n// data in rockhopper.status.<status item name in camel case>.\nconst updateActions = watchableItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  a[type] = undefined; \n  return a; \n}, {});\nconst putActions = CommandItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  const id = \"PUT_\" + type;\n  a[type] = (opt={}) => {\n    const {\n      data = {},\n      meta = {}\n    } = opt;\n    return cmds.put(id, name, data, addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"PUT\", type)))\n  }; \n  return a; \n}, {});\n\n// These are created so clients can use actions.response.put.<command item name in camel case> in their own reducers\nconst putResponseActions = CommandItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  a[type] = undefined; \n  return a; \n}, {});\n\n// These are created so clients can use actions.response.get.<status item name in camel case> in their own reducers\nconst getResponseActions = StatusItems.reduce((a, item) => {\n  const {\n    name\n  } = item;\n  const type = name.toUpperCase();\n  a[type] = undefined; \n  return a; \n}, {});\n\n// These are helper actions that aren't directly deduced from the API, but are helpful for a specific use case.\n// For example, the FEATURES helper actually gets the config_item StatusItem with the section parameter set to POCKETNC_FEATURES.\n// Get helper functions could feasibly be moved to the get section if a StatusItem in Rockhopper is created to handle what the helper\n// does.\nconst getHelpers = {\n  FEATURES: (opt={}) => { \n    const { meta, id=\"getFeatures\" } = opt; \n    return cmds.get(id, \n                    \"config_item\", \n                    { section: \"POCKETNC_FEATURES\", parameter: \"\" }, \n                    addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"GET_HELPERS\", \"FEATURES\"))) \n  },\n  PROGRAM_PREFIX: (opt={}) => {\n    const { meta, id=\"getProgramPrefix\" } = opt; \n    return cmds.get(id, \n                    \"config_item\", \n                    { section: \"DISPLAY\", parameter: \"PROGRAM_PREFIX\" }, \n                    addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"GET_HELPERS\", \"PROGRAM_PREFIX\"))) \n  },\n};\n\n// Similar to the getHelpers:\n// These are helper actions that aren't directly deduced from the API, but are helpful for a specific use case.\n// For example, the JOG_CONTINUOUS and JOG_STOP actions both use the jog_cmd action with different parameters. It's nice to see\n// JOG_CONTINUOUS or JOG_STOP in the redux dev tools rather than having to inspect a generic JOG_CMD action.\n// Put helper functions could feasibly be moved to the put section if a CommandItem in Rockhopper is created to handle what the helper\n// does.\nconst putHelpers = {\n  JOG_INCREMENT: ({ axis, jointFlag=true, speed, increment, id=\"jogIncrement\", meta }) => cmds.put(id, 'jog_cmd', [ \"JOG_INCREMENT\", jointFlag, axis, speed, increment ], addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"PUT_HELPERS\", \"JOG_INCREMENT\"))),\n  JOG_CONTINUOUS: ({ axis, jointFlag=true, speed, id=\"jogContinuous\", meta }) => cmds.put(id, 'jog_cmd', [ \"JOG_CONTINUOUS\", jointFlag, axis, speed ], addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"PUT_HELPERS\", \"JOG_CONTINUOUS\"))),\n  JOG_STOP: ({ axis, jointFlag=true, id=\"jogStop\", meta }) => cmds.put(id, 'jog_cmd', [ \"JOG_STOP\", jointFlag, axis ], addActionEmitterToMeta(meta, createRockhopperActionType(\"RESPONSE\", \"PUT_HELPERS\", \"JOG_STOP\"))),\n};\n\nconst updateHelpers = {\n  COMPENSATION: undefined,\n  CONFIG_OVERLAY: undefined,\n  TOOL_TABLE_DESCRIPTIONS: undefined,\n  TOOL_TABLE: undefined,\n  TOOL_DIAMETER: undefined,\n  TOOL_LENGTH_OFFSET: undefined,\n  TOOL_FLUTES: undefined,\n  SET_DISPLAY_UNITS: undefined\n}\n\n// These are automatically generated actions from the getHelpers and putHelpers so that reducers can handle\n// the responses from rockhopper by reducing actions.response.getHelpers.<helper name> or actions.response.putHelpers.<helper name>\n// actions.\nconst getHelperResponses = Object.keys(getHelpers).reduce((responses, helperName) => { responses[helperName] = undefined; return responses; }, {});\nconst putHelperResponses = Object.keys(putHelpers).reduce((responses, helperName) => { responses[helperName] = undefined; return responses; }, {});\n\nexport const statusItemToRequiresFeature = StatusItems.reduce((all,item) => {\n  const {\n    name,\n    requiresFeature\n  } = item;\n\n  all[createFriendlyName(name)] = requiresFeature;\n  return all;\n}, {});\n\nexport default createActions({\n  CMDS: {\n    RAW: undefined,\n    GET: ({ name, data={}, meta, id=\"rockhopperGet\" }) => cmds.get(id, name, data, meta),\n    WATCH: ({ name, data={}, meta, id=\"rockhopperWatch\" }) => cmds.watch(id, name, data, meta),\n    UNWATCH: (opt={}) => {\n      const { meta, id=\"rockhopperWatch\" } = opt;\n      return cmds.watch(id, meta);\n    },\n    PUT: ({ name, data, meta, id=\"rockhopperPut\" }) => cmds.put(id, name, data, meta),\n    LIST_GET: ({ meta, id=\"rockhopperListGet\" }) => cmds.listGet(id, meta),\n    LIST_PUT: ({ meta, id=\"rockhopperListPut\" }) => cmds.listPut(id, meta),\n  },\n  SET_CONNECTION_DETAILS: (server, port, user, password, encrypted) => ({ server, port, user, password, encrypted }),\n  SET_LOGGED_IN: undefined,\n  ADD_ACTION_EMITTER: undefined,\n  REMOVE_ACTION_EMITTER: undefined,\n\n  FILE_UPLOAD: {\n    QUEUED: undefined,\n    ASK_FOR_OVERWRITE: undefined,\n    CONFIRM_OVERWRITE: undefined,\n    CONFIRM_OVERWRITE_ALL: undefined,\n    PROGRESS: undefined,\n    FINALIZE: undefined,\n    CANCEL: undefined,\n    CANCEL_ALL: undefined,\n    REMOVE: undefined,\n    REMOVE_ALL: undefined\n  },\n  FILE_DOWNLOAD: {\n    QUEUED: undefined,\n    PROGRESS: undefined,\n    FINALIZE: undefined,\n    CANCEL: undefined,\n    CANCEL_ALL: undefined,\n    REMOVE: undefined,\n    REMOVE_ALL: undefined\n  },\n\n\n  FILE_CACHE: {\n    SET_PATH_CHECKSUM: (path, checksum) => ({ path, checksum }),\n    INIT_PROGRESS: (checksum, size) => ({ checksum, size }),\n    UPDATE_PROGRESS: (checksum, bytesLoaded) => ({ checksum, bytesLoaded }),\n  },\n  \n  // put helper actions\n  // helper actions that rely on specific get command/parameter combinations\n  GET_HELPERS: getHelpers,\n  PUT_HELPERS: putHelpers,\n  UPDATE_HELPERS: updateHelpers,\n\n  MESSAGES: {\n    // message is a string, details is optional but should contain helpful information about the error\n    DEBUG: (message, details, dismiss=BASIC) => ({ id: uuidv4(), message, details, type: DEBUG, timestamp: Date.now(), dismiss }),\n    WARNING: (message, details, dismiss=BASIC) => ({ id: uuidv4(), message, details, type: WARNING, timestamp: Date.now(), dismiss }),\n    INFO: (message, details, dismiss=BASIC) => ({ id: uuidv4(), message, details, type: INFO, timestamp: Date.now(), dismiss }),\n    ERROR: (message, details, dismiss=BASIC) => ({ id: uuidv4(), message, details, type: ERROR, timestamp: Date.now(), dismiss })\n  },\n\n  WATCH: watchActions,\n  UNWATCH: unwatchActions,\n  UPDATE: updateActions,\n  GET: getActions,\n  PUT: putActions,\n  RESPONSE: {\n    PUT: putResponseActions,\n    GET: getResponseActions,\n    GET_HELPERS: getHelperResponses,\n    PUT_HELPERS: putHelperResponses,\n  },\n\n  DELAYED: {\n    REGISTER_UPDATE: updateActions,\n    UPDATE: updateActions,\n    UPDATE_IMMEDIATE: updateActions,\n    PUT: putActions\n  }\n}, { prefix: MODULE_ID });\n","import { connect } from 'react-redux';\nimport produce from 'immer';\nimport ToolTable from '../components/ToolTable';\nimport { toMachineUnits, toProgramUnits } from '../hooks/useUnits';\nimport actions from '../modules/rockhopper/actions';\nimport { selectToolFlutes, selectToolInSpindle, selectToolTable, selectToolTableDescriptions, selectReadyForMdi, selectUnitsCode } from '../modules/rockhopper/selectors';\n\nexport default connect(\n  (state, ownProps) => {\n    return {\n      toolInSpindle: selectToolInSpindle(state),\n      toolTable: selectToolTable(state),\n      toolTableDescriptions: selectToolTableDescriptions(state),\n      toolFlutes: selectToolFlutes(state),\n      readyForMdi: selectReadyForMdi(state),\n      unitsCode: selectUnitsCode(state),\n    }\n  },\n  (dispatch, ownProps) => ({\n    onDispatchMdiCmd: (cmd) => {\n      dispatch(actions.put.mdiCmd({ data: [cmd] }));\n    },\n    onDispatchUpdateHelper: (updateHelper, data) => {\n      dispatch( actions.updateHelpers[updateHelper](data) )\n    },\n    onLoadTool: (toolNumber) => {\n      dispatch( actions.put.mdiCmd({ data: [ `M6 T${toolNumber}` ]}));\n    },\n    onMeasureTool: (toolNumber) => {\n      dispatch( actions.put.mdiCmd({ data: [ `M654 T${toolNumber}` ]}));\n    },\n    onToolTableChanged: (toolTable, toolNumber, toolOffset, toolDiameter) => {\n      dispatch( actions.updateHelpers.toolTableRow({ data: [toolNumber, toolOffset, toolDiameter] }));\n      dispatch( actions.put.mdiCmd({ data: [ `G10 L1 P${toolNumber} Z${toolOffset} X0 R${0.5*toolDiameter} I0 J0 Q0` ],  }));\n    },\n    onToolDescriptionChanged: (toolNumber, description, descriptions) => {\n      const newDescriptions = produce(descriptions, (draft) => {\n        if(toolNumber <= descriptions.length){\n          draft.splice(toolNumber - 1, 1, description)\n        }\n        else{\n          let replacement = draft.concat(new Array(toolNumber - 1 - descriptions.length).fill(null));\n          replacement.push(description);\n          return replacement\n        }\n      });\n      dispatch( actions.updateHelpers.toolTableDescriptions({ data: newDescriptions }));\n      dispatch( actions.put.saveClientConfig({ data: [ 'ToolTableDescriptions', newDescriptions ], }));\n    },\n    onToolFlutesChanged: (newFlutes) => {\n      dispatch( actions.updateHelpers.toolFlutes({ data: newFlutes }));\n      dispatch( actions.put.saveClientConfig({ data: [ 'ToolFlutes', newFlutes ], }));\n    },\n  }),\n  (stateProps, dispatchProps, ownProps) => {\n    const {\n      unitsCode,\n    } = stateProps;\n\n    const {\n      onDispatchMdiCmd,\n      onDispatchUpdateHelper,\n    } = dispatchProps;\n\n    const onSetToolLengthOffset = (toolNumber, tloDisplayUnits) => {\n      const tloMachineUnits = toMachineUnits(tloDisplayUnits, unitsCode);\n      onDispatchUpdateHelper('toolLengthOffset', { data: [toolNumber, tloMachineUnits.value] });\n      const tloProgramUnits = toProgramUnits(tloDisplayUnits, unitsCode);\n      const cmd = `G10 L1 P${toolNumber} Z${tloProgramUnits.value.toFixed(5)}`;\n      onDispatchMdiCmd(cmd);\n    };\n\n    const onSetToolDiameter = (toolNumber, diameterDisplayUnits) => {\n      const diameterMachineUnits = toMachineUnits(diameterDisplayUnits, unitsCode);\n      onDispatchUpdateHelper('toolDiameter', { data: [toolNumber, diameterMachineUnits.value] });\n      const diameterProgramUnits = toProgramUnits(diameterDisplayUnits, unitsCode);\n      const cmd = `G10 L1 P${toolNumber} R${0.5*diameterProgramUnits.value.toFixed(5)}`;\n      onDispatchMdiCmd(cmd);\n    };\n\n    return {\n      onSetToolLengthOffset,\n      onSetToolDiameter,\n      ...stateProps,\n      ...dispatchProps,\n      ...ownProps\n    }\n  }\n)(ToolTable);\n","import React from 'react';\nimport useTranslation from '../hooks/useTranslation';\n\nimport Panel from './Panel';\nimport ToolTable from '../containers/ToolTable'\n\nconst ToolOffsets = (props) => {\n  const { t } = useTranslation();\n  \n  return (\n    <Panel label={t('tool') + \" \" + t('offset_plural')} >\n      <ToolTable/>\n    </Panel>\n  )\n};\nexport default ToolOffsets;\n","import React from 'react';\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport SubmittableTextField from './SubmittableTextField';\nimport { DialogActions, DialogContent } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1)\n  } \n}));\n\nconst SubmittableDialog = (props) => {\n  const {\n    open,\n    value,\n    onSubmit,\n    onClose,\n    title,\n    textFieldLabel,\n    submitBtnLabel,\n    cancelBtnLabel,\n  } = props;\n\n  const classes = useStyles(props);\n\n  const handleClose = () => {\n    if(onClose) {\n      onClose()\n    }\n  };\n\n  const handleSubmit = (e) => {\n    if(onSubmit) {\n      e.preventDefault();\n      const textField = textFieldRef.current;\n      const text =  textField[\"text\"].value;\n      onSubmit(text);\n    }\n  };\n\n  const textFieldRef = React.useRef(null);\n\n  return (\n    <>\n    <Dialog open={open} onClose={handleClose}>\n      <DialogTitle >{title}</DialogTitle>\n      <DialogContent>\n        <Box>\n          <form ref={textFieldRef} autoComplete=\"off\" onSubmit={(e) => e.preventDefault()}>\n            <SubmittableTextField\n              {...props.textFieldProps}\n              defaultValue={value}\n              onSubmit={(val,e) => { handleSubmit(val,e) }}\n              label={textFieldLabel}\n              variant=\"outlined\"\n              name={\"text\"}\n            />\n          </form>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Box>\n          <Button\n            onClick={(e) => { handleSubmit(e) } }\n            variant=\"contained\" \n            color=\"primary\"\n            className={classes.button}\n          >\n            {submitBtnLabel}\n          </Button>\n          <Button \n            onClick={handleClose}\n            variant=\"contained\" \n            color=\"primary\"\n            className={classes.button}\n          >\n            {cancelBtnLabel}\n          </Button>\n        </Box>\n      </DialogActions>\n    </Dialog>\n    </>\n  )\n};\nexport default SubmittableDialog;\n","import React from 'react';\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/styles';\n\nimport SubmittableTextField from './SubmittableTextField';\nimport SubmittableDialog from './SubmittableDialog';\n\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: 40,\n  },\n  openDialogButton: {\n    border: \"none\",\n    height: \"100%\",\n    float: \"right\",\n    textAlign: \"center\",\n    padding: 0,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    minWidth: 32,\n    paddingLeft: 4,\n    paddingRight: 2,\n  },\n  textField: {\n    display: \"flex\",\n    height: \"100%\",\n  },\n}));\n\nconst ModalSubmittableTextField = (props) => {\n  const {\n    value,\n    modalValue,\n    onSubmitTextField,\n    onSubmitModal,\n    disabled,\n    buttonDom,\n    buttonProps,\n    containerProps,\n    modalProps,\n    textFieldProps\n  } = props;\n\n  const classes = useStyles(props);\n\n  const [modalOpen, setModalOpen] = React.useState(false);\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n  };\n\n  const handleSubmitModal = (value) => {\n    if(onSubmitModal){\n      onSubmitModal(value);\n    };\n    setModalOpen(false);\n  };\n\n  const handleSubmitTextField = (e) => {\n    if(onSubmitTextField){\n      onSubmitTextField(e.target.value);\n    };\n  };\n\n  return (\n    <>\n    <SubmittableDialog\n      open={modalOpen}\n      value={modalValue}\n      onSubmit={handleSubmitModal}\n      onClose={handleCloseModal}\n      {...modalProps}\n    />\n    <Box\n      className={classes.container}\n      {...containerProps}\n    >\n      <Button\n          className={classes.openDialogButton}\n          {...buttonProps}\n          disabled={disabled}\n          onClick={() => {\n            if(!disabled){\n              setModalOpen(true);\n            }\n          }}\n        >\n        {buttonDom}\n        </Button>\n        <SubmittableTextField\n          className={classes.textField}\n          disabled={disabled}\n          value={value}\n          onSubmit={handleSubmitTextField}\n          {...textFieldProps}\n        />\n      </Box>\n    </>\n  )\n};\nexport default ModalSubmittableTextField;\n","import React from 'react';\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Button from '@material-ui/core/Button'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\n\nimport Grid from '@material-ui/core/Grid'\nimport Hidden from '@material-ui/core/Hidden';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/styles';\n\nimport useTranslation from '../hooks/useTranslation';\nimport useUnits from '../hooks/useUnits';\n\nimport ModalSubmittableTextField from './ModalSubmittableTextField';\nimport Panel from './Panel';\n\nimport { UNITS } from '../modules/rockhopper/constants';\n\n\nconst useStyles = makeStyles((theme) => ({\n  headerRow: {\n    [theme.breakpoints.only('xs')] : {\n      fontSize: '1.0rem',\n    },\n    [theme.breakpoints.up('sm')] : {\n      fontSize: '.8rem',\n    },\n    [theme.breakpoints.up('md')] : {\n      fontSize: '1.0rem',\n    },\n  },\n  container: {\n    minWidth: '21rem', //336px at 16px=1rem\n    textAlign: \"center\",\n\n    fontSize: '1.0rem',\n    fontWeight: 'bold',\n    // [theme.breakpoints.only('xs')] : {\n    //   fontSize: '1.2rem',\n    // },\n    // [theme.breakpoints.up('sm')] : {\n    //   fontSize: '1.3rem',\n    // },\n    // [theme.breakpoints.up('md')] : {\n    //   fontSize: '1.1rem',\n    // },\n    // [theme.breakpoints.up('lg')] : {\n    //   fontSize: '1.2rem',\n    // },\n    // [theme.breakpoints.up('xl')] : {\n    //   fontSize: '1.3rem',\n    // },\n  },\n  menuOpenButton: {\n    borderWidth: 2,\n  },\n  offsetItemContainer: {\n    borderColor: theme.palette.primary.main,\n    borderRadius: 5,\n    borderStyle: 'solid',\n    borderWidth: 2,\n    height: 38\n  },\n  offsetItemDropDown: {\n    color: theme.palette.primary.main\n  },\n  offsetItemTextField: {\n    ...theme.typography.dataText,\n    ...theme.typography.tableCell,\n    verticalAlign: 'middle',\n    whiteSpace: \"nowrap\",\n  },\n  offsetItemTextFieldContainer: {\n    display: 'flex', \n    width: '70%',\n    [theme.breakpoints.down('sm')] : {\n      width: '60%',\n    },\n  },\n  offsetItemButton: {\n    borderColor: theme.palette.primary.main,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    border: \"none\",\n    borderWidth: 2,\n    minHeight: '100%',\n    \n    [theme.breakpoints.only('sm')] : {\n      fontSize: '1.0rem',\n    },\n    [theme.breakpoints.up('md')] : {\n      minWidth: 45,\n      fontSize: '1.0rem',\n    },\n    [theme.breakpoints.up('lg')] : {\n      fontSize: '1.2rem',\n    },\n    [theme.breakpoints.up('lg')] : {\n      fontSize: '1.4rem',\n    }\n  },\n  offsetItemButtonContainer : {\n    display: 'inline-block', \n    height: '100%',\n    width: '30%', \n    [theme.breakpoints.down('sm')] : {\n      width: '40%',\n    },\n  },\n  overrideTextFieldInputInput: {\n    ...theme.typography.dataText,\n  },\n  overrideTextFieldInputRoot: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    paddingLeft: 0,\n    paddingRight: 0\n  },\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n  },\n  text: {\n    ...theme.typography.tableCell,\n  },\n  spacer: {\n    color: theme.palette.primary.main,\n    width: \"1rem\"\n  },\n}));\n\nconst g5xSystems = [\n  'G54', 'G55', 'G56', 'G57', 'G58', 'G59', 'G59.1', 'G59.2', 'G59.3'\n];\n\nconst g5xLabel = (index) => {\n  if(index > 0) {\n    return g5xSystems[index-1];\n  }\n\n  return \"G5x\";\n};\n\nconst WorkOffsets = (props) => {\n  const {\n    g5xIndex,\n    workOffsets,\n    toolInSpindle,\n    toolTable,\n    readyForMdi,\n    \n    onClearG92,\n    onDisableG92,\n    onRestoreG92,\n\n    onSetG5xIndex,\n\n    onSetG5xOffset,\n    onSetG5xOffsetAll,\n    onSetDroViaG5x,\n    onSetDroAllViaG5x,\n    onSetG92Offset,\n    onSetDroViaG92,\n    onSetDroAllViaG92,\n    onSetTlo,\n    onSetDroViaTlo,\n  } = props;\n\n  const { t } = useTranslation();\n  const { toDisplayUnits } = useUnits();\n  const classes = useStyles();\n\n  const [g5xMenuAnchor, setG5xMenuAnchor] = React.useState(null);\n  const [g92MenuAnchor, setG92MenuAnchor] = React.useState(null);\n  const [mobileMenuAnchor, setMobileMenuAnchor] = React.useState(null);\n\n  //G5x related handlers\n  const handleSetG5xIndex = (event) => {\n    const num = parseInt(event.target.value);\n    if(onSetG5xIndex && ! isNaN(num)){\n      onSetG5xIndex( g5xSystems[num] );\n    }\n    setG5xMenuAnchor(null);\n  };\n  const handleSetG5xOffset = (value, axisData) => {\n    const num = parseFloat(value);\n    if (onSetG5xOffset && ! isNaN(num)){\n      onSetG5xOffset({value: num , unit: toDisplayUnits(axisData.g5xOffset).unit }, axisData);\n    }\n  };\n  const handleSetDroViaG5x = (value, axisData) => {\n    const num = parseFloat(value);\n    if(onSetDroViaG5x && ! isNaN(num)){\n      onSetDroViaG5x({value: num, unit: toDisplayUnits(axisData.g5xOffset).unit}, axisData)\n    }\n  };\n  const handleSetG5xOffsetAll = (value) => {\n    const num = parseFloat(value);\n    if(onSetG5xOffsetAll && ! isNaN(num)){\n      const newOffsetsDisplayUnits = workOffsets.map((offset) => ({value: num, unit: toDisplayUnits(offset.g5xOffset).unit}) );\n      onSetG5xOffsetAll(newOffsetsDisplayUnits);\n    }\n  };\n  const handleSetDroAllViaG5x = (value) => {\n    const num = parseFloat(value);\n    if(onSetDroAllViaG5x && ! isNaN(num)){\n      const newDroDisplayUnits = workOffsets.map((offset) => ({value: num, unit: toDisplayUnits(offset.g5xOffset).unit}) );\n      onSetDroAllViaG5x(newDroDisplayUnits);\n    }\n  };\n  \n  //G92 related handlers\n  const handleClearG92 = (event) => {\n    if(onClearG92){\n      onClearG92()\n    };\n    setG92MenuAnchor(null);\n  };\n  const handleDisableG92 = (event) => {\n    if(onDisableG92){\n      onDisableG92()\n    };\n    setG92MenuAnchor(null);\n  };\n  const handleRestoreG92 = (event) => {\n    if(onRestoreG92){\n      onRestoreG92()\n    }\n    setG92MenuAnchor(null);\n  };\n  const handleSetG92Offset = (value, axisData) => {\n    const num = parseFloat(value);\n    if(onSetG92Offset && ! isNaN(num)){\n      onSetG92Offset({value: num, unit: toDisplayUnits(axisData.g92Offset).unit }, axisData);\n    }\n  };\n  const handleSetDroViaG92 = (value, axisData) => {\n    const num = parseFloat(value);\n    if(onSetDroViaG92 && ! isNaN(num)){\n      onSetDroViaG92({value: num, unit: toDisplayUnits(axisData.g92Offset).unit }, axisData);\n    }\n  };\n  const handleSetDroAllViaG92 = (value) => {\n    const num = parseFloat(value);\n    if(onSetDroAllViaG92 && ! isNaN(num)){\n      const newDroDisplayUnits = workOffsets.map((offset) => toDisplayUnits({value: num, unit: offset.g92Offset.unit}));\n      onSetDroAllViaG92(newDroDisplayUnits);\n    }\n  };\n  //Tool length related handlers\n  const handleSetTlo = (value) => {\n    const num = parseFloat(value);\n    if(onSetTlo && ! isNaN(num)){\n      onSetTlo( {value: num, unit: toDisplayUnits(toolTable[toolInSpindle][2]).unit} );\n    }\n  }\n  const handleSetDroViaTlo = (value, axisData) => {\n    const num = parseFloat(value);\n    if(onSetDroViaTlo && ! isNaN(num)){\n      onSetDroViaTlo( {value: num, unit: toDisplayUnits(toolTable[toolInSpindle][2]).unit}, axisData );\n    }\n  };\n\n  //Menu handlers\n  const openG5xMenu = (event) => {\n    setG5xMenuAnchor(event.currentTarget);\n    setMobileMenuAnchor(null);\n  };\n  const openG92Menu = (event) => {\n    setG92MenuAnchor(event.currentTarget);\n    setMobileMenuAnchor(null);\n  };\n  const openMobileMenu = (event) => {\n    setMobileMenuAnchor(event.currentTarget);\n    setG92MenuAnchor(null);\n    setG5xMenuAnchor(null);\n  }\n\n  const anchorRef = React.useRef(null);  \n\n  return <Panel label={t(\"workOffsets\")}>\n    <Menu\n      id=\"g5x-menu\"\n      anchorEl={g5xMenuAnchor}\n      keepMounted\n      open={Boolean(g5xMenuAnchor)}\n      onClose={() => {setG5xMenuAnchor(null)}}\n    >\n      <MenuItem  \n        key=\"g5x-zero\"\n        onClick={() => { handleSetDroAllViaG5x(0); setG5xMenuAnchor(null); }}\n      >\n        {t(\"zeroDro\")}\n      </MenuItem>\n      <MenuItem  \n        key=\"g5x-clear\"\n        onClick={() => { handleSetG5xOffsetAll(0); setG5xMenuAnchor(null); }}\n      >\n        {t(\"clearCurrentSystem\")}\n      </MenuItem>\n      {g5xSystems.map((system, index) => (\n        <MenuItem \n          key={\"g5x-set-\" + system}\n          onClick={handleSetG5xIndex}\n          value={index}\n        >\n          {t(\"use\") + \" \" + g5xSystems[index]}\n        </MenuItem>\n      ))}\n    </Menu>\n    \n    <Menu\n      id=\"g92-menu\"\n      anchorEl={g92MenuAnchor}\n      keepMounted\n      open={Boolean(g92MenuAnchor)}\n      onClose={() => {setG92MenuAnchor(null)}}\n    >\n      <MenuItem  \n        key='g92-zero'\n        onClick={() => { handleSetDroAllViaG92(0); setG92MenuAnchor(null); }}\n      >{t(\"zeroDro\")}</MenuItem>\n      <MenuItem  \n        key='g92-clear'\n        onClick={handleClearG92}\n      >{t(\"g92Clear\")}</MenuItem>\n      <MenuItem  \n        key='g92-disable'\n        onClick={handleDisableG92}\n      >{t(\"g92Suspend\")}</MenuItem>\n      <MenuItem  \n        key='g92-restore'\n        onClick={handleRestoreG92}\n      >{t(\"g92Restore\")}</MenuItem>\n    </Menu>\n\n    <Menu\n      id=\"mobile-menu\"\n      anchorEl={mobileMenuAnchor}\n      keepMounted\n      open={Boolean(mobileMenuAnchor)}\n      onClose={() => {setMobileMenuAnchor(null)}}\n    >\n      <MenuItem \n        key=\"open-g92-menu\"\n        onClick={openG92Menu}\n      >G92</MenuItem>\n      <MenuItem \n        key=\"open-g5x-menu\"\n        onClick={openG5xMenu}\n      >{g5xLabel(g5xIndex)}</MenuItem>\n    </Menu>\n\n    <Grid container spacing={1} className={classes.container}>\n      <Grid item container justify=\"flex-start\" alignItems=\"center\" direction=\"row\" spacing={0} className={classes.headerRow}>\n        <Grid item container justify=\"space-between\" direction=\"row\" xs={4} md={4}>\n          <Grid item xs={3} md={2} className={classes.spacer}></Grid>\n          <Grid item xs={3} md={4}>{t(\"dro\")}</Grid>\n          <Grid item xs={3} md={2} className={classes.spacer}></Grid>\n          <Grid item xs={3} md={4}>{t(\"absolutePosition\")}</Grid>\n        </Grid>\n        <Grid item className={classes.spacer} xs={1} sm={1} ></Grid>\n        <Hidden mdDown>\n          <Grid item sm={2}>\n            <Button \n              className={classes.menuOpenButton}\n              color='primary' \n              endIcon={<ExpandMoreIcon/>}\n              disabled={!readyForMdi.isReady}\n              variant='outlined'\n              ref={anchorRef} \n              onClick={openG5xMenu} \n            >\n              {g5xLabel(g5xIndex)}\n            </Button>\n          </Grid>\n          <Grid item className={classes.spacer}></Grid>\n          <Grid item sm={2}>\n            <Button\n              className={classes.menuOpenButton}\n              color='primary'\n              endIcon={<ExpandMoreIcon/>}\n              disabled={!readyForMdi.isReady}\n              variant='outlined'\n              onClick={openG92Menu}\n            >\n              G92\n            </Button>\n          </Grid>\n          <Grid item align=\"center\" className={classes.spacer}></Grid>\n          <Grid item  sm={2}>\n            {toolInSpindle ? ( t(\"tlo\") + \": \" + t(\"tool\") + toolInSpindle) : t(\"noActiveTool\") }\n          </Grid>\n        </Hidden>\n        <Hidden lgUp>\n          <Grid item xs={4}>\n            <Button \n              className={classes.menuOpenButton}\n              color='primary' \n              startIcon={<ExpandMoreIcon/>}\n              disabled={!readyForMdi.isReady}\n              variant='outlined'\n              ref={anchorRef} \n              onClick={openMobileMenu} \n            >\n              {t(\"offset_plural\")}\n            </Button>\n          </Grid>\n        </Hidden>\n      </Grid>\n      { workOffsets.map((axisData) => {\n        const positionDisplayUnits = toDisplayUnits(axisData.position);\n        const decimalPoints = UNITS.DECIMALS(positionDisplayUnits.unit);\n        return (\n        <Grid item container justify=\"flex-start\" alignItems=\"center\" direction=\"row\" spacing={0} key={axisData.axis}>\n          <Hidden mdDown>\n            <Grid item container justify=\"space-between\" direction=\"row\" xs={7} sm={4}>\n              <Grid  item className={classes.spacer} xs={1} sm={2}>{ axisData.axis }</Grid>\n              <Grid item className={classes.text} xs={4} sm={4}>\n                { positionDisplayUnits.value.toFixed(decimalPoints) + \" \" + positionDisplayUnits.unit }\n              </Grid>\n              <Grid item className={classes.spacer} xs={1} sm={2}>=</Grid>\n              <Grid item className={classes.text} xs={4} sm={4}>\n                { toDisplayUnits(axisData.actualPosition).value.toFixed(decimalPoints) }\n              </Grid>\n            </Grid>\n            <Grid item className={classes.spacer} xs={2} sm md={1}>-</Grid>\n            <Grid item sm={2}>\n              <ModalSubmittableTextField\n                value={toDisplayUnits(axisData.g5xOffset).value.toFixed(decimalPoints)}\n                modalValue={\"0.0000\"}\n                onSubmitTextField={(value) =>  handleSetG5xOffset(value, axisData)}\n                onSubmitModal={(value) => handleSetDroViaG5x(value, axisData)}\n                disabled={!readyForMdi.isReady}\n                buttonDom={\n                  <>\n                    <div style={{fontSize: 6}}>DRO</div>\n                    <MenuOpenIcon />\n                  </>\n                }\n                buttonProps={{\n                  color: \"primary\",\n                }}\n                containerProps={{\n                  className: classes.offsetItemContainer\n                }}\n                modalProps={{\n                  title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} ${g5xLabel(g5xIndex)}`,\n                  textFieldLabel: t('newDroValue'),\n                  submitBtnLabel: t('set'),\n                  cancelBtnLabel: t('cancel'),\n                }}\n                textFieldProps={{\n                  InputProps: {\n                    disableUnderline: true,\n                    classes: {\n                      input: classes.overrideTextFieldInputInput,\n                      root: classes.root,\n                    }\n                  }\n                }}\n              />\n            </Grid>\n            <Grid item align=\"center\"className={classes.spacer}>-</Grid>\n            <Grid item container justify=\"center\" direction=\"row\" sm={2}>\n              <ModalSubmittableTextField\n                value={ toDisplayUnits(axisData.g92Offset).value.toFixed(decimalPoints) }\n                modalValue={\"0.0000\"}\n                onSubmitTextField={(value) => handleSetG92Offset(value, axisData)}\n                onSubmitModal={(value) => handleSetDroViaG92(value, axisData)}\n                disabled={!readyForMdi.isReady}\n                buttonDom={\n                  <>\n                    <div style={{fontSize: 6}}>DRO</div>\n                    <MenuOpenIcon />\n                  </>\n                }\n                buttonProps={{\n                  color: \"primary\",\n                }}\n                containerProps={{\n                  className: classes.offsetItemContainer\n                }}\n                modalProps={{\n                  title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} G92`,\n                  textFieldLabel: t('newDroValue'),\n                  submitBtnLabel: t('set'),\n                  cancelBtnLabel: t('cancel'),\n                }}\n                textFieldProps={{\n                  InputProps: {\n                    disableUnderline: true,\n                    classes: {\n                      input: classes.overrideTextFieldInputInput,\n                      root: classes.root,\n                    }\n                  }\n                }}\n              />\n            </Grid>\n            <Grid item align=\"center\" className={classes.spacer}> \n                {axisData.index === 2 ?  \"-\" : \"\" }\n            </Grid>\n            <Grid item container justify=\"flex-start\" direction=\"row\" sm={2}>\n              <Grid item>\n              { \n                (axisData.index !== 2) ? \"\" : \n                (\n                  <ModalSubmittableTextField\n                    value={toDisplayUnits(axisData.toolOffset).value.toFixed(decimalPoints)}\n                    modalValue={\"0.0000\"}\n                    onSubmitTextField={(value) => handleSetTlo(value)}\n                    onSubmitModal={(value) => handleSetDroViaTlo(value,axisData)}\n                    disabled={!readyForMdi.isReady}\n                    buttonDom={\n                      <>\n                        <div style={{fontSize: 6}}>DRO</div>\n                        <MenuOpenIcon />\n                      </>\n                    }\n                    buttonProps={{\n                      color: \"primary\",\n                    }}\n                    containerProps={{\n                      className: classes.offsetItemContainer\n                    }}\n                    modalProps={{\n                      title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} TLO`,\n                      textFieldLabel: t('newDroValue'),\n                      submitBtnLabel: t('set'),\n                      cancelBtnLabel: t('cancel'),\n                    }}\n                    textFieldProps={{\n                      InputProps: {\n                        disableUnderline: true,\n                        classes: {\n                          input: classes.overrideTextFieldInputInput,\n                          root: classes.root,\n                        }\n                      }\n                    }}\n                  />\n                )\n              }\n              </Grid>\n            </Grid>\n          </Hidden>\n          <Hidden lgUp>\n            <Grid item xs={12}>\n              <Accordion >\n                <AccordionSummary\n                  expandIcon={<ExpandMoreIcon color=\"primary\"/>}\n                >\n                  <Grid item container justify=\"space-between\" direction=\"row\" xs={12}>\n                    <Grid  item className={classes.spacer} xs={1}>{ axisData.axis}</Grid>\n                    <Grid item className={classes.text} xs={3}>\n                      { toDisplayUnits(axisData.position).value.toFixed(decimalPoints) + \" \" + (toDisplayUnits(axisData.position).unit)}\n                    </Grid>\n                    <Grid item className={classes.spacer} xs={1}>=</Grid>\n                    <Grid item className={classes.text} xs={3}>\n                      { toDisplayUnits(axisData.actualPosition).value.toFixed(decimalPoints) }\n                    </Grid>\n                    <Grid item className={classes.spacer} xs={1}>-</Grid>\n                    <Grid item className={classes.text} xs={3}>\n                      { toDisplayUnits({ value: axisData.actualPosition.value - axisData.position.value, unit: axisData.position.unit }).value.toFixed(decimalPoints)}\n                    </Grid>\n                  </Grid>\n                </AccordionSummary>\n                <AccordionDetails>\n                  <Grid container direction=\"column\" alignItems=\"flex-end\" spacing={1}>\n                    <Grid item container direction=\"row\" justify=\"center\">\n                      <Grid item xs={2} className={classes.spacer}>{g5xLabel(g5xIndex)}</Grid>\n                      <Grid item container justify=\"flex-start\" direction=\"row\" xs={4}>\n                        <ModalSubmittableTextField\n                          value={ toDisplayUnits(axisData.g5xOffset).value.toFixed(decimalPoints) }\n                          modalValue={\"0.0000\"}\n                          onSubmitTextField={(value) => handleSetG5xOffset(value, axisData)}\n                          onSubmitModal={(value) => handleSetDroViaG5x(value, toDisplayUnits(axisData.g5xOffset), axisData)}\n                          disabled={!readyForMdi.isReady}\n                          buttonDom={\n                            <>\n                              <div style={{fontSize: 6}}>DRO</div>\n                              <MenuOpenIcon />\n                            </>\n                          }\n                          buttonProps={{\n                            color: \"primary\",\n                          }}\n                          containerProps={{\n                            className: classes.offsetItemContainer\n                          }}\n                          modalProps={{\n                            title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} ${g5xLabel(g5xIndex)}`,\n                            textFieldLabel: t('newDroValue'),\n                            submitBtnLabel: t('set'),\n                            cancelBtnLabel: t('cancel'),\n                          }}\n                          textFieldProps={{\n                            InputProps: {\n                              disableUnderline: true,\n                              classes: {\n                                input: classes.overrideTextFieldInputInput,\n                                root: classes.root,\n                              }\n                            }\n                          }}\n                        />\n                      </Grid>\n                    </Grid>\n                    <Grid item container direction=\"row\" justify=\"center\">\n                      <Grid item xs={2} className={classes.spacer}>G92</Grid>\n                      <Grid item container justify=\"flex-start\" direction=\"row\" xs={4}>\n                        <ModalSubmittableTextField\n                          value={toDisplayUnits(axisData.g92Offset).value.toFixed(decimalPoints)}\n                          modalValue={\"0.0000\"}\n                          onSubmitTextField={(value) => handleSetG92Offset(value, axisData)}\n                          onSubmitModal={(value) => handleSetDroViaG92(value, axisData)}\n                          disabled={!readyForMdi.isReady}\n                          buttonDom={\n                            <>\n                              <div style={{fontSize: 6}}>DRO</div>\n                              <MenuOpenIcon />\n                            </>\n                          }\n                          buttonProps={{\n                            color: \"primary\",\n                          }}\n                          containerProps={{\n                            className: classes.offsetItemContainer\n                          }}\n                          modalProps={{\n                            title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} G92`,\n                            textFieldLabel: t('newDroValue'),\n                            submitBtnLabel: t('set'),\n                            cancelBtnLabel: t('cancel'),\n                          }}\n                          textFieldProps={{\n                            InputProps: {\n                              disableUnderline: true,\n                              classes: {\n                                input: classes.overrideTextFieldInputInput,\n                                root: classes.root,\n                              }\n                            }\n                          }}\n                        />\n                      </Grid>\n                    </Grid>\n                    <Grid item container direction=\"row\" justify=\"center\">\n                    { axisData.index === 2 ? (\n                      <>\n                      <Grid item xs={2} className={classes.spacer}>{t(\"tlo\")}</Grid>\n                      <Grid item container justify=\"flex-start\" direction=\"row\" xs={4}>\n                        <ModalSubmittableTextField\n                          value={toDisplayUnits(axisData.toolOffset).value.toFixed(decimalPoints)}\n                          modalValue={\"0.0000\"}\n                          onSubmitTextField={(value) => handleSetTlo(value)}\n                          onSubmitModal={(value) => handleSetDroViaTlo(value,axisData)}\n                          disabled={!readyForMdi.isReady}\n                          buttonDom={\n                            <>\n                              <div style={{fontSize: 6}}>DRO</div>\n                              <MenuOpenIcon />\n                            </>\n                          }\n                          buttonProps={{\n                            color: \"primary\",\n                          }}\n                          containerProps={{\n                            className: classes.offsetItemContainer\n                          }}\n                          modalProps={{\n                            title: `${t('set')} ${(axisData.axis).toUpperCase()} ${t('dro')} ${t('via')} TLO`,\n                            textFieldLabel: t('newDroValue'),\n                            submitBtnLabel: t('set'),\n                            cancelBtnLabel: t('cancel'),\n                          }}\n                          textFieldProps={{\n                            InputProps: {\n                              disableUnderline: true,\n                              classes: {\n                                input: classes.overrideTextFieldInputInput,\n                                root: classes.root,\n                              }\n                            }\n                          }}\n                        />\n                      </Grid>\n                    </>\n                    ) : \"\" }\n                  </Grid>\n                  </Grid>\n                </AccordionDetails>\n              </Accordion>\n            </Grid>\n          </Hidden>\n        </Grid>\n      )})}\n    </Grid>\n  </Panel>;\n};\nexport default WorkOffsets;\n","import { connect } from 'react-redux';\nimport WorkOffsets from '../components/WorkOffsets';\nimport actions from '../modules/rockhopper/actions';\nimport { toMachineUnits, toProgramUnits }  from '../hooks/useUnits';\n\nimport { \n  selectG5xIndex,\n  selectToolInSpindle,\n  selectToolTable,\n  selectReadyForMdi,\n  selectWorkOffsets,\n  selectUnitsCode,\n} from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n    g5xIndex: selectG5xIndex(state),\n    workOffsets: selectWorkOffsets(state),\n    toolInSpindle: selectToolInSpindle(state),\n    toolTable: selectToolTable(state),\n    readyForMdi: selectReadyForMdi(state),\n    unitsCode: selectUnitsCode(state),\n}), \n(dispatch, ownProps) => ({\n  \n  onDispatchMdiCmd: (cmd) => {\n    dispatch(actions.put.mdiCmd({ data: [cmd] }));\n  },\n  onSetG5xIndex: (cmd) => {\n    dispatch(actions.put.mdiCmd({ data: [cmd] }));\n  },\n  onClearG92: () => {\n    dispatch(actions.put.mdiCmd({ data: [\"G92.1\"] }))\n  },\n  onDisableG92: () => {\n    dispatch(actions.put.mdiCmd({ data: [\"G92.2\"] }))\n  },\n  onRestoreG92: () => {\n    dispatch(actions.put.mdiCmd({ data: [\"G92.3\"] }))\n  },\n  onDispatchUpdateHelper: (updateHelper, data) => {\n    dispatch( actions.updateHelpers[updateHelper](data) )\n  },\n\n}),\n(stateProps, dispatchProps, ownProps) => {\n\n  const {\n    workOffsets,\n    g5xIndex,\n    toolInSpindle,\n    unitsCode,\n  } = stateProps;\n  \n  const {\n    onDispatchMdiCmd,\n    onDispatchUpdateHelper,\n  } = dispatchProps;\n\n\n  const onSetG5xOffset = (newOffset, axisData) => {\n    const offsetProgramUnits = toProgramUnits(newOffset, unitsCode);\n    const cmd = `G10 L2 P${g5xIndex}${axisData.axis}${offsetProgramUnits.value.toFixed(5)}`;\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetDroViaG5x = (newDro, axisData) => {\n    const droProgramUnits = toProgramUnits(newDro, unitsCode);\n    const cmd = `G10 L20 P${g5xIndex}${axisData.axis}${droProgramUnits.value.toFixed(5)}`\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetG5xOffsetAll = (newOffsets) => {\n    const offsetsProgramUnits = newOffsets.map((offset) => toProgramUnits(offset,unitsCode));\n    let cmd = `G10 L2 P${g5xIndex}`;  \n    workOffsets.map((axisData,index) => cmd += axisData.axis + String(offsetsProgramUnits[index].value.toFixed(5)));\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetDroAllViaG5x = (newDro) => {\n    const droProgramUnits = newDro.map((dro) => toProgramUnits(dro,unitsCode));\n    let cmd = `G10 L20 P${g5xIndex} `;\n    workOffsets.map((axisData,index) => cmd += axisData.axis + String(droProgramUnits[index].value.toFixed(5)));\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetG92Offset = (newOffset, axisData) => {\n    const offsetMachineUnits = toMachineUnits(newOffset,unitsCode);\n    const cmdValueMachineUnits = Number( (axisData.position.value + axisData.g92Offset.value - offsetMachineUnits.value) );\n    const offsetProgramUnits = toProgramUnits({value: cmdValueMachineUnits, unit: offsetMachineUnits.unit},unitsCode);\n    const cmd = `G92 ${axisData.axis}${offsetProgramUnits.value.toFixed(5)}`;\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetDroViaG92 = (newDro, axisData) => {\n    const droProgramUnits = toProgramUnits(newDro, unitsCode);\n    const cmd = `G92 ${axisData.axis}${droProgramUnits.value.toFixed(5)}`;\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetDroAllViaG92 = (newDro) => {\n    const droProgramUnits = newDro.map((dro) => toProgramUnits(dro,unitsCode));\n    let cmd = 'G92 ';\n    workOffsets.map((axisData,index) => cmd += axisData.axis + String(droProgramUnits[index].value.toFixed(5)));\n    onDispatchMdiCmd(cmd);\n  };\n  const onSetTlo = (newTlo) => {\n    const newTloMachineUnits = toMachineUnits(newTlo, unitsCode);\n    onDispatchUpdateHelper('toolLengthOffset', { data: [toolInSpindle, newTloMachineUnits.value] });\n    const newTloProgramUnits = toProgramUnits(newTlo, unitsCode);\n    const cmd = `G10 L1 P${toolInSpindle} Z${newTloProgramUnits.value.toFixed(5)}`;\n    onDispatchMdiCmd(cmd);\n    onDispatchMdiCmd('G43');\n  };\n  const onSetDroViaTlo = (newDro,axisData) => {\n    const newDroMachineUnits = toMachineUnits(newDro, unitsCode);\n    const newTloMachineUnits = {\n      value: axisData.actualPosition.value - axisData.g5xOffset.value - axisData.g92Offset.value - newDroMachineUnits.value,\n      unit: newDroMachineUnits.unit\n    }\n    onDispatchUpdateHelper('toolLengthOffset', { data: [toolInSpindle, newTloMachineUnits.value] });\n    const newDroProgramUnits = toProgramUnits(newDro, unitsCode);\n    const cmd = `G10 L10 P${toolInSpindle} Z${newDroProgramUnits.value.toFixed(5)}`\n    onDispatchMdiCmd(cmd);\n    onDispatchMdiCmd('G43');\n  };\n  return { \n    onSetG5xOffset,\n    onSetDroViaG5x,\n    onSetG5xOffsetAll,\n    onSetDroAllViaG5x,\n    onSetG92Offset,\n    onSetDroViaG92,\n    onSetDroAllViaG92,\n    onSetTlo,\n    onSetDroViaTlo,\n    ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n  }\n})(WorkOffsets);\n","export const MODULE_ID = \"@@penta-ui\";\nexport const MESSAGE_LOG_KEY = \"messages\";\nexport const MAX_POPUPS = 1;\nexport const SORT_ORDER = {\n  ASCENDING: 'asc',\n  DESCENDING: 'desc',\n}\n\nexport const ItemTypes = {\n  CARD: 'card',\n}\n","import { MODULE_ID } from './constants';\nimport { createActions } from 'redux-actions';\n\nexport default createActions({\n  ENABLE_KEYBOARD_JOGGING: undefined,\n  DISABLE_KEYBOARD_JOGGING: undefined,\n  CHANGE_LANGUAGE: undefined,\n  CHANGE_DIALECT: undefined,\n\n  INCREMENT_JOG_DIGIT_INDEX: undefined,\n  DECREMENT_JOG_DIGIT_INDEX: undefined,\n  SET_JOG_INCREMENT_INDEX: undefined,\n\n  SET_JOG_AXIS: undefined,\n\n  POPUP: {\n    SHOW: undefined,\n    HIDE: undefined\n  },\n  CLEAR_MESSAGE_BADGE: undefined,\n\n  SET_MDI_SHOW_UNIQUE_HISTORY_ONLY: undefined,\n  SET_MDI_TEXT: undefined,\n  OVERLAY: {\n    CHANGE: undefined,\n    CLEAR: undefined,\n    ENABLE_EDITING: undefined,\n    DISABLE_EDITING: undefined,\n    SET: undefined,\n    DELETE_SECTION: undefined,\n    ADD_SECTION: undefined,\n  },\n  COMPENSATION: {\n    CHANGE: undefined,\n    CLEAR: undefined,\n    ENABLE_EDITING: undefined,\n    DISABLE_EDITING: undefined,\n    SET: undefined,\n    DELETE_SECTION: undefined,\n    ADD_SECTION: undefined,\n  },\n  AXIS_SELECT_JOG: {\n    SET_AXIS: undefined,\n    SET_DIGIT_INDEX: undefined,\n    INCREMENT_AXIS: undefined,\n    INCREMENT_DIGIT_INDEX: undefined,\n  },\n  DRO: {\n    SET_DISPLAY: undefined,\n  },\n  JOG: {\n    SET_DISPLAY: undefined,\n  },\n}, { prefix: MODULE_ID });\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport useTranslation from '../hooks/useTranslation';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  warningIcon: {\n    marginRight: theme.spacing(1)\n  }\n}));\n\nfunction HomeAllButton(props) {\n  const {\n    isHomed,\n    onHomeAll,\n    classes\n  } = props;\n\n  const { t } = useTranslation();\n\n  const internalClasses = useStyles();\n  return <Button variant=\"contained\" color=\"primary\" size=\"small\" classes={ { root: classes.button } } onClick={onHomeAll}>{ isHomed ? null : <WarningIcon className={internalClasses.warningIcon}/>}{ t(\"homeAll\") }</Button>\n}\n\nexport default HomeAllButton;\n","import { connect } from 'react-redux';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport HomeAllButton from '../components/HomeAllButton';\nimport { selectIsMachineHomed } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    isHomed: selectIsMachineHomed(state),\n  }\n}, \n(dispatch, ownProps) => ({ \n  onHomeAll: () => dispatch(rockhopperActions.put.homeCmd()),\n}))(HomeAllButton);\n","export const selectPentaUI = (state) => state.pentaui;\nexport const selectEnableKeyboardJogging = (state) => state.pentaui.enableKeyboardJogging;\nexport const selectMessages = (state) => state.pentaui.messages;\nexport const selectPopups = (state) => state.pentaui.popups;\nexport const selectLanguage = (state) => state.pentaui.language;\nexport const selectDialect = (state) => state.pentaui.dialect;\nexport const selectMdiSortKey = (state) => state.pentaui.mdiSortKey;\nexport const selectMdiText = (state) => state.pentaui.mdiText;\nexport const selectMessageBadges = (state) => state.pentaui.messageBadges;\nexport const selectIsEditingCompensation = (state) => state.pentaui.isEditingCompensation;\nexport const selectClientCompensation = (state) => state.pentaui.compensation;\nexport const selectIsEditingOverlay = (state) => state.pentaui.isEditingOverlay;\nexport const selectClientConfigOverlay = (state) => state.pentaui.configOverlay;\nexport const selectAxisSelectJogAxis = (state) => state.pentaui.axisSelectJog.axis;\nexport const selectAxisSelectJogDigitIndex = (state) => state.pentaui.axisSelectJog.digitIndex;\nexport const selectDroDisplay = (state) => state.pentaui.dro.display;\nexport const selectJogDisplay = (state) => state.pentaui.jog.display;\n","const moveComponents = [ \"M\", 0, 0 ];\nexport const moveTo = (x,y) => {\n  moveComponents[1] = x;\n  moveComponents[2] = y;\n  return moveComponents.join(\" \");\n};\n\nconst arcComponents = [ \"A\", 0, 0, 0, 0, 0, 0, 0 ];\nexport const arcTo = (rx, ry, rot, largeArc, sweep, x, y) => {\n  arcComponents[1] = rx;\n  arcComponents[2] = ry;\n  arcComponents[3] = rot;\n  arcComponents[4] = largeArc;\n  arcComponents[5] = sweep;\n  arcComponents[6] = x;\n  arcComponents[7] = y;\n  return arcComponents.join(\" \");\n};\n\nconst lineComponents = [ \"L\", 0, 0 ];\nexport const lineTo = (x,y) => {\n  lineComponents[1] = x;\n  lineComponents[2] = y;\n  return lineComponents.join(\" \");\n};\n","import { useState, useEffect } from 'react';\n\nconst useFilter = (defaultValue, filter=.7) => {\n  const [ value, setValue ] = useState(defaultValue);\n  const [ filteredValue, setFilteredValue ] = useState(defaultValue);\n\n  useEffect(() => {\n    const performFilteringStep = () => {\n      const newFilteredValue = filter*filteredValue+(1-filter)*value;\n      if(Math.abs(newFilteredValue-filteredValue) > .000001) {\n        setFilteredValue(newFilteredValue);\n      }\n    };\n    const animation = window.requestAnimationFrame(performFilteringStep);\n    return () => window.cancelAnimationFrame(animation);\n  }, [ value, filteredValue, setFilteredValue, filter ]);\n\n  return [ value, setValue, filteredValue ];\n};\nexport default useFilter;\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\n\nimport { useTheme, makeStyles } from '@material-ui/styles';\nimport { useGesture } from 'react-use-gesture';\nimport { lineTo, moveTo } from './Gauges/util/path';\nimport useFilter from '../hooks/useFilter';\n//import useSpring from '../hooks/useSpring';\n\nconst useStyles = makeStyles((theme) => ({\n  value: {\n  },\n  svg: {\n    touchAction: \"none\"\n  }\n}));\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\n\nconst IncrementalSpinner = (props) => {\n  const {\n    defaultValue = 0,\n    orientation = HORIZONTAL,\n    diameter = 100,\n    thickness = 30,\n    tickDist = 10,\n    onChange,\n    reverse = false,\n    enableWheel = true,\n    enableDrag = true\n  } = props;\n\n  const theme = useTheme();\n  const [ tickOffset, setTickOffset, animatedTickOffset ] = useFilter(defaultValue);\n  const [ wholeTickOffset, setWholeTickOffset ] = useState(Math.floor(defaultValue));\n  const [ wheelTimeoutID, setWheelTimeoutID ] = useState(null);\n  const svgRef = useRef(null);\n\n  const curvature = Math.min(1, Math.max(0, props.curvature || 0));\n\n  let opts = {};\n  if(orientation === HORIZONTAL) {\n    opts.width = diameter;\n    opts.height = thickness;\n    if(reverse) {\n      opts.startX = diameter;\n      opts.startY = 0;\n      opts.endX = 0;\n      opts.endY = 0;\n    } else {\n      opts.startX = 0;\n      opts.startY = 0;\n      opts.endX = diameter;\n      opts.endY = 0;\n    }\n    opts.tickDirX = 0;\n    opts.tickDirY = 1;\n  } else {\n    opts.width = thickness;\n    opts.height = diameter;\n    if(reverse) {\n      opts.startX = 5;\n      opts.startY = diameter;\n      opts.endX = 5;\n      opts.endY = 0;\n    } else {\n      opts.startX = 5;\n      opts.startY = 0;\n      opts.endX = 5;\n      opts.endY = diameter;\n    }\n    opts.tickDirX = 1;\n    opts.tickDirY = 0;\n  }\n\n  const {\n    width,\n    height,\n    startX,\n    startY,\n    endX,\n    endY,\n    tickDirX,\n    tickDirY\n  } = opts;\n\n  const classes = useStyles();\n\n  const tValues = [];\n  const minValue = -animatedTickOffset-diameter*.5/tickDist;\n  const maxValue = -animatedTickOffset+diameter*.5/tickDist;\n  const EPS = .00001;\n\n  const tickThickness = 1;\n  for(let tickValue = Math.ceil(minValue); tickValue < maxValue+EPS; tickValue += 1) {\n    const flatT = (tickValue-minValue)/(maxValue-minValue);\n    const curvedT = (Math.cos(Math.PI*Math.max(0,Math.min(1, flatT)))-1)/(-2);\n    const t = (1-curvature)*flatT+curvature*curvedT;\n\n    const flatStrokeWidth = tickThickness;\n    const curvedStrokeWidth = Math.cos(Math.PI*Math.max(0,Math.min(1, flatT))-.5*tickThickness)-Math.cos(Math.PI*Math.max(0,Math.min(1, flatT))+.5*tickThickness);\n    const strokeWidth = (1-curvature)*flatStrokeWidth+curvature*curvedStrokeWidth;\n    tValues.push({ tickValue, t, strokeWidth });\n  }\n\n  const lines = tValues.map(({ tickValue, t, strokeWidth }) => {\n//    const mag = tickValue%10 === 0 ? 3 : (tickValue%5 === 0 ? 2 : 1);\n    const mag = 1;\n    const x1 = startX*(1-t)+endX*t;\n    const y1 = startY*(1-t)+endY*t;\n    const x2 = x1+tickDirX*thickness*.25*mag;\n    const y2 = y1+tickDirY*thickness*.25*mag;\n\n    return <line key={tickValue} x1={x1} y1={y1} x2={x2} y2={y2} stroke=\"black\" strokeOpacity={.2} strokeWidth={strokeWidth}/>\n  });\n\n  const updateTickOffsetWithDelta = useCallback((delta) => {\n    const newTickOffset = tickOffset+(reverse ? -1 : 1)*delta/tickDist;\n    setTickOffset(newTickOffset);\n\n    const dOffset = newTickOffset-wholeTickOffset < 0 ? -Math.floor(wholeTickOffset-newTickOffset) : Math.floor(newTickOffset-wholeTickOffset);\n    if(Math.abs(dOffset) > 0) {\n      setWholeTickOffset(wholeTickOffset+dOffset);\n      onChange(dOffset);\n    }\n  }, [ setTickOffset, tickOffset, tickDist, onChange, reverse, setWholeTickOffset, wholeTickOffset ]); \n\n  const handleDrag = useCallback(({ event, delta, ...test }) => {\n    window.getSelection().removeAllRanges();\n    const d = orientation === HORIZONTAL ? delta[0]: delta[1];\n    if(wheelTimeoutID) {\n      clearTimeout(wheelTimeoutID);\n    }\n    if(Math.abs(d) > 0) {\n      updateTickOffsetWithDelta(d);\n    }\n  }, [ updateTickOffsetWithDelta, orientation, wheelTimeoutID ]);\n\n  const handleDragEnd = useCallback(({ event }) => {\n    setTickOffset(wholeTickOffset);\n  }, [ setTickOffset, wholeTickOffset ]);\n\n  const handleWheel = useCallback((state) => {\n    const {\n      event,\n      wheeling,\n      delta\n    } = state;\n    if(wheeling) {\n      event.preventDefault();\n    }\n    const d = delta[1]; // wheel events are generally y deltas\n    updateTickOffsetWithDelta(.25*d);\n    if(wheelTimeoutID) {\n      clearTimeout(wheelTimeoutID);\n    }\n    setWheelTimeoutID(setTimeout(() => {\n      setTickOffset(wholeTickOffset);\n    }, 2000));\n  }, [ setTickOffset, wholeTickOffset, updateTickOffsetWithDelta, setWheelTimeoutID, wheelTimeoutID ]);\n\n  const gestureCallbacks = {};\n  if(enableDrag) {\n    gestureCallbacks.onDrag = handleDrag;\n    gestureCallbacks.onDragEnd = handleDragEnd;\n  }\n\n  if(enableWheel) {\n    gestureCallbacks.onWheel = handleWheel;\n  }\n\n  useGesture(gestureCallbacks, { domTarget: svgRef, eventOptions: { passive: false } });\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(wheelTimeoutID);\n    }\n  }, [ wheelTimeoutID ]);\n\n  const indicatorWidth = 10;\n  const indicatorHeight = 5;\n  const indicatorPath = orientation === HORIZONTAL ? \n    [ moveTo(width*.5-indicatorWidth*.5,height), lineTo(width*.5, height-indicatorHeight), lineTo(width*.5+indicatorWidth*.5, height), \"Z\" ]\n    :\n    [ moveTo(0, height*.5-indicatorWidth*.5), lineTo(indicatorHeight, height*.5), lineTo(0, height*.5+indicatorWidth*.5), \"Z\" ];\n  return <svg ref={svgRef} width={width} height={height} viewBox={\"0 0 \" + width + \" \" + height} className={classes.svg}>\n  {lines}\n  <path d={indicatorPath.join(\" \")} fill={theme.palette.primary.main}/>\n  </svg>;\n};\nexport default IncrementalSpinner;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\nimport classnames from 'classnames';\nimport IncrementalSpinner from './IncrementalSpinner';\n//import DismissIcon from '@material-ui/icons/Clear';\nimport HomeIcon from '@material-ui/icons/Home';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport useUnits from '../hooks/useUnits';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: \"relative\",\n    /*\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    borderWidth: 1,\n    borderColor: \"rgba(0,0,0,0)\",\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    */\n    whiteSpace: \"nowrap\",\n    lineHeight: \"40px\",\n    marginBottom: theme.spacing(1)\n  },\n  dismiss: {\n    verticalAlign: \"baseline\"\n  },\n  activeDigits: {\n    border: \"1px solid \" + theme.palette.primary.main,\n  },\n  inactiveDigits: {\n    border: \"1px solid \" + theme.palette.grey[200],\n  },\n  digits: {\n    display: \"inline-block\",\n    height: 40,\n    width: \"calc(100% - 42px - 42px - \" + theme.spacing(1) + \"px)\",\n    lineHeight: \"40px\",\n    verticalAlign: \"middle\",\n    borderTopRightRadius: 4,\n    borderBottomRightRadius: 4,\n    textAlign: \"right\",\n    paddingRight: theme.spacing(1) + 42\n  },\n  activeLabel: {\n    color: theme.palette.primary.contrastText,\n    backgroundColor: theme.palette.primary.main,\n    border: \"1px solid \" + theme.palette.primary.main,\n  },\n  inactiveLabel: {\n    backgroundColor: theme.palette.grey[200],\n    border: \"1px solid \" + theme.palette.grey[200],\n  },\n  label: {\n    ...theme.typography.axisLabel,\n    display: \"inline-block\",\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    width: 40,\n    height: 40,\n    lineHeight: \"40px\",\n    borderTopLeftRadius: 4,\n    borderBottomLeftRadius: 4,\n    userSelect: \"none\"\n  },\n  homeButton: {\n    ...theme.typography.axisLabel,\n//    color: theme.palette.primary.contrastText,\n//    backgroundColor: theme.palette.primary.main,\n    display: \"inline-block\",\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    width: 42,\n    height: 42,\n    lineHeight: \"40px\",\n    borderTopRightRadius: 4,\n    borderBottomRightRadius: 4,\n    userSelect: \"none\",\n    position: \"absolute\",\n    right: 0,\n    top: 0\n  },\n  digit: {\n    ...theme.typography.axisValue,\n    border: \"1px solid rgba(0,0,0,0)\",\n    borderRadius: 4,\n    display: \"inline-block\",\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    position: \"relative\",\n    maxWidth: \"calc( ( 100% - \" + theme.spacing(4) + \"px) / 12)\",\n    userSelect: \"none\"\n  },\n  active: {\n    cursor: \"pointer\",\n    '&:hover': {\n      border: \"1px solid \" + theme.palette.primary.main\n    },\n  },\n  open: {\n    border: \"1px solid \" + theme.palette.primary.main\n  },\n  spinner: {\n    position: \"absolute\",\n    top: 0,\n    left: 0\n  },\n  units: {\n    ...theme.typography.axisValue,\n    display: \"inline-block\",\n    fontSize: \"22px\",\n    lineHeight: \"30px\",\n    marginLeft: 5,\n    width: 38,\n//    maxWidth: \"calc( ( 100% - \" + theme.spacing(4) + \"px) / 12)\",\n    position: \"relative\",\n    textAlign: \"center\",\n    verticalAlign: \"bottom\",\n  }\n}));\n\nconst IncrementalFloatingPointSpinner = (props) => {\n  const {\n    value,\n    onChange,\n    fractionalDigits,\n    label,\n    wholeDigits,\n    highlighted,\n    maxOpenIndex,\n    openIndex = -1,\n    onSetOpenIndex,\n    unit,\n    onHome\n  } = props;\n\n  const { getDisplayUnitStringFromUnit } = useUnits();\n\n  const size = 30;\n  \n  const classes = useStyles();\n\n//  const handleDismiss = useCallback(() => {\n//    if(onSetOpenIndex) {\n//      onSetOpenIndex(-1);\n//    }\n//  }, [ onSetOpenIndex ]);\n\n  const str = value.toFixed(fractionalDigits);\n  const [ whole, fractional ] = str.split(\".\");\n\n  const wholeChars = whole.split(\"\");\n  while(wholeChars.length < wholeDigits) {\n    wholeChars.unshift(\"\");\n  }\n\n  const fractionalChars = fractional.split(\"\");\n\n  const chars = [];\n  wholeChars.forEach((c, i) => {\n    const digit = wholeChars.length-1-i;\n    const charIndex = fractionalChars.length+digit+1;\n    chars.push({ char: c, active: charIndex <= maxOpenIndex, increment: Math.pow(10, digit), tickDist: size*.5, charIndex });\n  });\n\n  chars.push({ char: \".\", active: false, increment: 0, tickDist: size*.5 });\n\n  fractionalChars.forEach((c, digit) => {\n    const charIndex = fractionalChars.length-digit;\n    chars.push({ char: c, active: charIndex <= maxOpenIndex, increment: Math.pow(10, -(digit+1)), tickDist: size*.5, charIndex });\n  });\n\n  const elements = chars.map(({ char, active, increment, tickDist, charIndex}, i) => {\n    const handleChange = (ticks) => {\n      if(onChange) {\n        onChange(ticks*increment);\n      }\n    };\n    const spinner = charIndex === openIndex ? \n      <IncrementalSpinner reverse={true} defaultValue={parseInt(char)} thickness={size} diameter={size} tickDist={tickDist} curvature={1} orientation=\"vertical\" onChange={handleChange} />\n      : null;\n    return <span key={i} \n                 className={classnames({ [classes.digit]: true, [classes.active]: active, [classes.open]: openIndex === charIndex })} \n                 onClick={(e) => { if(active) { if(onSetOpenIndex) { onSetOpenIndex(charIndex) } }}}\n                 style={{ fontSize: size, lineHeight: size + \"px\", width: size, height: size }}>\n      {char}\n      <div className={classes.spinner}>\n      {spinner}\n      </div>\n    </span>;\n  });\n\n  return <div className={classes.container}>\n  <span className={classnames(classes.label, { [classes.activeLabel]: highlighted, [classes.inactiveLabel]: !highlighted })}>{label}</span>\n  <span className={classnames(classes.digits, { [classes.activeDigits]: highlighted, [classes.inactiveDigits]: !highlighted })}>\n    {elements}\n    <span className={classnames(classes.units)}>\n      <span className={classes.axisUnitDegree}>\n        {getDisplayUnitStringFromUnit(unit)}\n      </span>\n    </span>\n{/*    <span className={classes.units} style={ { display: openIndex === -1 ? \"none\" : \"inline-block\" }}>\n    <IconButton size=\"small\" classes={{ root: classes.dismiss }} onClick={handleDismiss}><DismissIcon/></IconButton>\n    </span> */}\n  </span>\n  <span className={classes.homeButton}>\n    <IconButton onClick={onHome} size=\"small\"><HomeIcon/></IconButton>\n  </span>\n  </div>;\n};\nexport default IncrementalFloatingPointSpinner;\n","export const getDroDisplayData = (display, positions) => {\n  switch(display) {\n    case \"velocity\": \n      return positions.map(({velocity, ...data}) => {\n        return velocity\n      })\n    case \"dtg\": \n      return positions.map(({dtg, ...data}) => {\n        return dtg\n      })\n    case \"position\":\n      return positions.map(({position, ...data}) => {\n        return position\n      })\n    case \"actualPosition\":\n      return positions.map(({actualPosition, ...data}) => {\n        return actualPosition\n      })\n    default: //shouldn't ever be called but including to silence React warning... and just in case, it provides a sensible fallback\n      return positions.map(({position, ...data}) => {\n        return position\n      })\n  }\n}","import React from 'react';\nimport useUnits from '../hooks/useUnits';\nimport IncrementalFloatingPointSpinner from './IncrementalFloatingPointSpinner';\nimport { getDroDisplayData } from '../util/functions';\n\nconst JogSpinners = (props) => {\n  const {\n    homed,\n    positions,\n    openDigitIndex,\n    openAxis,\n    display,\n\n    onSetOpenAxis,\n    onSetOpenDigitIndex,\n    onJogIncrement,\n    onHome\n  } = props;\n\n  const { toDisplayUnits } = useUnits();\n\n  const displayData = getDroDisplayData(display, positions);\n  const spinners = positions.map(({ axis, position, jointIndex, index }, ) => {\n    const speedMagnitude = jointIndex > 2 ? 10 : 1;\n    const jointFlag = !homed;\n    const jogAxis = homed ? index : jointIndex;\n    const handleChange = (v) => {\n      const inc = {value: Math.abs(v), unit: toDisplayUnits(position).unit};\n      const speed = speedMagnitude * Math.sign(v);\n      onJogIncrement({ axis: jogAxis, jointFlag, speed, increment: inc });\n    };\n    const handleHome = (axis) => () => {\n      onHome(axis);\n    };\n    const fractionalDigits = jointIndex > 2 ? 3 : ( toDisplayUnits(position).unit === 'mm' ? 3 : 4 );\n    const wholeDigits = jointIndex > 2 ? 5 : ( toDisplayUnits(position).unit === 'mm' ? 5 : 4 );\n    const maxOpenIndex = jointIndex > 2 ? 4 : ( toDisplayUnits(position).unit === 'mm' ? 4 : 4 );\n    const currentOpenIndex = openAxis === axis ? openDigitIndex : -1;\n    const handleSetOpenIndex = (index) => {\n      onSetOpenAxis(axis)\n      onSetOpenDigitIndex(index)\n    };\n    return <IncrementalFloatingPointSpinner key={axis} \n                                            label={axis} \n                                            value={toDisplayUnits(displayData[jointIndex]).value}\n                                            unit={toDisplayUnits(position).unit}\n                                            onChange={handleChange} \n                                            fractionalDigits={fractionalDigits} \n                                            wholeDigits={wholeDigits} \n                                            maxOpenIndex={maxOpenIndex}\n                                            highlighted={axis === openAxis}\n                                            openIndex={currentOpenIndex}\n                                            onSetOpenIndex={handleSetOpenIndex}\n                                            onHome={handleHome(axis)}/>\n  });\n\n  return <div>\n  {spinners}\n  </div>;\n};\nexport default JogSpinners;\n","import { Howl, Howler } from 'howler';\n\nHowler.autoSuspend = false;\nexport const tick = new Howl({ src: process.env.PUBLIC_URL + \"/sounds/tick.wav\" });\n","import { connect } from 'react-redux';\nimport actions from '../modules/rockhopper/actions';\nimport pentaActions from '../modules/pentaui/actions';\nimport { selectAxisToJointMap, selectPositions, selectIsMachineHomed, selectUnitsCode } from '../modules/rockhopper/selectors';\nimport { selectAxisSelectJogDigitIndex, selectAxisSelectJogAxis, selectJogDisplay } from '../modules/pentaui/selectors';\nimport JogSpinners from '../components/JogSpinners';\n\nimport { toMachineUnits }  from '../hooks/useUnits';\n\nimport { tick } from '../util/sounds';\n\nexport default connect( \n(state, ownProps) => {\n  const positions = selectPositions(state);\n  const homed = selectIsMachineHomed(state);\n  const unitsCode = selectUnitsCode(state);\n  const axisToJointMap = selectAxisToJointMap(state);\n  const openDigitIndex = selectAxisSelectJogDigitIndex(state);\n  const openAxis = selectAxisSelectJogAxis(state);\n  const display = selectJogDisplay(state);\n  \n  return { \n    display,\n    homed,\n    positions,\n    unitsCode,\n    openDigitIndex,\n    openAxis,\n    axisToJointMap\n  }\n},\n(dispatch, ownProps) => ({\n  onDispatchPutHelper: (putHelper, data) => {\n    dispatch( actions.putHelpers[putHelper](data) )\n  },\n  onHome: (axis, joint) => {\n    if(typeof(axis) !== \"undefined\" && typeof(joint) !== \"undefined\") {\n      const feedRate = ` ABS[#<_ini[JOINT_${joint}]HOME_SEARCH_VEL>] * 60 `;\n      const axisPosition = ` #<_ini[JOINT_${joint}]HOME> `\n      const axisNumber = \"XYZABC\".indexOf(axis);\n      dispatch(actions.put.mdiCmd({ data: [ `o<machine-cmd> call [ ${axisNumber} ] [ ${feedRate} ] [ ${axisPosition} ]` ] }));\n    }\n  },\n  onSetOpenAxis: (axis) => {\n    dispatch(pentaActions.axisSelectJog.setAxis(axis));\n  },\n  onSetOpenDigitIndex: (axis) => {\n    dispatch(pentaActions.axisSelectJog.setDigitIndex(axis));\n  },\n}),\n(stateProps, dispatchProps, ownProps) => {\n  const {\n    unitsCode,\n    axisToJointMap\n  } = stateProps;\n  const {\n    onDispatchPutHelper,\n    onHome\n  } = dispatchProps;\n\n  const onJogIncrement = ({ axis, speed, increment, jointFlag }) => {\n    const incrementMachineUnits = toMachineUnits(increment,unitsCode)\n    onDispatchPutHelper('jogIncrement', { axis, speed, increment: incrementMachineUnits.value, jointFlag });\n    // dispatch(actions.putHelpers.jogIncrement({ axis, speed, incrementMachineUnits, jointFlag }));\n    tick.play();\n  }\n\n  return {\n    ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n    onJogIncrement,\n    onHome: (axis) => {\n      const joint = axisToJointMap[axis];\n      onHome(axis, joint);\n    },\n  }\n})(JogSpinners);\n","import { connect } from 'react-redux';\nimport Switch from '@material-ui/core/Switch';\nimport pentaActions from '../modules/pentaui/actions';\nimport { selectEnableKeyboardJogging } from '../modules/pentaui/selectors';\nimport { selectAxes } from '../modules/rockhopper/selectors';\nimport rockhopperActions from '../modules/rockhopper/actions';\n\nexport default connect( \n(state, ownProps) => ({\n  checked: selectEnableKeyboardJogging(state),\n  axes: selectAxes(state)\n}), \n(dispatch, ownProps) => ({ \n  onEnable: () => {\n    dispatch(pentaActions.enableKeyboardJogging());\n  },\n  onDisable: () => {\n    dispatch(pentaActions.disableKeyboardJogging());\n  },\n  onJogStop: (axis) => {\n    dispatch(rockhopperActions.putHelpers.jogStop({ axis }));\n  }\n}),\n(stateProps, dispatchProps, ownProps) => {\n  const {\n    checked,\n    axes\n  } = stateProps;\n\n  const {\n    onEnable,\n    onDisable,\n    onJogStop\n  } = dispatchProps;\n\n  const onChange = (e) => {\n    if(e.target.checked) {\n      onEnable();\n    } else {\n      onDisable();\n      for(let { index } of axes) {\n        onJogStop(index);\n      }\n    }\n  };\n\n  return {\n    ...ownProps,\n    checked,\n    onChange\n  }\n}\n)(Switch);\n","import React from 'react';\n\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport { makeStyles } from '@material-ui/styles';\nimport useTranslation from '../hooks/useTranslation';\n\nimport HomeAllButton from '../containers/HomeAllButton';\nimport JogSpinners from '../containers/JogSpinners';\nimport KeyboardJoggingSwitch from '../containers/KeyboardJoggingSwitch';\nimport Panel from './Panel';\n\n\nconst useStyles = makeStyles((theme) => ({\n  extras: {\n    display: \"flex\",\n    marginBottom: theme.spacing(1)\n  },\n  menuSpan: {\n    width: \"100%\",\n  },\n  homeAllButton: {\n    marginLeft: theme.spacing(1),\n  },\n  select: {\n    height: \"30px\"\n  },\n  label: {\n    ...theme.typography.statusItem,\n    fontSize: 14\n  }\n}));\n\nconst Jog = (props) => {\n  const { \n    display,\n    onSetDisplay,\n  } = props;\n  const { t } = useTranslation();\n  const classes = useStyles();\n\n  const handleChangeDisplay = (event) => {\n    onSetDisplay(event.target.value);\n  };\n\n  return <Panel label={t(\"jog\")}>\n    <div className={classes.extras}>  \n    <Select variant=\"outlined\" value={display} onChange={handleChangeDisplay} className={classes.select}>\n      <MenuItem value=\"position\"><Tooltip title={t('tooltip_OffsetPosition')}><span className={classes.menuSpan}>{ t(\"position\") }</span></Tooltip></MenuItem>\n      <MenuItem value=\"actualPosition\"><Tooltip title={t('tooltip_ActualPosition')}><span className={classes.menuSpan}>{ t(\"actualPosition\") }</span></Tooltip></MenuItem>\n      {/* {G5X_SYSTEMS.map((sys, idx) => {\n        return(\n          <MenuItem key={sys} value={sys}><Tooltip title={t('tooltip_G5xPosition')}><span>{ `${t(\"position\")}: ${t(\"coordinateSystem\")} ${idx + 1}`}</span></Tooltip></MenuItem>\n        )\n      })} */}\n    </Select>\n    <HomeAllButton classes={{ button: classes.homeAllButton }}/>\n    <Tooltip placement=\"top\" style={{display:'flex', float: 'right', marginLeft: 'auto'}} title={<span>{t(\"tooltip_JogPanel\")}</span>}><HelpIcon/></Tooltip>\n    </div>\n    <JogSpinners/>\n    <label className={classes.label}>{t(\"keyboardJogging\")} <KeyboardJoggingSwitch color=\"primary\"/></label>\n  </Panel>;\n};\nexport default Jog;\n","import { connect } from 'react-redux';\nimport pentaActions from '../modules/pentaui/actions';\nimport Jog from '../components/Jog';\nimport { selectJogDisplay } from '../modules/pentaui/selectors';\n\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    display: selectJogDisplay(state),\n  }\n}, \n(dispatch, ownProps) => ({\n  onSetDisplay: (val) => dispatch(pentaActions.jog.setDisplay(val)),\n}))(Jog);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport ToolOffsets from '../components/ToolOffsets';\nimport WorkOffsets from '../containers/WorkOffsets';\nimport Jog from '../containers/Jog';\n//import Air from './Air';\n//import ToolDetails from '../containers/ToolDetails';\n\nconst SetupTab = (props) => {\n  return <Grid container>\n    <Grid item xs={12}>\n      <ToolOffsets/>\n    </Grid>\n    <Grid item xs={12} md={6} lg={8}>\n      <WorkOffsets/>\n    </Grid>\n    <Grid item xs={12} md={6} lg={4}>\n      <Jog/>\n    </Grid>\n  </Grid>\n};\nexport default SetupTab;\n","import React, {useState} from 'react';\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { DialogActions, DialogContent } from '@material-ui/core';\nimport useTranslation from '../hooks/useTranslation';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1)\n  },\n  displayDiv: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  }\n}));\n\nconst KeyboardCaptureDialog = (props) => {\n  const {\n    open,\n    value,\n    onSubmit,\n    onClose,\n    title,\n    submitBtnLabel,\n    cancelBtnLabel,\n    modifiersOnly,\n    singleKeyOnly,\n    reservedKeys,\n    reservedCombinations,\n  } = props;\n  const classes = useStyles(props);\n  const { t } = useTranslation();\n  const [keys, setKeys] = useState(value ? value.split(\"+\") : []);\n  const [reservedKeyAlert, setReservedKeyAlert] = useState(false);\n  const [reservedCombinationAlert, setReservedCombinationAlert] = useState(false);\n  const [modifiersOnlyAlert, setModifiersOnlyAlert] = useState(false);\n  const [singleKeyOnlyAlert, setSingleKeyOnlyAlert] = useState(false);\n  const [nonModifierNeededAlert, setNonModifierNeededAlert] = useState(false);\n  const [submitDisabled, setSubmitDisabled] = useState(false);\n\n  const handleKeyDown = (e) => {\n    let disableSubmit = false;\n\n    if(reservedKeys.has(e.key)){\n      setReservedKeyAlert(true);\n      disableSubmit = true;\n    }\n    else if(reservedKeyAlert){ setReservedKeyAlert(false) }\n    \n    if(singleKeyOnly && (e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) ){\n      setSingleKeyOnlyAlert(true);\n      disableSubmit = true;\n    }\n    else if(singleKeyOnlyAlert){ setSingleKeyOnlyAlert(false) }\n    \n    if(modifiersOnly && ! ([\"Alt\", \"Shift\", \"Control\", \"Meta\"].includes(e.key)) ){\n      setModifiersOnlyAlert(true);\n      disableSubmit = true;\n    }\n    else if(modifiersOnlyAlert){ setModifiersOnlyAlert(false) }\n\n    if(!modifiersOnly && ([\"Alt\", \"Shift\", \"Control\", \"Meta\"].includes(e.key))){\n      setNonModifierNeededAlert(true);\n      disableSubmit = true;\n    }\n    else if(nonModifierNeededAlert){ setNonModifierNeededAlert(false) }\n\n    let newKeys = [];\n    if(e.ctrlKey){\n      newKeys.push(t(\"Ctrl\"));\n    }\n    if(e.shiftKey){\n      newKeys.push(t(\"Shift\"));\n    }\n    if(e.altKey){\n      newKeys.push(t(\"Alt\"));\n    }\n    if(e.metaKey){\n      newKeys.push(t(\"Meta\"));\n    }\n    if( ! ([\"Alt\", \"Shift\", \"Control\", \"Meta\"].includes(e.key)) ){\n      if(e.nativeEvent.code.startsWith(\"Digit\")){\n        newKeys.push(e.nativeEvent.code.slice(5));\n      }\n      else if(e.nativeEvent.code.startsWith(\"Key\")){\n        newKeys.push(e.nativeEvent.code.slice(3));\n      }\n      else{\n        newKeys.push(e.nativeEvent.code);\n      }\n    }\n    if(reservedCombinations.has(newKeys.join(\"+\"))){\n      setReservedCombinationAlert(true)\n      disableSubmit = true;\n    }\n    else if(reservedCombinationAlert){ setReservedCombinationAlert(false) }\n\n    if(disableSubmit){\n      setSubmitDisabled(true);\n    }\n    else{\n      setSubmitDisabled(false);\n    }\n\n    setKeys(newKeys);\n  }\n\n  const handleClose = () => {\n    if(onClose) {\n      onClose()\n    }\n  };\n\n  const handleSubmit = (e) => {\n    if(onSubmit) {\n      e.preventDefault();\n      onSubmit(keys.join(\"+\"));\n    }\n  };\n\n  return (\n    <>\n    <Dialog id=\"keyboardCapture_dialog\" open={open} onClose={handleClose} onKeyDown={handleKeyDown}>\n      <DialogTitle >{title}</DialogTitle>\n      <DialogContent>\n        {reservedKeyAlert && <div style={{backgroundColor: \"red\"}} severity=\"error\">{t(\"This non-modifier key is reserved.\")}</div>}\n        {reservedCombinationAlert && <div style={{backgroundColor: \"red\"}} severity=\"error\">{t(\"This key combination is already in use.\")}</div>}\n        {modifiersOnlyAlert && <div style={{backgroundColor: \"red\"}} severity=\"error\">{t(\"This is a modifier-only keybinding.\")}</div>}\n        {singleKeyOnlyAlert && <div style={{backgroundColor: \"red\"}} severity=\"error\">{t(\"This shortcut must be a single non-modifier key\")}</div>}\n        {nonModifierNeededAlert && <div style={{backgroundColor: \"red\"}} severity=\"error\">{t(\"This shortcut must include a non-modifier key\")}</div>}\n        <div\n          onKeyDown={handleKeyDown}\n          className={classes.displayDiv}\n        >\n          {keys.join(\"+\")}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Box>\n          <Button\n            id=\"keyboardCapture_submit\"\n            onClick={(e) => { handleSubmit(e) } }\n            variant=\"contained\" \n            color=\"primary\"\n            className={classes.button}\n            disabled={submitDisabled}\n          >\n            {submitBtnLabel}\n          </Button>\n          <Button \n            id=\"keyboardCapture_cancel\"\n            onClick={handleClose}\n            variant=\"contained\" \n            color=\"primary\"\n            className={classes.button}\n          >\n            {cancelBtnLabel}\n          </Button>\n        </Box>\n      </DialogActions>\n    </Dialog>\n    </>\n  )\n};\nexport default KeyboardCaptureDialog;\n","import React, {useCallback} from 'react';\n\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { SORT_ORDER } from '../modules/pentaui/constants';\nimport SubmittableTextField from './SubmittableTextField';\nimport useTranslation from '../hooks/useTranslation';\n\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, key) {\n  return order === SORT_ORDER.DESCENDING\n    ? (a, b) => descendingComparator(a, b, key)\n    : (a, b) => -descendingComparator(a, b, key);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst MdiFavoritesTableBody = (props) =>  {\n  const { \n    favorites,\n    filter,\n    filterKey,\n    placeholderText,\n    sortOrder,\n    sortKey,\n    onSelectItem,\n    onNameItem,\n    onClickItem,\n    onClickEditKeybind,\n    onClickDeleteKeybind,\n    selected,\n  } = props;\n  const { t } = useTranslation();\n  const comparator = getComparator(sortOrder, sortKey)\n  const sortedFavorites = stableSort(favorites, comparator)\n  \n  // const [page, setPage] = React.useState(0);\n  // const [dense, setDense] = React.useState(false);\n  // const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  const isSelected = (key) => selected.has(key);\n\n  // const emptyRows = rowsPerPage - Math.min(rowsPerPage, favorites.length - page * rowsPerPage);\n\n  const handleClickItem = useCallback((val) => {\n    if(onClickItem){\n      onClickItem(val)\n    }\n  }, [onClickItem])\n\n  return (\n    <TableBody>\n      {\n        sortedFavorites.map((row, index) => \n        {\n          const isItemSelected = isSelected(row.cmd);\n          const labelId = `enhanced-table-checkbox-${index}`;\n          \n          if((row[filterKey]).includes(filter))\n          {\n            return (\n              <TableRow\n                hover\n                role=\"checkbox\"\n                aria-checked={isItemSelected}\n                tabIndex={-1}\n                key={index}\n                selected={isItemSelected}\n              >\n                <TableCell \n                  padding=\"checkbox\"\n                  onClick={(event) => onSelectItem(event, row.cmd)}\n                >\n                  <Checkbox\n                    checked={isItemSelected}\n                    inputProps={{ 'aria-labelledby': labelId }}\n                  />\n                </TableCell>\n                <TableCell>\n                  <Button onClick={(e) => {handleClickItem(row.cmd)}}>\n                    {row.cmd}\n                  </Button>\n                </TableCell>\n                <TableCell>\n                  <SubmittableTextField placeholder={placeholderText} value={row.name} onSubmit={(e) => onNameItem(e, row)}/>\n                </TableCell>\n                <TableCell>\n                  <ButtonGroup>\n                    <Tooltip title={t('tooltip_EditShortcut')}>\n                      <Button variant=\"outlined\" onClick={() => onClickEditKeybind(row)}> \n                        {row.keybind}\n                      <EditIcon/>\n                      </Button>\n                    </Tooltip>\n                    <Tooltip title={row.keybind ? t('tooltip_DeleteShortcut') : \"\"}>\n                      <Button variant=\"outlined\" onClick={() => onClickDeleteKeybind( row.cmd ) } disabled={!row.keybind}>\n                        <ClearIcon/>\n                      </Button>\n                    </Tooltip>\n                  </ButtonGroup>\n                </TableCell>\n                <TableCell>{new Date(row.time).toLocaleString(\"en-US\")}</TableCell>\n              </TableRow>\n            );\n          } else return null\n        })}\n      {/* {emptyRows > 0 && (\n        <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\n          <TableCell colSpan={6} />\n        </TableRow>\n      )} */}\n    </TableBody>\n  );\n}\nexport default MdiFavoritesTableBody;\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport FilterListIcon from '@material-ui/icons/FilterList';\n\nimport useTranslation from '../hooks/useTranslation';\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1)\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark\n        },\n  title: {\n    flex: \"1 1 100%\"\n  }\n}));\n\nconst MdiFavoritesTableToolbar = (props) => {\n  const { \n    onDelete,\n    onOpenFilterModal,\n    selected,\n    filter,\n  } = props;\n  const numSelected = selected ? selected.size : 0;\n  \n  const { t } = useTranslation();\n  const classes = useToolbarStyles();\n\n  const handleDelete = () => {\n    if(onDelete){\n      onDelete();\n    }\n  }\n\n  const handleOpenFilterModal = () => {\n    if(onOpenFilterModal){\n      onOpenFilterModal();\n    }\n  }\n  \n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n        </Typography>\n      )}\n      {\n        filter && filter.key ? (\n          <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n          >\n            {t(\"filteringBy\") + \":\" + filter.key + \"=\" + filter.value}\n          </Typography>\n        ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n        </Typography>\n        )\n      }\n\n      {numSelected > 0 ? (\n        <Tooltip title={t(\"delete\")}>\n          <IconButton aria-label=\"delete\"\n            onClick={handleDelete}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title={t(\"filterList\")}>\n          <IconButton aria-label=\"filter list\"\n            onClick={handleOpenFilterModal}\n          >\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Toolbar>\n  );\n};\n\nexport default MdiFavoritesTableToolbar;\n","import React, { useState } from 'react';\n\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport KeyboardCaptureDialog from './KeyboardCaptureDialog';\nimport MdiFavoritesTableBody from './MdiFavoritesTableBody';\nimport MdiFavoritesTableToolbar from './MdiFavoritesTableToolbar';\nimport SubmittableDialog from './SubmittableDialog';\nimport { SORT_ORDER } from '../modules/pentaui/constants';\nimport useTranslation from '../hooks/useTranslation';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    // minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  rootToolbar: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1)\n  },\n  highlight:\n    theme.palette.type === \"light\"\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark\n        },\n  title: {\n    flex: \"1 1 100%\"\n  }\n}));\n\n\nconst MdiFavoritesTable = (props) => {\n  const {\n    favorites,\n    favoritesMap,\n    headCells,\n    placeholderText,\n    onNameFavorite,\n    onDelete,\n    onClickItem,\n\n    jogKeys,\n    jogModifiers,\n    shortcutsMap,\n    onModifyFavorite,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const [selected, setSelected] = React.useState(new Set());\n  const [sortOrder, setSortOrder] = React.useState(SORT_ORDER.ASCENDING);\n  const [sortKey, setSortKey] = React.useState(headCells[0].id);\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n  const [filter, setFilter] =  React.useState(\"\")\n  // const [filterKey, setFilterKey] =  React.useState(headCells[0].id)\n  const filterKey = headCells[0].id;\n  const [ captureDialogState, setCaptureDialogState ] = useState({open: false, category: null, key: \"\", value: \"\", modifiersOnly: false, singleKeyOnly: false});\n\n  const handleSortRequest = (key) => {\n    const isAscending = key === sortKey && sortOrder === SORT_ORDER.ASCENDING;\n    setSortOrder(isAscending ? 'desc' : 'asc');\n    setSortKey(key);\n  }\n\n  const handleClickItemCheckbox = (event, key) => {\n    let newSet = new Set(selected);\n    if(selected.has(key)){\n      newSet.delete(key);\n      setSelected(newSet);\n    }\n    else{\n      newSet.add(key);\n      setSelected(newSet);\n    }\n  };\n\n  const handleSelectAll = () => {\n    if(selected.size < favorites.length){\n      let newSet = new Set(selected);\n      favorites.forEach((favorite) => newSet.add(favorite.cmd))\n      setSelected(newSet);\n    }\n    else{\n      setSelected(new Set());\n    }\n  }\n\n  const handleNameItem = (e, item) => {\n    onNameFavorite(item.cmd, e.target.value)\n  }\n\n  const handleDelete = () => {\n    onDelete(selected);\n  }\n\n  const handleCloseDialog = () => {\n    setDialogOpen(false);\n  };\n\n  const handleSubmitDialog = (value) => {\n    setFilter(value)\n    setDialogOpen(false);\n  };\n\n  const handleOpenCaptureDialog = (mdiFav) => {\n    const newDialogState = { open: true, title: mdiFav.cmd, key:mdiFav.cmd, value: mdiFav.keybind || '', category: \"mdi\", modifiersOnly: false, singleKeyOnly: false };\n    setCaptureDialogState(newDialogState);\n  };\n\n  const handleDeleteKeybind = (cmd) => {\n    const oldFav = favoritesMap.get(cmd);\n    onModifyFavorite({cmd: cmd, name: oldFav.name, time: oldFav.time, keybind: \"\"});\n  };\n\n  const handleSubmitCaptureDialog = (newShortcut) => {\n    const oldFav = favoritesMap.get(captureDialogState.key);\n    onModifyFavorite({cmd: captureDialogState.key, name: oldFav.name, time: oldFav.time, keybind: newShortcut});\n    setCaptureDialogState({...captureDialogState, open: false});\n  };\n\n\n  return (\n    <div>\n    <TableContainer>\n      <Table\n        className={classes.table}\n        aria-labelledby=\"tableTitle\"\n        aria-label=\"favorites table\"\n        stickyHeader\n      >\n      <TableHead>\n        <TableRow>\n          <TableCell padding=\"checkbox\">\n            <Checkbox\n              onClick={handleSelectAll}\n              // indeterminate={numSelected > 0 && numSelected < rowCount}\n              // checked={rowCount > 0 && numSelected === rowCount}\n              // onChange={onSelectAllClick}\n              inputProps={{ 'aria-label': 'select all favorites' }}\n            />\n          </TableCell>\n          {headCells.map((headCell) =>\n          {\n            return (\n              <TableCell\n                key={headCell.id}\n                align={'left'}\n                // align={headCell.numeric ? 'right' : 'left'}\n                padding={headCell.disablePadding ? 'none' : 'default'}\n                sortDirection={sortKey === headCell.id ? sortOrder : false}\n              >\n\n                <TableSortLabel\n                  active={sortKey === headCell.id}\n                  direction={sortKey === headCell.id ? sortOrder : 'asc'}\n                  onClick={(e) => handleSortRequest(headCell.id)}\n                >\n                  {headCell.label}\n                  {sortKey === headCell.id ? (\n                    <span className={classes.visuallyHidden}>\n                      {sortOrder === SORT_ORDER.DESCENDING ? 'sorted descending' : 'sorted ascending'}\n                    </span>\n                  ) : null}\n                </TableSortLabel>\n                {headCell.tooltip && <Tooltip placement=\"right\" title={<span>{headCell.tooltip}</span>}><HelpIcon/></Tooltip>}\n              </TableCell>\n            )\n          }\n          )}\n        </TableRow>\n      </TableHead>\n\n      <MdiFavoritesTableBody\n        favorites={favorites}\n        sortOrder={sortOrder}\n        sortKey={sortKey}\n        filter={filter}\n        filterKey={filterKey}\n        placeholderText={placeholderText}\n        onSelectItem={handleClickItemCheckbox}\n        onNameItem={handleNameItem}\n        onClickItem={onClickItem}\n        onClickEditKeybind={handleOpenCaptureDialog}\n        onClickDeleteKeybind={handleDeleteKeybind}\n        selected={selected}\n      />\n    </Table>\n  </TableContainer>\n  <MdiFavoritesTableToolbar\n    onDelete={() => handleDelete(selected)}\n    onOpenFilterModal={() => setDialogOpen(true)}\n    filter={filter}\n    selected={selected}\n    numSelected={selected.length}\n  />\n  <SubmittableDialog\n    open={dialogOpen}\n    value={\"\"}\n    onSubmit={handleSubmitDialog}\n    onClose={handleCloseDialog}\n    title={t(\"filterFavorites\")}\n    textFieldLabel={t(\"Command\")}\n    submitBtnLabel={t(\"Filter\")}\n    cancelBtnLabel={t(\"Cancel\")}\n  />\n  <KeyboardCaptureDialog\n    open={captureDialogState.open}\n    key={captureDialogState.key}\n    value={captureDialogState.value}\n    modifiersOnly={captureDialogState.modifiersOnly}\n    singleKeyOnly={captureDialogState.singleKeyOnly}\n    reservedKeys={new Set(Object.values(jogKeys))}\n    reservedCombinations={new Set(Object.keys(shortcutsMap).concat(Object.values(jogModifiers)))}\n    onSubmit={handleSubmitCaptureDialog}\n    onClose={() => { setCaptureDialogState({...captureDialogState, open: false}) } }\n    title={t(\"Keybinding\") + \": \" + t(captureDialogState.title)}\n    submitBtnLabel={t(\"Set\")}\n    cancelBtnLabel={t(\"Cancel\")}\n  />\n    </div>\n  )\n};\n\nexport default React.memo(MdiFavoritesTable)\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { FixedSizeList } from 'react-window';\n\n// import useTranslation from '../hooks/useTranslation';\n\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: 600,\n  },\n  oddListItem: {\n    backgroundColor: theme.palette.action.hover,\n  },\n  starButton: {\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.light\n    }\n  },\n  submitButton: {\n    width: \"100%\",\n    justifyContent: \"left\",\n    \"&:hover\": {  \n      backgroundColor: theme.palette.primary.light\n    }\n  },\n}));\n\n\nconst MdiHistoryList = (props) => {\n  const {\n    mdiHistory,\n    mdiHistoryInFavoritesMap,\n    onPopulate,\n    onAddFavorite,\n    onRemoveFavorite,\n  } = props;\n  // const { t } = useTranslation();\n  const classes = useStyles();\n\n  const handlePopulateCommand = (cmd) => {\n    if(onPopulate){\n      onPopulate(cmd)\n    }\n  };  \n\n  const handleAddMdiFavorite = (cmd) => {\n    if(onAddFavorite){\n      onAddFavorite(cmd)\n    }\n  };\n\n  const handleRemoveMdiFavorite = (cmd) => {\n    if(onRemoveFavorite){\n      let cmdSet = new Set();\n      cmdSet.add(cmd);\n      onRemoveFavorite(cmdSet)\n    }\n  };\n\n  const Row = ({index, style}) => {\n    const newStyle = {\n      ...style,\n      overflow: 'auto'\n    };\n    const {cmd, time} = mdiHistory[index];\n    return(\n      <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"stretch\" overflow=\"hidden\" className={(index % 2 === 0) ? null : classes.oddListItem} style={newStyle}>\n        <Grid item container overflow=\"hidden\" xs={9} md={11}>\n          <Tooltip title={<span>{new Date(time).toLocaleString(\"en-US\")}</span>}>\n          <Button\n            onClick={(e) => handlePopulateCommand(cmd)}\n            className={classes.submitButton}\n            overflow=\"hidden\"\n          >\n            { cmd }\n          </Button>\n          </Tooltip>\n        </Grid>\n        <Grid item container justify=\"flex-end\" xs={3} md={1}>\n        {\n          (mdiHistoryInFavoritesMap.get(cmd)).isFav ? (\n            <Button \n              size=\"small\" \n              onClick={(e) => { handleRemoveMdiFavorite(cmd) }}\n              className={classes.starButton}  \n            ><StarIcon/></Button>\n          ) : (\n            <Button \n              size=\"small\" \n              onClick={(e) => { handleAddMdiFavorite(cmd) }}\n              className={classes.starButton}\n            ><StarBorderIcon/></Button>\n          )\n        }\n        </Grid >\n      </Grid>\n    )\n  };\n\n  return(<>\n    <div className={classes.container}>\n      <FixedSizeList\n        height={560}\n        itemCount={mdiHistory.length}\n        itemSize={50}\n        width={'100%'}\n      >\n        {Row}\n      </FixedSizeList>\n    </div>\n  </>\n  )\n};\n\nexport default MdiHistoryList\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    height: 42,\n  },\n}));\n\nconst NAME_DISPLAY_LENGTH = 30;\n\nconst MdiQuickAccessButton = (props) => {\n  const { \n    name,\n    cmd,\n    onClick\n  } = props;\n  \n  const classes = useStyles();\n  \n  const isNameCutoff = name && (name.length > NAME_DISPLAY_LENGTH);\n\n  const displayName = isNameCutoff ? (name.substring(0,30) + \"...\") : name;\n  \n  const tooltip = isNameCutoff ? (\n    <React.Fragment>\n      <Typography color=\"inherit\">{name}</Typography>\n      {cmd}\n    </React.Fragment>\n  ) : (\n    <React.Fragment>\n      {cmd}\n    </React.Fragment>\n  )\n\n\n  return (\n    <Tooltip title={tooltip}>\n      <span>\n      <Button\n       {...props}\n       className={classes.button}\n       onClick={() => onClick(cmd)}\n      >\n        {displayName}\n      </Button>\n      </span>\n    </Tooltip>\n  )\n};\nexport default MdiQuickAccessButton;\n","import React, { useCallback } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport MdiQuickAccessButton from './MdiQuickAccessButton';\n\nconst MdiQuickAccessGrid = (props) => {\n  const {\n    mdiFavorites,\n    onClickItem,\n  } = props;\n\n  const quickAccessCount = mdiFavorites.reduce((count, fav) => fav.name ? ++count : count, 0);\n\n  const handleClickItem = useCallback((cmd) => {\n    if(onClickItem){\n      onClickItem(cmd);\n    }\n  }, [onClickItem]);\n\n  return(\n    <Grid container spacing={4}>\n      { mdiFavorites &&\n          mdiFavorites.map(\n            ({cmd, name}, idx) => {\n              if(name && name.length > 0){\n              \n              return (\n                <Grid item key={idx} xs={4}>\n                  <MdiQuickAccessButton\n                    name={name}\n                    cmd={cmd}\n                    onClick={handleClickItem}\n                    size=\"large\"\n                    fullWidth={true}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                  />\n                </Grid>\n              )\n              } else return null\n            }\n          )\n      }\n      {\n        [...Array(Math.max(0, 15 - quickAccessCount))].map((i, idx) => \n          {\n            return (\n              <Grid item key={idx} xs={4}>\n                <MdiQuickAccessButton\n                  disabled={true}\n                  name={\"\"}\n                  cmd={\"\"}\n                  onClick={handleClickItem}\n                  size=\"large\"\n                  fullWidth={true}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                />\n              </Grid>\n            )\n          }\n        )\n      }\n    </Grid>\n  )\n};\n\nexport default React.memo(MdiQuickAccessGrid)\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\n\n\nconst TabPanel = (props) => {\n  const { \n    children, \n    value, \n    index, \n    p, \n    ...other \n  } = props;  \n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={p}>\n          <span>{children}</span>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nexport default TabPanel","import React, { useRef, useState, useCallback } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\nimport { useTheme } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport TextField from '@material-ui/core/TextField';\nimport StarIcon from '@material-ui/icons/Star';\n\nimport MdiFavoritesTable from './MdiFavoritesTable';\nimport MdiHistoryList from './MdiHistoryList';\nimport MdiQuickAccessGrid from './MdiQuickAccessGrid';\nimport Panel from './Panel';\nimport TabPanel from './TabPanel';\n\nimport useTranslation from '../hooks/useTranslation';\n\n// const mdiSortOrder = -1;\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    borderRadius: 4,\n  },\n  inputBox: {\n    flexGrow: 1,\n    display: 'flex',\n    backgroundColor: theme.palette.background.paper,\n  },\n  inputButton: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  tabContainer: {\n    minHeight: 600,\n    maxHeight: 800,\n    overflow: 'auto',\n  },\n  listItem: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.action.hover,\n      },\n  },\n  mdi: {\n    width: \"100%\",\n  },\n  mdiInput: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  noPadding: {\n    padding: 0,\n  },\n  root: {\n    flexGrow: 1,\n    display: 'flex',\n    backgroundColor: theme.palette.background.paper,\n  },\n  submitButton: {\n    width: \"100%\",\n    justifyContent: \"left\",\n  },\n  tabPanel: {\n    padding: 0,\n    height: 600,\n  }\n}));\n\nconst Mdi = (props) => {\n  const {\n    readyForMdi,\n    // mdiSortKey,\n    // mdiText,\n    // onSetMdiText,\n    onSendMdiCmd,\n    onAddMdiFavorite,\n    onRemoveMdiFavorites,\n    onNameMdiFavorite,\n    mdiHistory,\n    mdiFavorites,\n    mdiFavoritesMap,\n    mdiHistoryInFavoritesMap,\n    mdiHistorySorted,\n    mdiHistorySortedUnique,\n\n    jogModifiers,\n    jogKeys,\n    mdiShortcuts,\n    shortcuts,\n    shortcutsMap,\n    onModifyFavorite,\n  } = props;\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const commandRef = useRef(null);\n\n  const [mdiText, setMdiText] = useState(\"\")\n  const [isCommandFocused, setIsCommandFocused] = useState(false);\n  const [tabIndex, setTabIndex] = useState(0);\n  const [isRemoveFavoriteDialogOpen, setIsRemoveFavoriteDialogOpen] = useState(false);\n  const [cmdOnRemoveFavoriteDialog, setCmdOnRemoveFavoriteDialog] = useState(\"\");\n\n  const handleAddMdiFavorite = useCallback((cmd) => {\n    if(onAddMdiFavorite) {\n      onAddMdiFavorite(cmd, mdiFavorites);\n    }\n  }, [onAddMdiFavorite, mdiFavorites]);\n\n  const handleRemoveMdiFavorites = useCallback((cmdSet) => {\n    if(onRemoveMdiFavorites) {\n      //If removing a single favorite, and the favorite has a name\n      //Open dialog to confirm before deleting\n      if(cmdSet.size === 1){\n        const cmd = cmdSet.values().next().value;\n        const name = mdiFavoritesMap.get(cmd).name;\n        if(name && name.length > 0){\n          setCmdOnRemoveFavoriteDialog(cmd);\n          setIsRemoveFavoriteDialogOpen(true);\n          return;\n        }\n      }\n      onRemoveMdiFavorites(cmdSet, mdiFavoritesMap);\n    }\n  }, [onRemoveMdiFavorites, mdiFavoritesMap]);\n\n  const handleSubmitRemoveFavoriteDialog = useCallback(() => {\n    let cmdSet = new Set();\n    cmdSet.add(cmdOnRemoveFavoriteDialog);\n    setCmdOnRemoveFavoriteDialog(\"\");\n    setIsRemoveFavoriteDialogOpen(false);\n    if(onRemoveMdiFavorites){\n      onRemoveMdiFavorites(cmdSet, mdiFavoritesMap);\n    }\n  }, [cmdOnRemoveFavoriteDialog, setIsRemoveFavoriteDialogOpen, onRemoveMdiFavorites, mdiFavoritesMap]);\n\n  const handleNameMdiFavorite = useCallback((cmd, name) => {\n    if(onNameMdiFavorite) {\n      onNameMdiFavorite(cmd, name, mdiFavorites);\n    }\n  }, [onNameMdiFavorite, mdiFavorites]);\n\n  const handleTextFieldSubmit = useCallback((e) => {\n    const v = e.target.value;\n    if(onSendMdiCmd) {\n      onSendMdiCmd(v, mdiHistory);\n    }\n  }, [ onSendMdiCmd, mdiHistory ]);\n\n  const handleSendMdiCommand = useCallback((v) => {\n    if(onSendMdiCmd) {\n      onSendMdiCmd(v, mdiHistory)\n    }\n  }, [ onSendMdiCmd, mdiHistory ]);\n\n  const handlePopulateCommand = useCallback((cmd) => {\n    // commandRef.current.value = cmd;\n    setMdiText(cmd)\n    \n    // setCommandText(cmd);\n    setIsCommandFocused(true);\n    setTimeout(() => {\n      commandRef.current.focus();\n    }, 100);\n  }, [setMdiText, setIsCommandFocused, commandRef]);\n\n  const handleChangeTabs = useCallback((event, newValue) => {\n    setTabIndex(newValue);\n  },[setTabIndex]);\n\n  const handleChange = useCallback((e) => {\n    setMdiText(e.target.value);\n    // if(onSetMdiText) {\n    //   onSetMdiText(e.target.value);\n    // }\n  },[]);\n\n  const handleKeyDown = useCallback((e) => {\n    if(e.key === \"Enter\") {\n      if(onSendMdiCmd) {\n        onSendMdiCmd(e.target.value, mdiHistory);\n      }\n      e.target.blur();\n    }\n  }, [onSendMdiCmd, mdiHistory]);\n\n  const handleCloseRemoveDialog = () => {\n    setIsRemoveFavoriteDialogOpen(false);\n  }\n  \n  const handleModifyFavorite = (updatedFav) => {\n    onModifyFavorite(updatedFav, mdiFavoritesMap);\n  };\n\n  \n  return <Panel label=\"MDI\">  \n      <Box className={classes.inputBox}>\n        {/* <MdiTextField\n         inputRef={commandRef}\n         onSubmit={handleTextFieldSubmit}\n         onKeyDown={handleKeyDown}\n         onChange={handleChange}\n         variant=\"outlined\"\n         classes={{ \n           root: classes.mdi,\n           // input: classes.mdi\n         }}\n         InputProps={{\n           // className: `${classes.mdiInput} ${isCommandFocused ? \"Mui-focused\" : undefined }`,\n           endAdornment: (\n             commandRef.target && commandRef.target.value.length > 0 ? (\n             <InputAdornment position=\"end\">\n               <IconButton\n                 onClick={(e) => { handleAddMdiFavorite(commandRef.target.value) }}\n               >\n                 <StarIcon/>\n               </IconButton>\n             </InputAdornment>\n             ) : null\n           ),\n         }}\n         label={\"Enter MDI...\"}\n         mdiText={mdiText}\n       /> */}\n        <TextField \n          disabled={!readyForMdi.isReady}\n          inputRef={commandRef} \n          onSubmit={handleTextFieldSubmit}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => handleChange(e)}\n          variant=\"outlined\"\n          classes={{ \n            root: classes.mdi,\n          }}\n          InputProps={{\n            className: `${classes.mdiInput} ${isCommandFocused ? \"Mui-focused\" : undefined }`,\n            endAdornment: (\n              commandRef.target && commandRef.target.value.length > 0 ? (\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={(e) => { handleAddMdiFavorite(commandRef.target.value) }}\n                >\n                  <StarIcon/>\n                </IconButton>\n              </InputAdornment>\n              ) : null\n            ),\n          }}\n          label={t(\"Enter MDI...\")}\n          value={mdiText}\n        />\n      </Box>\n      <Grid container>\n        <Grid item xs={3} sm={3} md={2}>\n          <Box border={1} borderColor={theme.palette.grey[200]}>\n            <Tabs\n              value={tabIndex}\n              onChange={handleChangeTabs}\n              aria-label=\"simple tabs example\"\n              orientation=\"vertical\"\n            >\n              <Tab label={t(\"Recent\")} {...a11yProps(0)}/>\n              <Tab label={t(\"Log\")} {...a11yProps(1)}/>\n              <Tab label={t(\"Favorites\")} {...a11yProps(2)}/>\n              <Tab label={t(\"Quick Access\")} {...a11yProps(3)}/>\n            </Tabs>\n          </Box>\n        </Grid>\n        <Grid item xs className={classes.tabContainer}>\n          <TabPanel value={tabIndex} index={0} className={classes.tabPanel} classes={{root: classes.noPadding}}>\n            <MdiHistoryList\n              mdiHistory={mdiHistorySortedUnique}\n              mdiHistoryInFavoritesMap={mdiHistoryInFavoritesMap}\n              onPopulate={handlePopulateCommand}\n              onAddFavorite={handleAddMdiFavorite}\n              onRemoveFavorite={handleRemoveMdiFavorites}\n            />\n          </TabPanel>\n          <TabPanel value={tabIndex} index={1} className={classes.tabPanel} classes={{root: classes.noPadding}}>\n            <MdiHistoryList\n              mdiHistory={mdiHistorySorted}\n              mdiHistoryInFavoritesMap={mdiHistoryInFavoritesMap}\n              onPopulate={handlePopulateCommand}\n              onAddFavorite={handleAddMdiFavorite}\n              onRemoveFavorite={handleRemoveMdiFavorites}\n            />\n          </TabPanel>\n          <TabPanel value={tabIndex} index={2} className={classes.tabPanel} >\n            <MdiFavoritesTable\n              jogKeys={jogKeys}\n              jogModifiers={jogModifiers}\n              mdiShortcuts={mdiShortcuts}\n              shortcuts={shortcuts}\n              shortcutsMap={shortcutsMap}\n              onModifyFavorite={handleModifyFavorite}\n\n              favorites={mdiFavorites ? mdiFavorites : []}\n              favoritesMap={mdiFavoritesMap ? mdiFavoritesMap : {}}\n              headCells={[\n                  { id: 'cmd', numeric: true, disablePadding: false, label: t('Command') },\n                  { id: 'name', numeric: true, disablePadding: false, label: t('Name'), tooltip: t(\"tooltip_MdiFavoritesName\")},\n                  { id: 'keybind', numeric: true, disablePadding: false, label: t('Keybinding') },\n                  { id: 'time', numeric: true, disablePadding: false, label: t('Date Added') },\n              ]}\n              placeholderText={t(\"favoritesTablePlaceholderText\")}\n              onNameFavorite={handleNameMdiFavorite}\n              onDelete={handleRemoveMdiFavorites}\n              onClickItem={handlePopulateCommand}\n            />\n          </TabPanel>\n          <TabPanel value={tabIndex} index={3} className={classes.tabPanel} p={3} >\n            <Grid container spacing={1}>\n              <MdiQuickAccessGrid\n                mdiFavorites={mdiFavorites}\n                onClickItem={handleSendMdiCommand}\n              />\n            </Grid>\n          </TabPanel>\n        </Grid>\n      </Grid>\n      <Dialog open={isRemoveFavoriteDialogOpen} onClose={handleCloseRemoveDialog} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{t(\"Removing Named Favorite\")}</DialogTitle>\n        <DialogContent>\n          <DialogContentText noWrap>\n            <Box component=\"span\" >{t(\"G-Code\") + \":\"}</Box>\n            <Box component=\"span\"  fontWeight=\"fontWeightBold\">{cmdOnRemoveFavoriteDialog}</Box>\n          </DialogContentText>\n          <DialogContentText noWrap>\n            <Box component=\"span\" >{t(\"Name\") + \":\"}</Box>\n            <Box component=\"span\"  fontWeight=\"fontWeightBold\">{mdiFavorites && cmdOnRemoveFavoriteDialog ? mdiFavoritesMap.get(cmdOnRemoveFavoriteDialog).name : \"\"}</Box>\n          </DialogContentText>\n          <DialogContentText noWrap>\n            <Box component=\"span\" >{t(\"Saved\") + \":\"}:</Box>\n            <Box component=\"span\"  fontWeight=\"fontWeightBold\">{mdiFavorites && cmdOnRemoveFavoriteDialog ? new Date(mdiFavoritesMap.get(cmdOnRemoveFavoriteDialog).time).toLocaleString(\"en-US\") : \"\"}</Box>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseRemoveDialog} color=\"primary\">\n            {t(\"Cancel\")}\n          </Button>\n          <Button onClick={handleSubmitRemoveFavoriteDialog} color=\"primary\">\n            {t(\"Remove\")}\n          </Button>\n        </DialogActions>\n      </Dialog>\n  </Panel>;\n};\nexport default Mdi;\n","import { connect } from 'react-redux';\nimport produce from 'immer';\nimport Mdi from '../components/Mdi';\nimport pentaActions from '../modules/pentaui/actions';\nimport { selectMdiSortKey, selectMdiText } from '../modules/pentaui/selectors';\nimport actions from '../modules/rockhopper/actions';\nimport { selectMdiHistory, selectMdiFavorites, selectMdiFavoritesMap, selectMdiHistoryInFavoritesMap, selectMdiHistorySorted, selectMdiHistorySortedUnique, selectReadyForMdi, selectKeyboardShortcutsJogModifiers, selectKeyboardShortcutsJog, selectKeyboardShortcutsOther, selectKeyboardShortcuts, selectKeyboardShortcutsMap, selectKeyboardShortcutsMdi } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n  readyForMdi: selectReadyForMdi(state),\n  mdiSortKey: selectMdiSortKey(state),\n  mdiText: selectMdiText(state),\n  mdiHistory: selectMdiHistory(state),\n  mdiFavorites: selectMdiFavorites(state),\n  mdiFavoritesMap: selectMdiFavoritesMap(state),\n  mdiHistoryInFavoritesMap: selectMdiHistoryInFavoritesMap(state),\n  mdiHistorySorted: selectMdiHistorySorted(state),\n  mdiHistorySortedUnique: selectMdiHistorySortedUnique(state),\n\n  jogModifiers: selectKeyboardShortcutsJogModifiers(state),\n  jogKeys: selectKeyboardShortcutsJog(state),\n  mdiShortcuts: selectKeyboardShortcutsMdi(state),\n  otherShortcuts: selectKeyboardShortcutsOther(state),\n  shortcuts: selectKeyboardShortcuts(state),\n  shortcutsMap: selectKeyboardShortcutsMap(state),\n}), \n(dispatch, ownProps) => ({ \n  onSetMdiText: (cmd) => {\n    dispatch( pentaActions.setMdiText(cmd) );\n  },\n  onSendMdiCmd: (cmd, history) => {\n    dispatch(actions.put.mdiCmd({ data: [ cmd ] }));\n    const newHistoryItem = {cmd: cmd, time: Date.now()};\n    const newHistory = history ? history.concat(newHistoryItem) : [newHistoryItem]\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIHistory', newHistory ], }));\n  },\n  onAddMdiFavorite: (newFavCmd, currFavs) => {\n    const newFav = {cmd: newFavCmd, name: \"\", keybind: \"\", time: Date.now()};\n    const newFavs = currFavs ? currFavs.concat(newFav) : [newFav]\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIFavorites', newFavs ], }));\n  },\n  onRemoveMdiFavorites: (cmdSet, currFavsMap) => {\n    let newFavs = [];\n    for(let [cmd, props] of currFavsMap){\n     if( !cmdSet.has(cmd) ){\n       newFavs.push({cmd: cmd, name: props.name, time: props.time})\n     }\n    }\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIFavorites', newFavs ], }));\n  },\n  onModifyFavorite: (updatedFav, currFavsMap) => {\n    let newFavs = [];\n    for(let [cmd, props] of currFavsMap){\n      if(cmd !== updatedFav.cmd){\n        newFavs.push({cmd: cmd, name: props.name, time: props.time, keybind: props.keybind || \"\"})\n      }\n    }\n    newFavs.push(updatedFav);\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIFavorites', newFavs ], }));\n  },\n  onNameMdiFavorite: (cmd, newName, currFavs) => {\n    const itemIndex = currFavs.findIndex(fav => fav.cmd === cmd );\n    const newFavs = produce(currFavs, (draft) => { draft[itemIndex].name = newName } );\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIFavorites', newFavs ], }));\n  },\n  onSubmitShortcuts: (shortcuts) => {\n    dispatch( actions.put.saveClientConfig( { data: [ 'KeyboardShortcuts', shortcuts ] } ) )\n  },\n}))(Mdi);\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  svg: {\n    overflow: \"visible\"\n  }\n}));\n\nconst Gauges = (props) => {\n  const {\n    width,\n    height,\n    viewBox = \"-5 -5 110 110\",\n    preserveAspectRatio = \"xMaxYMax\",\n    children\n  } = props;\n\n  const classes = useStyles();\n\n  return <svg width={width} height={height} viewBox={viewBox} preserveAspectRatio={preserveAspectRatio} className={classes.svg}>\n  {children}\n  </svg>;\n};\nexport default Gauges;\n","export const lineLineIntersection = (x1,y1,x2,y2,x3,y3,x4,y4) => {\n  const t = ((x1-x3)*(y3-y4)-(y1-y3)*(x3-x4))/((x1-x2)*(y3-y4)-(y1-y2)*(x3-x4));\n\n  return { x: x1+t*(x2-x1), y: y1+t*(y2-y1) };\n};\n\nexport const centerOfCircle = (x1,y1,x2,y2,x3,y3) => {\n  const mx1 = (x1+x2)*.5;\n  const my1 = (y1+y2)*.5;\n\n  const mx2 = (x2+x3)*.5;\n  const my2 = (y2+y3)*.5;\n\n  const dx1 = (x2-x1);\n  const dy1 = (y2-y1);\n\n  const dx2 = (x3-x2);\n  const dy2 = (y3-y2);\n\n  const vx1 = -dy1;\n  const vy1 = dx1;\n\n  const vx2 = -dy2;\n  const vy2 = dx2;\n\n  const px1 = mx1+vx1;\n  const py1 = my1+vy1;\n\n  const px2 = mx2+vx2;\n  const py2 = my2+vy2;\n\n  return lineLineIntersection(mx1,my1,px1,py1,mx2,my2,px2,py2);\n};\n\nexport const ccwAngleBetween = (angle1, angle2) => {\n  return ((angle2-angle1)%(2*Math.PI) + 2*Math.PI)%(2*Math.PI);\n};\n\nexport const cwAngleBetween = (angle1, angle2) => {\n  let angle = ccwAngleBetween(angle1,angle2);\n  return angle-2*Math.PI;\n};\n\n// in radians\nexport const shortAngleBetween = (angle1, angle2) => {\n  let angle = ccwAngleBetween(angle1,angle2);\n  if(angle > Math.PI) {\n    angle -= 2*Math.PI;\n  }\n  return angle;\n};\n\n// in radians\nexport const longAngleBetween = (angle1, angle2) => {\n  let angle = ccwAngleBetween(angle1,angle2);\n  if(angle < Math.PI) {\n    angle -= 2*Math.PI;\n  }\n  return angle;\n};\n\nexport const arcDetails  =  (x1,y1, x2,y2, x3,y3) => {\n  const c = centerOfCircle(x1,y1,x2,y2,x3,y3);\n  const localX1 = x1-c.x;\n  const localY1 = y1-c.y;\n  const localX2 = x2-c.x;\n  const localY2 = y2-c.y;\n  const localX3 = x3-c.x;\n  const localY3 = y3-c.y;\n  const r = Math.sqrt(localX1*localX1+localY1*localY1);\n  let angle1 = Math.atan2(localY1, localX1);\n  let angle2 = Math.atan2(localY2, localX2);\n  let angle3 = Math.atan2(localY3, localX3);\n\n  const relativeAngle2 = ccwAngleBetween(angle1, angle2);\n  const relativeAngle3 = ccwAngleBetween(angle1, angle3);\n\n  let angle = relativeAngle3;\n  if(relativeAngle2 > relativeAngle3) {\n    angle = cwAngleBetween(angle1, angle3);\n  }\n\n  const startAngle = angle1;\n  const endAngle = angle1+angle;\n\n  return {\n    c, r, startAngle, endAngle, angle\n  };\n};\n","import React from 'react';\nimport { arcDetails } from './util/math';\nimport { moveTo, arcTo, lineTo } from './util/path';\nimport { useTheme } from '@material-ui/core/styles';\nimport colorInterpolate from 'color-interpolate';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  segment: {\n  }\n}));\n\nconst SegmentedArcGauge = (props) => {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    x3,\n    y3,\n    totalSegments = 100,\n    segmentRatio = 1,\n    segments = 0,\n    segmentWidth = 20,\n    paddingStart = 0,\n    paddingEnd = 0,\n    every\n  } = props;\n\n  const theme = useTheme();\n\n  const classes = useStyles();\n\n  const missingPoints = (typeof(x1) === \"undefined\" ||\n                         typeof(y1) === \"undefined\" ||\n                         typeof(x2) === \"undefined\" ||\n                         typeof(y2) === \"undefined\" ||\n                         typeof(x3) === \"undefined\" ||\n                         typeof(y3) === \"undefined\");\n  const {\n    c,\n    r, \n    startAngle,\n    endAngle\n  } = missingPoints ? props : arcDetails(x1,y1,x2,y2,x3,y3);\n\n  const angle = endAngle-startAngle;\n\n  const segmentAngle = (Math.abs(angle)-paddingStart-paddingEnd)/totalSegments;\n  const tickAngle = angle > 0 ? segmentAngle*segmentRatio : -segmentAngle*segmentRatio;\n  const paddingStartAngle = angle > 0 ? paddingStart : -paddingStart;\n  const paddingEndAngle = angle > 0 ? paddingEnd : -paddingEnd;\n  const allAngles = [ ];\n  const a = angle-tickAngle-paddingStartAngle-paddingEndAngle;\n  for(let i = 0; i < totalSegments; i++) {\n    allAngles.push(paddingStartAngle + startAngle + i*a/(totalSegments-1));\n  }\n\n  const angleToElement = (className, colorFunc) => (angle, index) => {\n    let width = segmentWidth;\n    if(every) {\n      every.forEach((e) => {\n        if((index % e.segments) === 0) {\n          width = e.width;\n        }\n      });\n    }\n    const fraction = (segments > index && Math.floor(segments)-index < .00001) ? segments-index : 1;\n//    const tickAngle1 = Math.min(tickAngle, segmentAngle*fraction);\n    const tickAngle1 = tickAngle*fraction;\n    const tickAngle2 = tickAngle;\n    if(Math.abs(tickAngle1) < Math.abs(tickAngle)) {\n      const largeArc1 = tickAngle1 > Math.PI ? 1 : 0;\n      const sweepFlag1 = tickAngle1 > 0 ? 1 : 0;\n      const largeArc2 = (tickAngle2-tickAngle1) > Math.PI ? 1 : 0;\n      const sweepFlag2 = (tickAngle2-tickAngle1) > 0 ? 1 : 0;\n\n      const smallR = r-width;\n\n      const cosTickAngle1 = Math.cos(tickAngle1);\n      const sinTickAngle1 = Math.sin(tickAngle1);\n      const tickX1_1 = r*cosTickAngle1;\n      const tickY1_1 = r*sinTickAngle1;\n      const tickX2_1 = smallR*cosTickAngle1;\n      const tickY2_1 = smallR*sinTickAngle1;\n\n      const cosTickAngle2 = Math.cos(tickAngle2);\n      const sinTickAngle2 = Math.sin(tickAngle2);\n      const tickX1_2 = r*cosTickAngle2;\n      const tickY1_2 = r*sinTickAngle2;\n      const tickX2_2 = smallR*cosTickAngle2;\n      const tickY2_2 = smallR*sinTickAngle2;\n\n      const pathInstructions1 = [ moveTo(r, 0),\n                                 arcTo(r, r, 0, largeArc1, sweepFlag1, tickX1_1, tickY1_1),\n                                 lineTo(tickX2_1, tickY2_1),\n                                 arcTo(smallR, smallR, 0, largeArc1, 1-sweepFlag1, smallR, 0),\n                                 \"Z\" ];\n\n      const pathInstructions2 = [ moveTo(tickX1_1, tickY1_1),\n                                 arcTo(r, r, 0, largeArc2, sweepFlag2, tickX1_2, tickY1_2),\n                                 lineTo(tickX2_2, tickY2_2),\n                                 arcTo(smallR, smallR, 0, largeArc2, 1-sweepFlag2, tickX2_1, tickY2_1),\n                                 \"Z\" ];\n                                 \n      let fill1;\n      let fill2;\n      if(colorFunc) {\n        fill1 = colorFunc(index);\n        fill2 = colorFunc(index+1);\n      }\n      return <g key={index}>\n      <path d={pathInstructions1.join(\" \")} fill={fill1} className={className} transform={\"rotate(\" + (angle*180/Math.PI) + \")\"}/>\n      <path d={pathInstructions2.join(\" \")} fill={fill2} className={className} transform={\"rotate(\" + (angle*180/Math.PI) + \")\"}/>\n      </g>\n    } else {\n      const largeArc = tickAngle > Math.PI ? 1 : 0;\n      const sweepFlag = tickAngle > 0 ? 1 : 0;\n      const cosTickAngle = Math.cos(tickAngle);\n      const sinTickAngle = Math.sin(tickAngle);\n      const tickX1 = r*cosTickAngle\n      const tickY1 = r*sinTickAngle\n      const smallR = r-width;\n      const tickX2 = smallR*cosTickAngle\n      const tickY2 = smallR*sinTickAngle\n      const pathInstructions = [ moveTo(r, 0),\n                                 arcTo(r, r, 0, largeArc, sweepFlag, tickX1, tickY1),\n                                 lineTo(tickX2, tickY2),\n                                 arcTo(smallR, smallR, 0, largeArc, 1-sweepFlag, smallR, 0),\n                                 \"Z\" ];\n                                 \n      let fill;\n      if(colorFunc) {\n        fill = colorFunc(index);\n      }\n      return <path key={index} d={pathInstructions.join(\" \")} fill={fill} className={className} transform={\"rotate(\" + (angle*180/Math.PI) + \")\"}/>\n    }\n  };\n\n  const colorMap = colorInterpolate([ theme.palette.primary.main, theme.palette.secondary.main ]);\n  const colorFunc = (index) => {\n    if(index >= segments) {\n      return theme.palette.grey[50];\n    }\n    return colorMap(index/(totalSegments-1));\n  };\n  const segmentElements = allAngles.map(angleToElement(classes.segment, colorFunc));\n\n  return (\n  <g transform={\"translate(\" + c.x + \",\" + c.y + \")\"}>\n  {segmentElements}\n  </g>\n  );\n};\nexport default SegmentedArcGauge;\n","import React from 'react';\nimport { arcDetails } from './util/math';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  gaugeText: {\n    ...theme.typography.gaugeText\n  }\n}));\n\nconst ArcText = (props) => {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    x3,\n    y3,\n    min = 0,\n    max = 100,\n    value = 100,\n    paddingStart = 0,\n    paddingEnd = 0,\n    decimalPoints = 1,\n    textAnchor = \"middle\",\n    alignmentBaseline = \"middle\",\n    fontSize = 1,\n    units = \"\"\n  } = props;\n\n  const classes = useStyles();\n\n  const missingPoints = (typeof(x1) === \"undefined\" ||\n                         typeof(y1) === \"undefined\" ||\n                         typeof(x2) === \"undefined\" ||\n                         typeof(y2) === \"undefined\" ||\n                         typeof(x3) === \"undefined\" ||\n                         typeof(y3) === \"undefined\");\n  const {\n    c,\n    r, \n    startAngle,\n    endAngle\n  } = missingPoints ? props : arcDetails(x1,y1,x2,y2,x3,y3);\n\n  const angle = endAngle-startAngle;\n\n  const paddingStartAngle = angle > 0 ? paddingStart : -paddingStart;\n  const paddingEndAngle = angle > 0 ? paddingEnd : -paddingEnd;\n\n  const t = (Math.min(Math.max(value, min), max)-min)/(max-min < .000001 ? 1 : max-min);\n  const a = angle-paddingStartAngle-paddingEndAngle;\n\n  const x = r*Math.cos(startAngle+paddingStartAngle+a*t);\n  const y = r*Math.sin(startAngle+paddingStartAngle+a*t);\n\n  return (\n  <g transform={\"translate(\" + c.x + \",\" + c.y + \")\"}>\n    <text x={x} y={y} textAnchor={textAnchor} alignmentBaseline={alignmentBaseline} style={ { fontSize: fontSize, letterSpacing: .2 }} className={classes.gaugeText}>{ value.toFixed(decimalPoints) + \" \" + units }</text>\n  </g>\n  );\n};\nexport default ArcText;\n","import React, { useState } from 'react';\nimport { arcDetails } from './util/math';\nimport { moveTo, arcTo } from './util/path';\n//import { useTheme } from '@material-ui/core/styles';\nimport { v4 as uuidv4 } from 'uuid';\nimport classnames from 'classnames';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  gaugeHeader: {\n    ...theme.typography.gaugeHeader\n  }\n}));\n\nconst ArcHeader = (props) => {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    x3,\n    y3,\n    text,\n    paddingStart = 0,\n    paddingEnd = 0,\n    dy = 0,\n    className\n  } = props;\n\n  const [ pathId ] = useState(uuidv4());\n\n  //const theme = useTheme();\n\n  const missingPoints = (typeof(x1) === \"undefined\" ||\n                         typeof(y1) === \"undefined\" ||\n                         typeof(x2) === \"undefined\" ||\n                         typeof(y2) === \"undefined\" ||\n                         typeof(x3) === \"undefined\" ||\n                         typeof(y3) === \"undefined\");\n  const {\n    c,\n    r, \n    startAngle,\n    endAngle\n  } = missingPoints ? props : arcDetails(x1,y1,x2,y2,x3,y3);\n\n  const classes = useStyles();\n\n  const angle = endAngle-startAngle;\n\n  const paddingStartAngle = angle > 0 ? paddingStart : -paddingStart;\n  const paddingEndAngle = angle > 0 ? paddingEnd : -paddingEnd;\n\n  const a = angle-paddingStartAngle-paddingEndAngle;\n\n  const startX = Math.cos(startAngle+paddingStartAngle);\n  const startY = Math.sin(startAngle+paddingStartAngle);\n  const endX = Math.cos(endAngle-paddingEndAngle);\n  const endY = Math.sin(endAngle-paddingEndAngle);\n\n  const largeArc = a > Math.PI ? 1 : 0;\n  const sweepFlag = a > 0 ? 1 : 0;\n  const arcPathInstructions = [ moveTo(r*startX, r*startY),\n                                arcTo(r, r, 0, largeArc, sweepFlag, r*endX, r*endY)\n                                ];\n\n  return (\n  <g>\n    <defs>\n      <path id={pathId} d={arcPathInstructions.join(\" \")} transform={\"translate(\" + c.x + \",\" + c.y + \")\"} fill=\"none\" stroke=\"black\" strokeWidth=\".1\"/>\n    </defs>\n    <text dy={dy} className={classnames(classes.gaugeHeader, className)} textAnchor=\"middle\" >\n      <textPath href={\"#\" + pathId} startOffset=\"50%\">\n      {text}\n      </textPath>\n    </text>\n  </g>\n  );\n};\nexport default ArcHeader;\n","import React from 'react';\n\nimport Gauges from './Gauges';\nimport SegmentedArcGauge from './Gauges/SegmentedArcGauge';\nimport ArcText from './Gauges/ArcText';\nimport ArcHeader from './Gauges/ArcHeader';\n\nimport { makeStyles, useTheme } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  centerText: {\n    ...theme.typography.rpmText\n  },\n  gaugeHeader: {\n    ...theme.typography.gaugeHeader\n  }\n}));\n\nconst ThreeBarGauge = (props) => {\n  const {\n    value0 = 0,\n    min0 = 0,\n    max0 = 1,\n    units0 = \"\",\n    decimalPoints0 = 0,\n    label0 = \"Label 0\",\n    hideValue0 = false,\n\n    value1 = 0,\n    min1 = 0,\n    max1 = 1,\n    units1 = \"\",\n    decimalPoints1 = 0,\n    label1 = \"Label 1\",\n    hideValue1 = false,\n\n    value2 = 0,\n    min2 = 0,\n    max2 = 1,\n    units2 = \"\",\n    decimalPoints2 = 0,\n    label2 = \"Label 2\",\n    hideValue2 = false,\n\n    centerValue,\n    centerLabel,\n    children\n  } = props;\n\n  const max_min0 = (max0-min0 < .000001 ? 1 : max0-min0);\n  const max_min1 = (max1-min1 < .000001 ? 1 : max1-min1);\n  const max_min2 = (max2-min2 < .000001 ? 1 : max2-min2);\n\n  const padding = 3*Math.PI/180;\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return <Gauges width={\"100%\"}>\n      { /* Gauge 0 */ }\n      <SegmentedArcGauge c={ { x: 50, y: 50 } } \n                                 r={48} \n                                 startAngle={150*Math.PI/180} \n                                 endAngle={270*Math.PI/180} \n                                 segments={(value0-min0)/(max_min0)*5} \n                                 segmentRatio={.95} \n                                 segmentWidth={5} \n                                 totalSegments={5} \n                                 paddingStart={padding} \n                                 paddingEnd={padding}/> \n      { hideValue0 ? null : \n      <ArcText c={ {x: 50, y: 50}} \n                       r={50} \n                       startAngle={150*Math.PI/180} \n                       endAngle={270*Math.PI/180} \n                       min={min0} \n                       max={max0} \n                       value={value0} \n                       paddingStart={padding} \n                       paddingEnd={padding} \n                       fontSize={3} \n                       textAnchor={\"end\"} \n                       units={units0}\n                       decimalPoints={decimalPoints0}/> }\n      <ArcHeader c={ { x: 50, y: 50 } } \n                 r={30} \n                 startAngle={150*Math.PI/180} \n                 endAngle={270*Math.PI/180} \n                 text={label0} \n                 paddingStart={padding} \n                 paddingEnd={padding}/> \n\n      { /* Gauge 1 */ }\n      <SegmentedArcGauge c={ { x: 50, y: 50 } } \n                                 r={48} \n                                 startAngle={30*Math.PI/180} \n                                 endAngle={-90*Math.PI/180} \n                                 segments={(value1-min1)/(max_min1)*5} \n                                 segmentRatio={.95} \n                                 segmentWidth={5} \n                                 totalSegments={5} \n                                 paddingStart={padding} \n                                 paddingEnd={padding}/>\n      { hideValue1 ? null : \n      <ArcText c={ {x: 50, y: 50}} \n                       r={50} \n                       startAngle={30*Math.PI/180} \n                       endAngle={-90*Math.PI/180} \n                       min={min1} \n                       max={max1} \n                       value={value1} \n                       paddingStart={padding} \n                       paddingEnd={padding} \n                       fontSize={3} \n                       textAnchor={\"start\"} \n                       units={units1} \n                       decimalPoints={decimalPoints1}/> }\n      <ArcHeader c={ { x: 50, y: 50 } } \n                 r={30} \n                 startAngle={-90*Math.PI/180} \n                 endAngle={30*Math.PI/180} \n                 text={label1} \n                 paddingStart={padding} \n                 paddingEnd={padding}/> \n\n      { /* Gauge 2 */ }\n      <SegmentedArcGauge c={ { x: 50, y: 50 } } \n                                 r={48} \n                                 startAngle={30*Math.PI/180} \n                                 endAngle={150*Math.PI/180} \n                                 segments={(value2-min2)/(max_min2)*5} \n                                 segmentRatio={.95} \n                                 segmentWidth={5} \n                                 totalSegments={5} \n                                 paddingStart={padding} \n                                 paddingEnd={padding}/> \n      { hideValue2 ? null :                        \n      <ArcText c={ {x: 50, y: 50}} \n                       r={55} \n                       startAngle={30*Math.PI/180} \n                       endAngle={150*Math.PI/180} \n                       min={min2} \n                       max={max2} \n                       value={value2} \n                       paddingStart={padding} \n                       paddingEnd={padding} \n                       fontSize={3} \n                       textAnchor={\"middle\"} \n                       units={units2} \n                       decimalPoints={decimalPoints2}/> }\n      <ArcHeader c={ { x: 50, y: 50 } } \n                 r={30} \n                 startAngle={150*Math.PI/180} \n                 endAngle={30*Math.PI/180} \n                 text={label2} \n                 dy={3} \n                 paddingStart={padding} \n                 paddingEnd={padding}/> \n\n      <text x={50} \n                     y={50} \n                     textAnchor=\"middle\" \n                     alignmentBaseline=\"middle\" \n                     className={classes.centerText} \n                     fill=\"white\" \n                     stroke={theme.palette.primary.main} \n                     strokeWidth={.2} \n                     style={ { letterSpacing: 0 } }>\n       {Math.round(centerValue).toLocaleString(\"en-US\")}\n      </text>\n      <text x={60} \n            y={60} \n            textAnchor=\"middle\" \n            alignmentBaseline=\"middle\" \n            className={classes.gaugeHeader} \n            style={ { fontSize: 5 }}>\n        {centerLabel}\n      </text>\n      {children}\n\n    </Gauges>;\n};\nexport default ThreeBarGauge;\n","import React from 'react';\nimport Panel from './Panel';\nimport ThreeBarGauge from './ThreeBarGauge';\nimport SegmentedArcGauge from './Gauges/SegmentedArcGauge';\nimport ArcHeader from './Gauges/ArcHeader';\nimport { useSpring, animated } from 'react-spring';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport classnames from 'classnames';\n\nimport useTranslation from '../hooks/useTranslation';\nimport useUnits from '../hooks/useUnits';\nimport { makeStyles } from '@material-ui/styles';\n\nconst AnimatedSegmentedArcGauge = animated(SegmentedArcGauge);\n\nconst useStyles = makeStyles((theme) => ({\n  centerText: {\n    ...theme.typography.gaugeText\n  },\n  pressureHeader: {\n    fontSize: 3,\n  },\n  warningText: {\n    fill: 'red'\n  },\n  warmUpButton: {\n  }\n}));\n\nconst Spindle = (props) => {\n  const {\n    rpm,\n    load,\n    power,\n    temperature,\n    pressure,\n    showWarmUpButton,\n    needsWarmUp,\n    onWarmUp,\n    disableWarmUpButton\n  } = props;\n\n  const { t } = useTranslation();\n  const { toDisplayUnits } = useUnits();\n\n  const pressureDisplayUnits = toDisplayUnits(pressure);\n  const maxPressure = toDisplayUnits({ value: 0.1939150, unit: pressure.unit });\n  const rpmDisplayUnits = toDisplayUnits(rpm, 'spindleSpeed');\n  const powerDisplayUnits = toDisplayUnits(power);\n  const temperatureDisplayUnits = toDisplayUnits(temperature);\n  const temperatureArcMin = toDisplayUnits({value: 32, unit: \"F\"}).value;\n  const temperatureArcMax = toDisplayUnits({value: 175, unit: \"F\"}).value;\n  const classes = useStyles();\n\n  const pressureSpring = useSpring({ from: { value: 0 }, value: pressureDisplayUnits.value });\n\n  const hidePressure = pressure.value <= -999;\n\n  \n\n  const maxPower = 2500; // max power for solo, should be retrieved from Rockhopper for compatibility with other machines\n\n  return <Panel label=\"Spindle\">\n    <ThreeBarGauge value0={powerDisplayUnits.value}\n                   min0={0}\n                   max0={maxPower}\n                   units0={powerDisplayUnits.unit}\n                   decimalPoints0={0}\n                   label0={t(\"power\")}\n\n                   value1={load*100}\n                   min1={0}\n                   max1={100}\n                   units1={\"%\"}\n                   decimalPoints1={1}\n                   label1={t(\"load\")}\n\n                   value2={temperatureDisplayUnits.value}\n                   min2={temperatureArcMin}\n                   max2={temperatureArcMax}\n                   units2={\"°\" + temperatureDisplayUnits.unit}\n                   decimalPoints2={1}\n                   label2={t(\"temperature\")}\n                   hideValue2={temperature.value <= -998}\n\n                   centerValue={rpmDisplayUnits.value}\n                   centerLabel={rpmDisplayUnits.unit}\n                   >\n    { hidePressure ? null :\n    <>\n      <Tooltip title={pressure.value >= maxPressure.value ? t(\"tooltip_HighPressureWarning\") : \"\"}>\n      <g>\n        <animated.text x={4} \n              y={9} \n              textAnchor=\"left\" \n              alignmentBaseline=\"middle\" \n              className={classnames(classes.centerText, pressure.value >= maxPressure.value ? classes.warningText : null) } \n              style={ { fontSize: 3 }}>\n          {pressureSpring.value.interpolate((x) => (Math.round(x*100)/100).toLocaleString(\"en-US\")+ \" \" + pressureDisplayUnits.unit)}\n        </animated.text>\n        <AnimatedSegmentedArcGauge c={ { x: 8, y: 8 } } \n                         r={8} \n                         startAngle={-270*Math.PI/180}\n                         endAngle={-30*Math.PI/180}\n                         segments={pressureSpring.value.interpolate((x) => 10*x/maxPressure.value)}\n                         segmentRatio={1} \n                         segmentWidth={2}\n                         totalSegments={10}\n                         paddingStart={0}\n                         paddingEnd={0}/>\n        <ArcHeader c={ { x: 8, y: 8 } } \n                  r={10} \n                  startAngle={-150*Math.PI/180}\n                  endAngle={-30*Math.PI/180}\n                  text={t(\"pressure\")} \n                  paddingStart={0} \n                  paddingEnd={0}\n                  className={classnames(classes.pressureHeader, pressure.value >= maxPressure.value ? classes.warningText : null)}/> \n      </g>\n      </Tooltip>\n                         </> }\n\n    </ThreeBarGauge>\n    { showWarmUpButton ?\n    <Button disabled={disableWarmUpButton} variant=\"contained\" onClick={onWarmUp} color={needsWarmUp ? \"primary\" : \"default\"} classes={{ root: classes.warmUpButton }}>{ needsWarmUp ? <WarningIcon/> : null } {t(\"warmUp\")}</Button>\n    : null }\n  </Panel>;\n};\nexport default Spindle;\n","import { connect } from 'react-redux';\nimport Spindle from '../components/Spindle';\nimport actions from '../modules/rockhopper/actions';\n\nimport { selectMeasuredSpindleSpeed,\n         selectMaximumSpindleSpeed,\n         selectSpindlePower,\n         selectSpindleLoad,\n         selectSpindleTemperature,\n         selectSpindlePressure,\n         selectHasHss,\n         selectHssWarmUpNeeded,\n         selectHssFullWarmUpNeeded,\n         selectHssPerformingWarmUp,\n         selectReadyForMdi } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    rpm: selectMeasuredSpindleSpeed(state),\n    maxRPM: selectMaximumSpindleSpeed(state),\n    power: selectSpindlePower(state),\n    load: selectSpindleLoad(state),\n    temperature: selectSpindleTemperature(state),\n    pressure: selectSpindlePressure(state),\n    needsWarmUp: selectHssWarmUpNeeded(state),\n    showWarmUpButton: selectHasHss(state),\n    needsLongWarmUp: selectHssFullWarmUpNeeded(state),\n    disableWarmUpButton: !(selectReadyForMdi(state).isReady) || selectHssPerformingWarmUp(state),\n  }\n}, \n(dispatch, ownProps) => ({ \n  onWarmUp: (needsLong) => {\n    dispatch(actions.put.mdiCmd({ data: [ needsLong ? \"M670\" : \"M671\" ] }));\n  }\n}),\n(stateProps, dispatchProps, ownProps) => {\n  const {\n    onWarmUp\n  } = dispatchProps;\n  const {\n    needsLongWarmUp\n  } = stateProps;\n  return {\n    ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n    onWarmUp: () => onWarmUp(needsLongWarmUp)\n  }\n}\n)(Spindle);\n","import React from 'react';\nimport Panel from './Panel';\nimport ThreeBarGauge from './ThreeBarGauge';\n\nimport useTranslation from '../hooks/useTranslation';\nimport useUnits from '../hooks/useUnits';\n\nconst Feed = (props) => {\n  const {\n    chipLoad,\n    maxChipLoad,\n    feedrate,\n    power,\n    surfaceFootage,\n    maxSurfaceFootage\n  } = props;\n\n  const { t } = useTranslation();\n  const { toDisplayUnits } = useUnits();\n  const chipLoadDisplayUnits = toDisplayUnits(chipLoad);\n  const feedrateDisplayUnits = toDisplayUnits(feedrate);\n  const powerDisplayUnits = toDisplayUnits(power);\n  const surfaceFootageDisplayUnits = toDisplayUnits(surfaceFootage, 'surfaceSpeed');\n  \n  const maxPower = 706; // 120+120+120+173+173 - sum of rated Peak Power of each solo motor, should be retrieved from Rockhopper for compatibility with other machines\n\n  const minChipLoad = 0;\n  const maxChipLoadDisplay = toDisplayUnits(maxChipLoad).value;\n  const minSurfaceFootage = 0;\n  const maxSurfaceFootageDisplay = toDisplayUnits({ value: maxSurfaceFootage.value || 1, unit: surfaceFootage.unit }, 'surfaceSpeed').value;\n\n  return <Panel label=\"Feed\">\n    <ThreeBarGauge value0={powerDisplayUnits.value}\n                   min0={0}\n                   max0={maxPower}\n                   units0={powerDisplayUnits.unit}\n                   decimalPoints0={0}\n                   label0={t(\"power\")}\n\n                   value1={chipLoadDisplayUnits.value}\n                   min1={minChipLoad}\n                   max1={maxChipLoadDisplay}\n                   units1={chipLoadDisplayUnits.unit}\n                   decimalPoints1={4}\n                   label1={t(\"chipLoad\")}\n\n                   value2={surfaceFootageDisplayUnits.value}\n                   min2={minSurfaceFootage}\n                   max2={maxSurfaceFootageDisplay}\n                   units2={surfaceFootageDisplayUnits.unit}\n                   decimalPoints2={2}\n                   label2={t(\"surfaceSpeed\")}\n\n                   centerValue={feedrateDisplayUnits.value}\n                   centerLabel={feedrateDisplayUnits.unit}\n                   />\n  </Panel>;\n};\nexport default Feed;\n","import { connect } from 'react-redux';\nimport Feed from '../components/Feed';\n\nimport { selectSurfaceFootage, \n         selectFeedPower, \n         selectCalculatedFeedrate, \n         selectChipLoad,\n         selectMaximumChipLoad,\n         selectMaximumSurfaceFootage\n       } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    feedrate: selectCalculatedFeedrate(state),\n    chipLoad: selectChipLoad(state),\n    maxChipLoad: selectMaximumChipLoad(state),\n    power: selectFeedPower(state),\n    surfaceFootage: selectSurfaceFootage(state),\n    maxSurfaceFootage: selectMaximumSurfaceFootage(state)\n  }\n}, \n(dispatch, ownProps) => ({ \n}))(Feed);\n","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Panel from './Panel';\nimport {IconButton, Button } from '@material-ui/core';\nimport PlayArrowOutlinedIcon from '@material-ui/icons/PlayArrowOutlined';\nimport PauseOutlinedIcon from '@material-ui/icons/PauseOutlined';\nimport SkipNextIcon from '@material-ui/icons/SkipNextOutlined';\nimport useTranslation from '../hooks/useTranslation';\nimport Slider from '@material-ui/core/Slider';\nimport ResetIcon from '@material-ui/icons/RotateLeft';\nimport { MACHINE_STATUS } from '../modules/rockhopper/constants';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    marginBottom: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  sliderContainer: {\n    position: \"absolute\",\n    width: \"calc(100% - 54px)\",\n    bottom: theme.spacing(1),\n    left: 0\n  },\n  resetContainer: {\n    position: \"absolute\",\n    width: 40,\n    height: 40,\n    right: 0,\n    bottom: 4+theme.spacing(1)\n  },\n  labelContainer: {\n    position: \"absolute\",\n    bottom: 36,\n    ...theme.typography.statusItem,\n    fontSize: 14\n  },\n  valueContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    ...theme.typography.statusItem,\n    fontSize: 16\n  },\n  slider: {\n  },\n  row: {\n    position: \"relative\",\n    width: \"100%\",\n    height: 40 + theme.spacing(2),\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nconst Control = (props) => {\n  const {\n    onFeedHold,\n    onCycleStart,\n    onStep,\n    maxVel,\n    maxRapid,\n    onSetMaxVelocity,\n    feedrate,\n    onSetFeedrate,\n    spindlerate,\n    onSetSpindlerate,\n    machineStatus,\n    onSetMaxRapid\n  } = props;\n\n  const handleChangeMaxVelocity = useCallback((e, v) => {\n    if(onSetMaxVelocity && v !== maxVel) {\n      onSetMaxVelocity(v, v-maxVel);\n    }\n  }, [ onSetMaxVelocity, maxVel ]);\n\n  const handleResetMaxVel = useCallback((e) => {\n    if(onSetMaxVelocity) {\n      onSetMaxVelocity(100);\n    }\n  }, [ onSetMaxVelocity ]);\n\n  const handleChangeMaxRapid = useCallback((e, v) => {\n    if(onSetMaxRapid && v !== maxRapid) {\n      onSetMaxRapid(v);\n    }\n  }, [ onSetMaxRapid, maxRapid ]);\n\n  const handleResetMaxRapid = useCallback((e) => {\n    if(onSetMaxRapid) {\n      onSetMaxRapid(100);\n    }\n  }, [ onSetMaxRapid ]);\n\n  const handleChangeFeedrate = useCallback((e, v) => {\n    if(onSetFeedrate && v !== feedrate) {\n      onSetFeedrate(v, v-feedrate);\n    }\n  }, [ onSetFeedrate, feedrate ]);\n\n  const handleResetFeedrate = useCallback((e) => {\n    if(onSetFeedrate) {\n      onSetFeedrate(100);\n    }\n  }, [ onSetFeedrate ]);\n\n  const handleChangeSpindlerate = useCallback((e, v) => {\n    if(onSetSpindlerate && v !== spindlerate) {\n      onSetSpindlerate(v, v-spindlerate);\n    }\n  }, [ onSetSpindlerate, spindlerate ]);\n\n  const handleResetSpindlerate = useCallback((e) => {\n    if(onSetSpindlerate) {\n      onSetSpindlerate(100);\n    }\n  }, [ onSetSpindlerate ]);\n\n  const { t } = useTranslation();\n\n  const classes = useStyles();\n  \n  return (\n    <Panel label={t(\"control\")}>\n    <div>\n      <Button size=\"small\" onClick={onCycleStart} variant=\"contained\" color=\"primary\" classes={{ root: classes.button }} disabled={machineStatus === MACHINE_STATUS.MDI || machineStatus === MACHINE_STATUS.RUNNING}><PlayArrowOutlinedIcon/>{ t(\"cycleStart\") }</Button>\n      <Button size=\"small\" onClick={onFeedHold} variant=\"contained\" color=\"secondary\" classes={{ root: classes.button }} disabled={machineStatus === MACHINE_STATUS.IDLE}><PauseOutlinedIcon/>{ t(\"feedHold\") }</Button>\n      <Button size=\"small\" onClick={onStep} variant=\"contained\" color=\"primary\" classes={{ root: classes.button }} disabled={machineStatus !== MACHINE_STATUS.PAUSED && machineStatus !== MACHINE_STATUS.RUNNING}><SkipNextIcon/>{ t(\"step\") }</Button>\n    </div>\n    <div className={classes.row}>\n      <div className={classes.sliderContainer}><Slider orientation=\"horizontal\" value={maxVel} max={100} min={0} step={1} valueLabelDisplay=\"off\" classes={{ root: classes.slider}} onChange={handleChangeMaxVelocity}/></div>\n      <div className={classes.resetContainer}><IconButton onClick={handleResetMaxVel}><ResetIcon/></IconButton></div>\n      <div className={classes.labelContainer}>{t(\"maxVelocity\")}</div>\n      <div className={classes.valueContainer}>{maxVel}%</div>\n    </div>\n    <div className={classes.row}>\n      <div className={classes.sliderContainer}><Slider orientation=\"horizontal\" value={maxRapid} max={100} min={0} step={1} valueLabelDisplay=\"off\" classes={{ root: classes.slider}} onChange={handleChangeMaxRapid}/></div>\n      <div className={classes.resetContainer}><IconButton onClick={handleResetMaxRapid}><ResetIcon/></IconButton></div>\n      <div className={classes.labelContainer}>{t(\"maxRapidRate\")}</div>\n      <div className={classes.valueContainer}>{maxRapid}%</div>\n    </div>\n    <div className={classes.row}>\n      <div className={classes.sliderContainer}><Slider orientation=\"horizontal\" value={feedrate} max={200} min={0} step={1} valueLabelDisplay=\"off\" classes={{ root: classes.slider}} onChange={handleChangeFeedrate}/></div>\n      <div className={classes.resetContainer}><IconButton onClick={handleResetFeedrate}><ResetIcon/></IconButton></div>\n      <div className={classes.labelContainer}>{t(\"feedRate\")}</div>\n      <div className={classes.valueContainer}>{feedrate}%</div>\n    </div>\n    <div className={classes.row}>\n      <div className={classes.sliderContainer}><Slider orientation=\"horizontal\" value={spindlerate} max={200} min={0} step={1} valueLabelDisplay=\"off\" classes={{ root: classes.slider}} onChange={handleChangeSpindlerate}/></div>\n      <div className={classes.resetContainer}><IconButton onClick={handleResetSpindlerate}><ResetIcon/></IconButton></div>\n      <div className={classes.labelContainer}>{t(\"spindleRate\")}</div>\n      <div className={classes.valueContainer}>{spindlerate}%</div>\n    </div>\n    </Panel>\n  )\n};\n\nexport default Control;\n","import { connect } from 'react-redux';\nimport Control from '../components/Control.js';\nimport actions from '../modules/rockhopper/actions';\nimport { selectMaxLinearVelocity, selectMachineStatus, selectDelayedRapidRatePercentage, selectDelayedMaxVelPercentage, selectDelayedFeedratePercentage, selectDelayedSpindle } from '../modules/rockhopper/selectors';\nimport { tick } from '../util/sounds';\nimport produce from 'immer';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    maxVel: selectDelayedMaxVelPercentage(state),\n    feedrate: selectDelayedFeedratePercentage(state),\n    spindle: selectDelayedSpindle(state),\n    maxRapid: selectDelayedRapidRatePercentage(state),\n    machineStatus: selectMachineStatus(state),\n    maxLinearVelocity: selectMaxLinearVelocity(state)\n  }\n}, \n(dispatch, ownProps) => ({\n  onCycleStart: ()   => dispatch( actions.put.cycleStartCmd() ),\n  onStep: () => dispatch(actions.put.autoCmd({ data: [ \"AUTO_STEP\" ] })),\n  onFeedHold: () => dispatch( actions.put.feedHoldCmd() ),\n  onSetMaxVelocity: (newMaxVel, dv, maxLinearVelocity) => {\n    dispatch( actions.delayed.update.halpinHaluiMaxVelocityValue({ data: newMaxVel/100*maxLinearVelocity }));\n    dispatch( actions.delayed.put.maxvel({ data: [newMaxVel/100*maxLinearVelocity ] }));\n    tick.play();\n  },\n  onSetFeedrate: (newFeedrate, dv) => {\n    dispatch( actions.delayed.update.feedrate({ data: [newFeedrate/100] }));\n    dispatch( actions.delayed.put.feedrate({ data: [newFeedrate/100 ]}));\n    tick.play();\n  },\n  onSetMaxRapid: (newMaxRapid, dv) => {\n    dispatch( actions.delayed.update.rapidrate({ data: [ newMaxRapid/100 ] }));\n    dispatch( actions.delayed.put.rapidrate({ data: [ newMaxRapid/100 ] }));\n    tick.play();\n  },\n  onSetSpindle: (spindle) => {\n    dispatch( actions.delayed.update.spindle({ data: spindle }));\n    dispatch( actions.delayed.put.spindleoverride({ data: [spindle[0].override] }));\n    tick.play();\n  }\n}),\n(stateProps, dispatchProps, ownProps) => {\n  const {\n    maxVel,\n    feedrate,\n    spindle,\n    maxRapid,\n    machineStatus,\n    maxLinearVelocity\n  } = stateProps;\n\n  const spindlerate = Math.round(100*spindle[0].override);\n\n  const {\n    onCycleStart,\n    onFeedHold,\n    onStep,\n    onSetMaxVelocity,\n    onSetFeedrate,\n    onSetMaxRapid,\n    onSetSpindle\n  } = dispatchProps;\n\n  return {\n    machineStatus,\n    maxVel,\n    feedrate,\n    maxRapid,\n    spindlerate,\n    onCycleStart,\n    onFeedHold,\n    onSetFeedrate,\n    onSetMaxRapid,\n    onStep,\n    onSetSpindlerate: (newSpindlerate, dv) => {\n      onSetSpindle(\n        Object.freeze(produce(spindle, (draft) => {\n          draft[0].override = newSpindlerate/100;\n        }))\n      );\n    },\n    onSetMaxVelocity: (newMaxVel, dv) => onSetMaxVelocity(newMaxVel, dv, maxLinearVelocity),\n  };\n})(Control);\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport Jog from '../containers/Jog';\nimport Mdi from '../containers/Mdi';\nimport Spindle from '../containers/Spindle';\nimport Feed from '../containers/Feed';\nimport Control from '../containers/Control';\n\nconst ManualTab = (props) => {\n    return (<Grid container>\n    <Grid item xs={12} sm={6} md={4} lg={6}>\n      <Grid container>\n        <Grid item xs={12} md={12} lg={6}>\n          <Spindle/>\n        </Grid>\n        <Grid item xs={12} md={12} lg={6}>\n          <Feed/>\n        </Grid>\n      </Grid>\n    </Grid>\n    <Grid item xs={12} sm={6} md={8} lg={6}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={12} lg={6}>\n          <Jog/>\n        </Grid>\n        <Grid item xs={12} sm={12} md={12} lg={6}>\n          <Control/>\n        </Grid>\n      </Grid>\n    </Grid>\n    <Grid item xs={12}>\n      <Mdi/>\n    </Grid>\n  </Grid>);\n};\nexport default ManualTab;\n","import localforage from 'localforage';\n\n// The FileCache is both an in-memory and persistent cache for files on a penta machine.\n// The in-memory cache is a mutable data store that will be populated as a file is downloaded from Rockhopper. \n// Once a download is complete, it will be persisted to IndexedDB, where it can later be accessed without\n// needing to do a full download from Rockhopper.\n\n// Sagas will perform the download and update the in-memory cache as data is received and update the Redux\n// store with the proper information about the loading progress. This keeps the file data out of the Redux\n// store while allowing sagas/containers access to the necessary information to retrieve file data during a \n// download or after it is completed. Doing it this way allows many small files to be accessed very quickly\n// from the cache, and very large files to be loaded and viewed during a long download, both using the same\n// interface.\n\n// TODO - The FileCache supports encrypting the data before storing it to IndexedDB, but needs a 64 character hex string\n// that represents both a 16 bit HMAC key and a 16 bit AES key. Each user in Rockhopper should have a random 32-bit key\n// key associated with them that is sent over after successful login. First, we need to set up the UI to be served over\n// https.\nexport class FileCache {\n  constructor() {\n    this.maxPersistentCacheSize = 1024*1024*1024; // 1GB\n    this.maxMemoryCacheSize = 1024*1024*1024; // 1GB\n    this.memoryStore = {};\n    this.memoryMetadata = {};\n    this.store = localforage.createInstance({\n      name: \"pentaCache\",\n      driver: localforage.INDEXEDDB,\n      storeName: \"pentaStore\",\n      description: \"Stores files locally to avoid unnecessary requests to Rockhopper.\"\n    });\n    this.metadata = localforage.createInstance({\n      name: \"pentaCacheMetadata\",\n      driver: localforage.INDEXEDDB,\n      storeName: \"pentaStoreMetadata\",\n      description: \"Stores meta data about files stored in the cache.\"\n    });\n  }\n\n  // setKey is a 64 character hex string representing 256 bits of random data (128 bits for the hmac key and 128 bits for the aes key)\n  // Each machine (and potentially each user on a machine eventually) should be assigned one and it can be reset to new random bits at any time, in which case all cached items will be invalidated on retrieval.\n  async setKey(keyString) {\n    if(window.crypto.subtle && keyString && keyString.length === 64) {\n      const hmacKeyData = new Uint8Array(16);\n      const aesKeyData = new Uint8Array(16);\n      for(let i = 0; i < 16; i++) {\n        hmacKeyData[i] = parseInt(keyString.slice(i,i+2), 16);\n      }\n      for(let i = 0; i < 16; i++) {\n        aesKeyData[i] = parseInt(keyString.slice(i+16,i+18), 16);\n      }\n\n      const hmacKeyPromise = window.crypto.subtle.importKey(\"raw\", hmacKeyData, { name: \"HMAC\", hash: \"SHA-512\" }, false, [\"sign\", \"verify\"]).then((key) => {\n        this.hmacKey = key;\n      });\n      const aesKeyPromise = window.crypto.subtle.importKey(\"raw\", aesKeyData, \"AES-GCM\", false, [\"encrypt\", \"decrypt\"]).then((key) => {\n        this.aesKey = key;\n      });\n\n      await Promise.all([ hmacKeyPromise, aesKeyPromise ]);\n    }\n  }\n\n  async clearKey() {\n    this.hmacKey = null;\n    this.aesKey = null;\n  }\n\n  getTotalMemorySize() {\n    let totalSize = 0;\n    for(let key in this.memoryMetadata) {\n      totalSize += this.memoryMetadata[key].size;\n    }\n\n    return totalSize;\n  }\n\n  getMemoryItem(checksum) {\n    const metadata = this.memoryMetadata[checksum];\n    if(metadata) {\n      metadata.timestamp = Date.now();\n      return this.memoryStore[checksum];\n    }\n  }\n\n  setMemoryItem(checksum, data) {\n    const size = data.byteLength;\n    const totalMemorySize = this.getTotalMemorySize()+size;\n\n    this.memoryStore[checksum] = data;\n\n    this.memoryMetadata[checksum] = {\n      timestamp: Date.now(),\n      size\n    };\n\n    if(totalMemorySize > this.maxMemoryCacheSize) {\n      this.removeOldestMemoryData(totalMemorySize-this.maxMemoryCacheSize);\n    }\n  }\n\n  removeOldestMemoryData(reduceByAmount) {\n    const allFiles = [];\n    for(let key in this.memoryMetadata) {\n      allFiles.push([ this.memoryMetadata[key], key ]);\n    }\n\n    allFiles.sort((a,b) => { return a[0].timestamp-b[0].timestamp });\n\n    let i = 0;\n    let totalRemoved = 0;\n    while(totalRemoved < reduceByAmount && i < allFiles.length) {\n      const [ value, key ] = allFiles[i];\n      totalRemoved += value.size;\n      delete this.memoryMetadata[key];\n      delete this.memoryStore[key];\n      i++;\n    }\n  }\n\n  async getTotalPersistentSize() {\n    let totalSize = 0;\n    await this.metadata.iterate((value, key, iterationNumber) => {\n      totalSize += value.size;\n    }).catch((err) => { console.error(err) });\n\n    return totalSize;\n  }\n\n  async getItem(checksum) {\n    const data = this.getMemoryItem(checksum);\n    if(!data) {\n      return Promise.resolve(this.getPersistentItem(checksum)).then((data) => {\n        if(data) {\n          this.setMemoryItem(checksum, data);\n        }\n        return data;\n      });\n    }\n    return data;\n  }\n\n  async setPersistentItem(checksum, data) {\n    const size = data.byteLength;\n    const totalPersistentSize = await this.getTotalPersistentSize()+size;\n    if(window.crypto.subtle && this.aesKey && this.hmacKey) {\n      const iv = window.crypto.getRandomValues(new Uint8Array(16));\n      const encryptedData = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv\n      }, this.aesKey, data);\n\n      const signature = await window.crypto.subtle.sign(\"HMAC\", this.hmacKey, encryptedData);\n\n      this.store.setItem(checksum, encryptedData);\n\n      this.metadata.setItem(checksum, {\n        timestamp: Date.now(),\n        iv,\n        signature,\n        size\n      });\n    } else {\n      this.store.setItem(checksum, data);\n\n      this.metadata.setItem(checksum, {\n        timestamp: Date.now(),\n        size\n      });\n    }\n\n    if(totalPersistentSize > this.maxPersistentCacheSize) {\n      this.removeOldestPersistentData(totalPersistentSize-this.maxPersistentCacheSize);\n    }\n  }\n\n  async removeOldestPersistentData(reduceByAmount) {\n    const allFiles = [];\n    await this.metadata.iterate((value, key, iterationNumber) => {\n      allFiles.push([ value, key ]);\n    }).catch((err) => { console.error(err) });\n\n    allFiles.sort((a,b) => { return a[0].timestamp-b[0].timestamp });\n\n    let i = 0;\n    let totalRemoved = 0;\n    while(totalRemoved < reduceByAmount && i < allFiles.length) {\n      const [ value, key ] = allFiles[i];\n      totalRemoved += value.size;\n      this.metadata.removeItem(key);\n      this.store.removeItem(key);\n      i++;\n    }\n  }\n\n  async getPersistentItem(checksum) {\n    if(checksum) {\n      const metadata = await this.metadata.getItem(checksum).then((value) => value).catch(() => null);\n      if(metadata) {\n        const {\n          signature,\n          iv,\n          size\n        } = metadata;\n        this.metadata.setItem(checksum, {\n          timestamp: Date.now(),\n          iv,\n          signature,\n          size\n        });\n\n        if(window.crypto.subtle && this.aesKey && this.hmacKey && signature && iv) {\n          return await this.store.getItem(checksum).then(async (value) => {\n            const verified = await window.crypto.subtle.verify(\"HMAC\", this.hmacKey, signature, value);\n            if(verified) {\n              return window.crypto.subtle.decrypt({\n                name: \"AES-GCM\",\n                iv\n              },\n              this.aesKey,\n              value);\n            }\n            return null;\n          }).then((data) => {\n            return data;\n          }).catch(() => null);\n        } else {\n          if(!signature && !iv) {\n            return await this.store.getItem(checksum).then((data) => {\n              return data;\n            }).catch(() => null);\n          }\n        }\n      }\n    }\n    return null;\n  }\n  \n  async clear() {\n    this.memoryStore = {};\n    this.memoryMetadata = {};\n    await this.store.dropInstance().then(() => console.log(\"dropped store\"));\n    await this.metadata.dropInstance().then(() => console.log(\"dropped metadata\"));\n  }\n};\n\nconst singletonFileCache = new FileCache();\n\nexport default singletonFileCache;\n\nexport function downloadToDisk(fileCache, checksum, path) {\n  fileCache.getItem(checksum).then((b) => {\n    const element = document.createElement('a');\n    const blob = new Blob([ b ], {type: \"text/plain;charset=utf-8\"});\n    element.setAttribute('href', URL.createObjectURL(blob));\n    element.setAttribute('download', path);\n    element.click();\n  });\n  return null;\n}","import React, { useCallback, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Panel from './Panel';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { WARNING, INFO, ERROR } from '../modules/rockhopper/constants';\nimport { DEBUG } from '../modules/rockhopper/constants';\nimport classnames from 'classnames';\nimport Timestamp from './Timestamp';\nimport produce from 'immer';\nimport MessageDetails from './MessageDetails';\nimport Button from '@material-ui/core/Button';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  moreLessLink: {\n    fontSize: '.7em',\n    fontStyle: 'italic',\n    cursor: \"pointer\",\n    verticalAlign: \"text-top\"\n  },\n  message: {\n    verticalAlign: \"top\"\n  },\n  timestamp: {\n    display: \"block\",\n    fontStyle: 'italic',\n    marginRight: theme.spacing(2),\n    float: \"right\",\n    fontSize: '.7em',\n    textAlign: \"right\",\n  },\n  list: {\n    listStyleType: \"none\",\n    paddingLeft: 0,\n    marginTop: 0,\n    marginBottom: 0,\n    maxHeight: 400,\n    overflow: \"scroll\"\n  },\n  listItem: {\n    padding: theme.spacing(1)\n  },\n  error: {\n    backgroundColor: theme.palette.error.verylight,\n  },\n  warning: {\n    backgroundColor: theme.palette.secondary.verylight,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.verylight,\n  },\n  errorIcon: {\n    color: theme.palette.error.main,\n  },\n  warningIcon: {\n    color: theme.palette.secondary.main,\n  },\n  infoIcon: {\n    color: theme.palette.primary.main,\n  },\n  avatar: {\n    backgroundColor: \"rgba(0,0,0,0)\",\n    padding: 0\n  },\n}));\n\n\n// example data for testing\nconst messages = [ \n                   { id: 1, type: INFO, message: \"This is a very long info message that should be longer than we can see, but it wasn't so I'll keep typing.\", timestamp: Date.now()-1000*60*60*24*232, details: { hello: \"world\" } },\n                   { id: 2, type: WARNING, message: \"This is a warning message\", timestamp: Date.now()-1000*60*60*24*20, details: {\"meta\":{\"actionEmitters\":[\"@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC\"]},\"code\":\"?Contains python comment\",\"data\":{\"message\":\"Contains python comment: /home/pocketnc/ncfiles/python.ngc\",\"filename\":\"/home/pocketnc/ncfiles/python.ngc\"},\"id\":\"FILE_UPLOAD_CHUNK_0_PYTHON.NGC\"} },\n                   { id: 3, type: ERROR, message: \"This is an error message\", timestamp: Date.now()-1000*60*60*24*10, details: {\"meta\":{\"actionEmitters\":[\"@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC\"]},\"code\":\"?Contains python comment\",\"data\":{\"message\":\"Contains python comment: /home/pocketnc/ncfiles/python.ngc\",\"filename\":\"/home/pocketnc/ncfiles/python.ngc\"},\"id\":\"FILE_UPLOAD_CHUNK_0_PYTHON.NGC\"} }, \n                   { id: 4, type: DEBUG, message: \"This is a debug message\", timestamp: Date.now()-1000*60*60*24*9, details: {\"meta\":{\"actionEmitters\":[\"@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC\"]},\"code\":\"?Contains python comment\",\"data\":{\"message\":\"Contains python comment: /home/pocketnc/ncfiles/python.ngc\",\"filename\":\"/home/pocketnc/ncfiles/python.ngc\"},\"id\":\"FILE_UPLOAD_CHUNK_0_PYTHON.NGC\"} } \n                 ];\nconst numItems = 100;\nfor(let i = 0; i <= numItems; i++) {\n  const type = [ INFO, WARNING, ERROR, DEBUG ][Math.floor(Math.random()*4)];\n  messages.push({ id: i+5, type: type, message: \"This is a \" + type + \" message\", timestamp: Date.now()-1000*60*60*24*7*((numItems-i)/numItems*(numItems-i)/numItems), details: {\"meta\":{\"actionEmitters\":[\"@@rockhopper/RESPONSE/FILE_UPLOAD_CHUNK_0/PYTHON.NGC\"]},\"code\":\"?Contains python comment\",\"data\":{\"message\":\"Contains python comment: /home/pocketnc/ncfiles/python.ngc\",\"filename\":\"/home/pocketnc/ncfiles/python.ngc\"},\"id\":\"FILE_UPLOAD_CHUNK_0_PYTHON.NGC\"} });\n}\n\nconst MessageLog = (props) => {\n  const {\n    messages\n  } = props;\n  const [ numMessages, setNumMessages ] = useState(50);\n  const [ open, setOpen ] = useState({});\n\n  const { t } = useTranslation();\n  const classes = useStyles();\n\n  const handleClick = (msg) => (e) => {\n    setOpen(produce(open, draft => { draft[msg.id] = !draft[msg.id] }));\n  };\n  const showMoreMessages = useCallback(() => {\n    setNumMessages(numMessages+50);\n  }, [ numMessages, setNumMessages ])\n\n  return <Panel label={t(\"messageLog\")}>\n    <ul className={classes.list}>\n    { \n      (numMessages < messages.length ? messages.slice(0, numMessages) : messages).map((msg) => {\n        let icon;\n        switch(msg.type) {\n          case ERROR:\n            icon = <ErrorIcon className={classnames(classes.errorIcon, classes.avatar)}/>\n            break;\n          case WARNING:\n            icon = <WarningIcon className={classnames(classes.warningIcon, classes.avatar)}/>\n            break;\n          case INFO:\n            icon = <InfoIcon className={classnames(classes.infoIcon, classes.avatar)}/>\n            break;\n          default:\n            icon = null;\n        }\n        return (\n          <li key={msg.id} className={classnames(classes.listItem, classes[msg.type])}>\n            {icon}\n            <Timestamp className={classes.timestamp} timestamp={msg.timestamp}/> <span className={classes.message}>{msg.message}</span>\n            { msg.details ? <span className={classes.moreLessLink} onClick={handleClick(msg)}>{ open[msg.id] ? \" << \" + t(\"less\") : t(\"more\") +  \" >>\" }</span> : null }\n            { open[msg.id] ? <MessageDetails msg={msg}/> : null }\n          </li>\n        );\n      })\n    }\n    </ul>\n  { numMessages < messages.length ? <Button onClick={showMoreMessages}>{t(\"showOlderMessages\")}</Button> : null }\n  </Panel>;\n};\nexport default MessageLog;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AceEditor from 'react-ace';\n\nimport 'ace-builds/src-min-noconflict/mode-gcode';\nimport 'ace-builds/src-min-noconflict/theme-chrome';\nimport 'ace-builds/src-min-noconflict/ext-searchbox';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport useMeasure from 'react-use-measure';\nimport produce from 'immer';\nimport useTranslation from '../hooks/useTranslation';\n\nimport fileCache from '../modules/rockhopper/file-cache';\n\nconst newLineCharacter = \"\\n\".charCodeAt(0);\nconst carriageReturnCharacter = \"\\r\".charCodeAt(0);\nconst useStyles = makeStyles((theme) => ({\n  ace: {\n    '&::-webkit-scrollbar': {\n      height: \".375rem\",\n      width: \".375rem\"\n    },\n    '&::-webkit-scrollbar-track': {\n      backgroundColor: \"transparent\"\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: \"rgba(0,0,0,.2)\"\n    },\n    '&::-webkit-scrollbar-thumb:vertical': {\n      minHeight: \"1.5rem\"\n    },\n    '&::-webkit-scrollbar-thumb:horizontal': {\n      minWidth: \"1.5rem\"\n    }\n  },\n  file: {\n    fontWeight: \"bold\"\n  },\n  progress: {\n    marginLeft: theme.spacing(1)\n  },\n  downloadingProgress: {\n    marginLeft: theme.spacing(1)\n  }\n}))\n\nconst GCodeEditor = (props) => {\n  const { t } = useTranslation();\n  const {\n    file,\n    checksum,\n    progress = { size: 0, bytesLoaded: 0},\n    line,\n    onDownloadProgram,\n  } = props;\n  const classes = useStyles();\n  const aceRef = useRef(null);\n  const [ expanded, setExpanded ] = useState(false);\n  const [ ref, bounds ] = useMeasure();\n  const [ loadingState, setLoadingState ] = useState({\n    checksum: null,\n    fileDataIndex: 0,\n    buffer: null\n  });\n\n  // Ace editor can hang for a second or two when a very large number of lines are \n  // inserted at once (hundreds of thousands to millions), so let's incrementally \n  // insert chunks of lines over time to prevent that from happening.\n  useEffect(() => {\n    // fetch the ace editor object from react-ace ref\n    const editor = aceRef.current.editor;\n\n    // set various options\n    editor.container.style.height = expanded ? \"800px\" : \"170px\";\n    editor.setOption(\"vScrollBarAlwaysVisible\", true);\n    editor.setOption(\"scrollPastEnd\", .5);\n    editor.setShowPrintMargin(false);\n    editor.setReadOnly(true);\n    editor.resize(true);\n    if(line) {\n      editor.gotoLine(line+1, Infinity);\n    }\n\n    // The checksum is used to determine if the actual content has changed\n    // because the content can be loaded in over time. loadingState.buffer\n    // is an ArrayBuffer of the file content and while downloading will be\n    // populated over time. progress.bytesLoaded will contain the number of\n    // bytes that have been loaded into the buffer and progress.size is the\n    // total size of the file.\n    if(checksum !== loadingState.checksum) {\n      // so when the checksum changes, we need to \n      // reset our internal state to begin loading new data.\n      setLoadingState(produce(loadingState, draft => {\n        draft.checksum = checksum;\n        draft.fileDataIndex = 0;\n        draft.buffer = null;\n      }));\n      return;\n    }\n\n    if(loadingState.buffer) {\n      const doc = editor.getSession().getDocument();\n      const dataView = new Uint8Array(loadingState.buffer);\n      // We've successfully fetched a ArrayBuffer object from the fileCache\n\n      let timeoutID;\n      const insertData = (from, bytesOfData, loaded, doTimeout) => {\n        const maxIndex = Math.min(from+bytesOfData, loaded);\n        const textDecoder = new TextDecoder();\n        const newLines = [];\n        let lineBeginning = from;\n        for(let i = from; i < maxIndex; i++) {\n          if(dataView[i] === newLineCharacter) {\n            // found the end of a line\n            if(i-1 >= 0 && dataView[i-1] === carriageReturnCharacter) {\n              // ends with \\r\\n\n              newLines.push(textDecoder.decode(new Uint8Array(loadingState.buffer, lineBeginning, i-lineBeginning-1)))\n            } else {\n              // ends with \\n\n              newLines.push(textDecoder.decode(new Uint8Array(loadingState.buffer, lineBeginning, i-lineBeginning)))\n            }\n            lineBeginning = i+1;\n          }\n        }\n        if(doTimeout) {\n          timeoutID = setTimeout(() => {\n            doc.insertFullLines(doc.getLength()-1, newLines);\n            setLoadingState(produce(loadingState, draft => { draft.fileDataIndex = lineBeginning }));\n          }, 1);\n        } else {\n          doc.insertFullLines(doc.getLength()-1, newLines);\n          setLoadingState(produce(loadingState, draft => { draft.fileDataIndex = lineBeginning }));\n        }\n      };\n      if(loadingState.fileDataIndex < progress.bytesLoaded) {\n        if(loadingState.fileDataIndex === 0) {\n          editor.setValue(\"\");\n          insertData(loadingState.fileDataIndex, 1000000, progress.bytesLoaded, false);\n        } else {\n          insertData(loadingState.fileDataIndex, 1000000, progress.bytesLoaded, true);\n        }\n        return () => clearTimeout(timeoutID);\n      }\n    } else {\n      fileCache.getItem(checksum).then((b) => {\n        setLoadingState(produce(loadingState, draft => { draft.buffer = b }));\n      });\n    }\n  }, [ expanded, progress, aceRef, checksum, loadingState, setLoadingState, line ]);\n\n  const handleDownload = () => { onDownloadProgram(file) };\n\n  const toggleExpanded = () => setExpanded(!expanded);\n  const downloadingProgress = (100*progress.bytesLoaded/progress.size);\n  const aceProgress = 100*(Math.min(loadingState.fileDataIndex, progress.size))/progress.size;\n  const loadingProgress = Math.min(downloadingProgress,aceProgress);\n  // show loading progress is we're downloading or if we're loading a file greater than 10MB (a 10MB file takes time to\n  // load in even if we have it cached in IndexedDB)\n  const showLoadingProgress = downloadingProgress < 100 || (aceProgress < 100 && progress.size > 10485760);\n  const width = Math.floor(bounds.width || 500).toString();\n  return <>\n      { showLoadingProgress ? \n        <Tooltip placement=\"top\" title={ loadingProgress.toFixed(2) + \"%\"}>\n          <CircularProgress classes={{ root: classes.progress }} variant=\"determinate\" size={15} thickness={4} value={loadingProgress}/> \n        </Tooltip>\n        : null \n      } \n    <div className={classes.ace} ref={ref}>\n    <AceEditor mode=\"gcode\" \n               theme=\"chrome\" \n               name=\"GCodeEditor\"\n               ref={aceRef}\n               width={width}\n               />\n    <Button onClick={toggleExpanded}>{ expanded ? t(\"retract\") : t(\"expand\") }</Button>\n    <Tooltip placement=\"top\" title={t(\"downloadCurrentFile\")}>\n    <Button onClick={handleDownload} disabled={showLoadingProgress}><DownloadIcon/></Button>\n    </Tooltip>\n    </div>\n </>\n};\nexport default GCodeEditor;\n","import { eventChannel } from 'redux-saga';\n\nexport class DownloadQueue {\n  constructor() {\n    this.channel = eventChannel( (emit) => {\n      // public method for adding a file to the queue\n      this.addDownload = (path, fileType, callback=null) => {\n        emit({ path, fileType, callback });\n      };\n\n      return () => {};\n    });\n  }\n}\n\nconst singletonDownloadQueue = new DownloadQueue();\n\nexport default singletonDownloadQueue;\n","import { connect } from 'react-redux';\nimport GCodeEditor from '../components/GCodeEditor';\nimport { selectCurrentLine, selectCurrentFileProgress, selectProgram, selectCurrentFileChecksum } from '../modules/rockhopper/selectors';\nimport { FILE_TYPES } from '../modules/rockhopper/constants';\nimport downloadQueue from '../modules/rockhopper/download-queue';\nimport { downloadToDisk } from '../modules/rockhopper/file-cache';\n\nexport default connect( \n(state, ownProps) => ({\n  file: selectProgram(state),\n  checksum: selectCurrentFileChecksum(state),\n  progress: selectCurrentFileProgress(state),\n  line: selectCurrentLine(state)\n}), \n(dispatch, ownProps) => ({ \n  onDownloadProgram: (path) => {\n    downloadQueue.addDownload(path, FILE_TYPES.PROGRAM, downloadToDisk)\n  }\n}))(GCodeEditor);\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ToolTip from '@material-ui/core/Tooltip'\n\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOpenIcon from '@material-ui/icons/FolderOpen';\nimport HomeIcon from '@material-ui/icons/Home';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\n\nimport useTranslation from '../hooks/useTranslation';\n\nconst selectFromMap = (map, arr) => {\n  var result = arr.reduce(function(o, name) { return o && o[name]; }, map);\n  return result\n}\n\nconst useStyles = makeStyles((theme) => ({\n  fileButton: {\n    width: \"100%\",\n    justifyContent: \"left\"\n  },\n  homeRow: {\n    \"& button\": {\n      color: theme.palette.primary.main,\n    },\n    display: \"flex\",\n    alignItems: \"center\",\n    flexWrap: 'wrap'\n  }\n}));\n\nconst FileBrowser = (props) => {\n  const {\n    rootPath,\n    filesMap,\n    fileType,\n    fileFilter,\n    selectedFiles,\n    onFileOpen,\n    onSelectFile,\n  } = props;\n  const { t } = useTranslation();\n\n  const [ path, setPath ] = useState([]);\n  useEffect(() => { setPath([]) }, [filesMap])\n\n  const handleGoUp = () => {\n    path.length > 0 ? setPath(path.slice(0,-1)) : void(0)\n  };\n  const handleFileOpen = (fullPath) => {\n    if(onFileOpen) {\n      onFileOpen(fullPath,fileType);\n    }\n  };\n  const handleSelectFile = (e) => {\n    if(onSelectFile){\n      onSelectFile(e)\n    }\n  };\n  const handleHome = () => {\n    setPath([])\n  };\n\n  const classes = useStyles();\n  const currentLevel = selectFromMap(filesMap, path);\n  const currentLevelDirs = currentLevel ? Object.keys(currentLevel).filter((key) => currentLevel[key] !== null) : null;\n  const currentLevelFiles = currentLevel ? Object.keys(currentLevel).filter((key) => currentLevel[key] === null) : [];\n  const filteredFileList = currentLevelFiles.filter(( file ) => file.toLowerCase().includes(fileFilter.toLowerCase()));\n\n  return <>\n    <Box>\n      <div className={classes.homeRow}>\n        <ToolTip title={t(\"tooltip_FileBrowserHome\")}>\n          <IconButton\n            onClick={handleHome}\n            color=\"primary\"\n          >\n            <HomeIcon/>\n          </IconButton>\n        </ToolTip>\n        <ToolTip title={t(\"tooltip_FileBrowserGoUp\")}>\n          <IconButton\n            onClick={handleGoUp}\n            color=\"primary\"\n          >\n            <ArrowUpIcon/>\n          </IconButton>\n        </ToolTip>\n        <FolderOpenIcon/>{path.join(\"/\")}\n      </div>\n      <List>\n      {\n        currentLevelDirs && currentLevelDirs.map((dir) => {\n          return <ListItem key={dir}>\n              <Button\n                onClick={() => {setPath(path.concat(dir))}}\n              >\n                <KeyboardArrowRightIcon/>\n                <FolderIcon/>\n                {dir}\n              </Button>\n          </ListItem>\n        })\n      }\n      {\n        filteredFileList && filteredFileList.map((file) => {\n          const fileFullPath = [rootPath].concat(path).concat([file]).join(\"/\");\n          return <ListItem key={file}>\n              <Checkbox value={fileFullPath} checked={selectedFiles[fileFullPath] ? true : false} onClick={handleSelectFile} />\n              <Button\n                classes={{ root: classes.fileButton }}\n                onClick={() => {handleFileOpen(fileFullPath)}}\n              >\n                {file}\n              </Button>\n          </ListItem>\n        })\n      }\n      </List>\n    </Box>\n  </>;\n};\nexport default FileBrowser;\n","import { connect } from 'react-redux';\nimport { selectProgramList, selectProgram, selectFileUploadsThatNeedOverwritePermission, selectFileUploads } from '../modules/rockhopper/selectors';\nimport FileBrowser from '../components/FileBrowser';\n\nexport default connect( \n(state, ownProps) => ({\n  file: selectProgram(state),\n  needsOverwritePermission: selectFileUploadsThatNeedOverwritePermission(state),\n  queuedFiles: selectFileUploads(state),\n  fileList: selectProgramList(state),\n}), \n(dispatch, ownProps) => ({ \n}))(FileBrowser); \n","import React, { useState, useCallback, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport ToolTip from '@material-ui/core/Tooltip'\n\nimport ClearIcon from '@material-ui/icons/Clear';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport UsbIcon from '@material-ui/icons/Usb';\n\nimport FileBrowser from '../containers/FileBrowser';\nimport useTranslation from '../hooks/useTranslation';\nimport { FILE_TYPES } from '../modules/rockhopper/constants';\n\nconst useStyles = makeStyles((theme) => ({\n  filter: {\n    width: \"100%\"\n  },\n  fileDialog: {\n    height: \"min(600px, 100%)\",\n    width: \"min(500px, 100%)\"\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1)\n  },\n}));\n\nconst GCodeFileBrowserDialog = (props) => {\n  const {\n    open, //this property should be passed in from a parent component\n    gcodeMap,\n    programPrefix,\n    onClose,\n    onFileOpen,\n    onFileDelete,\n    // onFileCopy,\n  } = props;\n\n  const { t } = useTranslation();\n\n  const [ inUsb, setInUsb ] = useState(false);\n  const [ selected, setSelected ] = useState({});\n  useEffect(() => { setSelected([]) }, [open]);\n  const [ fileFilter, setFileFilter ] = useState(\"\");\n\n  const handleClearFilter = useCallback((e) => {\n    setFileFilter(\"\");\n  }, [ setFileFilter ]);\n  const handleFilterChange = useCallback((e) => {\n    setFileFilter(e.target.value);\n  }, [ setFileFilter ]);\n  const classes = useStyles();\n\n  const handleToggleLocation = useCallback(() => {\n    console.log('hmm')\n    setSelected({})\n    setInUsb(!inUsb)\n  }, [inUsb, setInUsb, setSelected]);\n\n  const handleClose = () => {\n    if(onClose){\n      onClose();\n    }\n  };\n  const handleFileOpen = (path, fileType) => {\n    if(onFileOpen) {\n      // const rootPath = inUsb ? usbMap.mountPath : Object.keys(gcodeMap)[0];\n      // const fullPath = [rootPath, path].join(\"/\")\n      // const fullPath = fileType === FILE_TYPES.USB_PROGRAM ? [usbMap.mountPath, path].join(\"/\") : path;\n      onFileOpen(path, fileType);\n      handleClose();\n    }\n  };\n  const handleSelect = useCallback((e) => {\n    console.log(e.target.value)\n    console.log(selected)\n    if(e.target.checked) {\n      setSelected({ ...selected, [e.target.value]: true });\n    } else {\n      setSelected({ ...selected, [e.target.value]: false });\n    }\n  }, [ selected, setSelected ]);\n  // const handleCopySelected = useCallback((e) => {\n  //   if(onFileCopy) {\n  //     const copyFiles = Object.keys(selected).filter((path) => selected[path]);\n  //     copyFiles.forEach((path) => {\n  //       onFileCopy(\"/media/usb0/\" + path, fileType);\n  //     });\n  //     setSelected({});\n  //   }\n  // }, [ fileType, onFileCopy, selected, setSelected ]);\n  const handleDeleteSelected = useCallback((e) => {\n    if(onFileDelete) {\n      const fileType = inUsb ? FILE_TYPES.USB_PROGRAM : FILE_TYPES.PROGRAM;\n      const deleteFiles = Object.keys(selected).filter((path) => selected[path]);\n      deleteFiles.forEach((path) => {\n        onFileDelete(path, fileType);\n      });\n      setSelected({});\n    }\n  }, [ inUsb, onFileDelete, selected, setSelected ]);\n\n  return <>\n  <Dialog open={open} onClose={handleClose} classes={ { paper: classes.fileDialog }}>\n    <DialogTitle>\n      <span>{ t(\"openGCode\") }</span>\n      <IconButton className={classes.closeButton} onClick={handleClose} size=\"small\"><ClearIcon/></IconButton>\n    </DialogTitle>\n    <DialogContent>\n      <TextField \n        placeholder={t(\"filter\")} \n        value={fileFilter} \n        className={classes.filter} \n        onChange={handleFilterChange} \n        InputProps={{ endAdornment: (fileFilter.length > 0 ? <InputAdornment position=\"end\"><IconButton size=\"small\" onClick={handleClearFilter}><ClearIcon/></IconButton></InputAdornment> : null) }}\n      />\n      { gcodeMap && gcodeMap.usbPath && (\n        <Button classes={{ root: classes.usbButton }} onClick={handleToggleLocation}>{ inUsb ? <>{t('viewInternalFiles')}<InsertDriveFileIcon/></> : <>{t('viewUsbFiles')}<UsbIcon/></> }</Button>\n      )}\n      <FileBrowser\n        //Get the name for the root USB folder from the mountPath property\n        fileFilter={fileFilter}\n        filesMap={gcodeMap && gcodeMap.usbPath && inUsb ? gcodeMap[gcodeMap.usbPath] : gcodeMap ? gcodeMap[gcodeMap.path] : {} }\n        fileType={gcodeMap && gcodeMap.usbPath && inUsb ? FILE_TYPES.USB_PROGRAM : FILE_TYPES.PROGRAM}\n        rootPath={gcodeMap && gcodeMap.usbPath && inUsb ? gcodeMap.usbPath : programPrefix}\n        // initialPath={[]}\n        onFileOpen={(path, fileType) => (handleFileOpen(path, fileType))}\n        // onFileDelete={handleDeleteSelected}\n        // onHome={onHome}\n        onSelectFile={handleSelect}\n        selectedFiles={selected}\n        // fileFilter={filter}\n      />\n    </DialogContent>\n    <DialogActions>\n      {/* <Button color=\"primary\" onClick={handleCopySelected} disabled={Object.keys(selected).filter((path) => selected[path]).length === 0}>{t(\"copyToDisk\")}</Button> */}\n      <ToolTip title={t(\"tooltip_DeleteSelected\")}><Button color=\"secondary\" onClick={handleDeleteSelected} disabled={Object.keys(selected).filter((path) => selected[path]).length === 0}>{t(\"deleteSelected\")}</Button></ToolTip>\n      <Button onClick={handleClose} >{ t(\"cancel\") }</Button>\n    </DialogActions>\n  </Dialog>\n  </>;\n};\nexport default GCodeFileBrowserDialog;\n","import { connect } from 'react-redux';\nimport GCodeFileBrowserDialog from '../components/GCodeFileBrowserDialog';\nimport actions from '../modules/rockhopper/actions';\n\nimport { selectGcodeMap, selectProgramPrefix } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n  gcodeMap: selectGcodeMap(state),\n  programPrefix: selectProgramPrefix(state),\n}), \n(dispatch, ownProps) => ({\n  // onFileCopy: (path, fileType) => {\n  //   //Currently only used to copy from USB to ncfiles\n  //   dispatch(actions.put.fileCopy({ data: [ path, fileType, \"~/ncfiles/\"  ] }))\n  // },\n  onFileDelete: (path, fileType) => {dispatch(actions.put.fileDelete({ data: [ path, fileType  ] })) },\n  onFileOpen: (path, fileType) => {dispatch(actions.put.programOpenCmd({ data: [ path, fileType ] }))},\n}))(GCodeFileBrowserDialog); \n","import React, { useCallback, useState, useRef } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport UploadIcon from '@material-ui/icons/Publish';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport useTranslation from '../hooks/useTranslation';\nimport GCodeFileBrowserDialog from '../containers/GCodeFileBrowserDialog';\n\n\nconst useStyles = makeStyles((theme) => ({\n  realDropBox: {\n    cursor: \"pointer\",\n    zIndex: 100,\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\"\n  },\n  dropBox: {\n    cursor: \"pointer\",\n    borderWidth: \"2px\",\n    borderStyle: \"dashed\",\n    borderColor: theme.palette.primary.main,\n    margin: theme.spacing(2),\n    width: \"calc(100% - \" + theme.spacing(4) + \")\",\n    position: \"relative\"\n  },\n  dropBoxOver: {\n    borderStyle: \"solid\",\n    backgroundColor: theme.palette.primary.light\n  },\n  fileList: {\n    position: \"relative\",\n    margin: theme.spacing(2),\n    width: \"calc(100% - \" + theme.spacing(4) + \")\",\n    overflow: \"scroll\"\n  },\n  fileItem: {\n    position: \"absolute\"\n  },\n  fileContainer: {\n    margin: theme.spacing(2),\n    width: \"calc(100% - 32px)\"\n  },\n  fileLabel: {\n    fontWeight: \"bold\",\n  },\n  fileName: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  fileButton: {\n    width: \"100%\",\n    justifyContent: \"left\"\n  },\n  filter: {\n    width: \"100%\"\n  },\n  fileDialog: {\n    height: \"min(600px, 100%)\",\n    width: \"min(500px, 100%)\"\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1)\n  },\n  percentage: {\n    marginLeft: theme.spacing(1)\n  },\n  usbButton: {\n    color: theme.palette.primary.main,\n    width: \"100%\",\n    justifyContent: \"left\"\n  }\n}));\n\nconst FileHeaderActions = (props) => {\n  const { t } = useTranslation();\n  const {\n    file, \n    // fileList,\n    onAddFile,\n    onCancel,\n    onCancelAll,\n    onConfirm,\n    onConfirmAll,\n    onWatchGcodeMap,\n    onUnwatchGcodeMap,\n    // onFileDelete,\n    // onFileOpen,\n    queuedFiles = [],\n    needsOverwritePermission\n  } = props;\n  const inputRef = useRef(null);\n  const handleFileSelect = (e) => {\n    for(let file of e.target.files) {\n      const path = file.name;\n      const data = file;\n      onAddFile(path, data);\n    }\n    e.target.value = \"\";\n  };\n\n  const [ fileDialogOpen, setFileDialogOpen ] = useState(false);\n  // const [ selected, setSelected ] = useState({});\n  // const filteredFileList = useMemo(() => fileList.filter(({ file }) => file.toLowerCase().includes(filter.toLowerCase())), [filter, fileList]);\n\n  // const handleClearFilter = useCallback((e) => {\n  //   setFilter(\"\");\n  // }, [ setFilter ]);\n  // const handleFilterChange = useCallback((e) => {\n  //   setFilter(e.target.value);\n  // }, [ setFilter ]);\n  const handleCloseFileDialog = useCallback((e) => {\n    setFileDialogOpen(false);\n    onUnwatchGcodeMap();\n  }, [ setFileDialogOpen ]);\n\n  const handleOpenFileDialog = useCallback((e) => {\n    setFileDialogOpen(true);\n    onWatchGcodeMap();\n  }, [ setFileDialogOpen ]);\n\n  const handleClick = useCallback((e) => {\n    inputRef.current.click();\n  }, [ inputRef ]);\n\n  // const handleSelect = useCallback((e) => {\n  //   if(e.target.checked) {\n  //     setSelected({ ...selected, [e.target.value]: true });\n  //   } else {\n  //     setSelected({ ...selected, [e.target.value]: false });\n  //   }\n  // }, [ selected, setSelected ]);\n\n  // const handleDeleteSelected = useCallback((e) => {\n  //   if(onFileDelete) {\n  //     const deleteFiles = Object.keys(selected).filter((path) => selected[path]);\n  //     deleteFiles.forEach((path) => {\n  //       onFileDelete(path);\n  //     });\n  //     setSelected({});\n  //   }\n  // }, [ onFileDelete, selected, setSelected ]);\n\n  const handleCancel = useCallback((e) => {\n    if(onCancel) {\n      onCancel(needsOverwritePermission[0].path);\n    }\n  }, [ onCancel, needsOverwritePermission ]);\n\n  const handleConfirm = useCallback((e) => {\n    if(onConfirm) {\n      onConfirm(needsOverwritePermission[0].path);\n    }\n  }, [ onConfirm, needsOverwritePermission ]);\n\n  const queuedFileList = Object.values(queuedFiles).map((file, index) => ({ ...file, index }));\n  queuedFileList.sort((a,b) => { return b.progress-a.progress });\n  //const files = queuedFileList.map((file, index) => ({ ...file, index }));\n  const fileUploadProgress = queuedFileList.reduce((accum, current) => accum + 1./queuedFileList.length*current.progress, 0)*100;\n\n  const classes = useStyles();\n\n  return <>\n  <Tooltip placement=\"top\" title={file || t(\"noFileLoaded\")}>\n    <Button onClick={handleOpenFileDialog}><span className={classes.fileName}>{ file || t(\"noFileLoaded\") }</span></Button>\n  </Tooltip>\n  <GCodeFileBrowserDialog\n    open={fileDialogOpen}\n    onClose={handleCloseFileDialog}\n  />\n\n  <Tooltip placement=\"top\" title=\"Upload Files\"><Button onClick={handleClick}><UploadIcon/></Button></Tooltip>\n  <CircularProgress value={fileUploadProgress} variant=\"determinate\" size=\"1em\"/>\n  { fileUploadProgress > 0 ? <span className={classes.percentage}>{fileUploadProgress.toFixed(2) + \"%\"}</span> : null }\n  <div style={{ display: \"none\" }}><input onChange={handleFileSelect} type=\"file\" multiple ref={inputRef}/></div>\n  <Dialog open={needsOverwritePermission.length > 0}>\n    <DialogTitle>Overwrite existing files?</DialogTitle>\n    <DialogContent>\n      <DialogContentText>\n        { needsOverwritePermission.length > 0 ? needsOverwritePermission[0].path : \"\" } exists on the server{ needsOverwritePermission.length > 1 ? \" (and \" + needsOverwritePermission.length + \" other file\" + (needsOverwritePermission.length > 2 ? \"s\" : \"\") +\")\" : \"\" }. Overwrite?\n      </DialogContentText>\n      <DialogActions>\n        <Button onClick={handleCancel} color=\"secondary\">Cancel</Button>\n        { queuedFileList.length > 1 ? <Button onClick={onCancelAll} color=\"secondary\">Cancel All</Button> : null }\n        <Button onClick={handleConfirm} color=\"primary\">Overwrite</Button>\n        { queuedFileList.length > 1 ?  <Button onClick={onConfirmAll} color=\"primary\">Overwrite All</Button> : null }\n      </DialogActions>\n    </DialogContent>\n  </Dialog>\n  </>;\n};\nexport default FileHeaderActions;\n","import { eventChannel } from 'redux-saga';\n\n// The FileQueue singleton allows components to trigger a file\n// upload by calling fileQueue.addFile(path, fileType, data)\n// path is a relative path to a filename on the server\n// where fileType is a string,\n// and data is either a string or a file object.\n//\n// Since File objects aren't encodable they shouldn't be\n// dispatched in an action. The fileQueue uses an eventChannel\n// to bypass needing to dispatch an action, while allowing\n// a saga to efficiently upload files in the background\n// and properly dispatch events necessary for updating the \n// file upload progress in the UI.\nexport class FileQueue {\n  constructor() {\n    this.channel = eventChannel( (emit) => {\n      // public method for adding a file to the queue\n      this.addFile = (path, fileType, data, overwrite=false) => {\n        emit({ path, fileType, data, overwrite });\n      };\n\n      return () => {};\n    });\n  }\n}\n\nconst singletonFileQueue = new FileQueue();\n\nexport default singletonFileQueue;\n","import { connect } from 'react-redux';\nimport FileHeaderActions from '../components/FileHeaderActions';\nimport actions from '../modules/rockhopper/actions';\nimport fileQueue from '../modules/rockhopper/file-queue'\n\nimport { selectProgramList, selectProgram, selectFileUploadsThatNeedOverwritePermission, selectFileUploads} from '../modules/rockhopper/selectors';\nimport { FILE_TYPES } from '../modules/rockhopper/constants';\n\nexport default connect( \n(state, ownProps) => ({\n  file: selectProgram(state),\n  needsOverwritePermission: selectFileUploadsThatNeedOverwritePermission(state),\n  queuedFiles: selectFileUploads(state),\n  fileList: selectProgramList(state)\n}), \n(dispatch, ownProps) => ({ \n  onWatchGcodeMap: () => dispatch(actions.watch.gcodeMap()),\n  onUnwatchGcodeMap: () => dispatch(actions.unwatch.gcodeMap()),\n  onCancelAll: () => dispatch(actions.fileUpload.cancelAll(FILE_TYPES.PROGRAM)),\n  onCancel: (path) => dispatch(actions.fileUpload.cancel({path: path, fileType: FILE_TYPES.PROGRAM})),\n  onConfirm: (path) => dispatch(actions.fileUpload.confirmOverwrite({path: path, fileType: FILE_TYPES.PROGRAM})),\n  onConfirmAll: () => dispatch(actions.fileUpload.confirmOverwriteAll(FILE_TYPES.PROGRAM)),\n  onAddFile: (path, data) => fileQueue.addFile(path, FILE_TYPES.PROGRAM, data),\n  onFileOpen: (path, fileType) => {dispatch(actions.put.programOpenCmd({ data: [ path, fileType ] }))},\n  // TODO - Add CommandItem that can delete multiple files at once\n  onFileDelete: (path, fileType) => dispatch(actions.put.programDelete({ data: [ path, fileType  ] })),\n  onFileCopy: (path, fileType) => dispatch(actions.put.fileCopy({ data: [ path, fileType, \"~/ncfiles/\"  ] }))\n}))(FileHeaderActions); \n","import React from 'react';\nimport Panel from './Panel';\nimport GCodeEditor from '../containers/GCodeEditor';\nimport { useTranslation } from 'react-i18next';\nimport FileHeaderActions from '../containers/FileHeaderActions';\n\nconst GCodeProgram = (props) => {\n  const { t } = useTranslation();\n  return <Panel label={t(\"gCodeProgram\")}>\n  <FileHeaderActions/>\n  <GCodeEditor/>\n  </Panel>;\n};\n\nexport default GCodeProgram;\n","import React from 'react';\nimport Panel from './Panel';\nimport useTranslation from '../hooks/useTranslation';\nimport useUnits from '../hooks/useUnits';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HomeAllButton from '../containers/HomeAllButton';\n\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport colorInterpolate from 'color-interpolate';\nimport classnames from 'classnames';\n\nimport { /*G5X_SYSTEMS,*/ UNITS } from '../modules/rockhopper/constants';\nimport { getDroDisplayData } from '../util/functions';\n\nconst useStyles = makeStyles((theme) => ({\n  axisRow: {\n    marginBottom: theme.spacing(1),\n    whiteSpace: \"nowrap\",\n  },\n  axisLabel: {\n    ...theme.typography.axisLabel,\n    display: \"inline-block\",\n    width: 40,\n    height: 40,\n    borderTopLeftRadius: 4,\n    lineHeight: \"40px\",\n    verticalAlign: \"middle\",\n    textAlign: \"center\",\n    backgroundColor: theme.palette.grey[200],\n    border: \"1px solid \" + theme.palette.grey[200]\n  },\n  axisLabelNoBar: {\n    borderBottomLeftRadius: 4\n  },\n  axisUnit: {\n    ...theme.typography.axisValue,\n    display: \"inline-block\",\n    height: 40,\n    width: 40,\n    verticalAlign: \"middle\",\n    borderTopRightRadius: 4,\n    borderRight: \"1px solid \" + theme.palette.grey[200],\n    borderTop: \"1px solid \" + theme.palette.grey[200],\n    borderBottom: \"1px solid \" + theme.palette.grey[200],\n    lineHeight: \"40px\",\n  },\n  axisUnitFraction: {\n    margin: \"0 auto\",\n    fontSize: \"18px\",\n    display: \"inline-block\",\n    position: \"relative\",\n    textAlign: \"center\",\n    lineHeight: 1,\n    width: \"fit-content\"\n  },\n  axisUnitFractionSuper: {\n    display: \"block\",\n    textAlign: \"center\",\n    verticalAlign: \"super\"\n  },\n  axisUnitFractionSub: {\n    borderTop: \"1px solid black\",\n    display: \"block\",\n    position: \"relative\",\n    verticalAlign: \"sub\"\n  },\n  axisUnitWhole: {\n    fontSize: \"22px\",\n  },\n  axisValue: {\n    ...theme.typography.axisValue,\n    display: \"inline-block\",\n    height: 40,\n    width: \"calc(100% - 83px - \" + theme.spacing(1) + \"px)\",\n    lineHeight: \"40px\",\n    verticalAlign: \"middle\",\n    textAlign: \"right\",\n    borderTop: \"1px solid \" + theme.palette.grey[200],\n    borderBottom: \"1px solid \" + theme.palette.grey[200],\n    paddingRight: theme.spacing(1)\n  },\n  axisValueNoBar: {\n    borderBottomRightRadius: 4\n  },\n  bar: {\n    position: \"relative\",\n    width: \"calc(100% - 2px)\",\n    height: 15,\n    borderBottomLeftRadius: 4,\n    borderBottomRightRadius: 4,\n    borderRight: \"1px solid \" + theme.palette.grey[200],\n    borderLeft: \"1px solid \" + theme.palette.grey[200],\n    borderBottom: \"1px solid \" + theme.palette.grey[200],\n    textAlign: \"right\",\n    overflow: \"none\",\n    zIndex: 200\n  },\n  filledBar: {\n    position: \"absolute\",\n    height: 15,\n    width: \"100%\",\n    borderBottomLeftRadius: 3,\n    borderBottomRightRadius: 3,\n    backgroundImage: \"linear-gradient(to right, \" + theme.palette.primary.main + \",\" + theme.palette.secondary.main + \")\",\n    zIndex: 0\n  },\n  menuSpan: {\n    width: \"100%\",\n  },\n  whiteBar: {\n    position: \"absolute\",\n    height: 15,\n    right: 0,\n    width: \"90%\",\n    borderBottomRightRadius: 3,\n    backgroundColor: \"white\",\n    zIndex: 1\n  },\n  barText: {\n    position: \"absolute\",\n    right: 0,\n    fontSize: \"smaller\",\n    lineHeight: \"14px\",\n    verticalAlign: \"top\",\n    paddingRight: 2,\n    zIndex: 100\n  },\n  button: {\n    marginRight: theme.spacing(1)\n  },\n  select: {\n    height: \"30px\"\n  },\n  homeAllButton: {\n    marginLeft: theme.spacing(1),\n  },\n  extras: {\n    display: \"flex\",\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst DRO = (props) => {\n  const {\n    display,\n\n    positions,\n    workOffsets,\n    g5xIndex,\n\n    onSetDisplay,\n  } = props;\n\n  const handleChangeDisplay = (event) => {\n    onSetDisplay(event.target.value);\n  };\n  \n  const { t } = useTranslation();\n  const { toDisplayUnits, getDisplayUnitStringFromUnit } = useUnits();\n\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const displayData = getDroDisplayData(display, positions, workOffsets, g5xIndex);\n  \n  const elements = displayData && positions.map(({ axis, jointIndex, torque, ...data }, index) => {\n    const valueDisplayUnits = toDisplayUnits(displayData[index]);// toDisplayUnits(data[display]);\n    const displayUnitString = getDisplayUnitStringFromUnit(valueDisplayUnits.unit);\n    const decimalPoints = UNITS.DECIMALS(valueDisplayUnits.unit);\n    const slashIndex = displayUnitString.indexOf(\"/\");\n    const percentage = Math.min(torque*100*5, 100);\n    const hasPercentage = typeof(torque) !== \"undefined\" && torque !== null;\n    const colorMap = colorInterpolate([ theme.palette.primary.main, theme.palette.secondary.main ]);\n    // const isRotary = jointIndex > 2;\n    // data.velocity = data.velocity*60; // this is a dirty hack to get it into units/minute rather than units/second, this should be taken out once we implement display units\n    return (<div key={axis} className={classes.axisRow} id={\"DRO_\" + axis}>\n      <div>\n        <span className={classnames({ [classes.axisLabel]: true, [classes.axisLabelNoBar]: !hasPercentage })}>{axis}</span>\n        <span className={classnames({ [classes.axisValue]: true, [classes.axisValueNoBar]: !hasPercentage })}>\n          <span>{ valueDisplayUnits.value.toFixed(decimalPoints)}</span>\n        </span>\n        <span className={classes.axisUnit}>\n        { slashIndex > 0 ?\n              <span className={classes.axisUnitFraction}>\n                <span className={classnames({ [classes.axisUnitFractionSuper]: true })} >{getDisplayUnitStringFromUnit(valueDisplayUnits.unit).slice(0,slashIndex) }</span>\n                <span className={classnames({  [classes.axisUnitFractionSub]: true })}>{getDisplayUnitStringFromUnit(valueDisplayUnits.unit).slice(slashIndex + 1) }</span>\n              </span>\n              : \n              (<span className={classes.axisUnitWhole}>{getDisplayUnitStringFromUnit(valueDisplayUnits.unit) }</span>)\n          }\n        </span>\n        {/* <span className={classnames({ [classes.axisValue]: true, [classes.axisValueNoBar]: !hasPercentage })}>{ JSON.stringify(data[display])}</span> */}\n      </div>\n      { hasPercentage ?\n      <div className={classes.bar}>\n        <div className={classes.filledBar} style={{ width: percentage + \"%\", backgroundImage: \"linear-gradient(to right, \" + theme.palette.primary.main + \",\" + colorMap(percentage/100) + \")\"}}></div>\n        <span className={classes.barText}>{ Math.round(percentage) }%</span>\n      </div> : null }\n    </div>);\n  });\n\n  return <Panel id=\"DRO\" label={t(\"dro\")}>\n    <div className={classes.extras}>  \n      <Select variant=\"outlined\" value={display} onChange={handleChangeDisplay} className={classes.select}>\n        <MenuItem value=\"position\"><Tooltip title={t('tooltip_OffsetPosition')}><span className={classes.menuSpan}>{ t(\"position\") }</span></Tooltip></MenuItem>\n        <MenuItem value=\"actualPosition\"><Tooltip title={t('tooltip_ActualPosition')}><span className={classes.menuSpan}>{ t(\"actualPosition\") }</span></Tooltip></MenuItem>\n        <MenuItem value=\"dtg\"><Tooltip title={t('tooltip_DTG')}><span className={classes.menuSpan}>{ t(\"dtg\") }</span></Tooltip></MenuItem>\n        <MenuItem value=\"velocity\">{ t(\"velocity\") }</MenuItem>\n        {/* {G5X_SYSTEMS.map((sys, idx) => {\n          return(\n            <MenuItem key={sys} value={sys}><Tooltip title={t('tooltip_G5xPosition')}><span>{ `${t(\"position\")}: ${t(\"coordinateSystem\")} ${idx + 1}`}</span></Tooltip></MenuItem>\n          )\n        })} */}\n      </Select>\n      <HomeAllButton classes={ { button: classes.homeAllButton }}/>\n    </div>\n    { elements }\n  </Panel>;\n};\nexport default DRO;\n","import { connect } from 'react-redux';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport pentaActions from '../modules/pentaui/actions';\nimport DRO from '../components/DRO';\nimport { selectIsMachineHomed, selectPositions, selectG5xIndex, selectWorkOffsets } from '../modules/rockhopper/selectors';\nimport { selectDroDisplay } from '../modules/pentaui/selectors';\n\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    positions: selectPositions(state),\n    isHomed: selectIsMachineHomed(state),\n    g5xIndex: selectG5xIndex(state),\n    workOffsets: selectWorkOffsets(state),\n    display: selectDroDisplay(state),\n  }\n}, \n(dispatch, ownProps) => ({ \n  onSetDisplay: (val) => dispatch(pentaActions.dro.setDisplay(val)),\n  onSetCoordSys: (val) => dispatch(pentaActions.dro.setCoordSys(val)),\n  onHomeAll: () => dispatch(rockhopperActions.put.homeCmd()),\n}))(DRO);\n","import React from 'react';\nimport Control from '../containers/Control'\nimport Grid from '@material-ui/core/Grid';\nimport GCodeProgram from './GCodeProgram';\nimport DRO from '../containers/DRO';\nimport { useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport Spindle from '../containers/Spindle';\nimport Feed from '../containers/Feed';\n\nconst useStyles = makeStyles((theme) => ({\n  hidden: {\n    display: \"none\"\n  }\n}));\n\nconst ProductionTab = (props) => {\n  const location = useLocation();\n  const classes = useStyles();\n\n  return (<Grid container classes={{ root: location.pathname === \"/production\" ? null : classes.hidden }}>\n    <Grid item xs={12} sm={6} md={4} lg={6}>\n      <Grid container>\n        <Grid item xs={12} md={12} lg={6}>\n          <Spindle/>\n        </Grid>\n        <Grid item xs={12} md={12} lg={6}>\n          <Feed/>\n        </Grid>\n      </Grid>\n    </Grid>\n    <Grid item xs={12} sm={6} md={8} lg={6}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={12} lg={6}>\n          <DRO/>\n        </Grid>\n        <Grid item xs={12} sm={12} md={12} lg={6}>\n          <Control/>\n        </Grid>\n      </Grid>\n    </Grid>\n    <Grid item xs={12}>\n      <GCodeProgram/>\n    </Grid>\n  </Grid>);\n};\nexport default ProductionTab;\n","import React, { useState, useEffect } from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// timestamp is in milliseconds (what is returned from Date.now())\nconst humanReadableTime = (timestamp) => {\n  const now = Date.now();\n\n  const dt = (now-timestamp)/1000; // dt is in seeconds\n  const nowDate = new Date(now);\n  const thenDate = new Date(timestamp);\n\n\n  if(dt > 0) {\n    if(dt < 10) {\n      return \"Just now\";\n    } else if(dt < 60) {\n      return \"Less than a minute ago\";\n    } else if(dt < 3600) {\n      const minutes = Math.round(dt/60);\n      const s = minutes > 1 ? \"s\" : \"\";\n      return `${minutes} minute${s} ago`;\n    } else {\n      const days = Math.round(dt/86400);\n      if(days < 6) { // if less than 7 days ago\n        const nowDay = nowDate.getDay();\n        const thenDay = thenDate.getDay();\n        const daysAgo = (nowDay-thenDay+7)%7; // number of days ago up to 6 days, but takes into the actual day of the week so 10 hours ago, may be 1 day ago (yesterday) if its 8am\n\n        if(daysAgo === 0) {\n          const hours = Math.round(dt/3600);\n          const s = hours > 1 ? \"s\" : \"\";\n          return `${hours} hour${s} ago`;\n        } else if(daysAgo === 1) {\n          return \"Yesterday\";\n        } else {\n          return thenDate.toLocaleDateString(\"en-US\", { weekday: 'long' });\n        }\n      } else {\n        const nowYear = nowDate.getFullYear();\n        const thenYear = thenDate.getFullYear();\n        const yearsAgo = nowYear-thenYear; // number of years ago, will be 1 if its Jan 1, 2020 now, but then was Dec 31, 2019\n        if(yearsAgo === 0) { // if its the same year, then don't put the year\n          return thenDate.toLocaleDateString(\"en-US\", { month: 'long', day: 'numeric' });\n        } else {\n          // otherwise, put month day and year\n          return thenDate.toLocaleDateString(\"en-US\", { month: 'long', day: 'numeric', year: 'numeric' });\n        }\n      }\n    }\n  } else {\n    // in the future\n    return thenDate.toLocaleDateString(\"en-US\", { month: 'long', day: 'numeric', year: 'numeric' });\n  }\n};\n\nconst Timestamp = (props) => {\n  const {\n    timestamp,\n    className\n  } = props;\n\n  const [ dateString, setDateString ] = useState(humanReadableTime(timestamp));\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setDateString(humanReadableTime(timestamp));\n    }, 1000);\n\n    return () => clearInterval(interval);\n  });\n\n  return <Tooltip placement=\"top\" title={(new Date(timestamp)).toLocaleString()}><span className={className}>{dateString}</span></Tooltip>\n};\nexport default Timestamp;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  timestamp: {\n    fontWeight: \"bold\",\n    fontSize: \".7em\"\n  },\n  key: {\n    fontWeight: \"bold\",\n    fontSize: \".7em\"\n  },\n  ul: {\n    listStyleType: \"none\",\n    paddingLeft: theme.spacing(1)\n  },\n  value: {\n    fontSize: \".7em\",\n    fontStyle: \"italic\"\n  }\n}));\n\nconst MessageDetails = (props) => {\n  const {\n    msg\n  } = props;\n\n  const classes = useStyles();\n\n  const displayObjectRecurse = (obj) => {\n    if(typeof(obj) === 'object' && obj !== null) {\n      if(Array.isArray(obj)) {\n        // do array\n        return <ul className={classes.ul}>\n          {\n            obj.map((_, i) => (\n              <li key={i}><span className={classes.key}>{i}</span> {displayObjectRecurse(obj[i])}</li>\n            ))\n          }\n        </ul>;\n      } else {\n        // do object\n        return <ul className={classes.ul}>\n          {\n            Object.keys(obj).map((key) => (\n              <li key={key}><span className={classes.key}>{key}</span> {displayObjectRecurse(obj[key])}</li>\n            ))\n          }\n        </ul>;\n      }\n    }\n    return <span className={classes.value}>{obj}</span>;\n  };\n\n  return <div>\n    <span className={classes.timestamp}>{(new Date(msg.timestamp)).toLocaleString()}</span>\n    { displayObjectRecurse(msg.details) }\n  </div>;\n};\nexport default MessageDetails;\n","import { connect } from 'react-redux';\nimport MessageLog from '../components/MessageLog';\nimport { selectMessages } from '../modules/pentaui/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n  messages: selectMessages(state)\n}), \n(dispatch, ownProps) => ({ \n}))(MessageLog);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport MessageLog from '../containers/MessageLog';\n\nconst HistoryTab = (props) => {\n  return (<Grid container>\n    <Grid item xs={12}>\n      <MessageLog/>\n    </Grid>\n  </Grid>);\n};\nexport default HistoryTab;\n","import React from 'react';\nimport Panel from './Panel';\nimport { useTranslation } from 'react-i18next';\nimport Button from '@material-ui/core/Button';\n\n//import { makeStyles } from '@material-ui/styles';\n\n//const useStyles = makeStyles((theme) => ({\n//  formControl: {\n//    marginRight: theme.spacing(1)\n//  }\n//}));\n\nconst Display = (props) => {\n//  const {\n//    positions\n//  } = props;\n  \n  const { t } = useTranslation();\n//  const classes = useStyles();\n\n  const options = [\n    { label: \"Auto Width\", content: \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\" },\n    { label: \"Max Width\", content: \"width=1024\" },\n    { label: \"Max Height\", content: \"height=1366\" },\n  ];\n\n  return <Panel label={t(\"mobileDisplay\")}>\n    { options.map(({ label, content }) => (\n      <div key={label}>\n      <Button onClick={() => document.getElementById(\"viewport\").content = content}>{ label }</Button>\n      </div >\n    )) }\n  </Panel>;\n};\nexport default Display;\n","import React, { useRef, useCallback, useState } from 'react';\nimport Panel from './Panel';\n\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  buttonContainer: {\n    textAlign: \"right\"\n  },\n  button: {\n    marginLeft: theme.spacing(2),\n  },\n  gapUnder: {\n    marginBottom: theme.spacing(2),\n  },\n  input: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  }\n}));\n\nconst ConnectionDetails = (props) => {\n  const {\n    server,\n    port,\n    user,\n    password,\n    encrypted,\n    onUpdate\n  } = props;\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const serverRef = useRef(null);\n  const portRef = useRef(null);\n  const userRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  const [ useEncryption, setUseEncryption ] = useState(encrypted);\n\n  const handleReset = useCallback(() => {\n    serverRef.current.value = server;\n    portRef.current.value = port;\n    userRef.current.value = user;\n    passwordRef.current.value = password;\n    setUseEncryption(encrypted);\n  }, [ server, port, user, password, encrypted, serverRef, portRef, userRef, passwordRef, setUseEncryption ]);\n\n  const handleUpdate = useCallback(() => {\n    if(onUpdate) {\n      onUpdate(serverRef.current.value,\n               portRef.current.value,\n               userRef.current.value,\n               passwordRef.current.value,\n               useEncryption);\n    }\n  }, [ onUpdate, serverRef, portRef, userRef, passwordRef, useEncryption ]);\n\n  const handleSSLChange = useCallback((e, newValue) => {\n    setUseEncryption(newValue);\n  }, [ setUseEncryption ]);\n\n  return <Panel label={t(\"websocket\")}>\n    <form>\n      <TextField autoComplete={\"rockhopper server\"} classes={ { root: classes.gapUnder} } InputProps={ { classes: { input: classes.input } } } label={t(\"server\")} defaultValue={server} variant=\"outlined\" fullWidth inputRef={serverRef}/><br/>\n      <TextField autoComplete={\"rockhopper port\"} classes={ { root: classes.gapUnder } } InputProps={ { classes: { input: classes.input } } } label={t(\"port\")} defaultValue={port} variant=\"outlined\" fullWidth inputRef={portRef}/><br/>\n      <TextField autoComplete={\"rockhopper user\"} classes={ { root: classes.gapUnder } } InputProps={ { classes: { input: classes.input } } } label={t(\"username\")} defaultValue={user} variant=\"outlined\" fullWidth inputRef={userRef}/><br/>\n      <TextField autoComplete={\"rockhopper password\"} InputProps={ { classes: { input: classes.input } } } type=\"password\" label={t(\"password\")} defaultValue={password} variant=\"outlined\" fullWidth inputRef={passwordRef}/>\n      <FormGroup row>\n        <FormControlLabel\n          control={<Switch checked={useEncryption} onChange={handleSSLChange}/>}\n          label={t(\"useSecureWebSocket\")}/>\n      </FormGroup>\n      <div className={classes.buttonContainer}>\n      <Button color=\"secondary\" \n              variant=\"contained\" \n              classes={ { root: classes.button } }\n              onClick={handleReset}>{t(\"reset\")}</Button>\n      <Button color=\"primary\" \n              variant=\"contained\" \n              classes={ { root: classes.button } }\n              onClick={handleUpdate}>{t(\"update\")}</Button>\n      </div>\n    </form>\n  </Panel>;\n};\n\nexport default ConnectionDetails;\n","import { connect } from 'react-redux';\nimport ConnectionDetails from '../components/ConnectionDetails';\nimport actions from '../modules/rockhopper/actions';\nimport { selectWebSocket } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  const {\n    server,\n    port,\n    user,\n    password,\n    encrypted\n  } = selectWebSocket(state);\n  return { server, port, user, password, encrypted }\n}, \n(dispatch, ownProps) => ({ \n  onUpdate: (server, port, user, password, encrypted) => {\n    dispatch(actions.setConnectionDetails(server, port, user, password, encrypted));\n  }\n}))(ConnectionDetails);\n","import React from 'react';\nimport { MenuItem, Select } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\n\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Panel from './Panel';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n  },\n  select: {\n    marginTop: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nconst languages = {\n  \"en\": \"English\",\n  \"es\": \"Español\",\n  \"de\": \"Deutsche\",\n  \"jp\": \"日本語\",\n  \"sv\": \"Svenska\",\n};\n\nconst Language = (props) => {\n  const {\n    // language,\n    // onChangeLanguage,\n    dialect,\n    onChangeDialect,\n  } = props;\n\n  const classes = useStyles();\n  const { t, i18n } = useTranslation();\n\n  const getCurrentLanguage = () => {\n    return languages[i18n.language];\n  };\n\n  const changeLanguage = (newLanguageCode) => {\n    i18n.changeLanguage(newLanguageCode);\n    // onChangeLanguage(newLanguageCode);\n  };\n\n  const changeDialect = (newDialect) => {\n    onChangeDialect(newDialect);\n  };\n\n  const languageMenuItems = Object.keys(languages).map( \n    (code) => (\n      <MenuItem\n       key={code}\n       value={languages[code]}\n       onClick={() => {changeLanguage(code)}}\n      >\n        {languages[code]}\n      </MenuItem>\n    )\n  );\n\n  return <Panel label={t(\"language\")}>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"current-language-label\">{t(\"language\")}</InputLabel>\n      <Select \n        labelId=\"current-language-label\"\n        value={getCurrentLanguage()}\n        className={classes.select}\n      >\n        {languageMenuItems}\n      </Select>\n    </FormControl>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"dialect-label\">{t(\"dialect\")}</InputLabel>\n      <Select\n        labelId=\"dialect-label\"\n        value={dialect}\n        className={classes.select}\n      >\n        <MenuItem\n          value=\"industry\"\n          onClick={() => {changeDialect(\"industry\");}}\n        >\n          {t(\"industry\")}\n        </MenuItem>\n        <MenuItem\n          value=\"intuitive\"\n          onClick={() => {changeDialect(\"intuitive\");}}\n        >\n          {t(\"intuitive\")}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  </Panel>\n}\nexport default Language;\n","import { connect } from 'react-redux';\nimport Language from '../components/Language';\nimport pentaActions from '../modules/pentaui/actions';\nimport { selectLanguage, selectDialect } from '../modules/pentaui/selectors';\n\n\nexport default connect( \n(state, ownProps) => {\n  return {\n    language: selectLanguage(state),\n    dialect: selectDialect(state),\n  }\n}, \n(dispatch, ownProps) => ({\n  onChangeLanguage: (code) => {\n    dispatch( pentaActions.changeLanguage(code) );\n  },\n  onChangeDialect: (code) => {\n    dispatch( pentaActions.changeDialect(code) );\n  }\n}))(Language);\n","import React from 'react';\nimport produce from 'immer';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/styles';\nimport Panel from './Panel';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n//import {UNITS} from '../modules/rockhopper/constants';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginRight: theme.spacing(1)\n  }\n}));\n\nconst Units = (props) => {\n  const {\n    displayUnits,\n    onSetDisplayUnits,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const handleChange = (e, unitType) => {\n    const newDisplayUnits = produce(displayUnits, (draft) => {\n      draft[unitType] = e.target.value\n    })\n    onSetDisplayUnits(newDisplayUnits);\n  };\n  const handleChangeLengthUnit = (e) => {\n    const newDisplayUnits = produce(displayUnits, (draft) => {\n      draft.length = e.target.value\n      draft.linearVelocity = e.target.value + \"/\" + displayUnits.time;\n    })\n    onSetDisplayUnits(newDisplayUnits);\n  };\n  const handleChangeTimeUnit = (e) => {\n    const newLinearVelocityUnits = displayUnits.length + \"/\" + e.target.value;\n    const newAngularVelocityUnits = displayUnits.angle + \"/\" + e.target.value;\n    const newDisplayUnits = produce(displayUnits, (draft) => {\n      draft.time = e.target.value; \n      draft.linearVelocity = newLinearVelocityUnits;\n      draft.angularVelocity = newAngularVelocityUnits;\n    })\n    onSetDisplayUnits(newDisplayUnits);\n  };\n  const handleChangeSurfaceSpeedUnit = (e) => {\n    const newDisplayUnits = produce(displayUnits, (draft) => {\n      draft.surfaceSpeed = e.target.value\n    })\n    onSetDisplayUnits(newDisplayUnits);\n  };\n\n  return <Panel label={t(\"units\")}>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"length-label\">{t(\"lengthUnits\")}</InputLabel>\n      <Select\n        labelId=\"length-label\"\n        id=\"length-select\"\n        value={displayUnits.length}\n        onChange={handleChangeLengthUnit}>\n        <MenuItem value={\"in\"}>{(\"in\")}</MenuItem>\n        <MenuItem value={\"mm\"}>{(\"mm\")}</MenuItem>\n        <MenuItem value={\"pu\"}>{t(\"programUnits\")}</MenuItem>\n      </Select>\n    </FormControl>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"time-label\">{t(\"time\")}</InputLabel>\n      <Select\n        labelId=\"time-label\"\n        id=\"time-select\"\n        value={displayUnits.time}\n        onChange={handleChangeTimeUnit}>\n        <MenuItem value=\"s\">{(\"s\")}</MenuItem>\n        <MenuItem value={\"min\"}>{(\"min\")}</MenuItem>\n      </Select>\n    </FormControl>\n    <FormControl className={classes.formControl} style={{minWidth: 100}}>\n      <InputLabel id=\"surfaceSpeed-label\">{t(\"surfaceSpeed\")}</InputLabel>\n      <Select\n        labelId=\"surfaceSpeed-label\"\n        id=\"surfaceSpeed-select\"\n        value={displayUnits.surfaceSpeed}\n        onChange={handleChangeSurfaceSpeedUnit}>\n        <MenuItem value={\"ft/min\"}>{(\"ft/min\")}</MenuItem>\n        <MenuItem value={\"in/min\"}>{(\"in/min\")}</MenuItem>\n        <MenuItem value={\"m/min\"}>{(\"m/min\")}</MenuItem>\n        <MenuItem value={\"mm/min\"}>{(\"mm/min\")}</MenuItem>\n      </Select>\n    </FormControl>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"pressure-label\">{t(\"pressure\")}</InputLabel>\n      <Select\n        labelId=\"pressure-label\"\n        id=\"pressure-select\"\n        value={displayUnits.pressure}\n        onChange={(e) => { handleChange(e, 'pressure')}}>\n        <MenuItem value=\"psi\">{t(\"psi\")}</MenuItem>\n        <MenuItem value={\"MPa\"}>{t(\"MPa\")}</MenuItem>\n      </Select>\n    </FormControl>\n    <FormControl className={classes.formControl}>\n      <InputLabel id=\"temperature-label\">{t(\"temperature\")}</InputLabel>\n      <Select\n        labelId=\"temperature-label\"\n        id=\"temperature-select\"\n        value={displayUnits.temperature}\n        onChange={(e) => { handleChange(e, 'temperature')}}>\n        <MenuItem value=\"F\">{\"F\"}</MenuItem>\n        <MenuItem value=\"C\">{\"C\"}</MenuItem>\n      </Select>\n    </FormControl>\n  </Panel>;\n};\nexport default Units;\n","import { connect } from 'react-redux';\nimport Units from '../components/Units';\nimport actions from '../modules/rockhopper/actions';\nimport { selectDisplayUnits } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n  displayUnits: selectDisplayUnits(state),\n}),\n(dispatch, ownProps) => ({ \n  onSetDisplayUnits: (newDisplayUnits) => {\n    dispatch( actions.updateHelpers.setDisplayUnits(newDisplayUnits) );\n    dispatch( actions.put.saveClientConfig({ data: [ 'displayUnits', newDisplayUnits ] }));\n  },\n}))(Units);\n","import React, { useState } from 'react';\nimport produce from 'immer';\n\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport Panel from './Panel';\nimport KeyboardCaptureDialog from './KeyboardCaptureDialog';\nimport useTranslation from '../hooks/useTranslation';\nimport { SHORTCUTS } from '../modules/rockhopper/constants';\n\n\nconst dividerStyles = makeStyles((theme) => ({\n  cell: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n    backgroundColor: theme.palette.secondary.main,\n    padding: 8,\n  },\n  row: {\n    lineHeight: '16px',\n  }\n}));\n\nconst DividerRow = (props) => {\n  const {\n    text,\n  } = props;\n\n  const classes = dividerStyles();\n\n  return <TableRow className={classes.row}>\n    <TableCell className={classes.cell} colSpan={3}>{text}</TableCell>\n  </TableRow>\n}\n\nconst useStyles = makeStyles((theme) => ({\n  bold: {\n    fontWeight: \"bold\",\n  },\n  tableContainer: {\n    maxHeight: 680,\n  },\n  sectionDivider: {\n    lineHeight: \"16px\",\n    height: 16,\n    width: 14,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    padding: 8,\n  }\n}));\n\nconst KeyboardShortcutsConfig = (props) => {\n  const {\n    shortcuts,\n    jogKeys,\n    jogModifiers,\n    axisSelectJogShortcuts,\n    otherShortcuts,\n    shortcutsMap,\n    trajCoords,\n\n    onSubmitShortcuts\n  } = props;\n\n  const classes = useStyles();\n  const [ captureDialogState, setCaptureDialogState ] = useState({open: false, category: null, key: \"\", value: \"\", modifiersOnly: false, singleKeyOnly: false});\n  const { t } = useTranslation();\n  const handleOpenCaptureDialog = (newDialogState) => {\n    setCaptureDialogState({...newDialogState, open: true});\n  };\n  const handleSubmitCaptureDialog = (newShortcut) => {\n    const newShortcuts = produce(shortcuts, (draft) => { \n      draft[captureDialogState.category] = draft[captureDialogState.category] || {};\n      draft[captureDialogState.category][captureDialogState.key] = newShortcut;\n    });\n    onSubmitShortcuts(newShortcuts);\n    // onSetShortcut({key: captureDialogState.key, value: newShortcut})\n    setCaptureDialogState({...captureDialogState, open: false});\n  };\n  const handleRemoveKeybinding = (category, key) => {\n    const newShortcuts = produce(shortcuts, (draft) => { draft[category][key] = \"\" });\n    onSubmitShortcuts(newShortcuts);\n  }\n\n  return <Panel label=\"Keybindings\">\n    <TableContainer component={Paper} className={classes.tableContainer}>\n      <Table stickyHeader aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>{t(\"Command\")}</TableCell>\n            <TableCell>{t(\"Keybinding\")}</TableCell>\n            <TableCell></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n\n          <DividerRow text={t(\"Axis-select Jogging\")} className={classes.sectionDivider}/>\n          {trajCoords && Object.keys(SHORTCUTS.AXIS_SELECT_JOG).map(key => {\n            let displayName;\n            if(key.startsWith(\"select\")){\n              if(!trajCoords.includes(key.slice(-1))){\n                return null;\n              }\n              displayName = t('selectAxis') + ' ' + t(key.slice(-1));\n            } else if(key.startsWith(\"jog\")){\n              displayName = t('jog') + ' ' + key.slice(-1);\n            }\n            else{\n              displayName = t(key);\n            }\n            return(\n            <TableRow key={key}>\n              <TableCell>{displayName}</TableCell>\n              <TableCell className={classes.bold}>{axisSelectJogShortcuts[key]}</TableCell>\n              <TableCell>\n                <ButtonGroup>\n                  <Tooltip title={t('tooltip_EditShortcut')}>\n                    <Button id={\"edit_\" + key} variant=\"outlined\" onClick={() => handleOpenCaptureDialog({ title: t(key), key: key, value: jogModifiers[key], category: \"axisSelectJog\", modifiersOnly: false, singleKeyOnly: false } ) } >\n                      <EditIcon/>\n                    </Button>\n                  </Tooltip>\n                {axisSelectJogShortcuts[key] && (\n                  <Tooltip title={t('tooltip_DeleteShortcut')}>\n                    <Button variant=\"outlined\" onClick={() => handleRemoveKeybinding('axisSelectJog', key) } >\n                      <DeleteIcon/>\n                    </Button>\n                  </Tooltip>\n                )}\n                </ButtonGroup>\n              </TableCell>\n            </TableRow>\n            )\n          })}\n\n          <DividerRow text={t(\"jogging\")} className={classes.sectionDivider}/>\n          {Object.keys(SHORTCUTS.JOG_MODIFIERS).map(key => {\n            return(\n            <TableRow key={key}>\n              <TableCell>{t(key + \"JogModifier\")}\n                {key === \"continuous\" && <Tooltip title={t('tooltip_ContinuousJog')}><HelpIcon/></Tooltip>}\n              </TableCell>\n              <TableCell className={classes.bold}>{jogModifiers[key]}</TableCell>\n              <TableCell>\n                <ButtonGroup>\n                  <Tooltip title={t('tooltip_EditShortcut')}>\n                    <Button variant=\"outlined\" onClick={() => handleOpenCaptureDialog({ title: t(key + \"JogModifier\"), key: key, value: jogModifiers[key], category: \"jogModifiers\", modifiersOnly: true, singleKeyOnly: false } ) } >\n                      <EditIcon/>\n                    </Button>\n                  </Tooltip>\n                {jogModifiers[key] && (\n                  <Tooltip title={t('tooltip_DeleteShortcut')}>\n                    <Button variant=\"outlined\" onClick={() => handleRemoveKeybinding('jogModifiers', key) } >\n                      <DeleteIcon/>\n                    </Button>\n                  </Tooltip>\n                )}\n                </ButtonGroup>\n              </TableCell>\n            </TableRow>\n            )\n          })}\n          {trajCoords && Object.keys(SHORTCUTS.JOG).map(key => {\n            if(trajCoords.indexOf(key[3]) !== -1){\n              return(\n              <TableRow key={key}>\n                <TableCell>{t(\"jog\") + \" \" + key.slice(3)}</TableCell>\n                <TableCell className={classes.bold}>{jogKeys[key]}</TableCell>\n                <TableCell>\n                  <ButtonGroup>\n                    <Tooltip title={t('tooltip_EditShortcut')}>\n                      <Button variant=\"outlined\" onClick={() => handleOpenCaptureDialog({ title: t(\"jog\") + \" \" + key.slice(3), key: key, value: jogKeys[key], category: \"jog\", modifiersOnly: false, singleKeyOnly: true })}>\n                        <EditIcon/>\n                      </Button>\n                    </Tooltip>\n                  {jogKeys[key] && (\n                    <Tooltip title={t('tooltip_DeleteShortcut')}>\n                      <Button variant=\"outlined\" onClick={() => handleRemoveKeybinding('jog', key) } >\n                        <DeleteIcon/>\n                      </Button>\n                    </Tooltip>\n                  )}\n                  </ButtonGroup>\n                </TableCell>\n              </TableRow>\n              )\n            }\n            else return null\n          })}\n          <DividerRow text={t(\"other\")} className={classes.sectionDivider}/>\n          {Object.keys(SHORTCUTS.OTHER).map(key => {\n            return(\n            <TableRow key={key}>\n              <TableCell>{t(key)}</TableCell>\n              <TableCell className={classes.bold}>{otherShortcuts[key]}</TableCell>\n              <TableCell>\n                <ButtonGroup>\n                  <Tooltip title={t('tooltip_EditShortcut')}>\n                    <Button variant=\"outlined\" onClick={() => handleOpenCaptureDialog({title: t(key), key: key, value: otherShortcuts[key], category: \"other\", modifierOnly: false, singleKeyOnly: false})}>\n                      <EditIcon/>\n                    </Button>\n                  </Tooltip>\n                {otherShortcuts[key] && (\n                  <Tooltip title={t('tooltip_DeleteShortcut')}>\n                    <Button variant=\"outlined\" onClick={() => handleRemoveKeybinding('other', key) } >\n                      <DeleteIcon/>\n                    </Button>\n                  </Tooltip>\n                )}\n                </ButtonGroup>\n              </TableCell>\n            </TableRow>\n            )\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <KeyboardCaptureDialog\n      open={captureDialogState.open}\n      key={captureDialogState.key}\n      value={captureDialogState.value}\n      modifiersOnly={captureDialogState.modifiersOnly}\n      singleKeyOnly={captureDialogState.singleKeyOnly}\n      reservedKeys={new Set(Object.values(jogKeys))}\n      reservedCombinations={new Set(Object.keys(shortcutsMap).concat(Object.values(jogModifiers)))}\n      onSubmit={handleSubmitCaptureDialog}\n      onClose={() => { setCaptureDialogState({...captureDialogState, open: false}) } }\n      title={t(\"Keybinding\") + \": \" + t(captureDialogState.title)}\n      submitBtnLabel={t(\"Set\")}\n      cancelBtnLabel={t(\"Cancel\")}\n    />\n  </Panel>;\n};\nexport default KeyboardShortcutsConfig;\n","import { connect } from 'react-redux';\nimport KeyboardShortcutsConfig from '../components/KeyboardShortcutsConfig';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport { selectKeyboardShortcuts, \n  selectKeyboardShortcutsAxisSelectJog,\n  selectKeyboardShortcutsJogModifiers,\n  selectKeyboardShortcutsJog, \n  selectKeyboardShortcutsOther, \n  selectKeyboardShortcutsMap,\n  selectTrajCoordinates,\n} from '../modules/rockhopper/selectors';\n\nexport default connect(\n  (state, ownProps) => {\n    return {\n      shortcuts: selectKeyboardShortcuts(state),\n      axisSelectJogShortcuts: selectKeyboardShortcutsAxisSelectJog(state),\n      jogModifiers: selectKeyboardShortcutsJogModifiers(state),\n      jogKeys: selectKeyboardShortcutsJog(state),\n      otherShortcuts: selectKeyboardShortcutsOther(state),\n      shortcutsMap: selectKeyboardShortcutsMap(state),\n      trajCoords: selectTrajCoordinates(state),\n    }\n  },\n  (dispatch, ownProps) => ({\n    onSubmitShortcuts: (shortcuts) => {\n      dispatch( rockhopperActions.put.saveClientConfig( { data: [ 'KeyboardShortcuts', shortcuts ] } ) )\n    },\n  })\n)(KeyboardShortcutsConfig)","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Display from './Display';\nimport ConnectionDetails from '../containers/ConnectionDetails';\nimport Language from '../containers/Language';\nimport Units from '../containers/Units';\nimport KeyboardShortcutsConfig from '../containers/KeyboardShortcutsConfig';\nimport { isMobile } from 'react-device-detect';\n\nconst ClientTab = (props) => {\n  return (<Grid container>\n    <Grid item xs={12} sm={6} md={4}>\n      <Units/>\n      <Language/>\n      { isMobile ?  <Display/> : null }\n    </Grid>\n    <Grid item xs={12} sm={6} md={4}>\n      <ConnectionDetails/>\n    </Grid>\n    <Grid item xs={12} md={6} lg={4}>\n      <KeyboardShortcutsConfig/>\n    </Grid>\n  </Grid>);\n};\n\nexport default ClientTab;\n","import React, { useRef, useState, useCallback } from 'react';\nimport produce from 'immer';\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Paper from '@material-ui/core/Paper';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport Panel from './Panel';\nimport TabPanel from './TabPanel';\nimport SubmittableTextField from './SubmittableTextField';\nimport SubmittableDialog from './SubmittableDialog';\nimport useTranslation from '../hooks/useTranslation';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    marginBottom: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  iniRoot: {\n    height: 400,\n    [theme.breakpoints.up(\"sm\")]: {\n      height: 400,\n      display: 'flex',\n    },\n  },\n  innerTabs: {\n    overflow: 'hidden',\n    display: 'flex',\n    height: 400\n  },\n  joinedButton: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    height: 42,\n    marginBottom: theme.spacing(1),\n    borderRight: 0\n  },\n  joinedInput: {\n    padding: 11,\n  },\n  joinedTextField: {\n    borderWidth: \"1px!important\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    height: 45,\n    marginRight: theme.spacing(1)\n  },\n  lowerRightButtonDiv: {\n    display: 'flex',\n    float: 'right',\n    justifyContent: 'center',\n    margin: theme.spacing(1)\n  },\n  table: {\n    tableLayout: 'fixed',\n    overflow: 'scroll'\n  },\n  tableAlternateRow: {\n    backgroundColor: theme.palette.action.hover,\n  },\n  tableButtonCell: {\n    width: 40\n  },\n  tableCell: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  tableContainer: {\n    maxHeight: 400,\n  },\n  tabContainer: {\n    maxHeight: 500,\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: theme.palette.grey[200]\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    flexShrink: 0,\n  },\n  tabsBox: {\n    border: 1,\n    borderStyle: \"solid\",\n    borderColor: theme.palette.grey[200]\n  }\n}));\n\nconst OverlayRow = (props) => {\n  const {\n    classes,\n    isEditing,\n    index,\n    rowStyle,\n    values,\n\n    onChange,\n    onDelete,\n    ...other\n  } = props;\n\n  const handleChangeField = (field, value) => {\n    if(onChange){\n      const newValues = produce(values, (draft) => {draft[field] = value})\n      onChange(index, newValues);\n    }\n  };\n  const handleDelete = () => {\n    onDelete(values.key);\n  }\n\n  return(\n    <TableRow key={values.key} style={rowStyle} {...other}>\n      <TableCell className={classes.tableCell} style={{flexGrow: 2}}>\n        <SubmittableTextField\n          disabled={!isEditing}\n          value={values.name}\n          onChange={(newText) => {handleChangeField('name', newText)}}\n        />\n      </TableCell>\n      <TableCell className={classes.tableCell}>\n        <SubmittableTextField\n          disabled={!isEditing}\n          value={values.value}\n          onChange={(newText) => { handleChangeField('value', newText)}}\n        />\n      </TableCell>\n      <TableCell className={classes.tableCell}>\n        <SubmittableTextField\n          disabled={!isEditing}\n          value={values.comment}\n          onChange={(newText) => { handleChangeField('comment', newText)}}\n        />\n      </TableCell>\n      <TableCell className={classes.tableCell}>\n        <SubmittableTextField\n          disabled={!isEditing}\n          value={values.help}\n          onChange={(newText) => { handleChangeField('help', newText)}}\n        />\n      </TableCell>\n      {isEditing && (\n        <TableCell style={{flexGrow: 0}}>\n          <IconButton onClick={handleDelete}><DeleteIcon/></IconButton>\n        </TableCell>\n      )}\n    </TableRow>\n  )\n}\n\nconst OverlaySectionPanel = (props) => {\n  const {\n    value,\n    index,\n    isEditing,\n    sectionName,\n    params,\n    onChange,\n  } = props;\n  const { t } = useTranslation()\n  const classes = useStyles();\n  const tableRef = useRef();\n  const containerRef = useRef();\n  const bodyRef = useRef();\n\n  const handleAddParameter = (addIdx, newParam) => {\n    const changedParams = produce(params, (draft) => { draft[\"new\" + Date.now()] = { name: \"\", comment: \"\", value: \"\", help: \"\", section: sectionName } });\n    onChange(sectionName, changedParams)\n  };\n  const handleDeleteParameter = (paramKey) => {\n    const newParams = produce(params, (draft) => { delete draft[paramKey] });\n    onChange(sectionName, newParams)\n  };\n  const handleChangeParam = (paramsArrIdx, changedParam) => {\n    const changedParams = produce(params, (draft) => { draft[changedParam.key] = changedParam });\n    onChange(sectionName, changedParams)\n  }\n\n  return (\n    <TabPanel key={sectionName} value={value} index={index}>\n      <TableContainer component={Paper} className={classes.tableContainer} ref={containerRef}>\n        <Table stickyHeader className={classes.table} aria-label=\"simple table\" id=\"asdf\" ref={tableRef}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{flexGrow: 2}}>{t(\"Name\")}</TableCell>\n              <TableCell>{t(\"Value\")}</TableCell>\n              <TableCell>{t(\"Comment\")}</TableCell>\n              <TableCell>{t(\"Help\")}</TableCell>\n              {isEditing && (<TableCell className={classes.tableButtonCell}/>)}\n            </TableRow>\n          </TableHead>  \n          <TableBody ref={bodyRef}>\n          { \n            Object.keys(params).sort().map((key, idx) => {\n              return(\n                <OverlayRow\n                  key={key}\n                  index={idx}\n                  values={{...params[key], key: key}}\n                  classes={classes}\n                  isEditing={isEditing}\n                  onChange={handleChangeParam} \n                  onDelete={handleDeleteParameter}\n                />\n              )\n            })\n          }\n          { isEditing && (\n            <TableRow key={'add'}>\n              <TableCell style={{height: 0, padding: 0, border: 0}}>\n                <IconButton onClick={handleAddParameter}>\n                  <AddBoxOutlinedIcon/>\n                </IconButton>\n              </TableCell>\n            </TableRow>\n          )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </TabPanel>\n  )\n}\n\n\nconst OverlayPanel = (props) => {\n  const { \n    isEditing,\n    clientOverlay,\n    diskOverlay,\n    children, \n    value, \n    index,\n    p,\n    xsLayout,\n    onEnableEditing,\n    onDeleteSection,\n    onDisableEditing,\n    onAddSection,\n    onSave,\n    onChange,\n    ...other\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const [tabIndex, setTabIndex] = useState(0);\n  const [addSectionDialogOpen, setAddSectionDialogOpen] = useState(false);\n  const displayOverlay = isEditing ? clientOverlay : diskOverlay;\n\n  const handleChangeTabs = useCallback((event, newTabIndex) => {\n    setTabIndex(newTabIndex);\n  },[setTabIndex]);\n  const handleAddSection = (newSectionName) => {\n    onAddSection(clientOverlay, newSectionName);\n    setAddSectionDialogOpen(false);\n  };\n  const handleChangeSection = (sectionName, sectionParams) => {\n    const newOverlay = produce(clientOverlay, (draft) => {\n      draft[sectionName] = sectionParams;\n      return draft;\n    });\n    onChange(newOverlay);\n  };\n  const handleEnableEditing = () =>{ onEnableEditing(diskOverlay) }\n  const handleDeleteSection = () => { onDeleteSection(Object.keys(displayOverlay).sort()[tabIndex]) };\n  const handleSave = () => { onSave(displayOverlay); }\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <>\n          <Box border={1} borderColor={theme.palette.grey[200]} className={classes.iniRoot}>\n          <div className={classes.tabs}>\n          { \n          isEditing ? (\n          <div style={{display: 'flex', justifyContent: 'center', margin: theme.spacing(1)}}>\n\n            <ButtonGroup disabled={!isEditing}>\n              <Button\n                color='primary'\n                variant={'outlined'}\n                onClick={() => setAddSectionDialogOpen(true)} label={'clicker'}\n              >\n                <AddIcon/>\n              </Button>\n              <Button\n                color='primary'\n                variant={'outlined'}\n                onClick={handleDeleteSection} label={'clicker'}\n              >\n                <DeleteIcon/>\n              </Button>\n            </ButtonGroup>\n          </div> ) : \"\"\n          }\n            <Tabs\n              className={classes.tabs}\n              style={xsLayout ? {} : { height : isEditing ? 348 : 400} }\n              value={tabIndex < Object.keys(displayOverlay).length ? tabIndex : 0}\n              onChange={handleChangeTabs}\n              orientation={xsLayout ? \"horizontal\" : \"vertical\"}\n              variant=\"scrollable\"\n              scrollButtons=\"off\"\n            >\n              { displayOverlay ? Object.keys(displayOverlay).sort().map((sectionName, idx) => {\n                  return( <Tab key={idx} label={sectionName} {...a11yProps(idx)}/>)\n                }) : \"\"\n              }\n            </Tabs>\n\n            </div>\n            {\n              displayOverlay ? (\n                Object.keys(displayOverlay).sort().map((sectionName, idx) => {\n                  return(\n                    <OverlaySectionPanel\n                      key={idx}\n                      value={tabIndex}\n                      index={idx}\n                      isEditing={isEditing}\n                      sectionName={sectionName}\n                      params={displayOverlay[sectionName]}\n                      onChange={handleChangeSection}\n                    />\n                  )\n                })\n               ) : \"\"\n            }\n          </Box>\n          <div className={classes.lowerRightButtonDiv}>\n          { \n            isEditing ? (\n              <ButtonGroup size=\"large\">\n                <Tooltip title={\"Send changes to server\"}>\n                  <Button onClick={handleSave}>SAVE</Button>\n                </Tooltip>\n                <Tooltip title={\"Discard changes\"}>\n                    <Button onClick={onDisableEditing}>DISCARD</Button>\n                </Tooltip>\n              </ButtonGroup>\n            ) : (\n              <ButtonGroup  size=\"large\">\n                <Tooltip title={\"Enable overlay editing\"}>\n                  <Button\n                    onClick={handleEnableEditing}\n                  >Edit Overlay</Button>\n                </Tooltip>\n              </ButtonGroup>\n            )\n          }\n          </div>\n          <SubmittableDialog\n            open={addSectionDialogOpen}\n            value={\"\"}\n            onSubmit={handleAddSection}\n            onClose={() => { setAddSectionDialogOpen(false) } }\n            title={\"Add Section\"}\n            textFieldLabel={\"SECTION_NAME\"}\n            submitBtnLabel={\"Add\"}\n            cancelBtnLabel=\"Cancel\"\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nconst IniPanel = (props) => {\n  const { \n    ini,\n    xsLayout,\n\n    children, \n    value, \n    index,\n    p,\n    ...other \n  } = props;\n  const { t } = useTranslation();\n  const classes = useStyles();\n  \n  const [tabIndex, setTabIndex] = useState(0);\n  const handleChangeTabs = useCallback((event, newTabIndex) => {\n    setTabIndex(newTabIndex);\n  },[setTabIndex]);\n\n  const iniMap = ini;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <>\n          <Box className={classes.iniRoot}>\n            <Tabs\n              value={tabIndex}\n              onChange={handleChangeTabs}\n              orientation={xsLayout ? \"horizontal\" : \"vertical\"}\n              variant=\"scrollable\"\n              scrollButtons=\"off\"\n              className={classes.tabs}\n            >\n              {iniMap ? Object.keys(iniMap).map((sectionName, idx) => {\n                return(\n                <Tab key={idx} label={sectionName} {...a11yProps(idx)}/>\n                )\n              }) : \"\"}\n            </Tabs>\n            {iniMap ? Object.values(iniMap).map((section, idx) => {\n              return(\n                <TabPanel key={idx} value={tabIndex} index={idx}>\n                   <TableContainer component={Paper} className={classes.tableContainer}>\n                    <Table stickyHeader className={classes.table} aria-label=\"simple table\">\n                      <TableHead>\n                        <TableRow>\n                          <TableCell>{t(\"Name\")}</TableCell>\n                          <TableCell>{t(\"Value\")}</TableCell>\n                          <TableCell>{t(\"Comment\")}</TableCell>\n                          <TableCell>{t(\"Help\")}</TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                      {Object.values(section).map((values, paramIdx) => {\n                        return(\n                        <TableRow key={paramIdx}>\n                          <TableCell className={classes.tableCell}>{values.name}</TableCell>\n                          <TableCell className={classes.tableCell}>{values.value}</TableCell>\n                          <TableCell className={classes.tableCell}>{values.comment}</TableCell>\n                          <TableCell className={classes.tableCell}>{values.help}</TableCell>\n                        </TableRow>\n                        )\n                      })}\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                </TabPanel>\n                )\n              }) : \"\"}\n          </Box>\n        </>\n      )}\n    </div>\n  );\n}\n\n\nconst CompensationPanel = (props) => {\n  const { \n    isEditing,\n    clientCompensation,\n    diskCompensation,\n\n    onDisableEditing,\n    onEnableEditing,\n    onChange,\n    onSave,\n\n    xsLayout,\n\n    children, \n    value, \n    index, \n    p, \n    ...other \n  } = props;\n  const compensation = isEditing ? clientCompensation : diskCompensation;\n  const theme = useTheme();\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const [tabIndex, setTabIndex] = useState(0);\n  const handleChangeTabs = useCallback((event, newTabIndex) => {\n    setTabIndex(newTabIndex);\n  },[setTabIndex]);\n\n  const handleEnableEditing = () => { onEnableEditing(diskCompensation); };\n  const handleDisableEditing = () => { onDisableEditing(); };\n  const handleAddRow = (axis, idx) => {\n    const newCompensation = produce(clientCompensation, (draft) => {\n      draft[axis].splice(idx + 1, 0, [\"\",\"\",\"\"])\n    });\n    onChange(newCompensation);\n  }\n  const handleDeleteRow = (axis, idx) => {\n    const newCompensation = produce(clientCompensation, (draft) => {\n      draft[axis].splice(idx, 1)\n    }); \n    onChange(newCompensation);\n  }\n  const handleChange = (axis, idx, rowIdx, value) => {\n    const newCompensation = produce(clientCompensation, (draft) => {\n      draft[axis][idx][rowIdx] = value\n      return draft;\n    });\n    onChange(newCompensation);\n  };\n  const handleSave = () => { onSave(clientCompensation); };\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n      <>\n        <Box border={1} borderColor={theme.palette.grey[200]} className={classes.iniRoot}>\n          <Tabs\n            value={tabIndex}\n            onChange={handleChangeTabs}\n            orientation={xsLayout ? \"horizontal\" : \"vertical\"}\n            variant=\"scrollable\"\n            scrollButtons=\"on\"\n            className={classes.tabs}\n          >\n            {compensation ? Object.keys(compensation).sort().map((axisName, idx) => {\n              return(\n              <Tab key={idx} label={axisName} {...a11yProps(idx)}/>\n              )\n            }) : \"\"}\n          </Tabs>\n          {compensation ? Object.keys(compensation).sort().map((axisName, idx) => {\n            return(\n              <TabPanel key={idx} value={tabIndex} index={idx}>\n                <TableContainer component={Paper} className={classes.tableContainer}>\n                  <Table stickyHeader className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>{t(\"Position\")}</TableCell>\n                        <TableCell>{t(\"Forward Trim\")}</TableCell>\n                        <TableCell>{t(\"Reverse Trim\")}</TableCell>\n                        {isEditing && (\n                          <>\n                          <TableCell className={classes.tableButtonCell}/>\n                          <TableCell className={classes.tableButtonCell}/>\n                          </>\n                        )}\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                    {compensation[axisName].map((dataRow, idx) => {\n                      return <TableRow key={idx} className={idx % 2 === 0 ? classes.tableAlternateRow : \"\"}>\n                        {dataRow.map((val, rowIdx) => {\n                          return <TableCell key={rowIdx}>\n                            <SubmittableTextField\n                              value={val}\n                              disabled={!isEditing} \n                              onChange={(e) => handleChange(axisName, idx, rowIdx, e)}\n                            />\n                          </TableCell>\n                        })}\n                        {isEditing && (\n                          <>\n                          <TableCell>\n                            <IconButton onClick={(e) => {handleAddRow(axisName, idx)}}><AddBoxOutlinedIcon/></IconButton>\n                          </TableCell>\n                          <TableCell>\n                            <IconButton onClick={(e) => {handleDeleteRow(axisName, idx)}}><DeleteIcon/></IconButton>\n                          </TableCell>\n                          </>\n                        )}\n                        </TableRow>\n                    })}\n                  </TableBody>\n                  </Table>\n                </TableContainer>\n              </TabPanel>\n              )\n            }) : \"\"}\n        </Box>\n        { \n          <div className={classes.lowerRightButtonDiv}>\n          {\n          isEditing ? (\n            <ButtonGroup size=\"large\">\n              <Tooltip title={t(\"Send changes to server\")}>\n                <Button onClick={handleSave}>{t(\"save\")}</Button>\n              </Tooltip>\n              <Tooltip title={t(\"Discard changes\")}>\n                  <Button onClick={handleDisableEditing}>{t(\"cancel\")}</Button>\n              </Tooltip>\n            </ButtonGroup>\n          ) : (\n            <ButtonGroup  size=\"large\">\n              <Tooltip title={t(\"Enable compensation editing\")}>\n                <Button\n                  onClick={handleEnableEditing}\n                >{t(\"Edit Compensation\")}</Button>\n              </Tooltip>\n            </ButtonGroup>\n          )\n          }\n          </div>\n        }\n      </>\n      )}\n    </div>\n  );\n}\n\n\nfunction a11yProps(name, index) {\n  return {\n    id: `${name}-simple-tab-${index}`,\n    'aria-controls': `${name}-simple-tabpanel-${index}`,\n  };\n}\n\nconst MachineConfig = (props) => {\n  const {\n    ini,\n\n    isEditingCompensation,\n    clientCompensation,\n    diskCompensation,\n    onEnableEditingCompensation,\n    onDisableEditingCompensation,\n    onChangeCompensation,\n    onSaveCompensation,\n\n    isEditingOverlay,\n    clientOverlay,\n    diskOverlay,\n    onAddOverlaySection,\n    onDeleteOverlaySection,\n    onEnableEditingOverlay,\n    onDisableEditingOverlay,\n    onChangeOverlay,\n    onSaveOverlay,\n    onUploadFiles,\n    onDownloadFiles,\n    onRestartServices,\n  } = props;\n  \n  const xsLayout = useMediaQuery(theme => theme.breakpoints.down(\"xs\"));\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const [downloadTag, setDownloadTag] = useState(\"\");\n  const [tabIndex, setTabIndex] = useState(2);\n  const handleChangeTabs = useCallback((event, newValue) => {\n    setTabIndex(newValue);\n  },[setTabIndex]);\n\n  const inputRef = useRef(null);\n  const handleClick = useCallback((e) => {\n    inputRef.current.click();\n  }, [ inputRef ]);\n  const handleFileSelect = (e) => {\n    for(let file of e.target.files) {\n      const path = file.name;\n      const data = file;\n      onUploadFiles(path, data);\n    }\n    e.target.value = \"\";\n  };\n  const handleDownloadClick = () => {\n    onDownloadFiles(downloadTag)\n  }\n  const handleRestartClick = () => {\n    onRestartServices()\n  }\n\n  return (\n    <Panel id=\"MachineConfig\" label={t(\"Machine Config\")}>\n      <div style={{ display: \"none\" }}><input onChange={handleFileSelect} type=\"file\" multiple ref={inputRef}/></div>\n      <Box>\n        <Box>\n          <Tooltip placement=\"bottom\" title={t(\"downloadConfigurationFiles\")}>\n            <Button onClick={() => {handleDownloadClick()}} size=\"large\" variant=\"outlined\" className={classes.joinedButton}>\n              {(\"download\")}\n            </Button>\n          </Tooltip>\n          <SubmittableTextField \n            InputProps={{classes: { notchedOutline: classes.joinedTextField, input: classes.joinedInput } }}\n            variant=\"outlined\" \n            placeholder={t('serialNumber')}\n            value={downloadTag ? downloadTag : \"\"}\n            onChange={(val)=> { setDownloadTag(val) }}\n          />\n          <Tooltip placement=\"bottom\" title={t(\"uploadConfigurationFiles\")}>\n            <Button onClick={handleClick} size=\"large\" variant=\"outlined\" className={classes.button}>\n              {t(\"upload\")}\n            </Button>\n          </Tooltip>\n          <Button onClick={() => {handleRestartClick()}} size=\"large\" variant=\"outlined\" className={classes.button}>\n            {t(\"restartServices\")}\n          </Button>\n        </Box>\n      </Box>\n      <Box>\n        <Tabs\n          value={tabIndex}\n          onChange={handleChangeTabs}\n          orientation=\"horizontal\"\n          className={classes.tabsBox}\n        >\n          <Tab label={t(\"INI Overlay\")} {...a11yProps(\"overlay\", 0)}/>\n          <Tab label={t(\"Active INI\")} {...a11yProps(\"ini\", 1)}/>\n          <Tab label={t(\"Compensation Tables\")} {...a11yProps(\"compensation\", 2)}/>\n        </Tabs>\n        <Box className={classes.tabContainer}>\n            <OverlayPanel \n              value={tabIndex} index={0} xsLayout={xsLayout} \n              clientOverlay={clientOverlay} \n              diskOverlay={diskOverlay}\n              isEditing={isEditingOverlay} \n              onAddSection={onAddOverlaySection} \n              onChange={onChangeOverlay} \n              onDeleteSection={onDeleteOverlaySection}\n              onDisableEditing={onDisableEditingOverlay}\n              onEnableEditing={onEnableEditingOverlay} \n              onSave={onSaveOverlay}\n            />\n            <IniPanel value={tabIndex} index={1} ini={ini} xsLayout={xsLayout}/>\n            <CompensationPanel value={tabIndex} index={2} xsLayout={xsLayout}\n              isEditing={isEditingCompensation}\n              clientCompensation={clientCompensation} \n              diskCompensation={diskCompensation}\n              onEnableEditing={onEnableEditingCompensation} \n              onDisableEditing={onDisableEditingCompensation} \n              onChange={onChangeCompensation} \n              onSave={onSaveCompensation}\n            />\n        </Box>\n      </Box>\n    </Panel>\n  );\n};\nexport default MachineConfig;\n","import { connect } from 'react-redux';\nimport produce from 'immer';\nimport MachineConfig from '../components/MachineConfig';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport pentaActions from '../modules/pentaui/actions';\nimport fileQueue from '../modules/rockhopper/file-queue'\nimport { selectConfigMap, selectConfigOverlayMap, selectCompensation } from '../modules/rockhopper/selectors';\nimport { selectIsEditingOverlay, selectClientConfigOverlay, selectIsEditingCompensation, selectClientCompensation } from '../modules/pentaui/selectors';\nimport { FILE_TYPES } from '../modules/rockhopper/constants';\nimport downloadQueue from '../modules/rockhopper/download-queue';\nimport { downloadToDisk } from '../modules/rockhopper/file-cache';\n\nexport default connect(\n  (state, ownProps) => {\n    return { \n      ini: selectConfigMap(state),\n      isEditingOverlay: selectIsEditingOverlay(state),\n      diskOverlay: selectConfigOverlayMap(state),\n      clientOverlay: selectClientConfigOverlay(state),\n      isEditingCompensation: selectIsEditingCompensation(state),\n      diskCompensation: selectCompensation(state),\n      clientCompensation: selectClientCompensation(state),\n    }\n  }, \n  (dispatch, ownProps) => ({ \n    onAddOverlaySection: (overlay, newSection) => {\n      if(overlay.hasOwnProperty(newSection)){\n        return false;\n      }\n      const newOverlay = produce(overlay, (draft) => {\n        draft[newSection] = {}\n      })\n      dispatch(pentaActions.overlay.set(newOverlay));\n    },\n    onChangeOverlay: (overlay) => {\n      dispatch(pentaActions.overlay.set(overlay))\n    },\n    onDeleteOverlaySection: (sectionName) => {\n      dispatch(pentaActions.overlay.deleteSection(sectionName));\n    },\n    onEnableEditingOverlay: (currentDiskOverlay) => {\n      dispatch(pentaActions.overlay.enableEditing(currentDiskOverlay));\n    },\n    onDisableEditingOverlay: () => {\n      dispatch(pentaActions.overlay.disableEditing());\n    },\n    onSaveOverlay: (overlay) => {\n      let sections = {};\n      let parameters = [];\n      Object.keys(overlay).forEach((sectionKey) => {\n        sections[sectionKey] = {comment: \"\", help: \"\"};\n        Object.values(overlay[sectionKey]).forEach((param, idx) => {\n          const {key, ...diskValues} = param;\n          parameters.push({id: idx, values: diskValues})\n        });\n      });\n      dispatch(pentaActions.overlay.disableEditing());\n      dispatch(rockhopperActions.updateHelpers.configOverlay({ data: {sections: sections, parameters: parameters} }) );\n      dispatch(rockhopperActions.put.config({ data: {data: {sections: sections, parameters: parameters}} }));\n    },\n    onEnableEditingCompensation: (currentDiskCompensation) => {\n      dispatch(pentaActions.compensation.enableEditing(currentDiskCompensation))\n    },\n    onDisableEditingCompensation: () => {\n      dispatch(pentaActions.compensation.disableEditing())\n    },\n    onChangeCompensation: (compensation) => {\n      dispatch(pentaActions.compensation.set(compensation))\n    },\n    onSaveCompensation: (compensation) => {\n      dispatch(pentaActions.compensation.disableEditing())\n      dispatch(rockhopperActions.updateHelpers.compensation({ data: compensation }) );\n      dispatch(rockhopperActions.put.setCompensation({ data: { data: compensation } }));\n    },\n    onUploadFiles: (path, overlay) => {\n      fileQueue.addFile(path, FILE_TYPES.CONFIGURATION, overlay);\n    },\n    onDownloadFiles: (downloadTag) => {\n      const now = new Date();\n      const dateStr = now.toISOString().split(\"T\")[0];\n      downloadQueue.addDownload(\"calibration\" + downloadTag + \"_\" + dateStr + '.zip', FILE_TYPES.CONFIGURATION, downloadToDisk)\n    },\n    onRestartServices: () => {\n      dispatch(rockhopperActions.put.restart());\n    }\n  })\n)(MachineConfig);\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\n//import SSLSettings from '../components/SSLSettings';\nimport MachineConfig from '../containers/MachineConfig';\n\nconst ServerTab = (props) => {\n  return (<Grid container>\n    <Grid item xs={12}>\n      <MachineConfig/>\n    </Grid>\n    <Grid item xs={12} sm={6} md={4}>\n    { /*  <SSLSettings/> */ }\n    </Grid>\n  </Grid>);\n};\nexport default ServerTab;\n","import React from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { CONFIG_TAB } from \"./Tabs\";\nimport ClientTab from './ClientTab';\nimport ServerTab from './ServerTab';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nexport const CLIENT_TAB = \"/client\";\nexport const SERVER_TAB = \"/server\";\nexport const tabs = { \n  [CLIENT_TAB]: { id: CLIENT_TAB, label: \"Client\", component: ClientTab }, \n  [SERVER_TAB]: { id: SERVER_TAB, label: \"Server\", component: ServerTab }\n};\nexport const tabOrder = [ tabs[CLIENT_TAB], tabs[SERVER_TAB] ];\n\nconst ConfigTab = (props) => {\n  const location = useLocation();\n  const history = useHistory();\n  const urlTab = location.pathname.replace(CONFIG_TAB, \"\");\n  const subTab = tabs[urlTab] ? urlTab : tabOrder[0].id;\n\n  const setTab = (id) => {\n    history.push(CONFIG_TAB + id);\n  };\n  \n  const handleChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const TabComponent = tabs[subTab].component;\n\n  return <>\n    <Tabs value={subTab} onChange={handleChange}>\n      { tabOrder.map((tab) => <Tab label={tab.label} value={tab.id} key={tab.id}/>) }\n    </Tabs>\n    <TabComponent/>\n  </>;\n};\nexport default ConfigTab;\n","import React, { useState, useRef } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Button from '@material-ui/core/Button';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Hidden from '@material-ui/core/Hidden';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport { ReactComponent as LogoSvg } from \"../logo.svg\";\n\nimport SetupTab from './SetupTab';\n//import SimulatorTab from './SimulatorTab';\nimport ManualTab from './ManualTab';\nimport ProductionTab from './ProductionTab';\nimport HistoryTab from './HistoryTab';\nimport ConfigTab from './ConfigTab';\n\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport classnames from 'classnames';\n\nconst useStyles = makeStyles((theme) => ({\n  active: {\n    color: theme.palette.primary.main\n  },\n  tabButton: {\n    ...theme.typography.mainTab\n  },\n  tabItem: {\n    textAlign: \"center\"\n  },\n  tabLabelContainer: {\n    whiteSpace: \"nowrap\"\n  },\n  tabLabel: {\n    lineHeight: \"24px\",\n    height: 24,\n    verticalAlign: \"middle\"\n  },\n  tabText: {\n    lineHeight: \"24px\",\n    height: 24,\n    verticalAlign: \"middle\"\n  },\n  tabIcon: {\n    lineHeight: \"18px\",\n    height: 18,\n    width: 18,\n    marginRight: -theme.spacing(1),\n    verticalAlign: \"middle\"\n  },\n  tabLine: {\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    borderRadius: \"1px\"\n  },\n  logoContainer: {\n    position: \"fixed\",\n    width: 40,\n    height: 55,\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(2)\n  },\n  tabsContainer: {\n    position: \"fixed\",\n    left: 40,\n    width: \"calc( 100% - 40px )\",\n    height: 55,\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(2)\n  }\n}));\n\nexport const DEFAULT_TAB = \"/manual\";\nexport const SETUP_TAB = \"/setup\";\nexport const SIMULATOR_TAB = \"/simulator\";\nexport const MANUAL_TAB = \"/manual\";\nexport const PRODUCTION_TAB = \"/production\";\nexport const HISTORY_TAB = \"/history\";\nexport const CONFIG_TAB = \"/config\";\n\nexport const tabs = {\n  [SETUP_TAB]: { id: SETUP_TAB, label: \"setup\", canHide: false, component: SetupTab },\n//  [SIMULATOR_TAB]: { id: SIMULATOR_TAB, label: \"simulator\", canHide: true, component: SimulatorTab },\n  [MANUAL_TAB]: { id: MANUAL_TAB, label: \"manual\", canHide: false, component: ManualTab },\n  [PRODUCTION_TAB]: { id: PRODUCTION_TAB, label: \"production\", canHide: false, component: ProductionTab, alwaysMounted: true },\n  [HISTORY_TAB]: { id: HISTORY_TAB, label: \"history\", canHide: true, component: HistoryTab },\n  [CONFIG_TAB]: { id: CONFIG_TAB, label: \"config\", canHide: true, component: ConfigTab }, \n};\n\nexport const tabOrder = [ \n  tabs[SETUP_TAB],\n  tabs[MANUAL_TAB],\n  tabs[PRODUCTION_TAB],\n//  tabs[SIMULATOR_TAB],\n  tabs[HISTORY_TAB],\n  tabs[CONFIG_TAB]\n];\n\nconst Tabs = (props) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const location = useLocation();\n  const theme = useTheme();\n\n  const [ menuOpen, setMenuOpen ] = useState(false);\n  const buttonRef = useRef(null);\n  const isSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  const toggleMenuOpen = (e) => {\n    setMenuOpen(!menuOpen);\n  };\n\n  const tabLocation = location.pathname.split(\"/\")[1];\n  const activeTab = tabLocation ? \"/\" + tabLocation : DEFAULT_TAB ;\n\n  const setTab = (id) => () => {\n    history.push(id);\n    setMenuOpen(false);\n  };\n  const handleClose = () => {\n    setMenuOpen(false);\n  };\n  const classes = useStyles();\n\n  return <Paper elevation={0} square>\n  <div className={classes.logoContainer}>\n  <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.pocketnc.com\">\n    <LogoSvg width=\"40\" alt=\"Pocket NC\" fill={theme.palette.primary.main}/>\n  </a>\n  </div>\n  <div className={classes.tabsContainer}>\n  <Grid container>\n    { \n      tabOrder.map((tab, i) => {\n        const { id, label, canHide } = tab;\n\n        const isActive = id === activeTab;\n\n        return (<React.Fragment key={tab.id}>\n          <Hidden smDown={canHide}>\n            <Grid item md={2} sm={3} xs={3} className={ classes.tabItem }>\n              <Button classes={ { root: classes.tabButton } } onClick={setTab(id)} color={ isActive ? 'primary' : 'default' }>\n                <div className={classes.tabLabelContainer}>\n                <div className={classes.tabLine} style={ { borderColor: isActive ? theme.palette.primary.main : theme.palette.text.main } }></div>\n                <div className={classes.tabLabel}>{ (isActive && !isSmall) ? <ArrowRightIcon className={classes.tabIcon}/> : null } <span className={classes.tabText}>{t(label)}</span></div>\n                </div>\n              </Button>\n            </Grid>\n          </Hidden>\n        </React.Fragment>);\n      })\n    }\n    <Hidden mdUp>\n      <Grid item sm={3} xs={3} className={ classes.tabItem }>\n        <Button classes={ { root: classes.tabButton } } onClick={toggleMenuOpen} ref={buttonRef}><MenuIcon/></Button>\n        <Menu open={menuOpen} \n              anchorEl={buttonRef.current}\n              onClose={handleClose}>\n          {\n            tabOrder.filter((tab) => tab.canHide).map((tab) => {\n              const { id, label } = tab;\n\n              const isActive = id === activeTab;\n\n              return (<MenuItem key={id} onClick={setTab(id)} classes={ { root: classnames(classes.tabButton, {[classes.active]: isActive}) } }>\n                 { isActive ? <ArrowRightIcon/> : null } {t(label)}\n              </MenuItem>);\n            })\n          }\n        </Menu>\n      </Grid>\n    </Hidden>\n  </Grid>\n  </div>\n  </Paper>;\n};\nexport default Tabs;\n","import React, { useEffect, useState }  from 'react';\nimport Tabs from './Tabs';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  underlineSVG: {\n    position: \"fixed\",\n    top: 78\n  }\n}));\n\nconst TopBar = (props) => {\n  const classes = useStyles();\n  const [ width, setWidth ] = useState(window.innerWidth);\n  const theme = useTheme();\n  useEffect(() => {\n    const onResize = () => {\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", onResize);\n    window.addEventListener(\"orientationchange\", onResize);\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n      window.removeEventListener(\"orientationchange\", onResize);\n    }\n  }, []);\n\n  const height = 8;\n  const lineThickness =  1;\n\n  // math for adding extra curve at bottom of buttons\n  const rounding = 6;\n  const angle = 20*Math.PI/180;\n//  const curveHeight = strokeWidth;\n  const curveHeight = height;\n  const beginCurvePct = .15;\n  const beginCurve = beginCurvePct*width;\n  const endCurve = (1-beginCurvePct)*width;\n  const curveTop = 0;\n  const curveBottom = height;\n  const curveX = rounding*Math.cos(angle);\n  const curveY = rounding-rounding*Math.sin(angle);\n\n  const curvePts = [\n    [ \"M\", 0, curveBottom-lineThickness ],\n    [ \"L\", beginCurve, curveBottom-lineThickness ],\n    [ \"a\", rounding, rounding, 0, 0, 0, curveX, -curveY ],\n    [ \"L\", beginCurve+curveX+(curveHeight-2*curveY-lineThickness)*Math.tan(angle), curveTop+curveY ],\n    [ \"a\", rounding, rounding, 0, 0, 1, curveX, -curveY ],\n    [ \"L\", endCurve-curveX-(curveHeight-2*curveY-lineThickness)*Math.tan(angle)-curveX, curveTop ],\n    [ \"a\", rounding, rounding, 0, 0, 1, curveX, curveY ],\n    [ \"L\", endCurve-curveX, curveBottom-curveY-lineThickness ],\n    [ \"a\", rounding, rounding, 0, 0, 0, curveX, curveY],\n    [ \"L\", width, curveBottom-lineThickness ],\n    [ \"L\", width, curveBottom ],\n    [ \"L\", 0, curveBottom ],\n    [ \"Z\" ]\n  ];\n\nreturn <div>\n    <Tabs/>\n    <svg width={width} height={height} className={classes.underlineSVG}>\n    <path d={curvePts.map((cmd) => cmd.join(\" \")).join(\" \")}\n          fill={theme.palette.text.primary}/>\n  </svg>\n  </div>\n};\n\nexport default TopBar;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport TopBar from '../components/TopBar';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport { selectEstop, selectIsMachineHomed } from '../modules/rockhopper/selectors';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nexport default connect( \n(state, ownProps) => ({\n  isInEstop: selectEstop(state),\n  isHomed: selectIsMachineHomed(state)\n}), \n(dispatch, ownProps) => {\n  return ({ \n  onHome: () => dispatch(rockhopperActions.put.homeCmd()),\n  onAbort: () => dispatch(rockhopperActions.put.abortCmd()),\n  onDisableEstop: () => dispatch(rockhopperActions.put.estopCmd({ data: [ false ]}))\n}) },\n(stateProps, dispatchProps, ownProps) => {\n  return ({\n    leftLabelKey: \"homeAll\",\n    rightLabelKey: stateProps.isInEstop ? \"estop\" : \"reset\",\n    leftColor: \"primary\",\n    rightColor: stateProps.isInEstop ? \"error\" : \"secondary\",\n    onLeftButtonClick: dispatchProps.onHome,\n    onRightButtonClick: stateProps.isInEstop ? dispatchProps.onDisableEstop : dispatchProps.onAbort,\n    leftIcon: stateProps.isHomed ? null : <WarningIcon fontSize=\"large\"/>,\n    rightIcon: stateProps.isInEstop ? <ErrorIcon fontSize=\"large\"/> : null\n  })\n})(TopBar);\n","import React, { useCallback, useState, useEffect, useRef } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  focus: {\n    display: \"absolute\",\n    outline: \"none\"\n  }\n}));\n\nconst KeyboardShortcuts = (props) => {\n  const {\n    enable,\n    onKeyDown,\n    onKeyUp,\n    onFocus,\n    onBlur,\n  } = props;\n\n  const [ mouseDown, setMouseDown ] = useState(false);\n\n  const onMouseDown = useCallback((e) => {\n    setMouseDown(true);\n  }, [ setMouseDown ]);\n  const onMouseUp = useCallback((e) => {\n    setMouseDown(false);\n  }, [ setMouseDown ]);\n\n  const focusRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if(enable) {\n      const intervalId = setInterval(() => {\n        const currentFocus = document.activeElement;\n        if(!mouseDown) { // This allows the user to select text with the mouse\n          if(currentFocus.tagName === 'A' ||\n            currentFocus.tagName === 'BODY' ||\n            currentFocus.tagName === 'BUTTON') {\n            focusRef.current.focus();\n          }\n        }\n      }, 100);\n\n      document.addEventListener(\"mousedown\", onMouseDown);\n      document.addEventListener(\"mouseup\", onMouseUp);\n\n      return () => {\n        clearInterval(intervalId);\n        document.removeEventListener(\"mousedown\", onMouseDown);\n        document.removeEventListener(\"mouseup\", onMouseUp);\n      };\n    }\n  }, [ enable, mouseDown, onMouseDown, onMouseUp ]);\n\n  return <div className={classes.focus} \n              tabIndex=\"0\" // allows div to take focus\n              onKeyDown={onKeyDown} \n              onKeyUp={onKeyUp} \n              ref={focusRef} \n              onFocus={onFocus} \n              onBlur={onBlur}></div>;\n};\nexport default KeyboardShortcuts;\n","export const selectLocation = (state) => state.router.location;\n","import { connect } from 'react-redux';\nimport KeyboardShortcuts from '../components/KeyboardShortcuts';\nimport { tick } from '../util/sounds';\nimport actions from '../modules/rockhopper/actions';\nimport pentaActions from '../modules/pentaui/actions';\nimport { DEFAULT_TAB, MANUAL_TAB, SETUP_TAB } from '../components/Tabs';\nimport { selectLocation } from '../modules/router/selectors';\nimport { selectEnableKeyboardJogging, selectAxisSelectJogDigitIndex, selectAxisSelectJogAxis } from '../modules/pentaui/selectors';\nimport { selectAxes,\n         selectMaxLinearVelocity, \n         selectMachineStatus, \n         selectDelayedRapidRatePercentage, \n         selectDelayedMaxVelPercentage, \n         selectDelayedFeedratePercentage, \n         selectDelayedSpindle, \n         selectTrajCoordinates,\n         selectKeyboardShortcutsMap,\n         selectPositions,  \n         selectUnitsCode,\n         selectDisplayUnits, \n         selectReadyForMdi, \n         selectMdiHistory,\n         selectIsMachineHomed } from '../modules/rockhopper/selectors';\nimport { toMachineUnits } from '../hooks/useUnits';\n\nexport const stringToActionMap = {\n  'estopDisable': () => actions.put.estopCmd({data:[false]}),\n  'estopEnable': () => actions.put.estopCmd({data:[true]}),\n  'feedrateDecrement1': () => actions.put.incrementFeedrateCmd({data: [-0.01]}),\n  'feedrateIncrement1': () => actions.put.incrementFeedrateCmd({data: [+0.01]}),\n  'feedrateDecrement10': () => actions.put.incrementFeedrateCmd({data: [-0.1]}),\n  'feedrateIncrement10': () => actions.put.incrementFeedrateCmd({data: [+0.1]}),\n  'spindlerateDecrement1': () => actions.put.incrementSpindleOverrideCmd({data: [-0.01]}),\n  'spindlerateIncrement1': () => actions.put.incrementSpindleOverrideCmd({data: [+0.01]}),\n  'spindlerateDecrement10': () => actions.put.incrementSpindleOverrideCmd({data: [-0.1]}),\n  'spindlerateIncrement10': () => actions.put.incrementSpindleOverrideCmd({data: [+0.1]}),\n  'homeAll': () => actions.put.homeCmd(),\n  'feedHold': () => actions.put.feedHoldCmd(),\n  'step': () => actions.put.autoCmd({ data: [ \"AUTO_STEP\" ] }),\n  'cycleStart': () => actions.put.cycleStartCmd(),\n  'reset': () => actions.put.abortCmd(),\n}\n\nexport const stringToAxisSelectJogMap = {\n  'axisSelectJogSelectX': () => pentaActions.axisSelectJog.setAxis('X'),\n  'axisSelectJogSelectY': () => pentaActions.axisSelectJog.setAxis('Y'),\n  'axisSelectJogSelectZ': () => pentaActions.axisSelectJog.setAxis('Z'),\n  'axisSelectJogSelectA': () => pentaActions.axisSelectJog.setAxis('A'),\n  'axisSelectJogSelectB': () => pentaActions.axisSelectJog.setAxis('B'),\n  'axisSelectJogSelectC': () => pentaActions.axisSelectJog.setAxis('C'),\n  'axisSelectJogIncreaseStepSize': () => pentaActions.axisSelectJog.incrementDigitIndex(1),\n  'axisSelectJogDecreaseStepSize': () => pentaActions.axisSelectJog.incrementDigitIndex(-1),\n  'axisSelectJogNextAxis': (axisSelectJogAxis, trajCoords) => pentaActions.axisSelectJog.incrementAxis({inc: 1, axisSelectJogAxis, trajCoords}),\n  'axisSelectJogPreviousAxis': (axisSelectJogAxis, trajCoords) => pentaActions.axisSelectJog.incrementAxis({inc: -1, axisSelectJogAxis, trajCoords}),\n}\n\nconst isLocationJoggable = (location) => {\n  if(location.startsWith(MANUAL_TAB) || location.startsWith(SETUP_TAB)){\n    return true\n  }\n  else if(location === \"/\" && (DEFAULT_TAB === MANUAL_TAB || DEFAULT_TAB === SETUP_TAB)){\n    return true\n  } \n  \n}\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    axes: selectAxes(state),\n    axisSelectJogAxis: selectAxisSelectJogAxis(state),\n    axisSelectJogDigitIndex: selectAxisSelectJogDigitIndex(state),\n    displayUnits: selectDisplayUnits(state),\n    enable: true,\n    enableKeyboardJogging: selectEnableKeyboardJogging(state),\n    feedrate: selectDelayedFeedratePercentage(state),\n    location: selectLocation(state).pathname,\n    machineStatus: selectMachineStatus(state),\n    maxLinearVelocity: selectMaxLinearVelocity(state),\n    maxRapid: selectDelayedRapidRatePercentage(state),\n    maxVel: selectDelayedMaxVelPercentage(state),\n    mdiHistory: selectMdiHistory(state),\n    positions: selectPositions(state),\n    readyForMdi: selectReadyForMdi(state),\n    shortcutsMap: selectKeyboardShortcutsMap(state),\n    spindle: selectDelayedSpindle(state),\n    trajCoords: selectTrajCoordinates(state),\n    unitsCode: selectUnitsCode(state),\n    homed: selectIsMachineHomed(state),\n  }\n}, \n(dispatch, ownProps) => ({ \n// These will fire when keyboard shortcuts are available or not. \n// We should probably dispatch actions to make this information\n// available in the UI with some kind of indicator (in the old\n// UI there was a blue or orange button in the bottom bar).\n  onFocus: () => {\n//    console.log(\"keyboard shortcuts focused, can receive key events\")\n  },\n  onBlur: () => {\n//    console.log(\"keyboard shortcuts blurred, cannot receive key events\")\n  },\n  onJogContinuous: (axis, speed, jointFlag) => {\n    dispatch(actions.putHelpers.jogContinuous({ axis, speed, jointFlag }));\n  },\n  onJogIncrement: (axis, speed, increment, jointFlag) => {\n    dispatch(actions.putHelpers.jogIncrement({ axis, speed, increment, jointFlag }));\n  },\n  onJogStop: (axis, jointFlag) => {\n    dispatch(actions.putHelpers.jogStop({ axis, jointFlag }));\n  },\n  onAction: dispatch,\n  onSendMdiCmd: (cmd, history) => {\n    dispatch(actions.put.mdiCmd({ data: [ cmd ] }));\n    const newHistoryItem = {cmd: cmd, time: Date.now()};\n    const newHistory = history ? history.concat(newHistoryItem) : [newHistoryItem]\n    dispatch( actions.put.saveClientConfig({ data: [ 'MDIHistory', newHistory ], }));\n  },\n  onRejectMdiCmd: (cmd, reason) => {\n    dispatch(actions.messages.warning(`Cannot issue MDI command \"${cmd}\": ` + reason))\n  },\n}), (stateProps, dispatchProps, ownProps) => {\n  const {\n    axes,\n    axisSelectJogAxis,\n    axisSelectJogDigitIndex,\n    displayUnits,\n    enable,\n    enableKeyboardJogging,\n    location,\n    mdiHistory,\n    readyForMdi,\n    shortcutsMap,\n    trajCoords,\n    unitsCode,\n    homed\n  } = stateProps;\n  const {\n    onFocus,\n    onBlur,\n\n    onJogContinuous,\n    onJogIncrement,\n    onJogStop,\n    \n    onAction,\n    onSendMdiCmd,\n    onRejectMdiCmd\n  } = dispatchProps;\n  return {\n    enable,\n    onFocus,\n    onBlur,\n    onKeyDown: (e) => {\n      const {\n        nativeEvent,\n        shiftKey,\n        altKey,\n        ctrlKey,\n        metaKey,\n        repeat,\n      } = e;\n      const modifierString = (ctrlKey ? 'Ctrl+' : '') + (shiftKey ? 'Shift+' : '') + (altKey ? 'Alt+' : '') + (metaKey ? 'Meta+' : '');\n      let code = nativeEvent.code;\n      if(code.startsWith('Digit')){\n        code = code.slice(5);\n      }\n      else if(code.startsWith('Key')){\n        code = code.slice(3);\n      }\n      const keyCombination = modifierString + code;\n      if(!repeat && shortcutsMap.hasOwnProperty(keyCombination)){\n        const cmd = shortcutsMap[keyCombination];\n        if(cmd.startsWith('jog')){ //jog commands are strings with form: jog{axis}{direction}{optional modifier, either slow or incremental}.\n          if( isLocationJoggable(location) ) {\n            if(enableKeyboardJogging) {\n              const jointIndex = trajCoords.indexOf(cmd[3]); //The 4th character is an uppercase letter representing an axis: X, Y, Z, A, B, or C\n              if(jointIndex !== -1){\n                const direction = cmd[4] === '+' ? +1 : -1; //The 5th character represents direction: + or -\n                const speed = jointIndex > 2 ? 10 : 2.3;\n                const axesData = axes[jointIndex]\n                const jointFlag = !homed;\n                const jogAxis = homed ? axesData.index : jointIndex;\n                if(cmd.includes('slow')){\n                  onJogContinuous(jogAxis, speed * direction * 0.1, jointFlag);\n                }\n                else if(cmd.includes('incremental')){\n                  const displayUnit = jointIndex > 2 ? displayUnits.angle : displayUnits.length;\n                  const incrementBase = jointIndex > 2 ? 0.001 : displayUnit === 'mm' ? 0.001 : 0.0001;\n                  const magnitude = axisSelectJogDigitIndex ? axisSelectJogDigitIndex : 1;\n                  const increment = incrementBase * Math.pow(10, magnitude - 1);\n                  const machineUnitIncrement = toMachineUnits({value: increment, unit: displayUnit}, unitsCode).value;\n                  onJogIncrement(jogAxis, direction * speed, machineUnitIncrement, jointFlag);\n                }\n                else{\n                  onJogContinuous(jogAxis, speed * direction, jointFlag);\n                }\n                tick.play();\n              }\n            }\n          }\n        }\n        else if(cmd.startsWith('axisSelectJog')){\n          if(stringToAxisSelectJogMap.hasOwnProperty(cmd)){\n            const action = stringToAxisSelectJogMap[cmd](axisSelectJogAxis, trajCoords);\n            onAction(action);\n            tick.play();\n          }\n          else{\n            if( isLocationJoggable(location) ) {\n              if(enableKeyboardJogging) {\n                const jointIndex = trajCoords.indexOf(axisSelectJogAxis);\n                if(jointIndex !== -1 && axisSelectJogDigitIndex > 0 && axisSelectJogDigitIndex < 5){\n                  const displayUnit = jointIndex > 2 ? displayUnits.angle : displayUnits.length;\n                  const incrementBase = jointIndex > 2 ? 0.001 : displayUnit === 'mm' || (displayUnit === 'pu' && unitsCode === 'G21') ? 0.001 : 0.0001;\n                  const increment = incrementBase * Math.pow(10, axisSelectJogDigitIndex - 1);\n                  const machineUnitIncrement = toMachineUnits({value: increment, unit: displayUnit}, unitsCode).value;\n                  const direction = cmd.includes('+') ? +1 : -1; //The 5th character represents direction: + or -\n                  const speed = jointIndex > 2 ? 10 : 1;\n                  const axesData = axes[jointIndex]\n                  const jointFlag = !homed;\n                  const jogAxis = homed ? axesData.index : jointIndex;\n                  onJogIncrement(jogAxis, direction * speed, machineUnitIncrement, jointFlag);\n                  tick.play();\n                }\n              }\n            }\n          }\n        }\n        else if(cmd.startsWith('mdi')){\n          if(location.startsWith(MANUAL_TAB) || location.startsWith(SETUP_TAB)) {\n            if(readyForMdi.isReady){\n              onSendMdiCmd(cmd.slice(3), mdiHistory);\n            }\n            else{\n              onRejectMdiCmd(cmd.slice(3), readyForMdi.reason)\n              // dispatch(actions.messages.warning(cmd, readyForMdi.reason))\n            }\n          }\n        }\n        else{          const action = stringToActionMap[cmd]();\n          onAction(action)\n          tick.play();\n        }\n      }\n    },\n    onKeyUp: (e) => {\n      let code = e.nativeEvent.code;\n      if(code.startsWith('Digit')){\n        code = code.slice(5);\n      }\n      else if(e.nativeEvent.code.startsWith('Key')){\n        code = code.slice(3);\n      }\n      if(shortcutsMap.hasOwnProperty(code) && shortcutsMap[code].startsWith('jog')){\n        const actionKey = shortcutsMap[code];\n        const jointIndex = trajCoords.indexOf(actionKey[3]);\n        const axesData = axes[jointIndex]\n        const jointFlag = !homed;\n        const jogAxis = homed ? axesData.index : jointIndex;\n        onJogStop(jogAxis, jointFlag)\n      }\n    }\n  };\n})(KeyboardShortcuts);\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  primary: {\n    color: theme.palette.primary.main,\n    lineHeight: \"63px\"\n  },\n  secondary: {\n    color: theme.palette.secondary.main,\n    lineHeight: \"63px\"\n  },\n  extra: {\n    marginBottom: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n    ...theme.typography.statusItem,\n  }\n}));\n\nconst StatusItem = (props) => {\n  const {\n    color,\n    children\n  } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const hasClass = !!classes[color];\n  const styleObj = {};\n\n  if(!hasClass) {\n    if(color) {\n      styleObj.color = color;\n    } else {\n      styleObj.color = theme.palette.common.white;\n    }\n  }\n\n  return <span className={classnames(classes[color], classes.extra)} style={styleObj}>\n  {children}\n  </span>;\n};\nexport default StatusItem;\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  primary: {\n    color: theme.palette.primary.main,\n    lineHeight: \"20px\"\n  },\n  secondary: {\n    color: theme.palette.secondary.main,\n    lineHeight: \"20px\"\n  },\n  extra: {\n    lineHeight: \"20px\",\n    marginBottom: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n    ...theme.typography.statusItem,\n  }\n}));\n\nconst TwoLineStatusItem = (props) => {\n  const {\n    color,\n    children\n  } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const hasClass = !!classes[color];\n  const styleObj = {};\n\n  if(!hasClass) {\n    if(color) {\n      styleObj.color = color;\n    } else {\n      styleObj.color = theme.palette.common.white;\n    }\n  }\n\n  return <span className={classnames(classes[color], classes.extra)} style={styleObj}>\n  {children}\n  </span>;\n};\nexport default TwoLineStatusItem;\n","import React from 'react';\nimport StatusItem from './StatusItem';\nimport Hidden from '@material-ui/core/Hidden';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport useTranslation from '../hooks/useTranslation';\n\n//import { makeStyles } from '@material-ui/styles';\n\n//const useStyles = makeStyles((theme) => ({\n//}));\n\n// one code from each line will ever be active\nconst importantCodes = [ \"G0\", \"G1\", \"G2\", \"G3\",\n                         \"G17\", \"G18\", \"G19\", \n                         \"G20\", \"G21\", \n                         \"G43\", \"G49\",\n                         \"G54\", \"G55\", \"G56\", \"G57\", \"G58\", \"G59\", \"G59.1\", \"G59.2\", \"G59.3\",\n                         \"G90\", \"G91\",\n                         \"G93\", \"G94\",\n                         \"M3\", \"M4\", \"M5\",\n                         \"M7\", \"M8\", \"M9\",\n                         \"M428\", \"M429\", \"M430\" ];\nconst ActiveCodesStatusItem = (props) => {\n  const {\n    activeCodes = [\"G1\", \"G17\", \"G20\" ]\n  } = props;\n\n  const { t } = useTranslation();\n\n//  const classes = useStyles();\n\n  const onlyImportantActiveCodes = activeCodes.filter((code) => importantCodes.indexOf(code) !== -1);\n\n  return <StatusItem>\n    <Hidden mdDown>\n     <Tooltip title={activeCodes.join(\" \")} arrow enterTouchDelay={0}>\n       <span>{ onlyImportantActiveCodes.join(\" \") }</span>\n     </Tooltip>\n   </Hidden>\n   <Hidden lgUp>\n     <Tooltip title={activeCodes.join(\" \")} arrow enterTouchDelay={0}>\n       <span>{t(\"activeCodes\")}</span>\n     </Tooltip>\n   </Hidden>\n  </StatusItem>\n};\n\nexport default ActiveCodesStatusItem;\n","import { connect } from 'react-redux';\nimport ActiveCodes from '../components/ActiveCodesStatusItem';\n\nimport { selectActiveCodes } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    activeCodes: selectActiveCodes(state)\n  }\n}, \n(dispatch, ownProps) => ({ \n}))(ActiveCodes);\n","import React, { useState } from 'react';\nimport StatusItem from './StatusItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport InfoIcon from '@material-ui/icons/Info';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport useTranslation from '../hooks/useTranslation';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  badge: {\n  },\n  info: {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.primary.light\n  },\n  warning: {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.secondary.light\n  },\n  error: {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.error.light\n  }\n}));\n\nconst MessageBadgesStatusItem = (props) => {\n  const {\n    messageBadges,\n    onClear\n  } = props;\n\n  const [ anchorEl, setAnchorEl ] = useState(null);\n  const [ activeType, setActiveType ] = useState(null);\n\n  const { t } = useTranslation();\n\n  const classes = useStyles();\n\n  const handleClick = (type) => (e) => {\n    setAnchorEl(e.currentTarget);\n    setActiveType(type);\n  };\n\n  const handleClear = () => {\n    setActiveType(null);\n    setAnchorEl(null);\n    if(onClear) {\n      onClear(activeType);\n    }\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setActiveType(null);\n  };\n\n  return <><StatusItem>\n{ messageBadges.info.length > 0 ?\n   <IconButton color=\"inherit\" onClick={handleClick(\"info\")}>\n   <Badge badgeContent={messageBadges.info.length} color=\"primary\" classes={ { root: classes.badge }} anchorOrigin={ { horizontal: \"right\", vertical: \"bottom\" } }>\n      <InfoIcon/>\n    </Badge></IconButton> : null }\n    { messageBadges.warning.length > 0 ?\n   <IconButton color=\"inherit\" onClick={handleClick(\"warning\")}>\n    <Badge badgeContent={messageBadges.warning.length} color=\"secondary\" classes={ { root: classes.badge }} anchorOrigin={ { horizontal: \"right\", vertical: \"bottom\" } }>\n      <WarningIcon/>\n    </Badge>\n  </IconButton>\n    : null }\n    { messageBadges.error.length > 0 ?\n   <IconButton color=\"inherit\" onClick={handleClick(\"error\")}>\n    <Badge badgeContent={messageBadges.error.length} color=\"error\" classes={ { root: classes.badge }} anchorOrigin={ { horizontal: \"right\", vertical: \"bottom\" } }>\n      <ErrorIcon/>\n    </Badge>\n  </IconButton>\n    : null }\n  </StatusItem>\n  <Menu id=\"message-badges-menu\" anchorEl={anchorEl} open={Boolean(activeType)} onClose={handleClose}>\n    { activeType ? messageBadges[activeType].map((msg,i) => <MenuItem key={i} style={ {opacity: 1 }} disabled classes={ { root: classes[msg.type] } }>{msg.message}</MenuItem>) : null }\n    <MenuItem onClick={handleClear}>{ t(\"clear\") }</MenuItem>\n  </Menu>\n  </>\n};\nexport default MessageBadgesStatusItem;\n","import { connect } from 'react-redux';\nimport MessageBadgesStatusItem from '../components/MessageBadgesStatusItem';\n\nimport { selectMessageBadges } from '../modules/pentaui/selectors';\nimport actions from '../modules/pentaui/actions';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    messageBadges: selectMessageBadges(state)\n  }\n}, \n(dispatch, ownProps) => ({ \n  onClear: (type) => {\n    dispatch(actions.clearMessageBadge(type));\n  }\n}))(MessageBadgesStatusItem);\n","import React from 'react';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport DisconnectedIcon from '@material-ui/icons/Block';\nimport ConnectedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport { useTranslation } from 'react-i18next';\nimport StatusItem from './StatusItem';\nimport TwoLineStatusItem from './TwoLineStatusItem';\nimport ActiveCodesStatusItem from '../containers/ActiveCodesStatusItem';\nimport MessageBadgesStatusItem from '../containers/MessageBadgesStatusItem';\n\nconst useStyles = makeStyles((theme) => ({\n  bar: {\n  },\n  left: {\n    zIndex: 200,\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    height: 63\n  },\n  right: {\n    position: \"fixed\",\n    bottom: 0,\n    right: 0,\n    lineHeight: \"66px\",\n    paddingRight: theme.spacing(1),\n    verticalAlign: \"middle\",\n    zIndex: 200,\n    height: 63\n  },\n  paper: {\n    backgroundColor: theme.palette.text.primary,\n    padding: theme.spacing(1)\n  },\n  statusSpan: {\n    textAlign: \"center\",\n    verticalAlign: \"middle\",\n    display: \"inline-block\",\n    textTransform: \"uppercase\",\n    whiteSpace: 'nowrap',\n    lineHeight: \"63px\"\n  },\n  statusItem: {\n    ...theme.typography.statusItem,\n  },\n}));\n\nconst StatusBar = (props) => {\n  const {\n    connected,\n    rtcSeconds,\n    machineStatus\n  } = props;\n  \n  const { t } = useTranslation();\n  const classes = useStyles();\n  const theme = useTheme();\n  const isSM = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const hours = Math.floor(rtcSeconds/60/60) || 0;\n  const minutes = Math.floor(rtcSeconds/60-hours*60) || 0;\n  const seconds = rtcSeconds-hours*60*60-minutes*60 || 0;\n\n  return <>\n    <div className={classes.left}>\n    { connected ? <StatusItem color=\"primary\"><ConnectedIcon className={classes.statusSpan}/>{ isSM ? <span className={classes.statusSpan}></span> : <span className={ classes.statusSpan }>{t('connected')}</span> }</StatusItem> :\n                  <StatusItem color=\"secondary\"><DisconnectedIcon className={classes.statusSpan}/>{ isSM ? <span className={classes.statusSpan}></span> : <span className={ classes.statusSpan }>{t('disconnected')}</span> }</StatusItem> }\n    <ActiveCodesStatusItem/>\n    </div>\n    <div className={classes.right}>\n   {/*  <StatusItem>{ t(machineStatus) }</StatusItem>\n     <StatusItem>{ (\"0\" + hours).slice(-2) }:{ (\"0\" + minutes).slice(-2)}:{(\"0\" + seconds.toFixed(1)).slice(-4)}</StatusItem> */}\n     <TwoLineStatusItem>{ t(machineStatus) }<br/>{ (\"0\" + hours).slice(-2) }:{ (\"0\" + minutes).slice(-2)}:{(\"0\" + seconds.toFixed(1)).slice(-4)}</TwoLineStatusItem>\n     <MessageBadgesStatusItem/>\n    </div>\n  </>;\n};\nexport default StatusBar;\n","import { connect } from 'react-redux';\nimport StatusBar from '../components/StatusBar';\nimport { selectIsLoggedIn, selectRtcSeconds, selectMachineStatus } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  const connected = selectIsLoggedIn(state);\n  const rtcSeconds = selectRtcSeconds(state);\n  const machineStatus = selectMachineStatus(state);\n  return { connected, rtcSeconds, machineStatus };\n}, \n(dispatch, ownProps) => ({ }))(StatusBar);\n","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport StatusBar from '../containers/StatusBar';\nimport useMeasure from 'react-use-measure';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n  },\n  bottomBar: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    width: \"100%\",\n    backgroundColor: \"rgba(0,0,0,0)\"\n  }\n}));\n\nconst BottomBar = (props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const {\n    buttonLabel,\n    buttonColor,\n    onButtonClick\n  } = props;\n\n  const [ divRef, { width }] = useMeasure();\n  const height = 63;\n  const theme = useTheme();\n  const isSmall = useMediaQuery(theme.breakpoints.down('sm'));\n\n// math for adding extra curve at bottom of buttons\n  const rounding = 6;\n  const angle = 70*Math.PI/180;\n//  const curveHeight = strokeWidth;\n  const curveHeight = height;\n\n  // percent of X width\n  const beginCurvePct = .3;\n\n  // X pixels from left of screen\n  const beginCurve = beginCurvePct*width;\n\n  const curveTop = 0;\n  const curveBottom = height;\n\n  const xt = rounding*Math.sin(angle);\n  const yt = rounding+rounding*Math.cos(angle);\n\n  const xb = rounding*Math.sin(angle);\n  const yb = rounding-rounding*Math.cos(angle);\n\n  const gap = theme.spacing(1);\n  const tanAngle = Math.tan(angle);\n  const midY = (curveHeight-yt-yb);\n  const midX = midY/tanAngle;\n  const gt = yt/tanAngle;\n  const gb = yb/tanAngle;\n\n  // background of the left side of the status bar\n  const leftPath = [\n    [ \"M\", 0, curveTop ],\n    [ \"L\", beginCurve, curveTop ],\n    [ \"a\", rounding, rounding, 0, 0, 1, xt, yt ],\n    [ \"l\", -midX, midY ],\n    [ \"a\", rounding, rounding, 0, 0, 1, -xb, yb ],\n    [ \"L\", 0, curveBottom ],\n    [ \"Z\" ]\n  ];\n\n  // background of the right side of the status bar\n  const rightPath = [\n    [ \"M\", width, curveTop ],\n    [ \"L\", width-beginCurve, curveTop ],\n    [ \"a\", rounding, rounding, 0, 0, 0, -xt, yt ],\n    [ \"l\", midX, midY ],\n    [ \"a\", rounding, rounding, 0, 0, 0, xb, yb ],\n    [ \"L\", width, curveBottom ],\n    [ \"Z\" ]\n  ];\n\n  // background of center button\n  const centerPath = [\n    [ \"M\", beginCurve+xt+gt+xb-gb+gap, curveTop ],\n    [ \"a\", rounding, rounding, 0, 0, 0, -xb, yb ],\n    [ \"l\", -midX, midY ],\n    [ \"a\", rounding, rounding, 0, 0, 0, xt, yt ],\n    [ \"L\", width-beginCurve-xt+midX+gb-xt-gt-gap, curveBottom ],\n    [ \"a\", rounding, rounding, 0, 0, 0, xt, -yt ],\n    [ \"l\", -midX, -midY ],\n    [ \"a\", rounding, rounding, 0, 0, 0, -xb, -yb ],\n    [ \"Z\" ]\n  ];\n\n  // Shapes that covers the rectangular portion of the ButtonBase that don't overlap with centerPath so that only the shape\n  // of the centerPath is clickable. Also visually covers the portion of the ripple effect that extends outside\n  // the centerPath shape (because the button portion of ButtonBase is rectangular and the centerPath is not).\n  const leftCover = [\n    centerPath[0],\n    centerPath[1],\n    centerPath[2],\n    centerPath[3],\n    [ \"L\", 0, curveBottom ],\n    [ \"L\", 0, curveTop ],\n    [ \"Z\" ]\n  ];\n  const rightCover = [\n    [ \"M\", width, curveBottom ],\n    centerPath[4],\n    centerPath[5],\n    centerPath[6],\n    centerPath[7],\n    [ \"L\", width, curveTop ],\n    [ \"Z\" ]\n  ];\n\n  const buttonLeft = (centerPath[0][1]+centerPath[1][6]+centerPath[2][1]+centerPath[3][6]-rounding)\n  const buttonWidth = (centerPath[4][1]+rounding)-buttonLeft;\n\n  return <div ref={divRef} className={classes.bottomBar}>\n    <ButtonBase focusRipple className={classes.button} style={ { left: buttonLeft, height: height-1 } } onClick={onButtonClick}>\n      <SvgIcon width={width} height={height} viewBox={buttonLeft + \" 0 \" + buttonWidth + \" \" + height} style={{ width: buttonWidth, height, left: buttonLeft }}>\n        <path d={centerPath.map((cmd) => cmd.join(\" \")).join(\" \")} \n              fill={theme.palette[buttonColor].main}/>\n        <text x={width*.5} y={height*.5} style={ (isSmall ? theme.typography.bottomButtonSm : theme.typography.bottomButton) } textAnchor=\"middle\" alignmentBaseline=\"middle\">{ t(buttonLabel) }</text>\n      </SvgIcon>\n    </ButtonBase>\n    <svg width={width} height={height} style={ { display: \"block\", height, position: \"fixed\", bottom: 0, zIndex: 100 }} pointerEvents=\"none\">\n      <path d={leftCover.map((cmd) => cmd.join(\" \")).join(\" \")} \n            fill={theme.palette.background.paper} pointerEvents=\"visible\"/>\n      <path d={rightCover.map((cmd) => cmd.join(\" \")).join(\" \")} \n            fill={theme.palette.background.paper} pointerEvents=\"visible\"/>\n      <path d={leftPath.map((cmd) => cmd.join(\" \")).join(\" \")} \n            fill={theme.palette.text.primary}/>\n      <path d={rightPath.map((cmd) => cmd.join(\" \")).join(\" \")} \n            fill={theme.palette.text.primary}/>\n    </svg>\n\n    <StatusBar/>\n  </div>;\n};\n\nexport default BottomBar;\n","import { connect } from 'react-redux';\nimport BottomBar from '../components/BottomBar';\nimport rockhopperActions from '../modules/rockhopper/actions';\nimport { selectEstop } from '../modules/rockhopper/selectors';\n\nexport default connect(\n  (state, ownProps) => ({\n    isInEstop: selectEstop(state)\n  }), \n  (dispatch, ownProps) => ({ \n    onAbort: () => dispatch(rockhopperActions.put.abortCmd()),\n    onDisableEstop: () => dispatch(rockhopperActions.put.estopCmd({ data: [ false ]}))\n  }),\n  (stateProps, dispatchProps, ownProps) => ({\n    buttonLabel: stateProps.isInEstop ? \"estop\" : \"reset\",\n    buttonColor: stateProps.isInEstop ? \"error\" : \"secondary\",\n    onButtonClick: stateProps.isInEstop ? dispatchProps.onDisableEstop : dispatchProps.onAbort,\n  })\n)(BottomBar);\n","import { connectRouter } from 'connected-react-router'\nimport { createHashHistory } from 'history';\n\nexport const history = createHashHistory({ hashType: \"noslash\" });\n\nconst router = () => ({\n  id: \"router\",\n  reducerMap: {\n    router: connectRouter(history)\n  }\n});\nexport default router;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { WARNING, INFO, ERROR } from '../modules/rockhopper/constants';\nimport { useTransition, animated } from 'react-spring';\nimport classnames from 'classnames';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport Paper from '@material-ui/core/Paper';\n\nconst AnimatedPaper = animated(Paper);\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: \"fixed\",\n    right: 0,\n    bottom: 64\n  },\n  item: {\n    width: 350, // +16=366\n    height: 88, // +16=104\n    float: \"right\",\n    clear: \"right\",\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.common.white,\n    borderRadius: 4,\n    position: \"absolute\",\n    bottom: 0,\n    right: 0\n  },\n  info: {\n    backgroundColor: theme.palette.primary.verylight,\n  },\n  warning: {\n    backgroundColor: theme.palette.secondary.verylight,\n  },\n  error: {\n    backgroundColor: theme.palette.error.verylight,\n  },\n  infoIcon: {\n    color: theme.palette.primary.main,\n    float: \"left\",\n    paddingRight: theme.spacing(1)\n  },\n  warningIcon: {\n    color: theme.palette.secondary.main,\n    float: \"left\",\n    paddingRight: theme.spacing(1)\n  },\n  errorIcon: {\n    color: theme.palette.error.main,\n    float: \"left\",\n    paddingRight: theme.spacing(1)\n  },\n  message: {\n  }\n}));\nconst Popups = (props) => {\n  const {\n    messages\n  } = props;\n\n  const classes = useStyles();\n\n  const indexedMessages = messages.map((msg, index) => ({ ...msg, index }));\n\n  const transitions = useTransition(indexedMessages, msg => msg.id, {\n    from: ({ index }) => ({ opacity: 0, transform: \"translate(0, -100%)\"}),\n    enter: ({ index }) => ({ opacity: 1, transform: \"translate(0, 0)\"}),\n    leave: ({ index }) => ({ opacity: 0, transform: \"translate(0, 100%)\"}),\n    update: ({ index }) => ({ bottom: (indexedMessages.length-index-1)*112 }),\n  });\n\n  return (\n  <div className={classes.container}>\n    { \n      transitions.map(({ item: msg, props }) => {\n        let icon;\n        switch(msg.type) {\n          case ERROR:\n            icon = <ErrorIcon className={classes.errorIcon}/>\n            break;\n          case WARNING:\n            icon = <WarningIcon className={classes.warningIcon}/>\n            break;\n          case INFO:\n            icon = <InfoIcon className={classes.infoIcon}/>\n            break;\n          default:\n            icon = null;\n        }\n\n        return <AnimatedPaper style={props} elevation={2} key={msg.id} className={classnames(classes.item, classes[msg.type])}>\n          { icon } <span className={classes.message}>{msg.message}</span>\n        </AnimatedPaper>;\n      })\n    }\n  </div>);\n};\nexport default Popups;\n","import { connect } from 'react-redux';\nimport Popups from '../components/Popups';\nimport { selectPopups } from '../modules/pentaui/selectors';\n\nexport default connect( \n(state, ownProps) => ({\n  messages: selectPopups(state)\n}), \n(dispatch, ownProps) => ({ \n}))(Popups);\n","export default __webpack_public_path__ + \"static/media/logo.4778a996.svg\";","import React, { Suspense } from 'react';\nimport { ThemeProvider, createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport './App.css';\nimport TopBar from '../containers/TopBar';\nimport KeyboardShortcuts from '../containers/KeyboardShortcuts';\nimport BottomBar from '../containers/BottomBar';\nimport { Switch, Route } from \"react-router-dom\";\nimport { tabs, tabOrder, DEFAULT_TAB } from './Tabs';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { history } from '../modules/router';\nimport Popups from '../containers/Popups';\nimport logo from '../logo.svg';\nimport DialectProvider from './DialectProvider';\nimport UnitsProvider from './UnitsProvider';\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      verylight: \"#edfcf7\",\n      light: \"#59e4b8\",\n      main: \"#03b188\",\n      dark: \"#00805b\",\n      contrastText: \"#ffffff\"\n    },\n    secondary: {\n      verylight: \"#fffcee\",\n      main: \"#ffb431\",\n      light: \"#ffe665\",\n      dark: \"#c78500\",\n      contrastText: \"#2d2d2d\"\n    },\n    text: {\n      primary: \"#333333\",\n      secondary: \"#333333\",\n    }\n  },\n  typography: {\n    button: {\n      fontFamily: '\"Montserrat Bold\", sans-serif',\n      letterSpacing: 2,\n      textTransform: \"uppercase\",\n      fontSize: \".75rem\"\n    },\n    mainTab: {\n      fontFamily: '\"Montserrat Bold\", sans-serif',\n      letterSpacing: 3,\n      textTransform: \"uppercase\",\n      fontSize: \".875rem\"\n    },\n    statusItem: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      letterSpacing: 1,\n      fontSize: 12,\n      display: \"inline-block\",\n      verticalAlign: \"middle\",\n      textTransform: \"uppercase\",\n    },\n    axisLabel: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      letterSpacing: 1,\n      fontSize: 30,\n      display: \"inline-block\",\n      verticalAligner: \"middle\",\n      textTransform: \"uppercase\"\n    },\n    axisValue: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      letterSpacing: 1,\n      fontSize: 30,\n      display: \"inline-block\",\n      verticalAligner: \"middle\"\n    },\n    dataText: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      letterSpacing: 1,\n      textAlign: 'center',\n      fontWeight: 'bold',      \n    },\n    topButton: {\n      fontFamily: '\"Montserrat Black Italic\", sans-serif',\n      letterSpacing: 8,\n      textTransform: \"uppercase\",\n      fontSize: 25\n    },\n    topButtonSm: {\n      fontFamily: '\"Montserrat Black Italic\", sans-serif',\n      letterSpacing: 3,\n      textTransform: \"uppercase\",\n      fontSize: 18\n    },\n    bottomButton: {\n      fontFamily: '\"Montserrat Black Italic\", sans-serif',\n      letterSpacing: 8,\n      textTransform: \"uppercase\",\n      fontSize: 25\n    },\n    bottomButtonSm: {\n      fontFamily: '\"Montserrat Black Italic\", sans-serif',\n      letterSpacing: 3,\n      textTransform: \"uppercase\",\n      fontSize: 18\n    },\n    panelHeader: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      letterSpacing: 0,\n      fontSize: 22,\n      fontWeight: \"bold\",\n      textTransform: \"uppercase\",\n      whiteSpace: \"nowrap\"\n    },\n    sectionHeader: {\n      fontFamily: '\"Titillium Web Regular\", sans-serif',\n      letterSpacing: 3,\n      fontSize: 14,\n      fontWeight: \"normal\"\n    },\n    gaugeText: {\n      fontFamily: '\"Titillium Web Regular\", sans-serif',\n      fontWeight: \"bold\"\n    },\n    gaugeHeader: {\n      fontFamily: '\"Montserrat Bold\", sans-serif',\n      letterSpacing: .2,\n      fontSize: 4,\n      fontWeight: \"bold\",\n      textTransform: \"uppercase\"\n    },\n    rpmText: {\n      fontFamily: '\"Titillium Web Bold\", sans-serif',\n      fontSize: 15,\n      textTransform: \"uppercase\"\n    }\n  },\n  overrides: {\n    MuiInputBase: {\n      root: {\n        fontFamily: '\"Titillium Web Regular\", sans-serif',\n      }\n    },\n    MuiFormLabel: {\n      root: {\n        fontFamily: '\"Titillium Web Regular\", sans-serif',\n      }\n    },\n    // MuiOutlinedInput: {\n    //   input: {\n    //     borderColor: 'blue'\n    //   },\n    //   notchedOutline: {\n    //     borderColor: palette.primary.main\n    //   }\n    // }\n  }\n});\ntheme.palette.error.verylight = \"#fcf0f0\";\n\nwindow.theme = theme;\n\nconst useStyles = makeStyles((theme) => ({\n  mainContent: {\n    position: \"fixed\",\n    width: \"100%\",\n    height: \"calc( 100% - 86px - 51px )\",\n    top: 86,\n    left: 0,\n    overflow: 'scroll'\n  }\n}));\n\n\nfunction AppPage() {\n  const classes = useStyles();\n  return (\n    <ThemeProvider theme={theme}>\n      <ConnectedRouter history={history}>\n        <TopBar/>\n        <div className={classes.mainContent}>\n          <Switch>\n           { tabOrder.filter((tab) => !tab.alwaysMounted).map((tab) => {\n             const {\n               component,\n               id\n             } = tab;\n  \n             const TabContent = component;\n  \n             return <Route path={id} key={id}><TabContent/></Route>\n           }) }\n           <Route exact path=\"/\">{ tabs[DEFAULT_TAB].component }</Route>\n          </Switch>\n         { tabOrder.filter((tab) => tab.alwaysMounted).map((tab) => {\n           const {\n             component,\n             id\n           } = tab;\n  \n           const TabContent = component;\n  \n           return <TabContent key={id}/>\n         }) }\n        </div>\n        <BottomBar/>\n        <KeyboardShortcuts/>\n        <Popups/>\n      </ConnectedRouter>\n    </ThemeProvider>\n    );\n};\n\n// loading component for suspense fallback\nconst Loader = () => (\n  <div className=\"App\">\n    <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    <div>loading...</div>\n  </div>\n);\n\nfunction App(props) {\n  const {\n    dialect,\n    displayUnits,\n    activeCodes,\n  } = props;\n  return (\n  <UnitsProvider value={{displayUnits, activeCodes}}>\n    <DialectProvider value={dialect}>\n      <Suspense fallback={<Loader/>} >\n        <AppPage/>\n      </Suspense>\n    </DialectProvider>\n  </UnitsProvider>\n  );\n}\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from '../components/App';\n\nimport { selectDialect } from '../modules/pentaui/selectors';\nimport { selectDisplayUnits } from '../modules/rockhopper/selectors';\nimport { selectActiveCodes } from '../modules/rockhopper/selectors';\n\nexport default connect( \n(state, ownProps) => {\n  return { \n    dialect: selectDialect(state),\n    displayUnits: selectDisplayUnits(state),\n    activeCodes: selectActiveCodes(state),\n  }\n})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import actions, { createRockhopperActionType, createFriendlyName } from './actions';\nimport { handleActions } from 'redux-actions';\nimport { \n  LOCALSTORAGE_KEY,\n  FILE_UPLOAD_QUEUED,\n  FILE_UPLOAD_UPLOADING,\n  FILE_UPLOAD_ASK_FOR_OVERWRITE,\n  FILE_UPLOAD_CANCELED,\n  TOOL_ENTRY_INDICES,\n} from './constants';\nimport produce from 'immer';\n\nconst createStatusReducers = () => {\n  const actionCreators = Object.values(actions.get);\n  const exampleActions = actionCreators.map((actionCreator) => actionCreator({}));\n\n  const reducers = exampleActions.reduce((reducerMap, exampleAction) => {\n    const {\n      name\n    } = exampleAction.payload;\n    const typePath = exampleAction.type.split('/');\n    const typeSuffix = typePath[typePath.length-1];\n    const type = createRockhopperActionType(\"UPDATE\", typeSuffix);\n    const friendlyName = createFriendlyName(name);\n    reducerMap[type] = produce((state, action) => {\n      state.status[friendlyName] = action.payload.data;\n    });\n    return reducerMap;\n  }, {});\n\n  return reducers;\n};\nconst createDelayedStatusReducers = () => {\n  const actionCreators = Object.values(actions.get);\n  const exampleActions = actionCreators.map((actionCreator) => actionCreator({}));\n\n  const reducers = exampleActions.reduce((reducerMap, exampleAction) => {\n    const {\n      name\n    } = exampleAction.payload;\n    const typePath = exampleAction.type.split('/');\n    const typeSuffix = typePath[typePath.length-1];\n    const type = createRockhopperActionType(\"DELAYED\", \"UPDATE_IMMEDIATE\", typeSuffix);\n    const friendlyName = createFriendlyName(name);\n    reducerMap[type] = produce((state, action) => {\n      state.delayed.status[friendlyName] = action.payload.data;\n    });\n\n    const type2 = createRockhopperActionType(\"DELAYED\", \"UPDATE\", typeSuffix);\n    reducerMap[type2] = produce((state, action) => {\n      state.delayed.status[friendlyName] = action.payload.data;\n    });\n\n    const type3 = createRockhopperActionType(\"DELAYED\", \"REGISTER_UPDATE\", typeSuffix);\n    reducerMap[type3] = produce((state, action) => {\n      state.delayed.registered[friendlyName] = action.payload;\n    });\n    return reducerMap;\n  }, {});\n\n  return reducers;\n};\n\nconst localStorageData = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY) || \"{}\");\nexport const defaultState = {\n  // use server in localstorage if available, otherwise use the current hostname, unless it's a localhost address, then use 192.168.6.2\n  webSocket: {\n    server: localStorageData.server || (document.location.hostname.indexOf(\"localhost\") === -1 ? document.location.hostname : \"192.168.6.2\"),\n    port: localStorageData.port || \"8000\",\n    user: localStorageData.user || \"default\",\n    password: localStorageData.password || \"default\",\n    encrypted: typeof(localStorageData.encrypted) === \"undefined\" ? false : (localStorageData.encrypted)\n  },\n  isLoggedIn: false,\n  actionEmitters: {},\n  features: {},\n  status: {},\n  delayed: {\n    registered: {},\n    status: {}\n  },\n  fileDownload: {},\n  fileUpload: {},\n  fileCache: { \n    paths: {},\n    progress: {}\n  }\n};\n\nconst reducerCreator = (opts={}) => {\n  const {\n    includeStatusReducers = true,\n    includeDelayedStatusReducers = true\n  } = opts;\n  const statusReducers = includeStatusReducers ? createStatusReducers() : {};\n  const delayedStatusReducers = includeDelayedStatusReducers ? createDelayedStatusReducers() : {};\n  return handleActions({\n    [actions.fileCache.initProgress]: produce((state,action) => {\n      const {\n        checksum,\n        size\n      } = action.payload;\n      state.fileCache.progress[checksum] = { size, bytesLoaded: 0 };\n    }),\n    [actions.fileCache.updateProgress]: produce((state,action) => {\n      const {\n        checksum,\n        bytesLoaded\n      } = action.payload;\n      state.fileCache.progress[checksum].bytesLoaded = bytesLoaded;\n    }),\n    [actions.fileCache.setPathChecksum]: produce((state,action) => {\n      const {\n        path,\n        checksum\n      } = action.payload;\n      state.fileCache.paths[path] = checksum;\n    }),\n    [actions.fileUpload.removeAll]: produce((state,action) => {\n      state.fileUpload = {};\n    }),\n    [actions.fileUpload.remove]: produce((state,action) => {\n      const path = action.payload;\n      delete state.fileUpload[path];\n    }),\n    [actions.fileUpload.cancel]: produce((state,action) => {\n      const path = action.payload;\n      if(state.fileUpload[path]) {\n        state.fileUpload[path].state = FILE_UPLOAD_CANCELED;\n      }\n    }),\n    [actions.fileUpload.cancelAll]: produce((state,action) => {\n      for(let path in state.fileUpload) {\n        state.fileUpload[path].state = FILE_UPLOAD_CANCELED;\n      }\n    }),\n    [actions.fileUpload.progress]: produce((state,action) => {\n      const {\n        path, progress\n      } = action.payload;\n      if(state.fileUpload[path]) {\n        state.fileUpload[path].progress = progress;\n        state.fileUpload[path].state = FILE_UPLOAD_UPLOADING;\n      }\n    }),\n    [actions.fileUpload.finalize]: produce((state,action) => {\n      const {\n        path\n      } = action.payload;\n      delete state.fileUpload[path];\n    }),\n    [actions.fileUpload.askForOverwrite]: produce((state,action) => {\n      const {\n        path\n      } = action.payload;\n\n      state.fileUpload[path].state = FILE_UPLOAD_ASK_FOR_OVERWRITE;\n    }),\n    [actions.fileUpload.confirmOverwrite]: produce((state,action) => {\n      const {\n        path\n      } = action.payload;\n\n      state.fileUpload[path].overwrite = true;\n    }),\n    [actions.fileUpload.confirmOverwriteAll]: produce((state,action) => {\n      for(let key in state.fileUpload) {\n        state.fileUpload[key].overwrite = true;\n      }\n    }),\n    [actions.fileUpload.queued]: produce((state,action) => {\n      const {\n        path,\n        overwrite\n      } = action.payload;\n\n      state.fileUpload[path] = {  path, overwrite, progress: 0, state: FILE_UPLOAD_QUEUED };\n    }),\n    [actions.fileDownload.removeAll]: produce((state,action) => {\n      state.fileDownload = {};\n    }),\n    [actions.fileDownload.remove]: produce((state,action) => {\n      const path = action.payload;\n      delete state.fileDownload[path];\n    }),\n    [actions.fileDownload.cancel]: produce((state,action) => {\n      const path = action.payload;\n      if(state.fileDownload[path]) {\n        state.fileDownload[path].state = FILE_UPLOAD_CANCELED;\n      }\n    }),\n    [actions.fileDownload.cancelAll]: produce((state,action) => {\n      for(let path in state.fileDownload) {\n        state.fileDownload[path].state = FILE_UPLOAD_CANCELED;\n      }\n    }),\n    [actions.fileDownload.progress]: produce((state,action) => {\n      const {\n        path, progress\n      } = action.payload;\n      if(state.fileDownload[path]) {\n        state.fileDownload[path].progress = progress;\n        state.fileDownload[path].state = FILE_UPLOAD_UPLOADING;\n      }\n    }),\n    [actions.fileDownload.queued]: produce((state,action) => {\n      const {\n        path,\n        overwrite\n      } = action.payload;\n\n      state.fileDownload[path] = {  path, overwrite, progress: 0, state: FILE_UPLOAD_QUEUED };\n    }),\n    [actions.setLoggedIn]: produce((state,action) => { \n      const isLoggedIn = action.payload;\n      state.isLoggedIn = isLoggedIn;\n\n      if(!isLoggedIn) {\n        state.fileUpload = {}\n      }\n    }),\n    [actions.setConnectionDetails]: produce((state,action) => {\n      const { \n        server,\n        port,\n        user, \n        password,\n        encrypted \n      } = action.payload;\n      state.webSocket.user = user;\n      state.webSocket.password = password;\n      state.webSocket.server = server;\n      state.webSocket.port = port;\n      state.webSocket.encrypted = encrypted;\n    }),\n    [actions.addActionEmitter]: produce((state,action) => {\n      const {\n        id\n      } = action.payload;\n      if(!state.actionEmitters[id]) {\n        state.actionEmitters[id] = [];\n      }\n      state.actionEmitters[id].push(action.payload);\n    }),\n    [actions.removeActionEmitter]: produce((state,action) => {\n      const {\n        id,\n        type\n      } = action.payload;\n      if(state.actionEmitters[id]) {\n        const index = state.actionEmitters[id].findIndex((curActionEmitter) => curActionEmitter.id === id &&\n                                                                               curActionEmitter.type === type);\n        state.actionEmitters[id].splice(index, 1);\n      }\n    }),\n    [actions.response.getHelpers.programPrefix]: produce((state, action) => {\n      state.status.programPrefix = action.payload.data.parameters[0].values.value;\n    }),\n    [actions.response.getHelpers.features]: produce((state, action) => {\n      const features = {};\n\n      if(action.payload.data.parameters) {\n        for(let feature of action.payload.data.parameters) {\n          features[feature.values.name] = true;\n        }\n      }\n      state.features = features;\n    }),\n    [actions.updateHelpers.setDisplayUnits]: produce((state,action) => {\n      if(!state.status.clientConfig) {\n        state.status.clientConfig = {};\n      }\n      state.status.clientConfig.displayUnits = action.payload;\n    }),\n    [actions.updateHelpers.toolFlutes]: produce((state, action) => {\n      state.status.clientConfig.ToolFlutes = action.payload.data;\n    }),\n    [actions.updateHelpers.toolTableDescriptions]: produce((state, action) => {\n      state.status.clientConfig.ToolTableDescriptions = action.payload.data;\n    }),\n    [actions.updateHelpers.toolDiameter]: produce((state, action) => {\n      const [toolIndex, toolDiameter] = [...action.payload.data];\n      state.status.toolTable[toolIndex][TOOL_ENTRY_INDICES.DIAMETER] = toolDiameter;\n    }),\n    [actions.updateHelpers.toolLengthOffset]: produce((state, action) => {\n      const [toolIndex, toolLength] = [...action.payload.data];\n      state.status.toolTable[toolIndex][TOOL_ENTRY_INDICES.Z_OFFSET] = toolLength;\n    }),\n    [actions.updateHelpers.toolTableRow]: produce((state, action) => {\n      const [toolIndex] = [...action.payload.data];\n      state.status.toolTable[toolIndex] = [null, ...action.payload.data];\n    }),\n    [actions.updateHelpers.toolTable]: produce((state, action) => {\n      state.status.toolTable = [null, ...action.payload.data];\n    }),\n    [actions.updateHelpers.configOverlay]: produce((state, action) => {\n      state.status.configOverlay = action.payload.data;\n    }),\n    [actions.updateHelpers.compensation]: produce((state, action) => {\n      state.status.compensation = action.payload.data;\n    }),\n    ...statusReducers,\n    ...delayedStatusReducers\n  }, defaultState);\n}\n\nexport default reducerCreator;\n","import { selectWebSocket, selectIsLoggedIn, selectFeatures, selectRockhopper, selectFileUploads, selectFileUpload, selectFileDownloads, selectFileDownload, selectRegisteredDelayedUpdates } from './selectors';\nimport actions, { statusItemToRequiresFeature, rockhopperMessage, createRockhopperActionType, addActionEmitterToMeta, createFriendlyName } from './actions';\nimport { cancel, join, flush, actionChannel, takeLatest, race, delay, fork, takeEvery, take, put, select, call } from 'redux-saga/effects';\nimport { buffers, channel, eventChannel } from 'redux-saga';\nimport downloadQueue from './download-queue';\nimport fileQueue from './file-queue';\nimport fileCache from './file-cache';\nimport SparkMD5 from 'spark-md5';\n\nimport {\n  LOGIN_ID, \n  HEARTBEAT_PERIOD,\n  HEARTBEAT_ID, \n  HEARTBEAT_GET_NAME, \n  HEARTBEAT_TIMEOUT_MSG,\n  SOCKET_CLOSED_MSG,\n  OK_CODE, \n  LOGIN_FAILED_MSG,\n  LOCALSTORAGE_KEY,\n  FILE_UPLOAD_CHUNK_SIZE,\n  FILE_DOWNLOAD_CHUNK_SIZE,\n  FILE_EXISTS_CODE,\n  FILE_UPLOAD_CANCELED,\n  FILE_TYPES,\n} from './constants';\nimport * as cmds from './commands';\n\nexport const createWebSocket = (server, port, encrypted) => {\n  try {\n    return new WebSocket(`ws${ encrypted ? 's' : '' }://${server}:${port}/websocket/`);\n  } catch {\n    return null;\n  }\n};\n\nconst sendWebSocketMessage = (socket, message) => {\n  socket.send(JSON.stringify(message));\n};\n\n/*\nconst registerDebugCallbacks = (socket) => {\n  const onOpen = () => {\n    console.log(\"in socket onopen\");\n  };\n\n  const onMessage = (e) => {\n    console.log(\"in socket onmessage\", e.data, JSON.parse(e.data));\n  };\n\n  const onError = () => {\n    console.log(\"in socket onerror\");\n  };\n\n  const onClose = () => {\n    console.log(\"in socket onclose\");\n  };\n\n  socket.addEventListener(\"open\", onOpen);\n  socket.addEventListener(\"message\", onMessage);\n  socket.addEventListener(\"error\", onError);\n  socket.addEventListener(\"close\", onClose);\n};\n*/\n\nexport const loginToRockhopper = (socket, user, password) => {\n  return new Promise((resolve, reject) => {\n    const id = LOGIN_ID;\n    const onOpen = () => {\n      sendWebSocketMessage(socket, cmds.login(user, password));\n    };\n\n    const onClose = (e) => {\n      resolve(false);\n    };\n\n    const onMessage = (e) => {\n      const data = JSON.parse(e.data);\n\n      if(data.code === OK_CODE && data.id === id) {\n        resolve(true);\n        socket.removeEventListener(\"open\", onOpen);\n        socket.removeEventListener(\"close\", onClose);\n        socket.removeEventListener(\"message\", onMessage);\n      }\n\n      if(data.code !== OK_CODE && data.id === id) {\n        console.log(LOGIN_FAILED_MSG, data);\n        resolve(false);\n      }\n    };\n\n    socket.addEventListener(\"open\", onOpen);\n    socket.addEventListener(\"close\", onClose);\n    socket.addEventListener(\"message\", onMessage);\n  });\n};\n\nexport const closeWebSocket = (socket) => {\n  if(socket.readyState !== WebSocket.CLOSED && socket.readyState !== WebSocket.CLOSING) {\n    socket.close();\n  }\n};\n\nconst createRockhopperEventChannel = (socket) => {\n  return eventChannel(emit => {\n    let responseReceived = true;\n\n    const onMessage = (e) => {\n      const data = JSON.parse(e.data);\n\n      responseReceived = true;\n      if(data.id !== HEARTBEAT_ID) {\n        emit(data);\n      }\n    };\n\n    const onClose = () => {\n      emit(new Error(SOCKET_CLOSED_MSG));\n    };\n\n    socket.addEventListener(\"message\", onMessage);\n    socket.addEventListener(\"close\", onClose);\n\n    const interval = setInterval(() => {\n      if(responseReceived) {\n        // If we have heard back from the server since our last\n        // heartbeat, then we're still connected. Send another one.\n        const id = HEARTBEAT_ID;\n        const name = HEARTBEAT_GET_NAME;\n        sendWebSocketMessage(socket, cmds.get(id, name));\n        responseReceived = false;\n      } else {\n        // If we haven't heard back from our heartbeat message \n        // then we've disconnected, so end the event channel.\n        emit(new Error(HEARTBEAT_TIMEOUT_MSG));\n      }\n    }, HEARTBEAT_PERIOD);\n\n    return () => {\n      socket.removeEventListener(\"message\", onMessage);\n      socket.removeEventListener(\"close\", onClose);\n      clearInterval(interval);\n    };\n  });\n};\n\n// messages is a mutable object that will contain\n// watch messages keyed by their id.\n// It will always be updated with the latest received\n// watch messages. This is to address performance issues\n// where handling all the watch messages was bogging\n// down the UI. Every 50ms we issue the update actions\n// with the latest messsages. If the UI ever gets bogged\n// down, it will end up discarding old messages rather\n// than get even more behind.\nexport function *updateWatchedData(messages) {\n  while(true) {\n    const {\n      actionEmitters\n    } = yield select(selectRockhopper);\n    const ids = Object.keys(messages);\n    for(let id of ids) {\n      const msg = messages[id];\n\n      if(actionEmitters[msg.id]) {\n        for(let actionEmitter of actionEmitters[msg.id]) {\n          yield put(rockhopperMessage(actionEmitter.type, msg));\n        }\n      }\n\n      if(msg.meta && msg.meta.actionEmitters) {\n        for(let actionEmitter of msg.meta.actionEmitters) {\n          yield put(rockhopperMessage(actionEmitter, msg));\n        }\n      }\n      delete messages[id];\n    }\n    yield delay(50);\n  }\n}\n\nexport function *receiveRockhopperMessages(socket) {\n  const rockhopperChannel = yield call(createRockhopperEventChannel, socket);\n\n  const queuedWatchMessages = {};\n  yield fork(updateWatchedData, queuedWatchMessages);\n\n  while(true) {\n    try {\n      const msg = yield take(rockhopperChannel);\n      const {\n        actionEmitters\n      } = yield select(selectRockhopper);\n\n      if(msg.id.startsWith(\"WATCH_\")) {\n        // We watch a number of message types and the UI can get bogged down\n        // so use this mutable data structure to keep track of the latest messages\n        // for any given id, so that we can update them only once every 50ms in\n        // updateWatchedData above.\n        queuedWatchMessages[msg.id] = msg;\n      } else {\n        if(actionEmitters[msg.id]) {\n          for(let actionEmitter of actionEmitters[msg.id]) {\n            yield put(rockhopperMessage(actionEmitter.type, msg));\n          }\n        }\n\n        if(msg.meta && msg.meta.actionEmitters) {\n          for(let actionEmitter of msg.meta.actionEmitters) {\n            yield put(rockhopperMessage(actionEmitter, msg));\n          }\n        }\n      }\n\n      if(msg.id === \"WATCH_ERROR\" && msg.data) {\n        if(actions.messages[msg.data.type]) {\n          yield put(actions.messages[msg.data.type](msg.data.text, msg));\n        } else {\n          yield put(actions.messages.error(msg.data.text, msg));\n        }\n\n        yield put(actions.put.clearError());\n      }\n\n      if(msg.code !== OK_CODE || (msg.data && msg.data.notify)) {\n        const type = (msg.data.notify && msg.data.notify.type) || \"error\";\n        const message = (msg.data && msg.data.message) ||\n                        (msg.data && msg.data.notify && msg.data.notify.message) ||\n                        (msg.data && msg.data.notify && msg.data.notify.text) ||\n                        msg.code.replace(\"?\", \"\");\n        yield put(actions.messages[type](message, msg));\n      }\n    } catch(e) {\n      console.log(\"caught error\", e);\n      rockhopperChannel.close();\n    }\n  }\n}\n\nexport function *sendRockhopperMessage(socket, action) {\n  yield call(sendWebSocketMessage, socket, action.payload);\n}\n\nexport function *sendRockhopperMessages(socket) {\n  yield takeEvery([\n    actions.cmds.raw,\n    actions.cmds.get,\n    actions.cmds.watch,\n    actions.cmds.put,\n    actions.cmds.listGet,\n    actions.cmds.listPut,\n    ...Object.values(actions.watch),\n    ...Object.values(actions.unwatch),\n    ...Object.values(actions.get),\n    ...Object.values(actions.put),\n    ...Object.values(actions.getHelpers),\n    ...Object.values(actions.putHelpers)\n  ], sendRockhopperMessage, socket);\n}\n\nexport function *connectToRockhopper() {\n  const {\n    server,\n    port,\n    user,\n    password,\n    encrypted\n  } = yield select(selectWebSocket);\n\n  const socket = yield call(createWebSocket, server, port, encrypted);\n\n  if(socket) {\n  //  yield call(registerDebugCallbacks, socket);\n    const loggedIn = yield call(loginToRockhopper, socket, user, password);\n    if(loggedIn) {\n      yield put(actions.messages.info(\"Connected to machine.\"));\n      const sendTask = yield fork(sendRockhopperMessages, socket);\n      const receiveTask = yield fork(receiveRockhopperMessages, socket);\n      yield put(actions.setLoggedIn(true));\n\n      yield join(receiveTask);\n      yield cancel(sendTask);\n      yield put(actions.messages.warning(\"Lost connection with machine.\"));\n    }\n    yield call(closeWebSocket, socket);\n  }\n};\n\nexport function* alwaysReconnect() {\n  const connectionDetailsChannel = yield actionChannel(actions.setConnectionDetails);\n  while(1) {\n    const result = yield race({ updateConnectionDetails: take(connectionDetailsChannel),\n                                connection: call(connectToRockhopper)});\n    if(result.updateConnectionDetails) {\n      // connection details changed, store them  to local storage,\n      // then reconnect\n      yield call(storeConnectionDetailsToLocalStorageSaga);\n    } else {\n      // otherwise the connection failed (either errored,  closed, or never successfully connected)\n      // delay a bit before trying again\n      yield delay(1000);\n    }\n    yield put(actions.setLoggedIn(false));\n  }\n}\n\nconst storeConnectionDetailsToLocalStorage = (server, port, user, password, encrypted) => {\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify({ server, port, user, password, encrypted }));\n};\n\nexport function* storeConnectionDetailsToLocalStorageSaga() {\n  const {\n    server,\n    port,\n    user,\n    password,\n    encrypted\n  } = yield select(selectWebSocket);\n  yield call(storeConnectionDetailsToLocalStorage, server, port, user, password, encrypted);\n}\n\nexport function* watchFeatureDependentStatusItems() {\n  // submit the request for supported features\n  yield put(actions.getHelpers.features());\n\n  // wait for the response\n  yield take(actions.response.getHelpers.features);\n\n  // The reducer should take care of storing the features, so select them here\n  const features = yield select(selectFeatures);\n\n  for(let key in actions.watch) {\n    const requiresFeature = statusItemToRequiresFeature[key];\n    if(requiresFeature && features[requiresFeature]) {\n      const actionCreator = actions.watch[key];\n      yield put(actionCreator())\n    }\n  }\n}\n\nexport function* watchItem(item) {\n  const {\n    name,\n    indexed,\n    maxIndex,\n    json\n  } = item;\n\n  if(indexed) {\n    for(let index = 0; index <= maxIndex; index++) {\n      yield put(actions.watch({ name, data: { index }, meta: { actionEmitters: [ actions.receiveWatchData.toString() ], name, json, index }}));\n    }\n  } else {\n    yield put(actions.watch({ name, meta: { actionEmitters: [ actions.receiveWatchData.toString() ], name, json }}));\n  }\n}\n\nexport function* watchDefaultStatusItems(action) {\n  const isLoggedIn = action.payload;\n  if(isLoggedIn) {\n    // Watch the most important values first.\n    // These are what will show up first in the UI.\n    yield put(actions.watch.estop());\n    yield put(actions.get.joints());\n    yield put(actions.get.axisMask());\n    yield put(actions.watch.axesData());\n    yield put(actions.watch.g5xOffset());\n    yield put(actions.watch.g5xIndex());\n    yield put(actions.watch.g92Offset());\n    yield put(actions.watch.toolOffset());\n    yield put(actions.watch.halpinHaluiMaxVelocityValue());\n\n    yield put(actions.getHelpers.programPrefix());\n    yield put(actions.watch.program());\n\n    // Now we can watch the feature dependent and other\n    // data we want to watch. Again, they will\n    // show up in this order, so if something is more\n    // important to see first, move it up the list.\n    yield fork(watchFeatureDependentStatusItems);\n\n    yield put(actions.watch.halpinMotionSwitchkinsType());\n    yield put(actions.watch.rapidrate());\n    yield put(actions.watch.command());\n    yield put(actions.watch.homed());\n    yield put(actions.watch.spindle());\n    yield put(actions.watch.feedrate());\n    yield put(actions.watch.gcodes());\n    yield put(actions.watch.mcodes());\n    yield put(actions.watch.halpinHaluiMaxVelocityValue());\n\n    yield put(actions.watch.measuredSpindleCurrent());\n    yield put(actions.watch.measuredSpindleVoltage());\n    yield put(actions.watch.measuredSpindleSpeed());\n    yield put(actions.get.spindleMaxSpeed());\n    yield put(actions.watch.calculatedFeedrate());\n    yield put(actions.watch.spindleTemperature());\n    yield put(actions.watch.spindlePressure());\n\n    yield put(actions.watch.toolReleased());\n    yield put(actions.watch.viceReleased());\n    yield put(actions.watch.linearUnits());\n    yield put(actions.watch.programUnits());\n    yield put(actions.watch.taskState());\n    yield put(actions.watch.taskMode());\n    yield put(actions.watch.interpState());\n    yield put(actions.watch.queueFull());\n    yield put(actions.watch.paused());\n    yield put(actions.watch.mist());\n    yield put(actions.watch.flood());\n    yield put(actions.watch.toolInSpindle());\n    yield put(actions.watch.settings());\n    yield put(actions.watch.motionLine());\n    yield put(actions.watch.optionalStop());\n    yield put(actions.watch.error());\n    yield put(actions.watch.clientConfig());\n    yield put(actions.watch.ls());\n    yield put(actions.watch.usbDetected());\n    yield put(actions.watch.rtcSeconds());\n    yield put(actions.watch.rotaryMotionOnly());\n    yield put(actions.watch.toolTable());\n    \n    yield put(actions.get.boardRevision());\n    yield put(actions.get.config());\n    yield put(actions.get.configOverlay());\n    yield put(actions.get.compensation());\n\n    yield put(actions.delayed.registerUpdate.halpinHaluiMaxVelocityValue(200));\n    yield put(actions.delayed.registerUpdate.feedrate(200));\n    yield put(actions.delayed.registerUpdate.rapidrate(200));\n    yield put(actions.delayed.registerUpdate.spindle(200));\n  }\n}\n\nexport function* watchDefaultStatusItemsOnLogin() {\n  yield takeLatest([ actions.setLoggedIn ], watchDefaultStatusItems);\n}\n\n// yields substrings of data\nexport function* fileUploadArrayBufferChunkGenerator(data) {\n  const size = data.byteLength;\n  const numChunks = Math.ceil(size/FILE_UPLOAD_CHUNK_SIZE);\n\n  for(let i = 0; i < numChunks; i++) {\n    const start = i === 0;\n    const end = i === numChunks-1;\n    const chunkData = new Uint8Array(data.slice(i*FILE_UPLOAD_CHUNK_SIZE, (i+1)*FILE_UPLOAD_CHUNK_SIZE));\n    yield { start, end, data: chunkData, progress: (i+1)/numChunks };\n  }\n}\n\n// yields chunks as Promises which return a slice of the blob or file\nexport function* fileUploadBlobChunkGenerator(data) {\n  const size = data.size;\n  const numChunks = Math.ceil(size/FILE_UPLOAD_CHUNK_SIZE);\n\n  for(let i = 0; i < numChunks; i++) {\n    const start = i === 0;\n    const end = i === numChunks-1;\n    yield new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      const blob = data.slice(i*FILE_UPLOAD_CHUNK_SIZE, (i+1)*FILE_UPLOAD_CHUNK_SIZE);\n      reader.onload = (e) => {\n        if(e.target.error === null) {\n          resolve({\n            start,\n            end,\n            data: new Uint8Array(e.target.result),\n            progress: (i+1)/numChunks\n          });\n        } else {\n          reject(e.target.error);\n        }\n      };\n      reader.readAsArrayBuffer(blob);\n    });\n  }\n}\n\nexport function* performFileUpload(channel, needsPermissionChannel, path, fileType, data) {\n  const fileUpload = yield select(selectFileUpload, path);\n  let size = 0;\n  let dataType = null;\n  if(typeof(data) === \"string\") {\n    const textEncoder = new TextEncoder(\"utf-8\");\n    data = textEncoder.encode(data);\n    size = data.byteLength;\n    dataType = \"arraybuffer\";\n  } else if(Object.prototype.toString.call(data) === \"[object ArrayBuffer]\") {\n    size = data.byteLength;\n    dataType = \"arraybuffer\";\n  } else if(data instanceof Blob) {\n    // otherwise assume a blob/file object\n    size = data.size;\n    dataType = \"blob\";\n  } else {\n    console.error(\"fileQueue can only upload object of type string, ArrayBuffer, File or Blob\");\n  }\n  if(fileUpload && dataType) {\n    // Initiate a file upload, which will return an error if the file exists\n    // and we haven't explicitly told it to overwrite\n    const initID = \"FILE_UPLOAD_INIT_\" + path.toUpperCase();\n    const responseType = createRockhopperActionType(\"RESPONSE\", \"FILE_UPLOAD_INIT\", path.toUpperCase());\n    yield put(actions.cmds.put({ id: initID, meta: addActionEmitterToMeta({}, responseType), data: [ path, fileType, size, fileUpload.overwrite ], name: \"file_upload_init\" }));\n    const initResponse = yield take(responseType);\n\n    if(initResponse.payload.code === OK_CODE) {\n      // if fileUploadInit was successful, we can begin uploading\n\n      // save a buffer for storing in the cache when we're done\n      const buffer = new ArrayBuffer(size);\n      const dataView = new Uint8Array(buffer);\n      let currentIndex = 0;\n\n      let chunkGenerator;\n      if(dataType === \"arraybuffer\") {\n        // if the data is an arraybuffer, break it up into Uint8Array chunks\n        chunkGenerator = fileUploadArrayBufferChunkGenerator(data);\n      } else if(dataType === \"blob\") {\n        // if the data is a blob, we can break it up into promises\n        // that return Uint8Array chunks\n        chunkGenerator = fileUploadBlobChunkGenerator(data);\n      }\n\n      // indicate that we've started uploading\n      yield put(actions.fileUpload.progress({ path, fileType, progress: 0 }));\n\n      // spark is an object for incrementally calculating MD5 checksums.\n      // The server will also calculate incremental MD5 checksums and will\n      // error if they don't match up at the end.\n      const spark = new SparkMD5.ArrayBuffer();\n      let chunkNumber = 0;\n      for(let chunkPromise of chunkGenerator) {\n        const chunk = yield Promise.resolve(chunkPromise);\n        const {\n          data: chunkData,\n          progress\n        } = chunk;\n\n        const arrayOfStrings = new Array(chunkData.byteLength);\n        for(let i = 0; i < chunkData.byteLength; i++) {\n          dataView[currentIndex+i] = chunkData[i];\n          arrayOfStrings[i] = String.fromCharCode(chunkData[i]);\n        }\n        currentIndex += chunkData.byteLength;\n\n        const base64EncodedChunkData = btoa(arrayOfStrings.join(\"\"));\n\n        spark.append(chunkData);\n\n        const chunkID = \"FILE_UPLOAD_CHUNK_\" + chunkNumber + \"_\" + path.toUpperCase();\n        const chunkResponseType = createRockhopperActionType(\"RESPONSE\", \"FILE_UPLOAD_CHUNK_\" + chunkNumber, path.toUpperCase());\n        yield put(actions.cmds.put({ id: chunkID, name: \"file_upload_chunk\", data: [ path, fileType, base64EncodedChunkData ], meta: addActionEmitterToMeta({}, chunkResponseType) }));\n        const response = yield take(chunkResponseType);\n        if(response.payload.code === OK_CODE) {\n          yield put(actions.fileUpload.progress({ path, fileType, progress }));\n        } else {\n          console.error(\"File upload error\", response);\n          yield put(actions.messages.error(`Failed to upload file: ${path}`, response.payload));\n          yield put(actions.fileUpload.cancel({ path, fileType }));\n        }\n\n        chunkNumber++;\n      }\n\n      const checksum = spark.end();\n      fileCache.setPersistentItem(checksum, buffer);\n\n      const finalizeID = \"FILE_UPLOAD_FINALIZE_\" + path.toUpperCase();\n      const finalizeResponseType = createRockhopperActionType(\"RESPONSE\", \"FILE_UPLOAD_FINALIZE\", path.toUpperCase());\n      yield put(actions.cmds.put({ id: finalizeID, meta: addActionEmitterToMeta({}, finalizeResponseType), name: \"file_upload_finalize\", data: [ path, fileType, checksum ] }));\n\n      const finalizeResponse = yield take(finalizeResponseType);\n      if(finalizeResponse.payload.code === OK_CODE) {\n        yield put(actions.fileUpload.finalize({ path, fileType }));\n      } else {\n        yield put(actions.messages.error(`Failed to finalize upload: ${path}`, finalizeResponse.payload));\n        yield put(actions.fileUpload.cancel({ path, fileType }));\n        console.error(\"File upload error\", finalizeResponse);\n      }\n    } else if(initResponse.payload.code === FILE_EXISTS_CODE) {\n      // If the response is a file exists error, we need to ask for permission to overwrite.\n      // Rather than block the worker from progressing on other files, we'll dispatch an action\n      // to the redux store to indicate that we need permission for this file and add the file\n      // data to the needsPermissionChannel, where it will sit until confirmed.\n\n      // If a confirmOverwriteAll action was performed, then the reducer\n      // set overwrite to true, so we need to check the redux store\n      // before choosing which channel to put the file data back onto.\n      const fileUpload = yield select(selectFileUpload, path);\n\n      if(fileUpload.overwrite) {\n        yield put(channel, { path, fileType, data });\n      } else {\n        yield put(actions.fileUpload.askForOverwrite({ path, fileType }));\n        yield put(needsPermissionChannel,  { path, fileType, data });\n      }\n    } else {\n      console.error(\"fileUploadInit error\", initResponse);\n      yield put(actions.messages.error(`Failed to initialize file upload: ${path}`, initResponse.payload));\n      yield put(actions.fileUpload.cancel({path, fileType}));\n    }\n  }\n\n  return true; // return true to indicate we've finished first to the race effect\n}\n\nexport function* monitorFileUploadStatus({path, fileType}) {\n  const cancelActionChannel = yield actionChannel([ actions.fileUpload.cancel,\n                                                    actions.fileUpload.cancelAll ]);\n  while(true) {\n    yield take(cancelActionChannel);\n    const fileUpload = yield select(selectFileUpload, path);\n    if(!fileUpload || fileUpload.state === FILE_UPLOAD_CANCELED) {\n      break;\n    }\n  }\n  return true; // return true to indicate we've finished first to the race effect\n}\n\n// This is a file upload worker saga that takes events\n// with file path and file data off the channel argument.\n// It fires off two sagas in parallel, one that monitors\n// whether the upload was canceled and the other is the\n// upload process. The upload process can finish on successful\n// upload, or if an overwrite permission is needed from the user,\n// in which case the file data will be pushed between other\n// work queues.\nexport function* fileUploadWorker(channel, needsPermissionChannel) {\n  while(true) {\n    const { path, fileType, data } = yield take(channel);\n    yield race({\n      error: call(monitorFileUploadStatus, { path, fileType} ),\n      complete: call(performFileUpload, channel, needsPermissionChannel, path, fileType, data)\n    });\n  }\n}\n\n// The fileUploadNeedsPermissionWorker monitors the needsPermissionChannel\n// for files that were added to the file upload queue, but need the user\n// to verify they should be overwritten. We can't lose track of any File\n// objects as they are only available to us if the user selects them, so \n// once we have them we need to hold on to them until they are processed. \n// So, we keep track of any File objects (file data in general,\n// as they could be strings, too) as we we encounter them, while also\n// waiting for any actions that could push them back to the worker queue\n// or cancel them (confirm, confirmAll, cancel and cancelAll).\nexport function* fileUploadNeedsPermissionWorker(channel, needsPermissionChannel) {\n  const waitingForPermission = {};\n\n  const cancelActionChannel = yield actionChannel(actions.fileUpload.cancel);\n  const cancelAllActionChannel = yield actionChannel(actions.fileUpload.cancelAll);\n  const confirmOverwriteActionChannel = yield actionChannel(actions.fileUpload.confirmOverwrite);\n  const confirmOverwriteAllActionChannel = yield actionChannel(actions.fileUpload.confirmOverwriteAll);\n\n  while(true) {\n    const { \n      newFileNeedsPermission,\n      cancel,\n      cancelAll,\n      confirm,\n      confirmAll } = yield race({ newFileNeedsPermission: take(needsPermissionChannel),\n                                  cancel: take(cancelActionChannel),\n                                  cancelAll: take(cancelAllActionChannel),\n                                  confirm: take(confirmOverwriteActionChannel),\n                                  confirmAll: take(confirmOverwriteAllActionChannel)});\n\n    if(confirm) {\n      const { path, fileType } = confirm.payload;\n      const data = waitingForPermission[path];\n      if(data) {\n        delete waitingForPermission[path];\n        yield put(channel, { path, fileType, data });\n      }\n    } else if(confirmAll) {\n      const paths = Object.keys(waitingForPermission);\n      for(let path of paths) {\n        const data = waitingForPermission[path];\n        delete waitingForPermission[path];\n        yield put(channel, { path, data });\n      }\n    } else if(cancel) {\n      const { path } = cancel.payload;\n      if(waitingForPermission[path]) {\n        delete waitingForPermission[path];\n      }\n    } else if(cancelAll) {\n      const paths = Object.keys(waitingForPermission);\n      for(let path of paths) {\n        delete waitingForPermission[path];\n      }\n    } else if(newFileNeedsPermission) {\n      const { path, data } = newFileNeedsPermission;\n      waitingForPermission[path] = data;\n    }\n  }\n}\n\nexport function* fileUploadCancelAllWorker(action) {\n  const fileUploads = yield select(selectFileUploads);\n  for(let upload in fileUploads) {\n    const { path, fileType } = fileUploads[upload];\n    yield put(actions.put.fileUploadCancel({ data: [ path, fileType ] }));\n  }\n  yield put(actions.fileUpload.removeAll());\n}\nexport function* fileUploadCancelWorker(action) {\n  const { path, fileType } = action.payload;\n\n  yield put(actions.put.fileUploadCancel({ data: [ path, fileType ] }));\n  yield put(actions.fileUpload.remove(path));\n}\n\n// This is the main saga that monitors the file queue.\n//\n// Any time fileQueue.addFile is called, an event\n// is appended to fileQueue.channel, which this saga\n// monitors and sequentially uploads files to rockhopper.\n//\n// Doing it this way allows File objects to be passed\n// directly to the saga as File objects shouldn't appear\n// in actions, as they aren't encodable without reading\n// the whole file.\nexport function* fileUploadQueue() {\n  const fileQueueChannel = fileQueue.channel;\n  const fileUploadWorkerChannel = yield call(channel);\n  const fileUploadNeedsPermissionChannel = yield call(channel);\n\n  const numWorkers = 10;\n  for(let i = 0; i < numWorkers; i++) {\n    yield fork(fileUploadWorker, fileUploadWorkerChannel, fileUploadNeedsPermissionChannel);\n  }\n  yield fork(fileUploadNeedsPermissionWorker, fileUploadWorkerChannel, fileUploadNeedsPermissionChannel);\n  yield takeEvery(actions.fileUpload.cancel, fileUploadCancelWorker);\n  yield takeLatest(actions.fileUpload.cancelAll, fileUploadCancelAllWorker);\n\n  while(true) {\n    // Monitor for files queued via the FileQueue singleton\n    const { path, fileType, data, overwrite } = yield take(fileQueueChannel);\n\n    const isLoggedIn = yield select(selectIsLoggedIn);\n    if(isLoggedIn) {\n      const fileUploads = yield select(selectFileUploads);\n\n      // The first time fileQueue.addFile is called for a specific file\n      // it won't exists in the state tree as we bipassed the redux store\n      // in order to allow File objects to be passed along.\n      if(!fileUploads[path]) {\n        // dispatch an action to the redux store so UI knows\n        // about file upload\n        yield put(actions.fileUpload.queued({ path, fileType, overwrite }));\n\n        // Put it on the worker channel, so a worker\n        // can perform the upload. \n        yield put(fileUploadWorkerChannel, { path, fileType, data });\n      }\n    } else {\n      yield flush(fileUploadWorkerChannel);\n      yield flush(fileUploadNeedsPermissionChannel);\n    }\n  }\n}\n\nexport function* handleDownloadCurrentProgram(action) {\n  const path = action.payload.data;\n  var ftype;\n  if(path.startsWith('/media/')){\n    ftype = FILE_TYPES.USB_PROGRAM;\n  }\n  else ftype = FILE_TYPES.PROGRAM\n  if(path) {\n    yield downloadQueue.addDownload(path, ftype)\n  }\n}\n\nexport function* downloadCurrentProgram() {\n  yield takeLatest(actions.update.program, handleDownloadCurrentProgram);\n}\n\n /*\n This body of this method started with a copy-paste from handleDownloadCurrentProgram, and was modified from there. Any errors or oddities are probably from\n me misunderstanding something. - Jake\n */\nexport function* performFileDownload(path, fileType, callback) {\n  const fileDownload = yield select(selectFileDownload, path);\n  if(fileDownload) {\n    // Initiate a file upload, which will return an error if the file exists\n    // and we haven't explicitly told it to overwrite\n    const initID = \"FILE_DOWNLOAD_INIT_\" + path.toUpperCase();\n    const responseType = createRockhopperActionType(\"RESPONSE\", \"FILE_DOWNLOAD_INIT\", path.toUpperCase());\n    yield put(actions.cmds.put({ id: initID, meta: addActionEmitterToMeta({}, responseType), data: [ path, fileType ], name: \"file_download_init\" }));\n    const initResponse = yield take(responseType);\n\n    if(initResponse.payload.code === OK_CODE) {\n      const {\n        size,\n        checksum\n      } = initResponse.payload.data;\n\n      yield put(actions.fileCache.setPathChecksum(path, checksum));\n      yield put(actions.fileCache.initProgress(checksum, size));\n      const cachedData = yield call([fileCache, fileCache.getItem], checksum);\n      if(cachedData) {\n        yield put(actions.fileCache.updateProgress(checksum, size));\n        yield put(actions.put.fileDownloadCancel({ data: [ path, fileType ] }));\n      } else {\n        const buffer = new ArrayBuffer(size);      // CAREFUL! This is intentially a mutable object.\n        fileCache.setMemoryItem(checksum, buffer); // Components can get access to this object (though\n                                                   // they shouldn't mutate it) by using the fileCache \n                                                   // singleton and the desired checksum. They can do \n                                                   // this in order to show portions of the file as it \n                                                   // is being downloaded. Containers can select the \n                                                   // checksum and download progress data from the \n                                                   // redux store to know how much of the data can be\n                                                   // shown.\n\n        const fileBuffer = new Uint8Array(buffer);\n        let maxIndex = 0;\n\n        const numChunks = Math.ceil(size/FILE_DOWNLOAD_CHUNK_SIZE);\n        for(let i = 0; i < numChunks; i++) {\n          const chunkID = \"FILE_DOWNLOAD_CHUNK_\" + i + \"_\" + path.toUpperCase();\n          const chunkResponseType = createRockhopperActionType(\"RESPONSE\", \"FILE_DOWNLOAD_CHUNK_\" + i, path.toUpperCase());\n          yield put(actions.cmds.put({ id: chunkID, name: \"file_download_chunk\", data: [ path, fileType, FILE_DOWNLOAD_CHUNK_SIZE ], meta: addActionEmitterToMeta({}, chunkResponseType) }));\n          const response = yield take(chunkResponseType);\n          if(response.payload.code === OK_CODE) {\n            const decodedString = atob(response.payload.data.chunk);\n            for(let i = 0; i < decodedString.length; i++) {\n              fileBuffer[i+maxIndex] = decodedString.charCodeAt(i);\n            }\n            maxIndex += decodedString.length;\n            yield put(actions.fileCache.updateProgress(checksum, maxIndex));\n          } else {\n            console.error(\"File download error\", response);\n            yield put(actions.messages.error(`Failed to download file: ${path}`, response.payload));\n            yield put(actions.put.fileDownloadCancel({ data: [ path, fileType ] }));\n            break;\n          }\n        }\n\n        yield put(actions.fileCache.updateProgress(checksum, size));\n        fileCache.setPersistentItem(checksum, buffer);\n      }\n      if( callback ){\n        callback(fileCache, checksum, path)\n      }\n    } \n    else {\n      console.error(\"fileDownloadInit error\", initResponse);\n      yield put(actions.messages.error(`Failed to initialize file download: ${path}`, initResponse.payload));\n      yield put(actions.fileDownload.cancel({path, fileType}));\n    }\n  }\n\n  return true; // return true to indicate we've finished first to the race effect \n}\n\nexport function* monitorFileDownloadStatus({path, fileType}) {\n  const cancelActionChannel = yield actionChannel([ actions.fileDownload.cancel,\n                                                    actions.fileDownload.cancelAll ]);\n  while(true) {\n    yield take(cancelActionChannel);\n    const fileDownload = yield select(selectFileDownload, path);\n    if(!fileDownload || fileDownload.state === FILE_UPLOAD_CANCELED) {\n      break;\n    }\n  }\n  return true; // return true to indicate we've finished first to the race effect\n}\n\nexport function* fileDownloadWorker(channel) {\n  while(true) {\n    const { path, fileType, callback } = yield take(channel);\n    yield race({\n      error: call(monitorFileDownloadStatus, { path, fileType} ),\n      complete: call(performFileDownload, path, fileType, callback)\n    });\n  }\n}\n\nexport function* fileDownloadCancelAllWorker(action) {\n  const fileDownloads = yield select(selectFileDownloads);\n  for(let download in fileDownloads) {\n    const { path, fileType } = fileDownloads[download];\n    yield put(actions.put.fileDownloadCancel({ data: [ path, fileType ] }));\n  }\n  yield put(actions.fileDownload.removeAll());\n}\nexport function* fileDownloadCancelWorker(action) {\n  const { path, fileType } = action.payload;\n\n  yield put(actions.put.fileDownloadCancel({ data: [ path, fileType ] }));\n  yield put(actions.fileDownload.remove(path));\n}\n\n\n// This is the main saga that monitors the file download queue.\n//\n// Any time downloadQueue.addDownload is called, an event\n// is appended to downloadQueue.channel, which this saga\n// monitors and sequentially downloads files from rockhopper.\nexport function* fileDownloadQueue() {\n  const downloadQueueChannel = downloadQueue.channel;\n  const fileDownloadWorkerChannel = yield call(channel);\n\n  const numWorkers = 10;\n  for(let i = 0; i < numWorkers; i++) {\n    yield fork(fileDownloadWorker, fileDownloadWorkerChannel);\n  }\n  yield takeEvery(actions.fileDownload.cancel, fileDownloadCancelWorker);\n  yield takeLatest(actions.fileDownload.cancelAll, fileDownloadCancelAllWorker);\n\n  while(true) {\n    // Monitor for files queued via the DownloadQueue singleton\n    const { path, fileType, callback } = yield take(downloadQueueChannel);\n\n    const isLoggedIn = yield select(selectIsLoggedIn);\n    if(isLoggedIn) {\n      const fileDownloads = yield select(selectFileDownloads);\n\n      // The first time downloadQueue.addDownload is called for a specific file\n      // it won't exists in the state tree as we bypassed the redux store\n      // in order to allow File objects to be passed along.\n      if(true || !fileDownloads[path]) {\n        // dispatch an action to the redux store so UI knows\n        // about file download\n        yield put(actions.fileDownload.queued({ path, fileType, callback }));\n\n        // Put it on the worker channel, so a worker\n        // can perform the download. \n        yield put(fileDownloadWorkerChannel, { path, fileType, callback });\n      }\n    } else {\n      yield flush(fileDownloadWorkerChannel);\n    }\n  }\n}\n\nexport function* delayAction(time, action) {\n  yield delay(time);\n  yield put(action);\n}\n\nexport function* delayActionWithChannel(time, channel) {\n  yield delay(time);\n  const action = yield take(channel);\n  yield put(action);\n}\n\nexport function* delayedPuts() {\n  const putChannel = yield actionChannel(Object.values(actions.delayed.put));\n  const timerTasks = {};\n  const timerChannels = {};\n  while(true) {\n    const putAction = yield take(putChannel);\n\n    const {\n      type,\n      payload\n    } = putAction;\n\n    const typePath = type.split(\"/\");\n    const typeSuffix = typePath[typePath.length-1];\n    const friendlyName = createFriendlyName(typeSuffix);\n\n    if(!(type in timerChannels)) {\n      timerChannels[type] = yield call(channel, buffers.sliding(1));\n    }\n    const {\n      id,\n      name,\n      meta,\n      ...data\n    } = payload;\n    yield put(timerChannels[type], actions.put[friendlyName]({ data, meta }));\n    if(!(type in timerTasks) || !timerTasks[type].isRunning()) {\n      timerTasks[type] = yield fork(delayActionWithChannel, 50, timerChannels[type]);\n    }\n  }\n}\n\nexport function* delayedUpdates() {\n  const updateChannel = yield actionChannel(Object.values(actions.update).concat( Object.values(actions.delayed.update)));\n  const timerTasks = {};\n  const delayedUpdateTypePrefix = createRockhopperActionType(\"DELAYED\", \"UPDATE\");\n  while(true) {\n    const updateAction = yield take(updateChannel);\n    const registered = yield select(selectRegisteredDelayedUpdates);\n\n    const {\n      type,\n      payload\n    } = updateAction;\n\n    const typePath = type.split(\"/\");\n    const typeSuffix = typePath[typePath.length-1];\n    const friendlyName = createFriendlyName(typeSuffix);\n\n    if(friendlyName in registered) {\n      if(friendlyName in timerTasks && timerTasks[friendlyName].isRunning()) {\n        yield cancel(timerTasks[friendlyName]);\n        timerTasks[friendlyName] = yield fork(delayAction, registered[friendlyName], actions.delayed.updateImmediate[friendlyName](payload));\n      } else {\n        if(type.startsWith(delayedUpdateTypePrefix)) {\n          timerTasks[friendlyName] = yield fork(delayAction, registered[friendlyName], actions.delayed.updateImmediate[friendlyName](payload));\n        } else {\n          yield put(actions.delayed.updateImmediate[friendlyName](payload))\n        }\n      }\n    }\n  }\n}\n","import { MODULE_ID } from './constants';\nimport reducerCreator from './reducers';\nimport { delayedPuts, delayedUpdates, alwaysReconnect, watchDefaultStatusItemsOnLogin, fileUploadQueue, fileDownloadQueue, downloadCurrentProgram } from './sagas';\n\nconst rockhopper = () => ({\n  id: MODULE_ID,\n  reducerMap: {\n    rockhopper: reducerCreator()\n  },\n  sagas: [ alwaysReconnect, watchDefaultStatusItemsOnLogin, fileUploadQueue, fileDownloadQueue, downloadCurrentProgram, delayedUpdates, delayedPuts ]\n});\nexport default rockhopper;\n","import produce from 'immer';\nimport actions from './actions';\nimport rockhopperActions from '../rockhopper/actions';\nimport { handleActions, combineActions } from 'redux-actions';\nimport { MAX_POPUPS, MESSAGE_LOG_KEY } from './constants';\nimport { BASIC } from '../rockhopper/constants';\n// import i18n from '../../i18n';\n\nconst storedMessages = sessionStorage.getItem(MESSAGE_LOG_KEY);\n\nconst defaultState = {\n  enableKeyboardJogging: true,\n  dialect: \"industry\",\n  language: \"en\",\n  mdiSortKey: \"time\",\n  mdiText: \"\",\n  mdiShowUniqueHistoryOnly: false,\n  messages: storedMessages ? JSON.parse(storedMessages) : [],\n  messageBadges: {\n    debug: [],\n    info: [],\n    warning: [],\n    error: []\n  },\n  popups: [],\n  isEditingOverlay: false,\n  configOverlay: {},\n  isEditingCompensation: false,\n  compensation: {},\n  axisSelectJog: {\n    axis: 'X',\n    digitIndex: 1,\n  },\n  dro: {\n    display: \"position\",\n  },\n  jog: {\n    display: \"position\",\n  }\n};\n\nexport default handleActions({\n  [actions.enableKeyboardJogging]: produce((state,action) => {\n    state.enableKeyboardJogging = true;\n  }),\n  [actions.disableKeyboardJogging]: produce((state,action) => {\n    state.enableKeyboardJogging = false;\n  }),\n  [actions.changeLanguage]: produce((state,action) => {\n    // i18n.changeLanguage(action.payload);\n    state.language = action.payload;\n  }),\n  [actions.changeDialect]: produce((state,action) => {\n    state.dialect = action.payload;\n  }),\n  [actions.setMdiSortKey]: produce((state,action) => {\n    state.mdiSortKey = action.payload;\n  }),\n  [actions.setMdiText]: produce((state,action) => {\n    state.mdiText = action.payload;\n  }),\n  [actions.setMdiShowUniqueHistoryOnly]: produce((state,action) => {\n    state.mdiShowUniqueHistoryOnly = action.payload;\n  }),\n  [actions.clearMessageBadge]: produce((state, action) => {\n    state.messageBadges[action.payload] = [];\n  }),\n  [combineActions(\n    rockhopperActions.messages.debug,\n    rockhopperActions.messages.info,\n    rockhopperActions.messages.warning,\n    rockhopperActions.messages.error\n  )]: produce((state, action) => {\n    state.messages.unshift(action.payload);\n    switch(action.type) {\n      case rockhopperActions.messages.debug.toString():\n        state.messageBadges.debug.push(action.payload);\n        break;\n      case rockhopperActions.messages.info.toString():\n        state.messageBadges.info.push(action.payload);\n        break;\n      case rockhopperActions.messages.warning.toString():\n        state.messageBadges.warning.push(action.payload);\n        break;\n      case rockhopperActions.messages.error.toString():\n        state.messageBadges.error.push(action.payload);\n        break;\n      default:\n        break;\n    }\n  }),\n  [actions.popup.show]: produce((state, action) => {\n    state.popups.splice(0, 0, action.payload);\n    if(state.popups.length > MAX_POPUPS) {\n      const numToRemove = state.popups.length-MAX_POPUPS;\n      let removed = 0;\n      for(let i = state.popups.length-1; i >= 0 && removed < numToRemove; i--) {\n        if(state.popups[i].dismiss === BASIC) {\n          state.popups.splice(i, 1);\n          removed++;\n        }\n      }\n    }\n  }),\n  [actions.popup.hide]: produce((state, action) => {\n    const index = state.popups.findIndex((msg) => msg.id === action.payload.id);\n    if(index > -1) {\n      state.popups.splice(index, 1);\n    }\n  }),\n  [actions.overlay.enableEditing]: produce((state, action) => {\n    state.isEditingOverlay = true;\n    state.configOverlay = action.payload;\n  }),\n  [actions.overlay.disableEditing]: produce((state, action) => {\n    state.isEditingOverlay = false;\n  }),\n  [actions.overlay.deleteSection]: produce((state, action) => {\n    delete state.configOverlay[action.payload];\n  }),\n  [actions.overlay.set]: produce((state, action) => {\n    state.configOverlay = action.payload;\n  }),\n  \n  [actions.compensation.enableEditing]: produce((state, action) => {\n    state.isEditingCompensation = true;\n    state.compensation = action.payload;\n  }),\n  [actions.compensation.disableEditing]: produce((state, action) => {\n    state.isEditingCompensation = false;\n  }),\n  [actions.compensation.deleteSection]: produce((state, action) => {\n    delete state.compensation[action.payload];\n  }),\n  [actions.compensation.set]: produce((state, action) => {\n    state.compensation = action.payload;\n  }),\n\n  [actions.axisSelectJog.setAxis]: produce((state, action) => {\n    state.axisSelectJog.axis = action.payload;\n  }),\n  [actions.axisSelectJog.incrementAxis]: produce((state, action) => {\n    const {inc, axisSelectJogAxis, trajCoords} = action.payload;\n    const currIdx = trajCoords.indexOf(axisSelectJogAxis);\n    const newIdx = Math.max(0, Math.min(4,currIdx + inc));\n    state.axisSelectJog.axis = trajCoords[newIdx]\n  }),\n  [actions.axisSelectJog.setDigitIndex]: produce((state, action) => {\n    state.axisSelectJog.digitIndex = action.payload;\n  }),\n  [actions.axisSelectJog.incrementDigitIndex]: produce((state, action) => {\n    if(state.axisSelectJog.digitIndex === null && action.payload === 1){\n      state.axisSelectJog.digitIndex = 1\n    }\n    else{\n      state.axisSelectJog.digitIndex = Math.max(1, Math.min(4,state.axisSelectJog.digitIndex + action.payload));\n    }\n  }),\n  [actions.dro.setDisplay]: produce((state, action) => {\n    state.dro.display = action.payload;\n  }),\n  [actions.jog.setDisplay]: produce((state, action) => {\n    state.jog.display = action.payload;\n  }),\n}, defaultState);\n","import actions from './actions';\nimport rockhopperActions from '../rockhopper/actions';\nimport { selectMessages } from './selectors';\nimport { MESSAGE_LOG_KEY } from './constants';\nimport { takeEvery, fork, delay, put, select, call } from 'redux-saga/effects';\nimport { BASIC } from '../rockhopper/constants';\n\nconst persistToSessionStorage = (key, data) => {\n  window.sessionStorage.setItem(key, data);\n};\n\nexport function *persistMessageLog(action) {\n  const messages = yield select(selectMessages);\n  yield call(persistToSessionStorage, MESSAGE_LOG_KEY, JSON.stringify(messages));\n}\n\nexport function* handleMessage(action) {\n  const msg = action.payload;\n  yield fork(persistMessageLog);\n  yield put(actions.popup.show(msg));\n  if(msg.dismiss === BASIC) {\n    yield delay(3000);\n    yield put(actions.popup.hide(msg)); // this may be a no op if message has already been dismissed\n  }\n}\n\nexport function* messageSaga() {\n  yield takeEvery([\n    rockhopperActions.messages.debug,\n    rockhopperActions.messages.info,\n    rockhopperActions.messages.warning,\n    rockhopperActions.messages.error \n  ], handleMessage);\n}\n","import { MODULE_ID } from './constants';\nimport rootReducer from './reducers';\nimport { messageSaga } from './sagas';\n\nconst pentaui = () => ({\n  id: MODULE_ID,\n  reducerMap: {\n    pentaui: rootReducer\n  },\n  sagas: [ messageSaga ]\n});\nexport default pentaui;\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport enCommon from \"./locales/en/common.json\";\nimport enIndustry from \"./locales/en/industry.json\";\nimport enIntuitive from \"./locales/en/intuitive.json\";\n\nconst resources = {\n  en: {\n    common: enCommon,\n    intuitive: enIntuitive,\n    industry: enIndustry,\n  },\n};\n\ni18n.use(Backend)\n  .use(initReactI18next)\n  .init({\n    lng: \"en\",\n    fallbackLng: \"en\",\n    preload:  [\"en\"],\n    supportedLngs: [\"en\", \"de\", \"es\", \"sv\", \"jp\"], \n    ns: [\"common\", \"industry\", \"intuitive\"],\n    defaultNS: \"common\",\n    debug: false,\n  });\n\ni18n.addResourceBundle(\"en\", \"common\", resources.en.common);\ni18n.addResourceBundle(\"en\", \"industry\", resources.en.industry);\ni18n.addResourceBundle(\"en\", \"intuitive\", resources.en.intuitive);\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux-dynamic-modules';\nimport { getSagaExtension } from 'redux-dynamic-modules-saga';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools} from 'redux-devtools-extension';\nimport produce from 'immer';\nimport getRockhopperModule from './modules/rockhopper';\nimport getPentaUIModule from './modules/pentaui';\nimport getRouterModule from './modules/router';\nimport './i18n';\n\nconst store = createStore({\n  initialState: produce({}, () => {}),\n  enhancers: [],\n  extensions: [ getSagaExtension() ],\n  compose: composeWithDevTools\n}, getRockhopperModule(), \n   getPentaUIModule(), \n   getRouterModule())\n\nReactDOM.render(\n// Material UI v4.10.2 has findDOMNode calls that trigger warnings in the console\n// StrictMode can be commented out to hide them.\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}